/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};

// node_modules/langchain/dist/schema/index.js
var RUN_KEY, BaseChatMessage, HumanChatMessage, AIChatMessage, SystemChatMessage, ChatMessage, BasePromptValue, BaseCache;
var init_schema = __esm({
  "node_modules/langchain/dist/schema/index.js"() {
    RUN_KEY = "__run";
    BaseChatMessage = class {
      constructor(text) {
        Object.defineProperty(this, "text", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "name", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.text = text;
      }
      toJSON() {
        return {
          type: this._getType(),
          data: {
            content: this.text,
            role: "role" in this ? this.role : void 0
          }
        };
      }
    };
    HumanChatMessage = class extends BaseChatMessage {
      _getType() {
        return "human";
      }
    };
    AIChatMessage = class extends BaseChatMessage {
      _getType() {
        return "ai";
      }
    };
    SystemChatMessage = class extends BaseChatMessage {
      _getType() {
        return "system";
      }
    };
    ChatMessage = class extends BaseChatMessage {
      constructor(text, role) {
        super(text);
        Object.defineProperty(this, "role", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.role = role;
      }
      _getType() {
        return "generic";
      }
    };
    BasePromptValue = class {
    };
    BaseCache = class {
    };
  }
});

// node_modules/uuid/dist/esm-browser/rng.js
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}
var getRandomValues, rnds8;
var init_rng = __esm({
  "node_modules/uuid/dist/esm-browser/rng.js"() {
    rnds8 = new Uint8Array(16);
  }
});

// node_modules/uuid/dist/esm-browser/stringify.js
function unsafeStringify(arr, offset = 0) {
  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
}
var byteToHex;
var init_stringify = __esm({
  "node_modules/uuid/dist/esm-browser/stringify.js"() {
    byteToHex = [];
    for (let i = 0; i < 256; ++i) {
      byteToHex.push((i + 256).toString(16).slice(1));
    }
  }
});

// node_modules/uuid/dist/esm-browser/native.js
var randomUUID, native_default;
var init_native = __esm({
  "node_modules/uuid/dist/esm-browser/native.js"() {
    randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);
    native_default = {
      randomUUID
    };
  }
});

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options, buf, offset) {
  if (native_default.randomUUID && !buf && !options) {
    return native_default.randomUUID();
  }
  options = options || {};
  const rnds = options.random || (options.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (let i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
var v4_default;
var init_v4 = __esm({
  "node_modules/uuid/dist/esm-browser/v4.js"() {
    init_native();
    init_rng();
    init_stringify();
    v4_default = v4;
  }
});

// node_modules/uuid/dist/esm-browser/index.js
var init_esm_browser = __esm({
  "node_modules/uuid/dist/esm-browser/index.js"() {
    init_v4();
  }
});

// node_modules/langchain/dist/callbacks/base.js
var BaseCallbackHandlerMethodsClass, BaseCallbackHandler;
var init_base = __esm({
  "node_modules/langchain/dist/callbacks/base.js"() {
    init_esm_browser();
    BaseCallbackHandlerMethodsClass = class {
    };
    BaseCallbackHandler = class extends BaseCallbackHandlerMethodsClass {
      constructor(input) {
        var _a, _b, _c;
        super();
        Object.defineProperty(this, "ignoreLLM", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: false
        });
        Object.defineProperty(this, "ignoreChain", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: false
        });
        Object.defineProperty(this, "ignoreAgent", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: false
        });
        if (input) {
          this.ignoreLLM = (_a = input.ignoreLLM) != null ? _a : this.ignoreLLM;
          this.ignoreChain = (_b = input.ignoreChain) != null ? _b : this.ignoreChain;
          this.ignoreAgent = (_c = input.ignoreAgent) != null ? _c : this.ignoreAgent;
        }
      }
      copy() {
        return new this.constructor(this);
      }
      static fromMethods(methods) {
        class Handler extends BaseCallbackHandler {
          constructor() {
            super();
            Object.defineProperty(this, "name", {
              enumerable: true,
              configurable: true,
              writable: true,
              value: v4_default()
            });
            Object.assign(this, methods);
          }
        }
        return new Handler();
      }
    };
  }
});

// node_modules/langchain/node_modules/ansi-styles/index.js
var require_ansi_styles = __commonJS({
  "node_modules/langchain/node_modules/ansi-styles/index.js"(exports, module2) {
    "use strict";
    var ANSI_BACKGROUND_OFFSET = 10;
    var wrapAnsi256 = (offset = 0) => (code) => `\x1B[${38 + offset};5;${code}m`;
    var wrapAnsi16m = (offset = 0) => (red, green, blue) => `\x1B[${38 + offset};2;${red};${green};${blue}m`;
    function assembleStyles() {
      const codes = /* @__PURE__ */ new Map();
      const styles2 = {
        modifier: {
          reset: [0, 0],
          // 21 isn't widely supported and 22 does the same thing
          bold: [1, 22],
          dim: [2, 22],
          italic: [3, 23],
          underline: [4, 24],
          overline: [53, 55],
          inverse: [7, 27],
          hidden: [8, 28],
          strikethrough: [9, 29]
        },
        color: {
          black: [30, 39],
          red: [31, 39],
          green: [32, 39],
          yellow: [33, 39],
          blue: [34, 39],
          magenta: [35, 39],
          cyan: [36, 39],
          white: [37, 39],
          // Bright color
          blackBright: [90, 39],
          redBright: [91, 39],
          greenBright: [92, 39],
          yellowBright: [93, 39],
          blueBright: [94, 39],
          magentaBright: [95, 39],
          cyanBright: [96, 39],
          whiteBright: [97, 39]
        },
        bgColor: {
          bgBlack: [40, 49],
          bgRed: [41, 49],
          bgGreen: [42, 49],
          bgYellow: [43, 49],
          bgBlue: [44, 49],
          bgMagenta: [45, 49],
          bgCyan: [46, 49],
          bgWhite: [47, 49],
          // Bright color
          bgBlackBright: [100, 49],
          bgRedBright: [101, 49],
          bgGreenBright: [102, 49],
          bgYellowBright: [103, 49],
          bgBlueBright: [104, 49],
          bgMagentaBright: [105, 49],
          bgCyanBright: [106, 49],
          bgWhiteBright: [107, 49]
        }
      };
      styles2.color.gray = styles2.color.blackBright;
      styles2.bgColor.bgGray = styles2.bgColor.bgBlackBright;
      styles2.color.grey = styles2.color.blackBright;
      styles2.bgColor.bgGrey = styles2.bgColor.bgBlackBright;
      for (const [groupName, group] of Object.entries(styles2)) {
        for (const [styleName, style] of Object.entries(group)) {
          styles2[styleName] = {
            open: `\x1B[${style[0]}m`,
            close: `\x1B[${style[1]}m`
          };
          group[styleName] = styles2[styleName];
          codes.set(style[0], style[1]);
        }
        Object.defineProperty(styles2, groupName, {
          value: group,
          enumerable: false
        });
      }
      Object.defineProperty(styles2, "codes", {
        value: codes,
        enumerable: false
      });
      styles2.color.close = "\x1B[39m";
      styles2.bgColor.close = "\x1B[49m";
      styles2.color.ansi256 = wrapAnsi256();
      styles2.color.ansi16m = wrapAnsi16m();
      styles2.bgColor.ansi256 = wrapAnsi256(ANSI_BACKGROUND_OFFSET);
      styles2.bgColor.ansi16m = wrapAnsi16m(ANSI_BACKGROUND_OFFSET);
      Object.defineProperties(styles2, {
        rgbToAnsi256: {
          value: (red, green, blue) => {
            if (red === green && green === blue) {
              if (red < 8) {
                return 16;
              }
              if (red > 248) {
                return 231;
              }
              return Math.round((red - 8) / 247 * 24) + 232;
            }
            return 16 + 36 * Math.round(red / 255 * 5) + 6 * Math.round(green / 255 * 5) + Math.round(blue / 255 * 5);
          },
          enumerable: false
        },
        hexToRgb: {
          value: (hex) => {
            const matches = /(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(hex.toString(16));
            if (!matches) {
              return [0, 0, 0];
            }
            let { colorString } = matches.groups;
            if (colorString.length === 3) {
              colorString = colorString.split("").map((character) => character + character).join("");
            }
            const integer = Number.parseInt(colorString, 16);
            return [
              integer >> 16 & 255,
              integer >> 8 & 255,
              integer & 255
            ];
          },
          enumerable: false
        },
        hexToAnsi256: {
          value: (hex) => styles2.rgbToAnsi256(...styles2.hexToRgb(hex)),
          enumerable: false
        }
      });
      return styles2;
    }
    Object.defineProperty(module2, "exports", {
      enumerable: true,
      get: assembleStyles
    });
  }
});

// node_modules/langchain/dist/callbacks/handlers/tracer.js
var BaseTracer;
var init_tracer = __esm({
  "node_modules/langchain/dist/callbacks/handlers/tracer.js"() {
    init_base();
    BaseTracer = class extends BaseCallbackHandler {
      constructor() {
        super();
        Object.defineProperty(this, "runMap", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: /* @__PURE__ */ new Map()
        });
      }
      copy() {
        return this;
      }
      _addChildRun(parentRun, childRun) {
        parentRun.child_runs.push(childRun);
      }
      _startTrace(run) {
        if (run.parent_run_id !== void 0) {
          const parentRun = this.runMap.get(run.parent_run_id);
          if (parentRun) {
            this._addChildRun(parentRun, run);
          }
        }
        this.runMap.set(run.id, run);
      }
      async _endTrace(run) {
        const parentRun = run.parent_run_id !== void 0 && this.runMap.get(run.parent_run_id);
        if (parentRun) {
          parentRun.child_execution_order = Math.max(parentRun.child_execution_order, run.child_execution_order);
        } else {
          await this.persistRun(run);
        }
        this.runMap.delete(run.id);
      }
      _getExecutionOrder(parentRunId) {
        const parentRun = parentRunId !== void 0 && this.runMap.get(parentRunId);
        if (!parentRun) {
          return 1;
        }
        return parentRun.child_execution_order + 1;
      }
      async handleLLMStart(llm, prompts, runId, parentRunId, extraParams) {
        var _a;
        const execution_order = this._getExecutionOrder(parentRunId);
        const run = {
          id: runId,
          name: llm.name,
          parent_run_id: parentRunId,
          start_time: Date.now(),
          serialized: llm,
          inputs: { prompts },
          execution_order,
          child_runs: [],
          child_execution_order: execution_order,
          run_type: "llm",
          extra: extraParams
        };
        this._startTrace(run);
        await ((_a = this.onLLMStart) == null ? void 0 : _a.call(this, run));
      }
      async handleChatModelStart(llm, messages2, runId, parentRunId, extraParams) {
        var _a;
        const execution_order = this._getExecutionOrder(parentRunId);
        const run = {
          id: runId,
          name: llm.name,
          parent_run_id: parentRunId,
          start_time: Date.now(),
          serialized: llm,
          inputs: { messages: messages2 },
          execution_order,
          child_runs: [],
          child_execution_order: execution_order,
          run_type: "llm",
          extra: extraParams
        };
        this._startTrace(run);
        await ((_a = this.onLLMStart) == null ? void 0 : _a.call(this, run));
      }
      async handleLLMEnd(output, runId) {
        var _a;
        const run = this.runMap.get(runId);
        if (!run || (run == null ? void 0 : run.run_type) !== "llm") {
          throw new Error("No LLM run to end.");
        }
        run.end_time = Date.now();
        run.outputs = output;
        await ((_a = this.onLLMEnd) == null ? void 0 : _a.call(this, run));
        await this._endTrace(run);
      }
      async handleLLMError(error, runId) {
        var _a;
        const run = this.runMap.get(runId);
        if (!run || (run == null ? void 0 : run.run_type) !== "llm") {
          throw new Error("No LLM run to end.");
        }
        run.end_time = Date.now();
        run.error = error.message;
        await ((_a = this.onLLMError) == null ? void 0 : _a.call(this, run));
        await this._endTrace(run);
      }
      async handleChainStart(chain, inputs, runId, parentRunId) {
        var _a;
        const execution_order = this._getExecutionOrder(parentRunId);
        const run = {
          id: runId,
          name: chain.name,
          parent_run_id: parentRunId,
          start_time: Date.now(),
          serialized: chain,
          inputs,
          execution_order,
          child_execution_order: execution_order,
          run_type: "chain",
          child_runs: []
        };
        this._startTrace(run);
        await ((_a = this.onChainStart) == null ? void 0 : _a.call(this, run));
      }
      async handleChainEnd(outputs, runId) {
        var _a;
        const run = this.runMap.get(runId);
        if (!run || (run == null ? void 0 : run.run_type) !== "chain") {
          throw new Error("No chain run to end.");
        }
        run.end_time = Date.now();
        run.outputs = outputs;
        await ((_a = this.onChainEnd) == null ? void 0 : _a.call(this, run));
        await this._endTrace(run);
      }
      async handleChainError(error, runId) {
        var _a;
        const run = this.runMap.get(runId);
        if (!run || (run == null ? void 0 : run.run_type) !== "chain") {
          throw new Error("No chain run to end.");
        }
        run.end_time = Date.now();
        run.error = error.message;
        await ((_a = this.onChainError) == null ? void 0 : _a.call(this, run));
        await this._endTrace(run);
      }
      async handleToolStart(tool, input, runId, parentRunId) {
        var _a;
        const execution_order = this._getExecutionOrder(parentRunId);
        const run = {
          id: runId,
          name: tool.name,
          parent_run_id: parentRunId,
          start_time: Date.now(),
          serialized: tool,
          inputs: { input },
          execution_order,
          child_execution_order: execution_order,
          run_type: "tool",
          child_runs: []
        };
        this._startTrace(run);
        await ((_a = this.onToolStart) == null ? void 0 : _a.call(this, run));
      }
      async handleToolEnd(output, runId) {
        var _a;
        const run = this.runMap.get(runId);
        if (!run || (run == null ? void 0 : run.run_type) !== "tool") {
          throw new Error("No tool run to end");
        }
        run.end_time = Date.now();
        run.outputs = { output };
        await ((_a = this.onToolEnd) == null ? void 0 : _a.call(this, run));
        await this._endTrace(run);
      }
      async handleToolError(error, runId) {
        var _a;
        const run = this.runMap.get(runId);
        if (!run || (run == null ? void 0 : run.run_type) !== "tool") {
          throw new Error("No tool run to end");
        }
        run.end_time = Date.now();
        run.error = error.message;
        await ((_a = this.onToolError) == null ? void 0 : _a.call(this, run));
        await this._endTrace(run);
      }
      async handleAgentAction(action, runId) {
        var _a;
        const run = this.runMap.get(runId);
        if (!run || (run == null ? void 0 : run.run_type) !== "chain") {
          return;
        }
        const agentRun = run;
        agentRun.actions = agentRun.actions || [];
        agentRun.actions.push(action);
        await ((_a = this.onAgentAction) == null ? void 0 : _a.call(this, run));
      }
    };
  }
});

// node_modules/langchain/dist/callbacks/handlers/console.js
function wrap(style, text) {
  return `${style.open}${text}${style.close}`;
}
function tryJsonStringify(obj, fallback) {
  try {
    return JSON.stringify(obj, null, 2);
  } catch (err) {
    return fallback;
  }
}
function elapsed(run) {
  if (!run.end_time)
    return "";
  const elapsed2 = run.end_time - run.start_time;
  if (elapsed2 < 1e3) {
    return `${elapsed2}ms`;
  }
  return `${(elapsed2 / 1e3).toFixed(2)}s`;
}
var import_ansi_styles, color, ConsoleCallbackHandler;
var init_console = __esm({
  "node_modules/langchain/dist/callbacks/handlers/console.js"() {
    import_ansi_styles = __toESM(require_ansi_styles(), 1);
    init_tracer();
    ({ color } = import_ansi_styles.default);
    ConsoleCallbackHandler = class extends BaseTracer {
      constructor() {
        super(...arguments);
        Object.defineProperty(this, "name", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "console_callback_handler"
        });
      }
      persistRun(_run) {
        return Promise.resolve();
      }
      // utility methods
      getParents(run) {
        const parents = [];
        let currentRun = run;
        while (currentRun.parent_run_id) {
          const parent = this.runMap.get(currentRun.parent_run_id);
          if (parent) {
            parents.push(parent);
            currentRun = parent;
          } else {
            break;
          }
        }
        return parents;
      }
      getBreadcrumbs(run) {
        const parents = this.getParents(run).reverse();
        const string = [...parents, run].map((parent, i, arr) => {
          const name = `${parent.execution_order}:${parent.run_type}:${parent.name}`;
          return i === arr.length - 1 ? wrap(import_ansi_styles.default.bold, name) : name;
        }).join(" > ");
        return wrap(color.grey, string);
      }
      // logging methods
      onChainStart(run) {
        const crumbs = this.getBreadcrumbs(run);
        console.log(`${wrap(color.green, "[chain/start]")} [${crumbs}] Entering Chain run with input: ${tryJsonStringify(run.inputs, "[inputs]")}`);
      }
      onChainEnd(run) {
        const crumbs = this.getBreadcrumbs(run);
        console.log(`${wrap(color.cyan, "[chain/end]")} [${crumbs}] [${elapsed(run)}] Exiting Chain run with output: ${tryJsonStringify(run.outputs, "[outputs]")}`);
      }
      onChainError(run) {
        const crumbs = this.getBreadcrumbs(run);
        console.log(`${wrap(color.red, "[chain/error]")} [${crumbs}] [${elapsed(run)}] Chain run errored with error: ${tryJsonStringify(run.error, "[error]")}`);
      }
      onLLMStart(run) {
        const crumbs = this.getBreadcrumbs(run);
        const inputs = "prompts" in run.inputs ? { prompts: run.inputs.prompts.map((p) => p.trim()) } : run.inputs;
        console.log(`${wrap(color.green, "[llm/start]")} [${crumbs}] Entering LLM run with input: ${tryJsonStringify(inputs, "[inputs]")}`);
      }
      onLLMEnd(run) {
        const crumbs = this.getBreadcrumbs(run);
        console.log(`${wrap(color.cyan, "[llm/end]")} [${crumbs}] [${elapsed(run)}] Exiting LLM run with output: ${tryJsonStringify(run.outputs, "[response]")}`);
      }
      onLLMError(run) {
        const crumbs = this.getBreadcrumbs(run);
        console.log(`${wrap(color.red, "[llm/error]")} [${crumbs}] [${elapsed(run)}] LLM run errored with error: ${tryJsonStringify(run.error, "[error]")}`);
      }
      onToolStart(run) {
        var _a;
        const crumbs = this.getBreadcrumbs(run);
        console.log(`${wrap(color.green, "[tool/start]")} [${crumbs}] Entering Tool run with input: "${(_a = run.inputs.input) == null ? void 0 : _a.trim()}"`);
      }
      onToolEnd(run) {
        var _a, _b;
        const crumbs = this.getBreadcrumbs(run);
        console.log(`${wrap(color.cyan, "[tool/end]")} [${crumbs}] [${elapsed(run)}] Exiting Tool run with output: "${(_b = (_a = run.outputs) == null ? void 0 : _a.output) == null ? void 0 : _b.trim()}"`);
      }
      onToolError(run) {
        const crumbs = this.getBreadcrumbs(run);
        console.log(`${wrap(color.red, "[tool/error]")} [${crumbs}] [${elapsed(run)}] Tool run errored with error: ${tryJsonStringify(run.error, "[error]")}`);
      }
      onAgentAction(run) {
        const agentRun = run;
        const crumbs = this.getBreadcrumbs(run);
        console.log(`${wrap(color.blue, "[agent/action]")} [${crumbs}] Agent selected action: ${tryJsonStringify(agentRun.actions[agentRun.actions.length - 1], "[action]")}`);
      }
    };
  }
});

// node_modules/retry/lib/retry_operation.js
var require_retry_operation = __commonJS({
  "node_modules/retry/lib/retry_operation.js"(exports, module2) {
    function RetryOperation(timeouts, options) {
      if (typeof options === "boolean") {
        options = { forever: options };
      }
      this._originalTimeouts = JSON.parse(JSON.stringify(timeouts));
      this._timeouts = timeouts;
      this._options = options || {};
      this._maxRetryTime = options && options.maxRetryTime || Infinity;
      this._fn = null;
      this._errors = [];
      this._attempts = 1;
      this._operationTimeout = null;
      this._operationTimeoutCb = null;
      this._timeout = null;
      this._operationStart = null;
      this._timer = null;
      if (this._options.forever) {
        this._cachedTimeouts = this._timeouts.slice(0);
      }
    }
    module2.exports = RetryOperation;
    RetryOperation.prototype.reset = function() {
      this._attempts = 1;
      this._timeouts = this._originalTimeouts.slice(0);
    };
    RetryOperation.prototype.stop = function() {
      if (this._timeout) {
        clearTimeout(this._timeout);
      }
      if (this._timer) {
        clearTimeout(this._timer);
      }
      this._timeouts = [];
      this._cachedTimeouts = null;
    };
    RetryOperation.prototype.retry = function(err) {
      if (this._timeout) {
        clearTimeout(this._timeout);
      }
      if (!err) {
        return false;
      }
      var currentTime = new Date().getTime();
      if (err && currentTime - this._operationStart >= this._maxRetryTime) {
        this._errors.push(err);
        this._errors.unshift(new Error("RetryOperation timeout occurred"));
        return false;
      }
      this._errors.push(err);
      var timeout = this._timeouts.shift();
      if (timeout === void 0) {
        if (this._cachedTimeouts) {
          this._errors.splice(0, this._errors.length - 1);
          timeout = this._cachedTimeouts.slice(-1);
        } else {
          return false;
        }
      }
      var self2 = this;
      this._timer = setTimeout(function() {
        self2._attempts++;
        if (self2._operationTimeoutCb) {
          self2._timeout = setTimeout(function() {
            self2._operationTimeoutCb(self2._attempts);
          }, self2._operationTimeout);
          if (self2._options.unref) {
            self2._timeout.unref();
          }
        }
        self2._fn(self2._attempts);
      }, timeout);
      if (this._options.unref) {
        this._timer.unref();
      }
      return true;
    };
    RetryOperation.prototype.attempt = function(fn, timeoutOps) {
      this._fn = fn;
      if (timeoutOps) {
        if (timeoutOps.timeout) {
          this._operationTimeout = timeoutOps.timeout;
        }
        if (timeoutOps.cb) {
          this._operationTimeoutCb = timeoutOps.cb;
        }
      }
      var self2 = this;
      if (this._operationTimeoutCb) {
        this._timeout = setTimeout(function() {
          self2._operationTimeoutCb();
        }, self2._operationTimeout);
      }
      this._operationStart = new Date().getTime();
      this._fn(this._attempts);
    };
    RetryOperation.prototype.try = function(fn) {
      console.log("Using RetryOperation.try() is deprecated");
      this.attempt(fn);
    };
    RetryOperation.prototype.start = function(fn) {
      console.log("Using RetryOperation.start() is deprecated");
      this.attempt(fn);
    };
    RetryOperation.prototype.start = RetryOperation.prototype.try;
    RetryOperation.prototype.errors = function() {
      return this._errors;
    };
    RetryOperation.prototype.attempts = function() {
      return this._attempts;
    };
    RetryOperation.prototype.mainError = function() {
      if (this._errors.length === 0) {
        return null;
      }
      var counts = {};
      var mainError = null;
      var mainErrorCount = 0;
      for (var i = 0; i < this._errors.length; i++) {
        var error = this._errors[i];
        var message = error.message;
        var count = (counts[message] || 0) + 1;
        counts[message] = count;
        if (count >= mainErrorCount) {
          mainError = error;
          mainErrorCount = count;
        }
      }
      return mainError;
    };
  }
});

// node_modules/retry/lib/retry.js
var require_retry = __commonJS({
  "node_modules/retry/lib/retry.js"(exports) {
    var RetryOperation = require_retry_operation();
    exports.operation = function(options) {
      var timeouts = exports.timeouts(options);
      return new RetryOperation(timeouts, {
        forever: options && (options.forever || options.retries === Infinity),
        unref: options && options.unref,
        maxRetryTime: options && options.maxRetryTime
      });
    };
    exports.timeouts = function(options) {
      if (options instanceof Array) {
        return [].concat(options);
      }
      var opts = {
        retries: 10,
        factor: 2,
        minTimeout: 1 * 1e3,
        maxTimeout: Infinity,
        randomize: false
      };
      for (var key in options) {
        opts[key] = options[key];
      }
      if (opts.minTimeout > opts.maxTimeout) {
        throw new Error("minTimeout is greater than maxTimeout");
      }
      var timeouts = [];
      for (var i = 0; i < opts.retries; i++) {
        timeouts.push(this.createTimeout(i, opts));
      }
      if (options && options.forever && !timeouts.length) {
        timeouts.push(this.createTimeout(i, opts));
      }
      timeouts.sort(function(a, b) {
        return a - b;
      });
      return timeouts;
    };
    exports.createTimeout = function(attempt, opts) {
      var random = opts.randomize ? Math.random() + 1 : 1;
      var timeout = Math.round(random * Math.max(opts.minTimeout, 1) * Math.pow(opts.factor, attempt));
      timeout = Math.min(timeout, opts.maxTimeout);
      return timeout;
    };
    exports.wrap = function(obj, options, methods) {
      if (options instanceof Array) {
        methods = options;
        options = null;
      }
      if (!methods) {
        methods = [];
        for (var key in obj) {
          if (typeof obj[key] === "function") {
            methods.push(key);
          }
        }
      }
      for (var i = 0; i < methods.length; i++) {
        var method = methods[i];
        var original = obj[method];
        obj[method] = function retryWrapper(original2) {
          var op = exports.operation(options);
          var args = Array.prototype.slice.call(arguments, 1);
          var callback = args.pop();
          args.push(function(err) {
            if (op.retry(err)) {
              return;
            }
            if (err) {
              arguments[0] = op.mainError();
            }
            callback.apply(this, arguments);
          });
          op.attempt(function() {
            original2.apply(obj, args);
          });
        }.bind(obj, original);
        obj[method].options = options;
      }
    };
  }
});

// node_modules/retry/index.js
var require_retry2 = __commonJS({
  "node_modules/retry/index.js"(exports, module2) {
    module2.exports = require_retry();
  }
});

// node_modules/p-retry/index.js
var require_p_retry = __commonJS({
  "node_modules/p-retry/index.js"(exports, module2) {
    "use strict";
    var retry = require_retry2();
    var networkErrorMsgs = [
      "Failed to fetch",
      // Chrome
      "NetworkError when attempting to fetch resource.",
      // Firefox
      "The Internet connection appears to be offline.",
      // Safari
      "Network request failed"
      // `cross-fetch`
    ];
    var AbortError = class extends Error {
      constructor(message) {
        super();
        if (message instanceof Error) {
          this.originalError = message;
          ({ message } = message);
        } else {
          this.originalError = new Error(message);
          this.originalError.stack = this.stack;
        }
        this.name = "AbortError";
        this.message = message;
      }
    };
    var decorateErrorWithCounts = (error, attemptNumber, options) => {
      const retriesLeft = options.retries - (attemptNumber - 1);
      error.attemptNumber = attemptNumber;
      error.retriesLeft = retriesLeft;
      return error;
    };
    var isNetworkError = (errorMessage) => networkErrorMsgs.includes(errorMessage);
    var pRetry2 = (input, options) => new Promise((resolve, reject) => {
      options = {
        onFailedAttempt: () => {
        },
        retries: 10,
        ...options
      };
      const operation = retry.operation(options);
      operation.attempt(async (attemptNumber) => {
        try {
          resolve(await input(attemptNumber));
        } catch (error) {
          if (!(error instanceof Error)) {
            reject(new TypeError(`Non-error was thrown: "${error}". You should only throw errors.`));
            return;
          }
          if (error instanceof AbortError) {
            operation.stop();
            reject(error.originalError);
          } else if (error instanceof TypeError && !isNetworkError(error.message)) {
            operation.stop();
            reject(error);
          } else {
            decorateErrorWithCounts(error, attemptNumber, options);
            try {
              await options.onFailedAttempt(error);
            } catch (error2) {
              reject(error2);
              return;
            }
            if (!operation.retry(error)) {
              reject(operation.mainError());
            }
          }
        }
      });
    });
    module2.exports = pRetry2;
    module2.exports.default = pRetry2;
    module2.exports.AbortError = AbortError;
  }
});

// node_modules/eventemitter3/index.js
var require_eventemitter3 = __commonJS({
  "node_modules/eventemitter3/index.js"(exports, module2) {
    "use strict";
    var has = Object.prototype.hasOwnProperty;
    var prefix = "~";
    function Events() {
    }
    if (Object.create) {
      Events.prototype = /* @__PURE__ */ Object.create(null);
      if (!new Events().__proto__)
        prefix = false;
    }
    function EE(fn, context, once) {
      this.fn = fn;
      this.context = context;
      this.once = once || false;
    }
    function addListener(emitter, event, fn, context, once) {
      if (typeof fn !== "function") {
        throw new TypeError("The listener must be a function");
      }
      var listener = new EE(fn, context || emitter, once), evt = prefix ? prefix + event : event;
      if (!emitter._events[evt])
        emitter._events[evt] = listener, emitter._eventsCount++;
      else if (!emitter._events[evt].fn)
        emitter._events[evt].push(listener);
      else
        emitter._events[evt] = [emitter._events[evt], listener];
      return emitter;
    }
    function clearEvent(emitter, evt) {
      if (--emitter._eventsCount === 0)
        emitter._events = new Events();
      else
        delete emitter._events[evt];
    }
    function EventEmitter() {
      this._events = new Events();
      this._eventsCount = 0;
    }
    EventEmitter.prototype.eventNames = function eventNames() {
      var names = [], events, name;
      if (this._eventsCount === 0)
        return names;
      for (name in events = this._events) {
        if (has.call(events, name))
          names.push(prefix ? name.slice(1) : name);
      }
      if (Object.getOwnPropertySymbols) {
        return names.concat(Object.getOwnPropertySymbols(events));
      }
      return names;
    };
    EventEmitter.prototype.listeners = function listeners(event) {
      var evt = prefix ? prefix + event : event, handlers = this._events[evt];
      if (!handlers)
        return [];
      if (handlers.fn)
        return [handlers.fn];
      for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {
        ee[i] = handlers[i].fn;
      }
      return ee;
    };
    EventEmitter.prototype.listenerCount = function listenerCount(event) {
      var evt = prefix ? prefix + event : event, listeners = this._events[evt];
      if (!listeners)
        return 0;
      if (listeners.fn)
        return 1;
      return listeners.length;
    };
    EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
      var evt = prefix ? prefix + event : event;
      if (!this._events[evt])
        return false;
      var listeners = this._events[evt], len = arguments.length, args, i;
      if (listeners.fn) {
        if (listeners.once)
          this.removeListener(event, listeners.fn, void 0, true);
        switch (len) {
          case 1:
            return listeners.fn.call(listeners.context), true;
          case 2:
            return listeners.fn.call(listeners.context, a1), true;
          case 3:
            return listeners.fn.call(listeners.context, a1, a2), true;
          case 4:
            return listeners.fn.call(listeners.context, a1, a2, a3), true;
          case 5:
            return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
          case 6:
            return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
        }
        for (i = 1, args = new Array(len - 1); i < len; i++) {
          args[i - 1] = arguments[i];
        }
        listeners.fn.apply(listeners.context, args);
      } else {
        var length = listeners.length, j;
        for (i = 0; i < length; i++) {
          if (listeners[i].once)
            this.removeListener(event, listeners[i].fn, void 0, true);
          switch (len) {
            case 1:
              listeners[i].fn.call(listeners[i].context);
              break;
            case 2:
              listeners[i].fn.call(listeners[i].context, a1);
              break;
            case 3:
              listeners[i].fn.call(listeners[i].context, a1, a2);
              break;
            case 4:
              listeners[i].fn.call(listeners[i].context, a1, a2, a3);
              break;
            default:
              if (!args)
                for (j = 1, args = new Array(len - 1); j < len; j++) {
                  args[j - 1] = arguments[j];
                }
              listeners[i].fn.apply(listeners[i].context, args);
          }
        }
      }
      return true;
    };
    EventEmitter.prototype.on = function on(event, fn, context) {
      return addListener(this, event, fn, context, false);
    };
    EventEmitter.prototype.once = function once(event, fn, context) {
      return addListener(this, event, fn, context, true);
    };
    EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
      var evt = prefix ? prefix + event : event;
      if (!this._events[evt])
        return this;
      if (!fn) {
        clearEvent(this, evt);
        return this;
      }
      var listeners = this._events[evt];
      if (listeners.fn) {
        if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {
          clearEvent(this, evt);
        }
      } else {
        for (var i = 0, events = [], length = listeners.length; i < length; i++) {
          if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {
            events.push(listeners[i]);
          }
        }
        if (events.length)
          this._events[evt] = events.length === 1 ? events[0] : events;
        else
          clearEvent(this, evt);
      }
      return this;
    };
    EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
      var evt;
      if (event) {
        evt = prefix ? prefix + event : event;
        if (this._events[evt])
          clearEvent(this, evt);
      } else {
        this._events = new Events();
        this._eventsCount = 0;
      }
      return this;
    };
    EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
    EventEmitter.prototype.addListener = EventEmitter.prototype.on;
    EventEmitter.prefixed = prefix;
    EventEmitter.EventEmitter = EventEmitter;
    if ("undefined" !== typeof module2) {
      module2.exports = EventEmitter;
    }
  }
});

// node_modules/p-finally/index.js
var require_p_finally = __commonJS({
  "node_modules/p-finally/index.js"(exports, module2) {
    "use strict";
    module2.exports = (promise, onFinally) => {
      onFinally = onFinally || (() => {
      });
      return promise.then(
        (val) => new Promise((resolve) => {
          resolve(onFinally());
        }).then(() => val),
        (err) => new Promise((resolve) => {
          resolve(onFinally());
        }).then(() => {
          throw err;
        })
      );
    };
  }
});

// node_modules/p-timeout/index.js
var require_p_timeout = __commonJS({
  "node_modules/p-timeout/index.js"(exports, module2) {
    "use strict";
    var pFinally = require_p_finally();
    var TimeoutError = class extends Error {
      constructor(message) {
        super(message);
        this.name = "TimeoutError";
      }
    };
    var pTimeout = (promise, milliseconds, fallback) => new Promise((resolve, reject) => {
      if (typeof milliseconds !== "number" || milliseconds < 0) {
        throw new TypeError("Expected `milliseconds` to be a positive number");
      }
      if (milliseconds === Infinity) {
        resolve(promise);
        return;
      }
      const timer = setTimeout(() => {
        if (typeof fallback === "function") {
          try {
            resolve(fallback());
          } catch (error) {
            reject(error);
          }
          return;
        }
        const message = typeof fallback === "string" ? fallback : `Promise timed out after ${milliseconds} milliseconds`;
        const timeoutError = fallback instanceof Error ? fallback : new TimeoutError(message);
        if (typeof promise.cancel === "function") {
          promise.cancel();
        }
        reject(timeoutError);
      }, milliseconds);
      pFinally(
        // eslint-disable-next-line promise/prefer-await-to-then
        promise.then(resolve, reject),
        () => {
          clearTimeout(timer);
        }
      );
    });
    module2.exports = pTimeout;
    module2.exports.default = pTimeout;
    module2.exports.TimeoutError = TimeoutError;
  }
});

// node_modules/p-queue/dist/lower-bound.js
var require_lower_bound = __commonJS({
  "node_modules/p-queue/dist/lower-bound.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function lowerBound(array, value, comparator) {
      let first = 0;
      let count = array.length;
      while (count > 0) {
        const step = count / 2 | 0;
        let it = first + step;
        if (comparator(array[it], value) <= 0) {
          first = ++it;
          count -= step + 1;
        } else {
          count = step;
        }
      }
      return first;
    }
    exports.default = lowerBound;
  }
});

// node_modules/p-queue/dist/priority-queue.js
var require_priority_queue = __commonJS({
  "node_modules/p-queue/dist/priority-queue.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var lower_bound_1 = require_lower_bound();
    var PriorityQueue = class {
      constructor() {
        this._queue = [];
      }
      enqueue(run, options) {
        options = Object.assign({ priority: 0 }, options);
        const element = {
          priority: options.priority,
          run
        };
        if (this.size && this._queue[this.size - 1].priority >= options.priority) {
          this._queue.push(element);
          return;
        }
        const index = lower_bound_1.default(this._queue, element, (a, b) => b.priority - a.priority);
        this._queue.splice(index, 0, element);
      }
      dequeue() {
        const item = this._queue.shift();
        return item === null || item === void 0 ? void 0 : item.run;
      }
      filter(options) {
        return this._queue.filter((element) => element.priority === options.priority).map((element) => element.run);
      }
      get size() {
        return this._queue.length;
      }
    };
    exports.default = PriorityQueue;
  }
});

// node_modules/p-queue/dist/index.js
var require_dist = __commonJS({
  "node_modules/p-queue/dist/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var EventEmitter = require_eventemitter3();
    var p_timeout_1 = require_p_timeout();
    var priority_queue_1 = require_priority_queue();
    var empty = () => {
    };
    var timeoutError = new p_timeout_1.TimeoutError();
    var PQueue = class extends EventEmitter {
      constructor(options) {
        var _a, _b, _c, _d;
        super();
        this._intervalCount = 0;
        this._intervalEnd = 0;
        this._pendingCount = 0;
        this._resolveEmpty = empty;
        this._resolveIdle = empty;
        options = Object.assign({ carryoverConcurrencyCount: false, intervalCap: Infinity, interval: 0, concurrency: Infinity, autoStart: true, queueClass: priority_queue_1.default }, options);
        if (!(typeof options.intervalCap === "number" && options.intervalCap >= 1)) {
          throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(_b = (_a = options.intervalCap) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : ""}\` (${typeof options.intervalCap})`);
        }
        if (options.interval === void 0 || !(Number.isFinite(options.interval) && options.interval >= 0)) {
          throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(_d = (_c = options.interval) === null || _c === void 0 ? void 0 : _c.toString()) !== null && _d !== void 0 ? _d : ""}\` (${typeof options.interval})`);
        }
        this._carryoverConcurrencyCount = options.carryoverConcurrencyCount;
        this._isIntervalIgnored = options.intervalCap === Infinity || options.interval === 0;
        this._intervalCap = options.intervalCap;
        this._interval = options.interval;
        this._queue = new options.queueClass();
        this._queueClass = options.queueClass;
        this.concurrency = options.concurrency;
        this._timeout = options.timeout;
        this._throwOnTimeout = options.throwOnTimeout === true;
        this._isPaused = options.autoStart === false;
      }
      get _doesIntervalAllowAnother() {
        return this._isIntervalIgnored || this._intervalCount < this._intervalCap;
      }
      get _doesConcurrentAllowAnother() {
        return this._pendingCount < this._concurrency;
      }
      _next() {
        this._pendingCount--;
        this._tryToStartAnother();
        this.emit("next");
      }
      _resolvePromises() {
        this._resolveEmpty();
        this._resolveEmpty = empty;
        if (this._pendingCount === 0) {
          this._resolveIdle();
          this._resolveIdle = empty;
          this.emit("idle");
        }
      }
      _onResumeInterval() {
        this._onInterval();
        this._initializeIntervalIfNeeded();
        this._timeoutId = void 0;
      }
      _isIntervalPaused() {
        const now = Date.now();
        if (this._intervalId === void 0) {
          const delay = this._intervalEnd - now;
          if (delay < 0) {
            this._intervalCount = this._carryoverConcurrencyCount ? this._pendingCount : 0;
          } else {
            if (this._timeoutId === void 0) {
              this._timeoutId = setTimeout(() => {
                this._onResumeInterval();
              }, delay);
            }
            return true;
          }
        }
        return false;
      }
      _tryToStartAnother() {
        if (this._queue.size === 0) {
          if (this._intervalId) {
            clearInterval(this._intervalId);
          }
          this._intervalId = void 0;
          this._resolvePromises();
          return false;
        }
        if (!this._isPaused) {
          const canInitializeInterval = !this._isIntervalPaused();
          if (this._doesIntervalAllowAnother && this._doesConcurrentAllowAnother) {
            const job = this._queue.dequeue();
            if (!job) {
              return false;
            }
            this.emit("active");
            job();
            if (canInitializeInterval) {
              this._initializeIntervalIfNeeded();
            }
            return true;
          }
        }
        return false;
      }
      _initializeIntervalIfNeeded() {
        if (this._isIntervalIgnored || this._intervalId !== void 0) {
          return;
        }
        this._intervalId = setInterval(() => {
          this._onInterval();
        }, this._interval);
        this._intervalEnd = Date.now() + this._interval;
      }
      _onInterval() {
        if (this._intervalCount === 0 && this._pendingCount === 0 && this._intervalId) {
          clearInterval(this._intervalId);
          this._intervalId = void 0;
        }
        this._intervalCount = this._carryoverConcurrencyCount ? this._pendingCount : 0;
        this._processQueue();
      }
      /**
      Executes all queued functions until it reaches the limit.
      */
      _processQueue() {
        while (this._tryToStartAnother()) {
        }
      }
      get concurrency() {
        return this._concurrency;
      }
      set concurrency(newConcurrency) {
        if (!(typeof newConcurrency === "number" && newConcurrency >= 1)) {
          throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${newConcurrency}\` (${typeof newConcurrency})`);
        }
        this._concurrency = newConcurrency;
        this._processQueue();
      }
      /**
      Adds a sync or async task to the queue. Always returns a promise.
      */
      async add(fn, options = {}) {
        return new Promise((resolve, reject) => {
          const run = async () => {
            this._pendingCount++;
            this._intervalCount++;
            try {
              const operation = this._timeout === void 0 && options.timeout === void 0 ? fn() : p_timeout_1.default(Promise.resolve(fn()), options.timeout === void 0 ? this._timeout : options.timeout, () => {
                if (options.throwOnTimeout === void 0 ? this._throwOnTimeout : options.throwOnTimeout) {
                  reject(timeoutError);
                }
                return void 0;
              });
              resolve(await operation);
            } catch (error) {
              reject(error);
            }
            this._next();
          };
          this._queue.enqueue(run, options);
          this._tryToStartAnother();
          this.emit("add");
        });
      }
      /**
          Same as `.add()`, but accepts an array of sync or async functions.
      
          @returns A promise that resolves when all functions are resolved.
          */
      async addAll(functions, options) {
        return Promise.all(functions.map(async (function_) => this.add(function_, options)));
      }
      /**
      Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)
      */
      start() {
        if (!this._isPaused) {
          return this;
        }
        this._isPaused = false;
        this._processQueue();
        return this;
      }
      /**
      Put queue execution on hold.
      */
      pause() {
        this._isPaused = true;
      }
      /**
      Clear the queue.
      */
      clear() {
        this._queue = new this._queueClass();
      }
      /**
          Can be called multiple times. Useful if you for example add additional items at a later time.
      
          @returns A promise that settles when the queue becomes empty.
          */
      async onEmpty() {
        if (this._queue.size === 0) {
          return;
        }
        return new Promise((resolve) => {
          const existingResolve = this._resolveEmpty;
          this._resolveEmpty = () => {
            existingResolve();
            resolve();
          };
        });
      }
      /**
          The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.
      
          @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.
          */
      async onIdle() {
        if (this._pendingCount === 0 && this._queue.size === 0) {
          return;
        }
        return new Promise((resolve) => {
          const existingResolve = this._resolveIdle;
          this._resolveIdle = () => {
            existingResolve();
            resolve();
          };
        });
      }
      /**
      Size of the queue.
      */
      get size() {
        return this._queue.size;
      }
      /**
          Size of the queue, filtered by the given options.
      
          For example, this can be used to find the number of items remaining in the queue with a specific priority level.
          */
      sizeBy(options) {
        return this._queue.filter(options).length;
      }
      /**
      Number of pending promises.
      */
      get pending() {
        return this._pendingCount;
      }
      /**
      Whether the queue is currently paused.
      */
      get isPaused() {
        return this._isPaused;
      }
      get timeout() {
        return this._timeout;
      }
      /**
      Set the timeout for future operations.
      */
      set timeout(milliseconds) {
        this._timeout = milliseconds;
      }
    };
    exports.default = PQueue;
  }
});

// node_modules/langchain/dist/util/async_caller.js
var import_p_retry, import_p_queue, STATUS_NO_RETRY, AsyncCaller;
var init_async_caller = __esm({
  "node_modules/langchain/dist/util/async_caller.js"() {
    import_p_retry = __toESM(require_p_retry(), 1);
    import_p_queue = __toESM(require_dist(), 1);
    STATUS_NO_RETRY = [
      400,
      401,
      403,
      404,
      405,
      406,
      407,
      408,
      409
      // Conflict
    ];
    AsyncCaller = class {
      constructor(params) {
        var _a, _b;
        Object.defineProperty(this, "maxConcurrency", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "maxRetries", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "queue", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.maxConcurrency = (_a = params.maxConcurrency) != null ? _a : Infinity;
        this.maxRetries = (_b = params.maxRetries) != null ? _b : 6;
        const PQueue = "default" in import_p_queue.default ? import_p_queue.default.default : import_p_queue.default;
        this.queue = new PQueue({ concurrency: this.maxConcurrency });
      }
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      call(callable, ...args) {
        return this.queue.add(() => (0, import_p_retry.default)(() => callable(...args).catch((error) => {
          if (error instanceof Error) {
            throw error;
          } else {
            throw new Error(error);
          }
        }), {
          onFailedAttempt(error) {
            var _a;
            if (error.message.startsWith("Cancel") || error.message.startsWith("TimeoutError") || error.message.startsWith("AbortError")) {
              throw error;
            }
            if ((error == null ? void 0 : error.code) === "ECONNABORTED") {
              throw error;
            }
            const status = (_a = error == null ? void 0 : error.response) == null ? void 0 : _a.status;
            if (status && STATUS_NO_RETRY.includes(+status)) {
              throw error;
            }
          },
          retries: this.maxRetries,
          randomize: true
          // If needed we can change some of the defaults here,
          // but they're quite sensible.
        }), { throwOnTimeout: true });
      }
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      callWithOptions(options, callable, ...args) {
        if (options.signal) {
          return Promise.race([
            this.call(callable, ...args),
            new Promise((_, reject) => {
              var _a;
              (_a = options.signal) == null ? void 0 : _a.addEventListener("abort", () => {
                reject(new Error("AbortError"));
              });
            })
          ]);
        }
        return this.call(callable, ...args);
      }
      fetch(...args) {
        return this.call(() => fetch(...args).then((res) => res.ok ? res : Promise.reject(res)));
      }
    };
  }
});

// node_modules/langchain/dist/util/env.js
async function getRuntimeEnvironment() {
  if (runtimeEnvironment === void 0) {
    const env = getEnv();
    runtimeEnvironment = {
      library: "langchain-js",
      runtime: env
    };
  }
  return runtimeEnvironment;
}
function getEnvironmentVariable(name) {
  var _a;
  try {
    return typeof process !== "undefined" ? (
      // eslint-disable-next-line no-process-env
      (_a = process.env) == null ? void 0 : _a[name]
    ) : void 0;
  } catch (e) {
    return void 0;
  }
}
var isBrowser, isWebWorker, isJsDom, isDeno, isNode, getEnv, runtimeEnvironment;
var init_env = __esm({
  "node_modules/langchain/dist/util/env.js"() {
    isBrowser = () => typeof window !== "undefined" && typeof window.document !== "undefined";
    isWebWorker = () => typeof globalThis === "object" && globalThis.constructor && globalThis.constructor.name === "DedicatedWorkerGlobalScope";
    isJsDom = () => typeof window !== "undefined" && window.name === "nodejs" || typeof navigator !== "undefined" && (navigator.userAgent.includes("Node.js") || navigator.userAgent.includes("jsdom"));
    isDeno = () => typeof Deno !== "undefined";
    isNode = () => typeof process !== "undefined" && typeof process.versions !== "undefined" && typeof process.versions.node !== "undefined" && !isDeno();
    getEnv = () => {
      let env;
      if (isBrowser()) {
        env = "browser";
      } else if (isNode()) {
        env = "node";
      } else if (isWebWorker()) {
        env = "webworker";
      } else if (isJsDom()) {
        env = "jsdom";
      } else if (isDeno()) {
        env = "deno";
      } else {
        env = "other";
      }
      return env;
    };
  }
});

// node_modules/langchain/dist/callbacks/handlers/tracer_langchain.js
var LangChainTracer;
var init_tracer_langchain = __esm({
  "node_modules/langchain/dist/callbacks/handlers/tracer_langchain.js"() {
    init_async_caller();
    init_env();
    init_tracer();
    LangChainTracer = class extends BaseTracer {
      constructor({ exampleId, sessionName, callerParams, timeout } = {}) {
        super();
        Object.defineProperty(this, "name", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "langchain_tracer"
        });
        Object.defineProperty(this, "endpoint", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: getEnvironmentVariable("LANGCHAIN_ENDPOINT") || "http://localhost:1984"
        });
        Object.defineProperty(this, "headers", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: {
            "Content-Type": "application/json"
          }
        });
        Object.defineProperty(this, "sessionName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "exampleId", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "caller", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "timeout", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 5e3
        });
        const apiKey = getEnvironmentVariable("LANGCHAIN_API_KEY");
        if (apiKey) {
          this.headers["x-api-key"] = apiKey;
        }
        this.sessionName = sessionName != null ? sessionName : getEnvironmentVariable("LANGCHAIN_SESSION");
        this.exampleId = exampleId;
        this.timeout = timeout != null ? timeout : this.timeout;
        this.caller = new AsyncCaller(callerParams != null ? callerParams : { maxRetries: 2 });
      }
      async _convertToCreate(run, example_id = void 0) {
        var _a, _b;
        const runExtra = (_a = run.extra) != null ? _a : {};
        runExtra.runtime = await getRuntimeEnvironment();
        const persistedRun = {
          id: run.id,
          name: run.name,
          start_time: run.start_time,
          end_time: run.end_time,
          run_type: run.run_type,
          // example_id is only set for the root run
          reference_example_id: run.parent_run_id ? void 0 : example_id,
          extra: runExtra,
          parent_run_id: run.parent_run_id,
          execution_order: run.execution_order,
          serialized: run.serialized,
          error: run.error,
          inputs: run.inputs,
          outputs: (_b = run.outputs) != null ? _b : {},
          session_name: this.sessionName,
          child_runs: []
        };
        return persistedRun;
      }
      async persistRun(_run) {
      }
      async _persistRunSingle(run) {
        const persistedRun = await this._convertToCreate(run, this.exampleId);
        const endpoint = `${this.endpoint}/runs`;
        const response = await this.caller.call(fetch, endpoint, {
          method: "POST",
          headers: this.headers,
          body: JSON.stringify(persistedRun),
          signal: AbortSignal.timeout(this.timeout)
        });
        const body = await response.text();
        if (!response.ok) {
          throw new Error(`Failed to persist run: ${response.status} ${response.statusText} ${body}`);
        }
      }
      async _updateRunSingle(run) {
        const runUpdate = {
          end_time: run.end_time,
          error: run.error,
          outputs: run.outputs,
          parent_run_id: run.parent_run_id,
          reference_example_id: run.reference_example_id
        };
        const endpoint = `${this.endpoint}/runs/${run.id}`;
        const response = await this.caller.call(fetch, endpoint, {
          method: "PATCH",
          headers: this.headers,
          body: JSON.stringify(runUpdate),
          signal: AbortSignal.timeout(this.timeout)
        });
        const body = await response.text();
        if (!response.ok) {
          throw new Error(`Failed to update run: ${response.status} ${response.statusText} ${body}`);
        }
      }
      async onLLMStart(run) {
        await this._persistRunSingle(run);
      }
      async onLLMEnd(run) {
        await this._updateRunSingle(run);
      }
      async onLLMError(run) {
        await this._updateRunSingle(run);
      }
      async onChainStart(run) {
        await this._persistRunSingle(run);
      }
      async onChainEnd(run) {
        await this._updateRunSingle(run);
      }
      async onChainError(run) {
        await this._updateRunSingle(run);
      }
      async onToolStart(run) {
        await this._persistRunSingle(run);
      }
      async onToolEnd(run) {
        await this._updateRunSingle(run);
      }
      async onToolError(run) {
        await this._updateRunSingle(run);
      }
    };
  }
});

// node_modules/langchain/dist/memory/base.js
function getBufferString(messages2, humanPrefix = "Human", aiPrefix = "AI") {
  const string_messages = [];
  for (const m of messages2) {
    let role;
    if (m._getType() === "human") {
      role = humanPrefix;
    } else if (m._getType() === "ai") {
      role = aiPrefix;
    } else if (m._getType() === "system") {
      role = "System";
    } else if (m._getType() === "generic") {
      role = m.role;
    } else {
      throw new Error(`Got unsupported message type: ${m}`);
    }
    string_messages.push(`${role}: ${m.text}`);
  }
  return string_messages.join("\n");
}
var init_base2 = __esm({
  "node_modules/langchain/dist/memory/base.js"() {
  }
});

// node_modules/langchain/dist/callbacks/handlers/tracer_langchain_v1.js
var LangChainTracerV1;
var init_tracer_langchain_v1 = __esm({
  "node_modules/langchain/dist/callbacks/handlers/tracer_langchain_v1.js"() {
    init_base2();
    init_env();
    init_tracer();
    LangChainTracerV1 = class extends BaseTracer {
      constructor() {
        super();
        Object.defineProperty(this, "name", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "langchain_tracer"
        });
        Object.defineProperty(this, "endpoint", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: getEnvironmentVariable("LANGCHAIN_ENDPOINT") || "http://localhost:1984"
        });
        Object.defineProperty(this, "headers", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: {
            "Content-Type": "application/json"
          }
        });
        Object.defineProperty(this, "session", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        const apiKey = getEnvironmentVariable("LANGCHAIN_API_KEY");
        if (apiKey) {
          this.headers["x-api-key"] = apiKey;
        }
      }
      async newSession(sessionName) {
        const sessionCreate = {
          start_time: Date.now(),
          name: sessionName
        };
        const session = await this.persistSession(sessionCreate);
        this.session = session;
        return session;
      }
      async loadSession(sessionName) {
        const endpoint = `${this.endpoint}/sessions?name=${sessionName}`;
        return this._handleSessionResponse(endpoint);
      }
      async loadDefaultSession() {
        const endpoint = `${this.endpoint}/sessions?name=default`;
        return this._handleSessionResponse(endpoint);
      }
      async convertV2RunToRun(run) {
        var _a, _b;
        const session = (_a = this.session) != null ? _a : await this.loadDefaultSession();
        const serialized = run.serialized;
        let runResult;
        if (run.run_type === "llm") {
          const prompts = run.inputs.prompts ? run.inputs.prompts : run.inputs.messages.map((x) => getBufferString(x));
          const llmRun = {
            uuid: run.id,
            start_time: run.start_time,
            end_time: run.end_time,
            execution_order: run.execution_order,
            child_execution_order: run.child_execution_order,
            serialized,
            type: run.run_type,
            session_id: session.id,
            prompts,
            response: run.outputs
          };
          runResult = llmRun;
        } else if (run.run_type === "chain") {
          const child_runs = await Promise.all(run.child_runs.map((child_run) => this.convertV2RunToRun(child_run)));
          const chainRun = {
            uuid: run.id,
            start_time: run.start_time,
            end_time: run.end_time,
            execution_order: run.execution_order,
            child_execution_order: run.child_execution_order,
            serialized,
            type: run.run_type,
            session_id: session.id,
            inputs: run.inputs,
            outputs: run.outputs,
            child_llm_runs: child_runs.filter((child_run) => child_run.type === "llm"),
            child_chain_runs: child_runs.filter((child_run) => child_run.type === "chain"),
            child_tool_runs: child_runs.filter((child_run) => child_run.type === "tool")
          };
          runResult = chainRun;
        } else if (run.run_type === "tool") {
          const child_runs = await Promise.all(run.child_runs.map((child_run) => this.convertV2RunToRun(child_run)));
          const toolRun = {
            uuid: run.id,
            start_time: run.start_time,
            end_time: run.end_time,
            execution_order: run.execution_order,
            child_execution_order: run.child_execution_order,
            serialized,
            type: run.run_type,
            session_id: session.id,
            tool_input: run.inputs.input,
            output: (_b = run.outputs) == null ? void 0 : _b.output,
            action: JSON.stringify(serialized),
            child_llm_runs: child_runs.filter((child_run) => child_run.type === "llm"),
            child_chain_runs: child_runs.filter((child_run) => child_run.type === "chain"),
            child_tool_runs: child_runs.filter((child_run) => child_run.type === "tool")
          };
          runResult = toolRun;
        } else {
          throw new Error(`Unknown run type: ${run.run_type}`);
        }
        return runResult;
      }
      async persistRun(run) {
        let endpoint;
        let v1Run;
        if (run.run_type !== void 0) {
          v1Run = await this.convertV2RunToRun(run);
        } else {
          v1Run = run;
        }
        if (v1Run.type === "llm") {
          endpoint = `${this.endpoint}/llm-runs`;
        } else if (v1Run.type === "chain") {
          endpoint = `${this.endpoint}/chain-runs`;
        } else {
          endpoint = `${this.endpoint}/tool-runs`;
        }
        const response = await fetch(endpoint, {
          method: "POST",
          headers: this.headers,
          body: JSON.stringify(v1Run)
        });
        if (!response.ok) {
          console.error(`Failed to persist run: ${response.status} ${response.statusText}`);
        }
      }
      async persistSession(sessionCreate) {
        const endpoint = `${this.endpoint}/sessions`;
        const response = await fetch(endpoint, {
          method: "POST",
          headers: this.headers,
          body: JSON.stringify(sessionCreate)
        });
        if (!response.ok) {
          console.error(`Failed to persist session: ${response.status} ${response.statusText}, using default session.`);
          return {
            id: 1,
            ...sessionCreate
          };
        }
        return {
          id: (await response.json()).id,
          ...sessionCreate
        };
      }
      async _handleSessionResponse(endpoint) {
        const response = await fetch(endpoint, {
          method: "GET",
          headers: this.headers
        });
        let tracerSession;
        if (!response.ok) {
          console.error(`Failed to load session: ${response.status} ${response.statusText}`);
          tracerSession = {
            id: 1,
            start_time: Date.now()
          };
          this.session = tracerSession;
          return tracerSession;
        }
        const resp = await response.json();
        if (resp.length === 0) {
          tracerSession = {
            id: 1,
            start_time: Date.now()
          };
          this.session = tracerSession;
          return tracerSession;
        }
        [tracerSession] = resp;
        this.session = tracerSession;
        return tracerSession;
      }
    };
  }
});

// node_modules/langchain/dist/callbacks/handlers/initialize.js
async function getTracingCallbackHandler(session) {
  const tracer = new LangChainTracerV1();
  if (session) {
    await tracer.loadSession(session);
  } else {
    await tracer.loadDefaultSession();
  }
  return tracer;
}
async function getTracingV2CallbackHandler() {
  return new LangChainTracer();
}
var init_initialize = __esm({
  "node_modules/langchain/dist/callbacks/handlers/initialize.js"() {
    init_tracer_langchain();
    init_tracer_langchain_v1();
  }
});

// node_modules/langchain/dist/callbacks/manager.js
function ensureHandler(handler) {
  if ("name" in handler) {
    return handler;
  }
  return BaseCallbackHandler.fromMethods(handler);
}
var BaseCallbackManager, BaseRunManager, CallbackManagerForLLMRun, CallbackManagerForChainRun, CallbackManagerForToolRun, CallbackManager;
var init_manager = __esm({
  "node_modules/langchain/dist/callbacks/manager.js"() {
    init_esm_browser();
    init_base();
    init_console();
    init_initialize();
    init_base2();
    init_env();
    BaseCallbackManager = class {
      setHandler(handler) {
        return this.setHandlers([handler]);
      }
    };
    BaseRunManager = class {
      constructor(runId, handlers, inheritableHandlers, _parentRunId) {
        Object.defineProperty(this, "runId", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: runId
        });
        Object.defineProperty(this, "handlers", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: handlers
        });
        Object.defineProperty(this, "inheritableHandlers", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: inheritableHandlers
        });
        Object.defineProperty(this, "_parentRunId", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: _parentRunId
        });
      }
      async handleText(text) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          try {
            await ((_a = handler.handleText) == null ? void 0 : _a.call(handler, text, this.runId, this._parentRunId));
          } catch (err) {
            console.error(`Error in handler ${handler.constructor.name}, handleText: ${err}`);
          }
        }));
      }
    };
    CallbackManagerForLLMRun = class extends BaseRunManager {
      async handleLLMNewToken(token) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreLLM) {
            try {
              await ((_a = handler.handleLLMNewToken) == null ? void 0 : _a.call(handler, token, this.runId, this._parentRunId));
            } catch (err) {
              console.error(`Error in handler ${handler.constructor.name}, handleLLMNewToken: ${err}`);
            }
          }
        }));
      }
      async handleLLMError(err) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreLLM) {
            try {
              await ((_a = handler.handleLLMError) == null ? void 0 : _a.call(handler, err, this.runId, this._parentRunId));
            } catch (err2) {
              console.error(`Error in handler ${handler.constructor.name}, handleLLMError: ${err2}`);
            }
          }
        }));
      }
      async handleLLMEnd(output) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreLLM) {
            try {
              await ((_a = handler.handleLLMEnd) == null ? void 0 : _a.call(handler, output, this.runId, this._parentRunId));
            } catch (err) {
              console.error(`Error in handler ${handler.constructor.name}, handleLLMEnd: ${err}`);
            }
          }
        }));
      }
    };
    CallbackManagerForChainRun = class extends BaseRunManager {
      getChild() {
        const manager = new CallbackManager(this.runId);
        manager.setHandlers(this.inheritableHandlers);
        return manager;
      }
      async handleChainError(err) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreChain) {
            try {
              await ((_a = handler.handleChainError) == null ? void 0 : _a.call(handler, err, this.runId, this._parentRunId));
            } catch (err2) {
              console.error(`Error in handler ${handler.constructor.name}, handleChainError: ${err2}`);
            }
          }
        }));
      }
      async handleChainEnd(output) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreChain) {
            try {
              await ((_a = handler.handleChainEnd) == null ? void 0 : _a.call(handler, output, this.runId, this._parentRunId));
            } catch (err) {
              console.error(`Error in handler ${handler.constructor.name}, handleChainEnd: ${err}`);
            }
          }
        }));
      }
      async handleAgentAction(action) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreAgent) {
            try {
              await ((_a = handler.handleAgentAction) == null ? void 0 : _a.call(handler, action, this.runId, this._parentRunId));
            } catch (err) {
              console.error(`Error in handler ${handler.constructor.name}, handleAgentAction: ${err}`);
            }
          }
        }));
      }
      async handleAgentEnd(action) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreAgent) {
            try {
              await ((_a = handler.handleAgentEnd) == null ? void 0 : _a.call(handler, action, this.runId, this._parentRunId));
            } catch (err) {
              console.error(`Error in handler ${handler.constructor.name}, handleAgentEnd: ${err}`);
            }
          }
        }));
      }
    };
    CallbackManagerForToolRun = class extends BaseRunManager {
      getChild() {
        const manager = new CallbackManager(this.runId);
        manager.setHandlers(this.inheritableHandlers);
        return manager;
      }
      async handleToolError(err) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreAgent) {
            try {
              await ((_a = handler.handleToolError) == null ? void 0 : _a.call(handler, err, this.runId, this._parentRunId));
            } catch (err2) {
              console.error(`Error in handler ${handler.constructor.name}, handleToolError: ${err2}`);
            }
          }
        }));
      }
      async handleToolEnd(output) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreAgent) {
            try {
              await ((_a = handler.handleToolEnd) == null ? void 0 : _a.call(handler, output, this.runId, this._parentRunId));
            } catch (err) {
              console.error(`Error in handler ${handler.constructor.name}, handleToolEnd: ${err}`);
            }
          }
        }));
      }
    };
    CallbackManager = class extends BaseCallbackManager {
      constructor(parentRunId) {
        super();
        Object.defineProperty(this, "handlers", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "inheritableHandlers", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "name", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "callback_manager"
        });
        Object.defineProperty(this, "_parentRunId", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.handlers = [];
        this.inheritableHandlers = [];
        this._parentRunId = parentRunId;
      }
      async handleLLMStart(llm, prompts, runId = v4_default(), _parentRunId = void 0, extraParams = void 0) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreLLM) {
            try {
              await ((_a = handler.handleLLMStart) == null ? void 0 : _a.call(handler, llm, prompts, runId, this._parentRunId, extraParams));
            } catch (err) {
              console.error(`Error in handler ${handler.constructor.name}, handleLLMStart: ${err}`);
            }
          }
        }));
        return new CallbackManagerForLLMRun(runId, this.handlers, this.inheritableHandlers, this._parentRunId);
      }
      async handleChatModelStart(llm, messages2, runId = v4_default(), _parentRunId = void 0, extraParams = void 0) {
        let messageStrings;
        await Promise.all(this.handlers.map(async (handler) => {
          var _a, _b;
          if (!handler.ignoreLLM) {
            try {
              if (handler.handleChatModelStart)
                await ((_a = handler.handleChatModelStart) == null ? void 0 : _a.call(handler, llm, messages2, runId, this._parentRunId, extraParams));
              else if (handler.handleLLMStart) {
                messageStrings = messages2.map((x) => getBufferString(x));
                await ((_b = handler.handleLLMStart) == null ? void 0 : _b.call(handler, llm, messageStrings, runId, this._parentRunId, extraParams));
              }
            } catch (err) {
              console.error(`Error in handler ${handler.constructor.name}, handleLLMStart: ${err}`);
            }
          }
        }));
        return new CallbackManagerForLLMRun(runId, this.handlers, this.inheritableHandlers, this._parentRunId);
      }
      async handleChainStart(chain, inputs, runId = v4_default()) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreChain) {
            try {
              await ((_a = handler.handleChainStart) == null ? void 0 : _a.call(handler, chain, inputs, runId, this._parentRunId));
            } catch (err) {
              console.error(`Error in handler ${handler.constructor.name}, handleChainStart: ${err}`);
            }
          }
        }));
        return new CallbackManagerForChainRun(runId, this.handlers, this.inheritableHandlers, this._parentRunId);
      }
      async handleToolStart(tool, input, runId = v4_default()) {
        await Promise.all(this.handlers.map(async (handler) => {
          var _a;
          if (!handler.ignoreAgent) {
            try {
              await ((_a = handler.handleToolStart) == null ? void 0 : _a.call(handler, tool, input, runId, this._parentRunId));
            } catch (err) {
              console.error(`Error in handler ${handler.constructor.name}, handleToolStart: ${err}`);
            }
          }
        }));
        return new CallbackManagerForToolRun(runId, this.handlers, this.inheritableHandlers, this._parentRunId);
      }
      addHandler(handler, inherit = true) {
        this.handlers.push(handler);
        if (inherit) {
          this.inheritableHandlers.push(handler);
        }
      }
      removeHandler(handler) {
        this.handlers = this.handlers.filter((_handler) => _handler !== handler);
        this.inheritableHandlers = this.inheritableHandlers.filter((_handler) => _handler !== handler);
      }
      setHandlers(handlers, inherit = true) {
        this.handlers = [];
        this.inheritableHandlers = [];
        for (const handler of handlers) {
          this.addHandler(handler, inherit);
        }
      }
      copy(additionalHandlers = [], inherit = true) {
        const manager = new CallbackManager(this._parentRunId);
        for (const handler of this.handlers) {
          const inheritable = this.inheritableHandlers.includes(handler);
          manager.addHandler(handler, inheritable);
        }
        for (const handler of additionalHandlers) {
          if (
            // Prevent multiple copies of console_callback_handler
            manager.handlers.filter((h) => h.name === "console_callback_handler").some((h) => h.name === handler.name)
          ) {
            continue;
          }
          manager.addHandler(handler, inherit);
        }
        return manager;
      }
      static fromHandlers(handlers) {
        class Handler extends BaseCallbackHandler {
          constructor() {
            super();
            Object.defineProperty(this, "name", {
              enumerable: true,
              configurable: true,
              writable: true,
              value: v4_default()
            });
            Object.assign(this, handlers);
          }
        }
        const manager = new this();
        manager.addHandler(new Handler());
        return manager;
      }
      static async configure(inheritableHandlers, localHandlers, options) {
        var _a, _b, _c;
        let callbackManager;
        if (inheritableHandlers || localHandlers) {
          if (Array.isArray(inheritableHandlers) || !inheritableHandlers) {
            callbackManager = new CallbackManager();
            callbackManager.setHandlers((_a = inheritableHandlers == null ? void 0 : inheritableHandlers.map(ensureHandler)) != null ? _a : [], true);
          } else {
            callbackManager = inheritableHandlers;
          }
          callbackManager = callbackManager.copy(Array.isArray(localHandlers) ? localHandlers.map(ensureHandler) : localHandlers == null ? void 0 : localHandlers.handlers, false);
        }
        const verboseEnabled = getEnvironmentVariable("LANGCHAIN_VERBOSE") || (options == null ? void 0 : options.verbose);
        const tracingV2Enabled = (_b = getEnvironmentVariable("LANGCHAIN_TRACING_V2")) != null ? _b : false;
        const tracingEnabled = tracingV2Enabled || ((_c = getEnvironmentVariable("LANGCHAIN_TRACING")) != null ? _c : false);
        if (verboseEnabled || tracingEnabled) {
          if (!callbackManager) {
            callbackManager = new CallbackManager();
          }
          if (verboseEnabled && !callbackManager.handlers.some((handler) => handler.name === ConsoleCallbackHandler.prototype.name)) {
            const consoleHandler = new ConsoleCallbackHandler();
            callbackManager.addHandler(consoleHandler, true);
          }
          if (tracingEnabled && !callbackManager.handlers.some((handler) => handler.name === "langchain_tracer")) {
            if (tracingV2Enabled) {
              callbackManager.addHandler(await getTracingV2CallbackHandler(), true);
            } else {
              const session = getEnvironmentVariable("LANGCHAIN_SESSION");
              callbackManager.addHandler(await getTracingCallbackHandler(session), true);
            }
          }
        }
        return callbackManager;
      }
    };
  }
});

// node_modules/js-tiktoken/dist/chunk-XXPGZHWZ.js
var __defProp2, __defNormalProp2, __publicField2;
var init_chunk_XXPGZHWZ = __esm({
  "node_modules/js-tiktoken/dist/chunk-XXPGZHWZ.js"() {
    __defProp2 = Object.defineProperty;
    __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
    __publicField2 = (obj, key, value) => {
      __defNormalProp2(obj, typeof key !== "symbol" ? key + "" : key, value);
      return value;
    };
  }
});

// node_modules/base64-js/index.js
var require_base64_js = __commonJS({
  "node_modules/base64-js/index.js"(exports) {
    "use strict";
    exports.byteLength = byteLength;
    exports.toByteArray = toByteArray;
    exports.fromByteArray = fromByteArray;
    var lookup = [];
    var revLookup = [];
    var Arr = typeof Uint8Array !== "undefined" ? Uint8Array : Array;
    var code = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
    for (i = 0, len = code.length; i < len; ++i) {
      lookup[i] = code[i];
      revLookup[code.charCodeAt(i)] = i;
    }
    var i;
    var len;
    revLookup["-".charCodeAt(0)] = 62;
    revLookup["_".charCodeAt(0)] = 63;
    function getLens(b64) {
      var len2 = b64.length;
      if (len2 % 4 > 0) {
        throw new Error("Invalid string. Length must be a multiple of 4");
      }
      var validLen = b64.indexOf("=");
      if (validLen === -1)
        validLen = len2;
      var placeHoldersLen = validLen === len2 ? 0 : 4 - validLen % 4;
      return [validLen, placeHoldersLen];
    }
    function byteLength(b64) {
      var lens = getLens(b64);
      var validLen = lens[0];
      var placeHoldersLen = lens[1];
      return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
    }
    function _byteLength(b64, validLen, placeHoldersLen) {
      return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
    }
    function toByteArray(b64) {
      var tmp;
      var lens = getLens(b64);
      var validLen = lens[0];
      var placeHoldersLen = lens[1];
      var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));
      var curByte = 0;
      var len2 = placeHoldersLen > 0 ? validLen - 4 : validLen;
      var i2;
      for (i2 = 0; i2 < len2; i2 += 4) {
        tmp = revLookup[b64.charCodeAt(i2)] << 18 | revLookup[b64.charCodeAt(i2 + 1)] << 12 | revLookup[b64.charCodeAt(i2 + 2)] << 6 | revLookup[b64.charCodeAt(i2 + 3)];
        arr[curByte++] = tmp >> 16 & 255;
        arr[curByte++] = tmp >> 8 & 255;
        arr[curByte++] = tmp & 255;
      }
      if (placeHoldersLen === 2) {
        tmp = revLookup[b64.charCodeAt(i2)] << 2 | revLookup[b64.charCodeAt(i2 + 1)] >> 4;
        arr[curByte++] = tmp & 255;
      }
      if (placeHoldersLen === 1) {
        tmp = revLookup[b64.charCodeAt(i2)] << 10 | revLookup[b64.charCodeAt(i2 + 1)] << 4 | revLookup[b64.charCodeAt(i2 + 2)] >> 2;
        arr[curByte++] = tmp >> 8 & 255;
        arr[curByte++] = tmp & 255;
      }
      return arr;
    }
    function tripletToBase64(num) {
      return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];
    }
    function encodeChunk(uint8, start, end) {
      var tmp;
      var output = [];
      for (var i2 = start; i2 < end; i2 += 3) {
        tmp = (uint8[i2] << 16 & 16711680) + (uint8[i2 + 1] << 8 & 65280) + (uint8[i2 + 2] & 255);
        output.push(tripletToBase64(tmp));
      }
      return output.join("");
    }
    function fromByteArray(uint8) {
      var tmp;
      var len2 = uint8.length;
      var extraBytes = len2 % 3;
      var parts = [];
      var maxChunkLength = 16383;
      for (var i2 = 0, len22 = len2 - extraBytes; i2 < len22; i2 += maxChunkLength) {
        parts.push(encodeChunk(uint8, i2, i2 + maxChunkLength > len22 ? len22 : i2 + maxChunkLength));
      }
      if (extraBytes === 1) {
        tmp = uint8[len2 - 1];
        parts.push(
          lookup[tmp >> 2] + lookup[tmp << 4 & 63] + "=="
        );
      } else if (extraBytes === 2) {
        tmp = (uint8[len2 - 2] << 8) + uint8[len2 - 1];
        parts.push(
          lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + "="
        );
      }
      return parts.join("");
    }
  }
});

// node_modules/js-tiktoken/dist/chunk-HORODD5P.js
function bytePairMerge(piece, ranks) {
  let parts = Array.from(
    { length: piece.length },
    (_, i) => ({ start: i, end: i + 1 })
  );
  while (parts.length > 1) {
    let minRank = null;
    for (let i = 0; i < parts.length - 1; i++) {
      const slice = piece.slice(parts[i].start, parts[i + 1].end);
      const rank = ranks.get(slice.join(","));
      if (rank == null)
        continue;
      if (minRank == null || rank < minRank[0]) {
        minRank = [rank, i];
      }
    }
    if (minRank != null) {
      const i = minRank[1];
      parts[i] = { start: parts[i].start, end: parts[i + 1].end };
      parts.splice(i + 1, 1);
    } else {
      break;
    }
  }
  return parts;
}
function bytePairEncode(piece, ranks) {
  if (piece.length === 1)
    return [ranks.get(piece.join(","))];
  return bytePairMerge(piece, ranks).map((p) => ranks.get(piece.slice(p.start, p.end).join(","))).filter((x) => x != null);
}
function escapeRegex(str) {
  return str.replace(/[\\^$*+?.()|[\]{}]/g, "\\$&");
}
function getEncodingNameForModel(model) {
  switch (model) {
    case "gpt2": {
      return "gpt2";
    }
    case "code-cushman-001":
    case "code-cushman-002":
    case "code-davinci-001":
    case "code-davinci-002":
    case "cushman-codex":
    case "davinci-codex":
    case "text-davinci-002":
    case "text-davinci-003": {
      return "p50k_base";
    }
    case "code-davinci-edit-001":
    case "text-davinci-edit-001": {
      return "p50k_edit";
    }
    case "ada":
    case "babbage":
    case "code-search-ada-code-001":
    case "code-search-babbage-code-001":
    case "curie":
    case "davinci":
    case "text-ada-001":
    case "text-babbage-001":
    case "text-curie-001":
    case "text-davinci-001":
    case "text-search-ada-doc-001":
    case "text-search-babbage-doc-001":
    case "text-search-curie-doc-001":
    case "text-search-davinci-doc-001":
    case "text-similarity-ada-001":
    case "text-similarity-babbage-001":
    case "text-similarity-curie-001":
    case "text-similarity-davinci-001": {
      return "r50k_base";
    }
    case "gpt-3.5-turbo-0301":
    case "gpt-3.5-turbo":
    case "gpt-4-0314":
    case "gpt-4-32k-0314":
    case "gpt-4-32k":
    case "gpt-4":
    case "text-embedding-ada-002": {
      return "cl100k_base";
    }
    default:
      throw new Error("Unknown model");
  }
}
var import_base64_js, _Tiktoken, Tiktoken;
var init_chunk_HORODD5P = __esm({
  "node_modules/js-tiktoken/dist/chunk-HORODD5P.js"() {
    init_chunk_XXPGZHWZ();
    import_base64_js = __toESM(require_base64_js(), 1);
    _Tiktoken = class {
      constructor(ranks, extendedSpecialTokens) {
        /** @internal */
        __publicField(this, "specialTokens");
        /** @internal */
        __publicField(this, "inverseSpecialTokens");
        /** @internal */
        __publicField(this, "patStr");
        /** @internal */
        __publicField(this, "textEncoder", new TextEncoder());
        /** @internal */
        __publicField(this, "textDecoder", new TextDecoder("utf-8"));
        /** @internal */
        __publicField(this, "rankMap", /* @__PURE__ */ new Map());
        /** @internal */
        __publicField(this, "textMap", /* @__PURE__ */ new Map());
        this.patStr = ranks.pat_str;
        const uncompressed = ranks.bpe_ranks.split("\n").filter(Boolean).reduce((memo, x) => {
          const [_, offsetStr, ...tokens] = x.split(" ");
          const offset = Number.parseInt(offsetStr, 10);
          tokens.forEach((token, i) => memo[token] = offset + i);
          return memo;
        }, {});
        for (const [token, rank] of Object.entries(uncompressed)) {
          const bytes = import_base64_js.default.toByteArray(token);
          this.rankMap.set(bytes.join(","), rank);
          this.textMap.set(rank, bytes);
        }
        this.specialTokens = { ...ranks.special_tokens, ...extendedSpecialTokens };
        this.inverseSpecialTokens = Object.entries(this.specialTokens).reduce((memo, [text, rank]) => {
          memo[rank] = this.textEncoder.encode(text);
          return memo;
        }, {});
      }
      encode(text, allowedSpecial = [], disallowedSpecial = "all") {
        var _a;
        const regexes = new RegExp(this.patStr, "ug");
        const specialRegex = _Tiktoken.specialTokenRegex(
          Object.keys(this.specialTokens)
        );
        const ret = [];
        const allowedSpecialSet = new Set(
          allowedSpecial === "all" ? Object.keys(this.specialTokens) : allowedSpecial
        );
        const disallowedSpecialSet = new Set(
          disallowedSpecial === "all" ? Object.keys(this.specialTokens).filter(
            (x) => !allowedSpecialSet.has(x)
          ) : disallowedSpecial
        );
        if (disallowedSpecialSet.size > 0) {
          const disallowedSpecialRegex = _Tiktoken.specialTokenRegex([
            ...disallowedSpecialSet
          ]);
          const specialMatch = text.match(disallowedSpecialRegex);
          if (specialMatch != null) {
            throw new Error(
              `The text contains a special token that is not allowed: ${specialMatch[0]}`
            );
          }
        }
        let start = 0;
        while (true) {
          let nextSpecial = null;
          let startFind = start;
          while (true) {
            specialRegex.lastIndex = startFind;
            nextSpecial = specialRegex.exec(text);
            if (nextSpecial == null || allowedSpecialSet.has(nextSpecial[0]))
              break;
            startFind = nextSpecial.index + 1;
          }
          const end = (_a = nextSpecial == null ? void 0 : nextSpecial.index) != null ? _a : text.length;
          for (const match of text.substring(start, end).matchAll(regexes)) {
            const piece = this.textEncoder.encode(match[0]);
            const token2 = this.rankMap.get(piece.join(","));
            if (token2 != null) {
              ret.push(token2);
              continue;
            }
            ret.push(...bytePairEncode(piece, this.rankMap));
          }
          if (nextSpecial == null)
            break;
          let token = this.specialTokens[nextSpecial[0]];
          ret.push(token);
          start = nextSpecial.index + nextSpecial[0].length;
        }
        return ret;
      }
      decode(tokens) {
        var _a;
        const res = [];
        let length = 0;
        for (let i2 = 0; i2 < tokens.length; ++i2) {
          const token = tokens[i2];
          const bytes = (_a = this.textMap.get(token)) != null ? _a : this.inverseSpecialTokens[token];
          if (bytes != null) {
            res.push(bytes);
            length += bytes.length;
          }
        }
        const mergedArray = new Uint8Array(length);
        let i = 0;
        for (const bytes of res) {
          mergedArray.set(bytes, i);
          i += bytes.length;
        }
        return this.textDecoder.decode(mergedArray);
      }
    };
    Tiktoken = _Tiktoken;
    __publicField2(Tiktoken, "specialTokenRegex", (tokens) => {
      return new RegExp(tokens.map((i) => escapeRegex(i)).join("|"), "g");
    });
  }
});

// node_modules/js-tiktoken/dist/lite.js
var init_lite = __esm({
  "node_modules/js-tiktoken/dist/lite.js"() {
    init_chunk_HORODD5P();
    init_chunk_XXPGZHWZ();
  }
});

// node_modules/langchain/dist/util/tiktoken.js
async function getEncoding(encoding, options) {
  if (!(encoding in cache)) {
    cache[encoding] = caller.fetch(`https://tiktoken.pages.dev/js/${encoding}.json`, {
      signal: options == null ? void 0 : options.signal
    }).then((res) => res.json()).catch((e) => {
      delete cache[encoding];
      throw e;
    });
  }
  return new Tiktoken(await cache[encoding], options == null ? void 0 : options.extendedSpecialTokens);
}
async function encodingForModel(model, options) {
  return getEncoding(getEncodingNameForModel(model), options);
}
var cache, caller;
var init_tiktoken = __esm({
  "node_modules/langchain/dist/util/tiktoken.js"() {
    init_lite();
    init_async_caller();
    cache = {};
    caller = /* @__PURE__ */ new AsyncCaller({});
  }
});

// node_modules/langchain/dist/base_language/count_tokens.js
var getModelNameForTiktoken, getModelContextSize, calculateMaxTokens;
var init_count_tokens = __esm({
  "node_modules/langchain/dist/base_language/count_tokens.js"() {
    init_tiktoken();
    getModelNameForTiktoken = (modelName) => {
      if (modelName.startsWith("gpt-3.5-turbo-")) {
        return "gpt-3.5-turbo";
      }
      if (modelName.startsWith("gpt-4-32k-")) {
        return "gpt-4-32k";
      }
      if (modelName.startsWith("gpt-4-")) {
        return "gpt-4";
      }
      return modelName;
    };
    getModelContextSize = (modelName) => {
      switch (getModelNameForTiktoken(modelName)) {
        case "gpt-3.5-turbo":
          return 4096;
        case "gpt-4-32k":
          return 32768;
        case "gpt-4":
          return 8192;
        case "text-davinci-003":
          return 4097;
        case "text-curie-001":
          return 2048;
        case "text-babbage-001":
          return 2048;
        case "text-ada-001":
          return 2048;
        case "code-davinci-002":
          return 8e3;
        case "code-cushman-001":
          return 2048;
        default:
          return 4097;
      }
    };
    calculateMaxTokens = async ({ prompt, modelName }) => {
      let numTokens = Math.ceil(prompt.length / 4);
      try {
        numTokens = (await encodingForModel(modelName)).encode(prompt).length;
      } catch (error) {
        console.warn("Failed to calculate number of tokens, falling back to approximate count");
      }
      const maxTokens = getModelContextSize(modelName);
      return maxTokens - numTokens;
    };
  }
});

// node_modules/axios/lib/helpers/bind.js
var require_bind = __commonJS({
  "node_modules/axios/lib/helpers/bind.js"(exports, module2) {
    "use strict";
    module2.exports = function bind(fn, thisArg) {
      return function wrap2() {
        var args = new Array(arguments.length);
        for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i];
        }
        return fn.apply(thisArg, args);
      };
    };
  }
});

// node_modules/axios/lib/utils.js
var require_utils = __commonJS({
  "node_modules/axios/lib/utils.js"(exports, module2) {
    "use strict";
    var bind = require_bind();
    var toString2 = Object.prototype.toString;
    function isArray2(val) {
      return Array.isArray(val);
    }
    function isUndefined2(val) {
      return typeof val === "undefined";
    }
    function isBuffer(val) {
      return val !== null && !isUndefined2(val) && val.constructor !== null && !isUndefined2(val.constructor) && typeof val.constructor.isBuffer === "function" && val.constructor.isBuffer(val);
    }
    function isArrayBuffer(val) {
      return toString2.call(val) === "[object ArrayBuffer]";
    }
    function isFormData2(val) {
      return toString2.call(val) === "[object FormData]";
    }
    function isArrayBufferView(val) {
      var result;
      if (typeof ArrayBuffer !== "undefined" && ArrayBuffer.isView) {
        result = ArrayBuffer.isView(val);
      } else {
        result = val && val.buffer && isArrayBuffer(val.buffer);
      }
      return result;
    }
    function isString(val) {
      return typeof val === "string";
    }
    function isNumber(val) {
      return typeof val === "number";
    }
    function isObject2(val) {
      return val !== null && typeof val === "object";
    }
    function isPlainObject(val) {
      if (toString2.call(val) !== "[object Object]") {
        return false;
      }
      var prototype = Object.getPrototypeOf(val);
      return prototype === null || prototype === Object.prototype;
    }
    function isDate2(val) {
      return toString2.call(val) === "[object Date]";
    }
    function isFile(val) {
      return toString2.call(val) === "[object File]";
    }
    function isBlob(val) {
      return toString2.call(val) === "[object Blob]";
    }
    function isFunction(val) {
      return toString2.call(val) === "[object Function]";
    }
    function isStream(val) {
      return isObject2(val) && isFunction(val.pipe);
    }
    function isURLSearchParams2(val) {
      return toString2.call(val) === "[object URLSearchParams]";
    }
    function trim(str) {
      return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g, "");
    }
    function isStandardBrowserEnv2() {
      if (typeof navigator !== "undefined" && (navigator.product === "ReactNative" || navigator.product === "NativeScript" || navigator.product === "NS")) {
        return false;
      }
      return typeof window !== "undefined" && typeof document !== "undefined";
    }
    function forEach2(obj, fn) {
      if (obj === null || typeof obj === "undefined") {
        return;
      }
      if (typeof obj !== "object") {
        obj = [obj];
      }
      if (isArray2(obj)) {
        for (var i = 0, l = obj.length; i < l; i++) {
          fn.call(null, obj[i], i, obj);
        }
      } else {
        for (var key in obj) {
          if (Object.prototype.hasOwnProperty.call(obj, key)) {
            fn.call(null, obj[key], key, obj);
          }
        }
      }
    }
    function merge() {
      var result = {};
      function assignValue(val, key) {
        if (isPlainObject(result[key]) && isPlainObject(val)) {
          result[key] = merge(result[key], val);
        } else if (isPlainObject(val)) {
          result[key] = merge({}, val);
        } else if (isArray2(val)) {
          result[key] = val.slice();
        } else {
          result[key] = val;
        }
      }
      for (var i = 0, l = arguments.length; i < l; i++) {
        forEach2(arguments[i], assignValue);
      }
      return result;
    }
    function extend(a, b, thisArg) {
      forEach2(b, function assignValue(val, key) {
        if (thisArg && typeof val === "function") {
          a[key] = bind(val, thisArg);
        } else {
          a[key] = val;
        }
      });
      return a;
    }
    function stripBOM(content) {
      if (content.charCodeAt(0) === 65279) {
        content = content.slice(1);
      }
      return content;
    }
    module2.exports = {
      isArray: isArray2,
      isArrayBuffer,
      isBuffer,
      isFormData: isFormData2,
      isArrayBufferView,
      isString,
      isNumber,
      isObject: isObject2,
      isPlainObject,
      isUndefined: isUndefined2,
      isDate: isDate2,
      isFile,
      isBlob,
      isFunction,
      isStream,
      isURLSearchParams: isURLSearchParams2,
      isStandardBrowserEnv: isStandardBrowserEnv2,
      forEach: forEach2,
      merge,
      extend,
      trim,
      stripBOM
    };
  }
});

// node_modules/axios/lib/helpers/buildURL.js
var require_buildURL = __commonJS({
  "node_modules/axios/lib/helpers/buildURL.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    function encode2(val) {
      return encodeURIComponent(val).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
    }
    module2.exports = function buildURL2(url, params, paramsSerializer) {
      if (!params) {
        return url;
      }
      var serializedParams;
      if (paramsSerializer) {
        serializedParams = paramsSerializer(params);
      } else if (utils.isURLSearchParams(params)) {
        serializedParams = params.toString();
      } else {
        var parts = [];
        utils.forEach(params, function serialize(val, key) {
          if (val === null || typeof val === "undefined") {
            return;
          }
          if (utils.isArray(val)) {
            key = key + "[]";
          } else {
            val = [val];
          }
          utils.forEach(val, function parseValue(v) {
            if (utils.isDate(v)) {
              v = v.toISOString();
            } else if (utils.isObject(v)) {
              v = JSON.stringify(v);
            }
            parts.push(encode2(key) + "=" + encode2(v));
          });
        });
        serializedParams = parts.join("&");
      }
      if (serializedParams) {
        var hashmarkIndex = url.indexOf("#");
        if (hashmarkIndex !== -1) {
          url = url.slice(0, hashmarkIndex);
        }
        url += (url.indexOf("?") === -1 ? "?" : "&") + serializedParams;
      }
      return url;
    };
  }
});

// node_modules/axios/lib/core/InterceptorManager.js
var require_InterceptorManager = __commonJS({
  "node_modules/axios/lib/core/InterceptorManager.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    function InterceptorManager() {
      this.handlers = [];
    }
    InterceptorManager.prototype.use = function use(fulfilled, rejected, options) {
      this.handlers.push({
        fulfilled,
        rejected,
        synchronous: options ? options.synchronous : false,
        runWhen: options ? options.runWhen : null
      });
      return this.handlers.length - 1;
    };
    InterceptorManager.prototype.eject = function eject(id) {
      if (this.handlers[id]) {
        this.handlers[id] = null;
      }
    };
    InterceptorManager.prototype.forEach = function forEach2(fn) {
      utils.forEach(this.handlers, function forEachHandler(h) {
        if (h !== null) {
          fn(h);
        }
      });
    };
    module2.exports = InterceptorManager;
  }
});

// node_modules/axios/lib/helpers/normalizeHeaderName.js
var require_normalizeHeaderName = __commonJS({
  "node_modules/axios/lib/helpers/normalizeHeaderName.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    module2.exports = function normalizeHeaderName(headers, normalizedName) {
      utils.forEach(headers, function processHeader(value, name) {
        if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {
          headers[normalizedName] = value;
          delete headers[name];
        }
      });
    };
  }
});

// node_modules/axios/lib/core/enhanceError.js
var require_enhanceError = __commonJS({
  "node_modules/axios/lib/core/enhanceError.js"(exports, module2) {
    "use strict";
    module2.exports = function enhanceError2(error, config, code, request, response) {
      error.config = config;
      if (code) {
        error.code = code;
      }
      error.request = request;
      error.response = response;
      error.isAxiosError = true;
      error.toJSON = function toJSON() {
        return {
          // Standard
          message: this.message,
          name: this.name,
          // Microsoft
          description: this.description,
          number: this.number,
          // Mozilla
          fileName: this.fileName,
          lineNumber: this.lineNumber,
          columnNumber: this.columnNumber,
          stack: this.stack,
          // Axios
          config: this.config,
          code: this.code,
          status: this.response && this.response.status ? this.response.status : null
        };
      };
      return error;
    };
  }
});

// node_modules/axios/lib/defaults/transitional.js
var require_transitional = __commonJS({
  "node_modules/axios/lib/defaults/transitional.js"(exports, module2) {
    "use strict";
    module2.exports = {
      silentJSONParsing: true,
      forcedJSONParsing: true,
      clarifyTimeoutError: false
    };
  }
});

// node_modules/axios/lib/core/createError.js
var require_createError = __commonJS({
  "node_modules/axios/lib/core/createError.js"(exports, module2) {
    "use strict";
    var enhanceError2 = require_enhanceError();
    module2.exports = function createError2(message, config, code, request, response) {
      var error = new Error(message);
      return enhanceError2(error, config, code, request, response);
    };
  }
});

// node_modules/axios/lib/core/settle.js
var require_settle = __commonJS({
  "node_modules/axios/lib/core/settle.js"(exports, module2) {
    "use strict";
    var createError2 = require_createError();
    module2.exports = function settle2(resolve, reject, response) {
      var validateStatus = response.config.validateStatus;
      if (!response.status || !validateStatus || validateStatus(response.status)) {
        resolve(response);
      } else {
        reject(createError2(
          "Request failed with status code " + response.status,
          response.config,
          null,
          response.request,
          response
        ));
      }
    };
  }
});

// node_modules/axios/lib/helpers/cookies.js
var require_cookies = __commonJS({
  "node_modules/axios/lib/helpers/cookies.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    module2.exports = utils.isStandardBrowserEnv() ? (
      // Standard browser envs support document.cookie
      function standardBrowserEnv() {
        return {
          write: function write(name, value, expires, path, domain, secure) {
            var cookie = [];
            cookie.push(name + "=" + encodeURIComponent(value));
            if (utils.isNumber(expires)) {
              cookie.push("expires=" + new Date(expires).toGMTString());
            }
            if (utils.isString(path)) {
              cookie.push("path=" + path);
            }
            if (utils.isString(domain)) {
              cookie.push("domain=" + domain);
            }
            if (secure === true) {
              cookie.push("secure");
            }
            document.cookie = cookie.join("; ");
          },
          read: function read(name) {
            var match = document.cookie.match(new RegExp("(^|;\\s*)(" + name + ")=([^;]*)"));
            return match ? decodeURIComponent(match[3]) : null;
          },
          remove: function remove(name) {
            this.write(name, "", Date.now() - 864e5);
          }
        };
      }()
    ) : (
      // Non standard browser env (web workers, react-native) lack needed support.
      function nonStandardBrowserEnv() {
        return {
          write: function write() {
          },
          read: function read() {
            return null;
          },
          remove: function remove() {
          }
        };
      }()
    );
  }
});

// node_modules/axios/lib/helpers/isAbsoluteURL.js
var require_isAbsoluteURL = __commonJS({
  "node_modules/axios/lib/helpers/isAbsoluteURL.js"(exports, module2) {
    "use strict";
    module2.exports = function isAbsoluteURL2(url) {
      return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(url);
    };
  }
});

// node_modules/axios/lib/helpers/combineURLs.js
var require_combineURLs = __commonJS({
  "node_modules/axios/lib/helpers/combineURLs.js"(exports, module2) {
    "use strict";
    module2.exports = function combineURLs2(baseURL, relativeURL) {
      return relativeURL ? baseURL.replace(/\/+$/, "") + "/" + relativeURL.replace(/^\/+/, "") : baseURL;
    };
  }
});

// node_modules/axios/lib/core/buildFullPath.js
var require_buildFullPath = __commonJS({
  "node_modules/axios/lib/core/buildFullPath.js"(exports, module2) {
    "use strict";
    var isAbsoluteURL2 = require_isAbsoluteURL();
    var combineURLs2 = require_combineURLs();
    module2.exports = function buildFullPath2(baseURL, requestedURL) {
      if (baseURL && !isAbsoluteURL2(requestedURL)) {
        return combineURLs2(baseURL, requestedURL);
      }
      return requestedURL;
    };
  }
});

// node_modules/axios/lib/helpers/parseHeaders.js
var require_parseHeaders = __commonJS({
  "node_modules/axios/lib/helpers/parseHeaders.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    var ignoreDuplicateOf = [
      "age",
      "authorization",
      "content-length",
      "content-type",
      "etag",
      "expires",
      "from",
      "host",
      "if-modified-since",
      "if-unmodified-since",
      "last-modified",
      "location",
      "max-forwards",
      "proxy-authorization",
      "referer",
      "retry-after",
      "user-agent"
    ];
    module2.exports = function parseHeaders(headers) {
      var parsed = {};
      var key;
      var val;
      var i;
      if (!headers) {
        return parsed;
      }
      utils.forEach(headers.split("\n"), function parser(line) {
        i = line.indexOf(":");
        key = utils.trim(line.substr(0, i)).toLowerCase();
        val = utils.trim(line.substr(i + 1));
        if (key) {
          if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {
            return;
          }
          if (key === "set-cookie") {
            parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);
          } else {
            parsed[key] = parsed[key] ? parsed[key] + ", " + val : val;
          }
        }
      });
      return parsed;
    };
  }
});

// node_modules/axios/lib/helpers/isURLSameOrigin.js
var require_isURLSameOrigin = __commonJS({
  "node_modules/axios/lib/helpers/isURLSameOrigin.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    module2.exports = utils.isStandardBrowserEnv() ? (
      // Standard browser envs have full support of the APIs needed to test
      // whether the request URL is of the same origin as current location.
      function standardBrowserEnv() {
        var msie = /(msie|trident)/i.test(navigator.userAgent);
        var urlParsingNode = document.createElement("a");
        var originURL;
        function resolveURL(url) {
          var href = url;
          if (msie) {
            urlParsingNode.setAttribute("href", href);
            href = urlParsingNode.href;
          }
          urlParsingNode.setAttribute("href", href);
          return {
            href: urlParsingNode.href,
            protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, "") : "",
            host: urlParsingNode.host,
            search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, "") : "",
            hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, "") : "",
            hostname: urlParsingNode.hostname,
            port: urlParsingNode.port,
            pathname: urlParsingNode.pathname.charAt(0) === "/" ? urlParsingNode.pathname : "/" + urlParsingNode.pathname
          };
        }
        originURL = resolveURL(window.location.href);
        return function isURLSameOrigin(requestURL) {
          var parsed = utils.isString(requestURL) ? resolveURL(requestURL) : requestURL;
          return parsed.protocol === originURL.protocol && parsed.host === originURL.host;
        };
      }()
    ) : (
      // Non standard browser envs (web workers, react-native) lack needed support.
      function nonStandardBrowserEnv() {
        return function isURLSameOrigin() {
          return true;
        };
      }()
    );
  }
});

// node_modules/axios/lib/cancel/Cancel.js
var require_Cancel = __commonJS({
  "node_modules/axios/lib/cancel/Cancel.js"(exports, module2) {
    "use strict";
    function Cancel(message) {
      this.message = message;
    }
    Cancel.prototype.toString = function toString2() {
      return "Cancel" + (this.message ? ": " + this.message : "");
    };
    Cancel.prototype.__CANCEL__ = true;
    module2.exports = Cancel;
  }
});

// node_modules/axios/lib/adapters/xhr.js
var require_xhr = __commonJS({
  "node_modules/axios/lib/adapters/xhr.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    var settle2 = require_settle();
    var cookies = require_cookies();
    var buildURL2 = require_buildURL();
    var buildFullPath2 = require_buildFullPath();
    var parseHeaders = require_parseHeaders();
    var isURLSameOrigin = require_isURLSameOrigin();
    var createError2 = require_createError();
    var transitionalDefaults = require_transitional();
    var Cancel = require_Cancel();
    module2.exports = function xhrAdapter(config) {
      return new Promise(function dispatchXhrRequest(resolve, reject) {
        var requestData = config.data;
        var requestHeaders = config.headers;
        var responseType = config.responseType;
        var onCanceled;
        function done() {
          if (config.cancelToken) {
            config.cancelToken.unsubscribe(onCanceled);
          }
          if (config.signal) {
            config.signal.removeEventListener("abort", onCanceled);
          }
        }
        if (utils.isFormData(requestData)) {
          delete requestHeaders["Content-Type"];
        }
        var request = new XMLHttpRequest();
        if (config.auth) {
          var username = config.auth.username || "";
          var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : "";
          requestHeaders.Authorization = "Basic " + btoa(username + ":" + password);
        }
        var fullPath = buildFullPath2(config.baseURL, config.url);
        request.open(config.method.toUpperCase(), buildURL2(fullPath, config.params, config.paramsSerializer), true);
        request.timeout = config.timeout;
        function onloadend() {
          if (!request) {
            return;
          }
          var responseHeaders = "getAllResponseHeaders" in request ? parseHeaders(request.getAllResponseHeaders()) : null;
          var responseData = !responseType || responseType === "text" || responseType === "json" ? request.responseText : request.response;
          var response = {
            data: responseData,
            status: request.status,
            statusText: request.statusText,
            headers: responseHeaders,
            config,
            request
          };
          settle2(function _resolve(value) {
            resolve(value);
            done();
          }, function _reject(err) {
            reject(err);
            done();
          }, response);
          request = null;
        }
        if ("onloadend" in request) {
          request.onloadend = onloadend;
        } else {
          request.onreadystatechange = function handleLoad() {
            if (!request || request.readyState !== 4) {
              return;
            }
            if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf("file:") === 0)) {
              return;
            }
            setTimeout(onloadend);
          };
        }
        request.onabort = function handleAbort() {
          if (!request) {
            return;
          }
          reject(createError2("Request aborted", config, "ECONNABORTED", request));
          request = null;
        };
        request.onerror = function handleError() {
          reject(createError2("Network Error", config, null, request));
          request = null;
        };
        request.ontimeout = function handleTimeout() {
          var timeoutErrorMessage = config.timeout ? "timeout of " + config.timeout + "ms exceeded" : "timeout exceeded";
          var transitional = config.transitional || transitionalDefaults;
          if (config.timeoutErrorMessage) {
            timeoutErrorMessage = config.timeoutErrorMessage;
          }
          reject(createError2(
            timeoutErrorMessage,
            config,
            transitional.clarifyTimeoutError ? "ETIMEDOUT" : "ECONNABORTED",
            request
          ));
          request = null;
        };
        if (utils.isStandardBrowserEnv()) {
          var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ? cookies.read(config.xsrfCookieName) : void 0;
          if (xsrfValue) {
            requestHeaders[config.xsrfHeaderName] = xsrfValue;
          }
        }
        if ("setRequestHeader" in request) {
          utils.forEach(requestHeaders, function setRequestHeader(val, key) {
            if (typeof requestData === "undefined" && key.toLowerCase() === "content-type") {
              delete requestHeaders[key];
            } else {
              request.setRequestHeader(key, val);
            }
          });
        }
        if (!utils.isUndefined(config.withCredentials)) {
          request.withCredentials = !!config.withCredentials;
        }
        if (responseType && responseType !== "json") {
          request.responseType = config.responseType;
        }
        if (typeof config.onDownloadProgress === "function") {
          request.addEventListener("progress", config.onDownloadProgress);
        }
        if (typeof config.onUploadProgress === "function" && request.upload) {
          request.upload.addEventListener("progress", config.onUploadProgress);
        }
        if (config.cancelToken || config.signal) {
          onCanceled = function(cancel) {
            if (!request) {
              return;
            }
            reject(!cancel || cancel && cancel.type ? new Cancel("canceled") : cancel);
            request.abort();
            request = null;
          };
          config.cancelToken && config.cancelToken.subscribe(onCanceled);
          if (config.signal) {
            config.signal.aborted ? onCanceled() : config.signal.addEventListener("abort", onCanceled);
          }
        }
        if (!requestData) {
          requestData = null;
        }
        request.send(requestData);
      });
    };
  }
});

// node_modules/axios/lib/defaults/index.js
var require_defaults = __commonJS({
  "node_modules/axios/lib/defaults/index.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    var normalizeHeaderName = require_normalizeHeaderName();
    var enhanceError2 = require_enhanceError();
    var transitionalDefaults = require_transitional();
    var DEFAULT_CONTENT_TYPE = {
      "Content-Type": "application/x-www-form-urlencoded"
    };
    function setContentTypeIfUnset(headers, value) {
      if (!utils.isUndefined(headers) && utils.isUndefined(headers["Content-Type"])) {
        headers["Content-Type"] = value;
      }
    }
    function getDefaultAdapter() {
      var adapter;
      if (typeof XMLHttpRequest !== "undefined") {
        adapter = require_xhr();
      } else if (typeof process !== "undefined" && Object.prototype.toString.call(process) === "[object process]") {
        adapter = require_xhr();
      }
      return adapter;
    }
    function stringifySafely(rawValue, parser, encoder) {
      if (utils.isString(rawValue)) {
        try {
          (parser || JSON.parse)(rawValue);
          return utils.trim(rawValue);
        } catch (e) {
          if (e.name !== "SyntaxError") {
            throw e;
          }
        }
      }
      return (encoder || JSON.stringify)(rawValue);
    }
    var defaults = {
      transitional: transitionalDefaults,
      adapter: getDefaultAdapter(),
      transformRequest: [function transformRequest(data, headers) {
        normalizeHeaderName(headers, "Accept");
        normalizeHeaderName(headers, "Content-Type");
        if (utils.isFormData(data) || utils.isArrayBuffer(data) || utils.isBuffer(data) || utils.isStream(data) || utils.isFile(data) || utils.isBlob(data)) {
          return data;
        }
        if (utils.isArrayBufferView(data)) {
          return data.buffer;
        }
        if (utils.isURLSearchParams(data)) {
          setContentTypeIfUnset(headers, "application/x-www-form-urlencoded;charset=utf-8");
          return data.toString();
        }
        if (utils.isObject(data) || headers && headers["Content-Type"] === "application/json") {
          setContentTypeIfUnset(headers, "application/json");
          return stringifySafely(data);
        }
        return data;
      }],
      transformResponse: [function transformResponse(data) {
        var transitional = this.transitional || defaults.transitional;
        var silentJSONParsing = transitional && transitional.silentJSONParsing;
        var forcedJSONParsing = transitional && transitional.forcedJSONParsing;
        var strictJSONParsing = !silentJSONParsing && this.responseType === "json";
        if (strictJSONParsing || forcedJSONParsing && utils.isString(data) && data.length) {
          try {
            return JSON.parse(data);
          } catch (e) {
            if (strictJSONParsing) {
              if (e.name === "SyntaxError") {
                throw enhanceError2(e, this, "E_JSON_PARSE");
              }
              throw e;
            }
          }
        }
        return data;
      }],
      /**
       * A timeout in milliseconds to abort a request. If set to 0 (default) a
       * timeout is not created.
       */
      timeout: 0,
      xsrfCookieName: "XSRF-TOKEN",
      xsrfHeaderName: "X-XSRF-TOKEN",
      maxContentLength: -1,
      maxBodyLength: -1,
      validateStatus: function validateStatus(status) {
        return status >= 200 && status < 300;
      },
      headers: {
        common: {
          "Accept": "application/json, text/plain, */*"
        }
      }
    };
    utils.forEach(["delete", "get", "head"], function forEachMethodNoData(method) {
      defaults.headers[method] = {};
    });
    utils.forEach(["post", "put", "patch"], function forEachMethodWithData(method) {
      defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);
    });
    module2.exports = defaults;
  }
});

// node_modules/axios/lib/core/transformData.js
var require_transformData = __commonJS({
  "node_modules/axios/lib/core/transformData.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    var defaults = require_defaults();
    module2.exports = function transformData(data, headers, fns) {
      var context = this || defaults;
      utils.forEach(fns, function transform(fn) {
        data = fn.call(context, data, headers);
      });
      return data;
    };
  }
});

// node_modules/axios/lib/cancel/isCancel.js
var require_isCancel = __commonJS({
  "node_modules/axios/lib/cancel/isCancel.js"(exports, module2) {
    "use strict";
    module2.exports = function isCancel(value) {
      return !!(value && value.__CANCEL__);
    };
  }
});

// node_modules/axios/lib/core/dispatchRequest.js
var require_dispatchRequest = __commonJS({
  "node_modules/axios/lib/core/dispatchRequest.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    var transformData = require_transformData();
    var isCancel = require_isCancel();
    var defaults = require_defaults();
    var Cancel = require_Cancel();
    function throwIfCancellationRequested(config) {
      if (config.cancelToken) {
        config.cancelToken.throwIfRequested();
      }
      if (config.signal && config.signal.aborted) {
        throw new Cancel("canceled");
      }
    }
    module2.exports = function dispatchRequest(config) {
      throwIfCancellationRequested(config);
      config.headers = config.headers || {};
      config.data = transformData.call(
        config,
        config.data,
        config.headers,
        config.transformRequest
      );
      config.headers = utils.merge(
        config.headers.common || {},
        config.headers[config.method] || {},
        config.headers
      );
      utils.forEach(
        ["delete", "get", "head", "post", "put", "patch", "common"],
        function cleanHeaderConfig(method) {
          delete config.headers[method];
        }
      );
      var adapter = config.adapter || defaults.adapter;
      return adapter(config).then(function onAdapterResolution(response) {
        throwIfCancellationRequested(config);
        response.data = transformData.call(
          config,
          response.data,
          response.headers,
          config.transformResponse
        );
        return response;
      }, function onAdapterRejection(reason) {
        if (!isCancel(reason)) {
          throwIfCancellationRequested(config);
          if (reason && reason.response) {
            reason.response.data = transformData.call(
              config,
              reason.response.data,
              reason.response.headers,
              config.transformResponse
            );
          }
        }
        return Promise.reject(reason);
      });
    };
  }
});

// node_modules/axios/lib/core/mergeConfig.js
var require_mergeConfig = __commonJS({
  "node_modules/axios/lib/core/mergeConfig.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    module2.exports = function mergeConfig(config1, config2) {
      config2 = config2 || {};
      var config = {};
      function getMergedValue(target, source) {
        if (utils.isPlainObject(target) && utils.isPlainObject(source)) {
          return utils.merge(target, source);
        } else if (utils.isPlainObject(source)) {
          return utils.merge({}, source);
        } else if (utils.isArray(source)) {
          return source.slice();
        }
        return source;
      }
      function mergeDeepProperties(prop) {
        if (!utils.isUndefined(config2[prop])) {
          return getMergedValue(config1[prop], config2[prop]);
        } else if (!utils.isUndefined(config1[prop])) {
          return getMergedValue(void 0, config1[prop]);
        }
      }
      function valueFromConfig2(prop) {
        if (!utils.isUndefined(config2[prop])) {
          return getMergedValue(void 0, config2[prop]);
        }
      }
      function defaultToConfig2(prop) {
        if (!utils.isUndefined(config2[prop])) {
          return getMergedValue(void 0, config2[prop]);
        } else if (!utils.isUndefined(config1[prop])) {
          return getMergedValue(void 0, config1[prop]);
        }
      }
      function mergeDirectKeys(prop) {
        if (prop in config2) {
          return getMergedValue(config1[prop], config2[prop]);
        } else if (prop in config1) {
          return getMergedValue(void 0, config1[prop]);
        }
      }
      var mergeMap = {
        "url": valueFromConfig2,
        "method": valueFromConfig2,
        "data": valueFromConfig2,
        "baseURL": defaultToConfig2,
        "transformRequest": defaultToConfig2,
        "transformResponse": defaultToConfig2,
        "paramsSerializer": defaultToConfig2,
        "timeout": defaultToConfig2,
        "timeoutMessage": defaultToConfig2,
        "withCredentials": defaultToConfig2,
        "adapter": defaultToConfig2,
        "responseType": defaultToConfig2,
        "xsrfCookieName": defaultToConfig2,
        "xsrfHeaderName": defaultToConfig2,
        "onUploadProgress": defaultToConfig2,
        "onDownloadProgress": defaultToConfig2,
        "decompress": defaultToConfig2,
        "maxContentLength": defaultToConfig2,
        "maxBodyLength": defaultToConfig2,
        "transport": defaultToConfig2,
        "httpAgent": defaultToConfig2,
        "httpsAgent": defaultToConfig2,
        "cancelToken": defaultToConfig2,
        "socketPath": defaultToConfig2,
        "responseEncoding": defaultToConfig2,
        "validateStatus": mergeDirectKeys
      };
      utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {
        var merge = mergeMap[prop] || mergeDeepProperties;
        var configValue = merge(prop);
        utils.isUndefined(configValue) && merge !== mergeDirectKeys || (config[prop] = configValue);
      });
      return config;
    };
  }
});

// node_modules/axios/lib/env/data.js
var require_data = __commonJS({
  "node_modules/axios/lib/env/data.js"(exports, module2) {
    module2.exports = {
      "version": "0.26.1"
    };
  }
});

// node_modules/axios/lib/helpers/validator.js
var require_validator = __commonJS({
  "node_modules/axios/lib/helpers/validator.js"(exports, module2) {
    "use strict";
    var VERSION = require_data().version;
    var validators = {};
    ["object", "boolean", "number", "function", "string", "symbol"].forEach(function(type, i) {
      validators[type] = function validator(thing) {
        return typeof thing === type || "a" + (i < 1 ? "n " : " ") + type;
      };
    });
    var deprecatedWarnings = {};
    validators.transitional = function transitional(validator, version, message) {
      function formatMessage(opt, desc) {
        return "[Axios v" + VERSION + "] Transitional option '" + opt + "'" + desc + (message ? ". " + message : "");
      }
      return function(value, opt, opts) {
        if (validator === false) {
          throw new Error(formatMessage(opt, " has been removed" + (version ? " in " + version : "")));
        }
        if (version && !deprecatedWarnings[opt]) {
          deprecatedWarnings[opt] = true;
          console.warn(
            formatMessage(
              opt,
              " has been deprecated since v" + version + " and will be removed in the near future"
            )
          );
        }
        return validator ? validator(value, opt, opts) : true;
      };
    };
    function assertOptions(options, schema, allowUnknown) {
      if (typeof options !== "object") {
        throw new TypeError("options must be an object");
      }
      var keys = Object.keys(options);
      var i = keys.length;
      while (i-- > 0) {
        var opt = keys[i];
        var validator = schema[opt];
        if (validator) {
          var value = options[opt];
          var result = value === void 0 || validator(value, opt, options);
          if (result !== true) {
            throw new TypeError("option " + opt + " must be " + result);
          }
          continue;
        }
        if (allowUnknown !== true) {
          throw Error("Unknown option " + opt);
        }
      }
    }
    module2.exports = {
      assertOptions,
      validators
    };
  }
});

// node_modules/axios/lib/core/Axios.js
var require_Axios = __commonJS({
  "node_modules/axios/lib/core/Axios.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    var buildURL2 = require_buildURL();
    var InterceptorManager = require_InterceptorManager();
    var dispatchRequest = require_dispatchRequest();
    var mergeConfig = require_mergeConfig();
    var validator = require_validator();
    var validators = validator.validators;
    function Axios(instanceConfig) {
      this.defaults = instanceConfig;
      this.interceptors = {
        request: new InterceptorManager(),
        response: new InterceptorManager()
      };
    }
    Axios.prototype.request = function request(configOrUrl, config) {
      if (typeof configOrUrl === "string") {
        config = config || {};
        config.url = configOrUrl;
      } else {
        config = configOrUrl || {};
      }
      config = mergeConfig(this.defaults, config);
      if (config.method) {
        config.method = config.method.toLowerCase();
      } else if (this.defaults.method) {
        config.method = this.defaults.method.toLowerCase();
      } else {
        config.method = "get";
      }
      var transitional = config.transitional;
      if (transitional !== void 0) {
        validator.assertOptions(transitional, {
          silentJSONParsing: validators.transitional(validators.boolean),
          forcedJSONParsing: validators.transitional(validators.boolean),
          clarifyTimeoutError: validators.transitional(validators.boolean)
        }, false);
      }
      var requestInterceptorChain = [];
      var synchronousRequestInterceptors = true;
      this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
        if (typeof interceptor.runWhen === "function" && interceptor.runWhen(config) === false) {
          return;
        }
        synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;
        requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);
      });
      var responseInterceptorChain = [];
      this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
        responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);
      });
      var promise;
      if (!synchronousRequestInterceptors) {
        var chain = [dispatchRequest, void 0];
        Array.prototype.unshift.apply(chain, requestInterceptorChain);
        chain = chain.concat(responseInterceptorChain);
        promise = Promise.resolve(config);
        while (chain.length) {
          promise = promise.then(chain.shift(), chain.shift());
        }
        return promise;
      }
      var newConfig = config;
      while (requestInterceptorChain.length) {
        var onFulfilled = requestInterceptorChain.shift();
        var onRejected = requestInterceptorChain.shift();
        try {
          newConfig = onFulfilled(newConfig);
        } catch (error) {
          onRejected(error);
          break;
        }
      }
      try {
        promise = dispatchRequest(newConfig);
      } catch (error) {
        return Promise.reject(error);
      }
      while (responseInterceptorChain.length) {
        promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());
      }
      return promise;
    };
    Axios.prototype.getUri = function getUri(config) {
      config = mergeConfig(this.defaults, config);
      return buildURL2(config.url, config.params, config.paramsSerializer).replace(/^\?/, "");
    };
    utils.forEach(["delete", "get", "head", "options"], function forEachMethodNoData(method) {
      Axios.prototype[method] = function(url, config) {
        return this.request(mergeConfig(config || {}, {
          method,
          url,
          data: (config || {}).data
        }));
      };
    });
    utils.forEach(["post", "put", "patch"], function forEachMethodWithData(method) {
      Axios.prototype[method] = function(url, data, config) {
        return this.request(mergeConfig(config || {}, {
          method,
          url,
          data
        }));
      };
    });
    module2.exports = Axios;
  }
});

// node_modules/axios/lib/cancel/CancelToken.js
var require_CancelToken = __commonJS({
  "node_modules/axios/lib/cancel/CancelToken.js"(exports, module2) {
    "use strict";
    var Cancel = require_Cancel();
    function CancelToken(executor) {
      if (typeof executor !== "function") {
        throw new TypeError("executor must be a function.");
      }
      var resolvePromise;
      this.promise = new Promise(function promiseExecutor(resolve) {
        resolvePromise = resolve;
      });
      var token = this;
      this.promise.then(function(cancel) {
        if (!token._listeners)
          return;
        var i;
        var l = token._listeners.length;
        for (i = 0; i < l; i++) {
          token._listeners[i](cancel);
        }
        token._listeners = null;
      });
      this.promise.then = function(onfulfilled) {
        var _resolve;
        var promise = new Promise(function(resolve) {
          token.subscribe(resolve);
          _resolve = resolve;
        }).then(onfulfilled);
        promise.cancel = function reject() {
          token.unsubscribe(_resolve);
        };
        return promise;
      };
      executor(function cancel(message) {
        if (token.reason) {
          return;
        }
        token.reason = new Cancel(message);
        resolvePromise(token.reason);
      });
    }
    CancelToken.prototype.throwIfRequested = function throwIfRequested() {
      if (this.reason) {
        throw this.reason;
      }
    };
    CancelToken.prototype.subscribe = function subscribe(listener) {
      if (this.reason) {
        listener(this.reason);
        return;
      }
      if (this._listeners) {
        this._listeners.push(listener);
      } else {
        this._listeners = [listener];
      }
    };
    CancelToken.prototype.unsubscribe = function unsubscribe(listener) {
      if (!this._listeners) {
        return;
      }
      var index = this._listeners.indexOf(listener);
      if (index !== -1) {
        this._listeners.splice(index, 1);
      }
    };
    CancelToken.source = function source() {
      var cancel;
      var token = new CancelToken(function executor(c) {
        cancel = c;
      });
      return {
        token,
        cancel
      };
    };
    module2.exports = CancelToken;
  }
});

// node_modules/axios/lib/helpers/spread.js
var require_spread = __commonJS({
  "node_modules/axios/lib/helpers/spread.js"(exports, module2) {
    "use strict";
    module2.exports = function spread(callback) {
      return function wrap2(arr) {
        return callback.apply(null, arr);
      };
    };
  }
});

// node_modules/axios/lib/helpers/isAxiosError.js
var require_isAxiosError = __commonJS({
  "node_modules/axios/lib/helpers/isAxiosError.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    module2.exports = function isAxiosError(payload) {
      return utils.isObject(payload) && payload.isAxiosError === true;
    };
  }
});

// node_modules/axios/lib/axios.js
var require_axios = __commonJS({
  "node_modules/axios/lib/axios.js"(exports, module2) {
    "use strict";
    var utils = require_utils();
    var bind = require_bind();
    var Axios = require_Axios();
    var mergeConfig = require_mergeConfig();
    var defaults = require_defaults();
    function createInstance(defaultConfig) {
      var context = new Axios(defaultConfig);
      var instance = bind(Axios.prototype.request, context);
      utils.extend(instance, Axios.prototype, context);
      utils.extend(instance, context);
      instance.create = function create(instanceConfig) {
        return createInstance(mergeConfig(defaultConfig, instanceConfig));
      };
      return instance;
    }
    var axios2 = createInstance(defaults);
    axios2.Axios = Axios;
    axios2.Cancel = require_Cancel();
    axios2.CancelToken = require_CancelToken();
    axios2.isCancel = require_isCancel();
    axios2.VERSION = require_data().version;
    axios2.all = function all(promises) {
      return Promise.all(promises);
    };
    axios2.spread = require_spread();
    axios2.isAxiosError = require_isAxiosError();
    module2.exports = axios2;
    module2.exports.default = axios2;
  }
});

// node_modules/axios/index.js
var require_axios2 = __commonJS({
  "node_modules/axios/index.js"(exports, module2) {
    module2.exports = require_axios();
  }
});

// node_modules/openai/dist/base.js
var require_base = __commonJS({
  "node_modules/openai/dist/base.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.RequiredError = exports.BaseAPI = exports.COLLECTION_FORMATS = exports.BASE_PATH = void 0;
    var axios_1 = require_axios2();
    exports.BASE_PATH = "https://api.openai.com/v1".replace(/\/+$/, "");
    exports.COLLECTION_FORMATS = {
      csv: ",",
      ssv: " ",
      tsv: "	",
      pipes: "|"
    };
    var BaseAPI = class {
      constructor(configuration, basePath = exports.BASE_PATH, axios2 = axios_1.default) {
        this.basePath = basePath;
        this.axios = axios2;
        if (configuration) {
          this.configuration = configuration;
          this.basePath = configuration.basePath || this.basePath;
        }
      }
    };
    exports.BaseAPI = BaseAPI;
    var RequiredError = class extends Error {
      constructor(field, msg) {
        super(msg);
        this.field = field;
        this.name = "RequiredError";
      }
    };
    exports.RequiredError = RequiredError;
  }
});

// node_modules/openai/dist/common.js
var require_common = __commonJS({
  "node_modules/openai/dist/common.js"(exports) {
    "use strict";
    var __awaiter = exports && exports.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.createRequestFunction = exports.toPathString = exports.serializeDataIfNeeded = exports.setSearchParams = exports.setOAuthToObject = exports.setBearerAuthToObject = exports.setBasicAuthToObject = exports.setApiKeyToObject = exports.assertParamExists = exports.DUMMY_BASE_URL = void 0;
    var base_1 = require_base();
    exports.DUMMY_BASE_URL = "https://example.com";
    exports.assertParamExists = function(functionName, paramName, paramValue) {
      if (paramValue === null || paramValue === void 0) {
        throw new base_1.RequiredError(paramName, `Required parameter ${paramName} was null or undefined when calling ${functionName}.`);
      }
    };
    exports.setApiKeyToObject = function(object, keyParamName, configuration) {
      return __awaiter(this, void 0, void 0, function* () {
        if (configuration && configuration.apiKey) {
          const localVarApiKeyValue = typeof configuration.apiKey === "function" ? yield configuration.apiKey(keyParamName) : yield configuration.apiKey;
          object[keyParamName] = localVarApiKeyValue;
        }
      });
    };
    exports.setBasicAuthToObject = function(object, configuration) {
      if (configuration && (configuration.username || configuration.password)) {
        object["auth"] = { username: configuration.username, password: configuration.password };
      }
    };
    exports.setBearerAuthToObject = function(object, configuration) {
      return __awaiter(this, void 0, void 0, function* () {
        if (configuration && configuration.accessToken) {
          const accessToken = typeof configuration.accessToken === "function" ? yield configuration.accessToken() : yield configuration.accessToken;
          object["Authorization"] = "Bearer " + accessToken;
        }
      });
    };
    exports.setOAuthToObject = function(object, name, scopes, configuration) {
      return __awaiter(this, void 0, void 0, function* () {
        if (configuration && configuration.accessToken) {
          const localVarAccessTokenValue = typeof configuration.accessToken === "function" ? yield configuration.accessToken(name, scopes) : yield configuration.accessToken;
          object["Authorization"] = "Bearer " + localVarAccessTokenValue;
        }
      });
    };
    function setFlattenedQueryParams(urlSearchParams, parameter, key = "") {
      if (parameter == null)
        return;
      if (typeof parameter === "object") {
        if (Array.isArray(parameter)) {
          parameter.forEach((item) => setFlattenedQueryParams(urlSearchParams, item, key));
        } else {
          Object.keys(parameter).forEach((currentKey) => setFlattenedQueryParams(urlSearchParams, parameter[currentKey], `${key}${key !== "" ? "." : ""}${currentKey}`));
        }
      } else {
        if (urlSearchParams.has(key)) {
          urlSearchParams.append(key, parameter);
        } else {
          urlSearchParams.set(key, parameter);
        }
      }
    }
    exports.setSearchParams = function(url, ...objects) {
      const searchParams = new URLSearchParams(url.search);
      setFlattenedQueryParams(searchParams, objects);
      url.search = searchParams.toString();
    };
    exports.serializeDataIfNeeded = function(value, requestOptions, configuration) {
      const nonString = typeof value !== "string";
      const needsSerialization = nonString && configuration && configuration.isJsonMime ? configuration.isJsonMime(requestOptions.headers["Content-Type"]) : nonString;
      return needsSerialization ? JSON.stringify(value !== void 0 ? value : {}) : value || "";
    };
    exports.toPathString = function(url) {
      return url.pathname + url.search + url.hash;
    };
    exports.createRequestFunction = function(axiosArgs, globalAxios, BASE_PATH, configuration) {
      return (axios2 = globalAxios, basePath = BASE_PATH) => {
        const axiosRequestArgs = Object.assign(Object.assign({}, axiosArgs.options), { url: ((configuration === null || configuration === void 0 ? void 0 : configuration.basePath) || basePath) + axiosArgs.url });
        return axios2.request(axiosRequestArgs);
      };
    };
  }
});

// node_modules/openai/dist/api.js
var require_api = __commonJS({
  "node_modules/openai/dist/api.js"(exports) {
    "use strict";
    var __awaiter = exports && exports.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.OpenAIApi = exports.OpenAIApiFactory = exports.OpenAIApiFp = exports.OpenAIApiAxiosParamCreator = exports.CreateImageRequestResponseFormatEnum = exports.CreateImageRequestSizeEnum = exports.ChatCompletionResponseMessageRoleEnum = exports.ChatCompletionRequestMessageRoleEnum = void 0;
    var axios_1 = require_axios2();
    var common_1 = require_common();
    var base_1 = require_base();
    exports.ChatCompletionRequestMessageRoleEnum = {
      System: "system",
      User: "user",
      Assistant: "assistant"
    };
    exports.ChatCompletionResponseMessageRoleEnum = {
      System: "system",
      User: "user",
      Assistant: "assistant"
    };
    exports.CreateImageRequestSizeEnum = {
      _256x256: "256x256",
      _512x512: "512x512",
      _1024x1024: "1024x1024"
    };
    exports.CreateImageRequestResponseFormatEnum = {
      Url: "url",
      B64Json: "b64_json"
    };
    exports.OpenAIApiAxiosParamCreator = function(configuration) {
      return {
        /**
         *
         * @summary Immediately cancel a fine-tune job.
         * @param {string} fineTuneId The ID of the fine-tune job to cancel
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        cancelFineTune: (fineTuneId, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("cancelFineTune", "fineTuneId", fineTuneId);
          const localVarPath = `/fine-tunes/{fine_tune_id}/cancel`.replace(`{${"fine_tune_id"}}`, encodeURIComponent(String(fineTuneId)));
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Answers the specified question using the provided documents and examples.  The endpoint first [searches](/docs/api-reference/searches) over provided documents or files to find relevant context. The relevant context is combined with the provided examples and question to create the prompt for [completion](/docs/api-reference/completions).
         * @param {CreateAnswerRequest} createAnswerRequest
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        createAnswer: (createAnswerRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createAnswer", "createAnswerRequest", createAnswerRequest);
          const localVarPath = `/answers`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          localVarHeaderParameter["Content-Type"] = "application/json";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = common_1.serializeDataIfNeeded(createAnswerRequest, localVarRequestOptions, configuration);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Creates a completion for the chat message
         * @param {CreateChatCompletionRequest} createChatCompletionRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createChatCompletion: (createChatCompletionRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createChatCompletion", "createChatCompletionRequest", createChatCompletionRequest);
          const localVarPath = `/chat/completions`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          localVarHeaderParameter["Content-Type"] = "application/json";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = common_1.serializeDataIfNeeded(createChatCompletionRequest, localVarRequestOptions, configuration);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Classifies the specified `query` using provided examples.  The endpoint first [searches](/docs/api-reference/searches) over the labeled examples to select the ones most relevant for the particular query. Then, the relevant examples are combined with the query to construct a prompt to produce the final label via the [completions](/docs/api-reference/completions) endpoint.  Labeled examples can be provided via an uploaded `file`, or explicitly listed in the request using the `examples` parameter for quick tests and small scale use cases.
         * @param {CreateClassificationRequest} createClassificationRequest
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        createClassification: (createClassificationRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createClassification", "createClassificationRequest", createClassificationRequest);
          const localVarPath = `/classifications`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          localVarHeaderParameter["Content-Type"] = "application/json";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = common_1.serializeDataIfNeeded(createClassificationRequest, localVarRequestOptions, configuration);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Creates a completion for the provided prompt and parameters
         * @param {CreateCompletionRequest} createCompletionRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createCompletion: (createCompletionRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createCompletion", "createCompletionRequest", createCompletionRequest);
          const localVarPath = `/completions`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          localVarHeaderParameter["Content-Type"] = "application/json";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = common_1.serializeDataIfNeeded(createCompletionRequest, localVarRequestOptions, configuration);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Creates a new edit for the provided input, instruction, and parameters.
         * @param {CreateEditRequest} createEditRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createEdit: (createEditRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createEdit", "createEditRequest", createEditRequest);
          const localVarPath = `/edits`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          localVarHeaderParameter["Content-Type"] = "application/json";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = common_1.serializeDataIfNeeded(createEditRequest, localVarRequestOptions, configuration);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Creates an embedding vector representing the input text.
         * @param {CreateEmbeddingRequest} createEmbeddingRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createEmbedding: (createEmbeddingRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createEmbedding", "createEmbeddingRequest", createEmbeddingRequest);
          const localVarPath = `/embeddings`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          localVarHeaderParameter["Content-Type"] = "application/json";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = common_1.serializeDataIfNeeded(createEmbeddingRequest, localVarRequestOptions, configuration);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Upload a file that contains document(s) to be used across various endpoints/features. Currently, the size of all the files uploaded by one organization can be up to 1 GB. Please contact us if you need to increase the storage limit.
         * @param {File} file Name of the [JSON Lines](https://jsonlines.readthedocs.io/en/latest/) file to be uploaded.  If the &#x60;purpose&#x60; is set to \\\&quot;fine-tune\\\&quot;, each line is a JSON record with \\\&quot;prompt\\\&quot; and \\\&quot;completion\\\&quot; fields representing your [training examples](/docs/guides/fine-tuning/prepare-training-data).
         * @param {string} purpose The intended purpose of the uploaded documents.  Use \\\&quot;fine-tune\\\&quot; for [Fine-tuning](/docs/api-reference/fine-tunes). This allows us to validate the format of the uploaded file.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createFile: (file, purpose, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createFile", "file", file);
          common_1.assertParamExists("createFile", "purpose", purpose);
          const localVarPath = `/files`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          const localVarFormParams = new (configuration && configuration.formDataCtor || FormData)();
          if (file !== void 0) {
            localVarFormParams.append("file", file);
          }
          if (purpose !== void 0) {
            localVarFormParams.append("purpose", purpose);
          }
          localVarHeaderParameter["Content-Type"] = "multipart/form-data";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), localVarFormParams.getHeaders()), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = localVarFormParams;
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Creates a job that fine-tunes a specified model from a given dataset.  Response includes details of the enqueued job including job status and the name of the fine-tuned models once complete.  [Learn more about Fine-tuning](/docs/guides/fine-tuning)
         * @param {CreateFineTuneRequest} createFineTuneRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createFineTune: (createFineTuneRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createFineTune", "createFineTuneRequest", createFineTuneRequest);
          const localVarPath = `/fine-tunes`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          localVarHeaderParameter["Content-Type"] = "application/json";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = common_1.serializeDataIfNeeded(createFineTuneRequest, localVarRequestOptions, configuration);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Creates an image given a prompt.
         * @param {CreateImageRequest} createImageRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createImage: (createImageRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createImage", "createImageRequest", createImageRequest);
          const localVarPath = `/images/generations`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          localVarHeaderParameter["Content-Type"] = "application/json";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = common_1.serializeDataIfNeeded(createImageRequest, localVarRequestOptions, configuration);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Creates an edited or extended image given an original image and a prompt.
         * @param {File} image The image to edit. Must be a valid PNG file, less than 4MB, and square. If mask is not provided, image must have transparency, which will be used as the mask.
         * @param {string} prompt A text description of the desired image(s). The maximum length is 1000 characters.
         * @param {File} [mask] An additional image whose fully transparent areas (e.g. where alpha is zero) indicate where &#x60;image&#x60; should be edited. Must be a valid PNG file, less than 4MB, and have the same dimensions as &#x60;image&#x60;.
         * @param {number} [n] The number of images to generate. Must be between 1 and 10.
         * @param {string} [size] The size of the generated images. Must be one of &#x60;256x256&#x60;, &#x60;512x512&#x60;, or &#x60;1024x1024&#x60;.
         * @param {string} [responseFormat] The format in which the generated images are returned. Must be one of &#x60;url&#x60; or &#x60;b64_json&#x60;.
         * @param {string} [user] A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](/docs/guides/safety-best-practices/end-user-ids).
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createImageEdit: (image, prompt, mask, n, size, responseFormat, user, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createImageEdit", "image", image);
          common_1.assertParamExists("createImageEdit", "prompt", prompt);
          const localVarPath = `/images/edits`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          const localVarFormParams = new (configuration && configuration.formDataCtor || FormData)();
          if (image !== void 0) {
            localVarFormParams.append("image", image);
          }
          if (mask !== void 0) {
            localVarFormParams.append("mask", mask);
          }
          if (prompt !== void 0) {
            localVarFormParams.append("prompt", prompt);
          }
          if (n !== void 0) {
            localVarFormParams.append("n", n);
          }
          if (size !== void 0) {
            localVarFormParams.append("size", size);
          }
          if (responseFormat !== void 0) {
            localVarFormParams.append("response_format", responseFormat);
          }
          if (user !== void 0) {
            localVarFormParams.append("user", user);
          }
          localVarHeaderParameter["Content-Type"] = "multipart/form-data";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), localVarFormParams.getHeaders()), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = localVarFormParams;
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Creates a variation of a given image.
         * @param {File} image The image to use as the basis for the variation(s). Must be a valid PNG file, less than 4MB, and square.
         * @param {number} [n] The number of images to generate. Must be between 1 and 10.
         * @param {string} [size] The size of the generated images. Must be one of &#x60;256x256&#x60;, &#x60;512x512&#x60;, or &#x60;1024x1024&#x60;.
         * @param {string} [responseFormat] The format in which the generated images are returned. Must be one of &#x60;url&#x60; or &#x60;b64_json&#x60;.
         * @param {string} [user] A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](/docs/guides/safety-best-practices/end-user-ids).
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createImageVariation: (image, n, size, responseFormat, user, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createImageVariation", "image", image);
          const localVarPath = `/images/variations`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          const localVarFormParams = new (configuration && configuration.formDataCtor || FormData)();
          if (image !== void 0) {
            localVarFormParams.append("image", image);
          }
          if (n !== void 0) {
            localVarFormParams.append("n", n);
          }
          if (size !== void 0) {
            localVarFormParams.append("size", size);
          }
          if (responseFormat !== void 0) {
            localVarFormParams.append("response_format", responseFormat);
          }
          if (user !== void 0) {
            localVarFormParams.append("user", user);
          }
          localVarHeaderParameter["Content-Type"] = "multipart/form-data";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), localVarFormParams.getHeaders()), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = localVarFormParams;
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Classifies if text violates OpenAI\'s Content Policy
         * @param {CreateModerationRequest} createModerationRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createModeration: (createModerationRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createModeration", "createModerationRequest", createModerationRequest);
          const localVarPath = `/moderations`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          localVarHeaderParameter["Content-Type"] = "application/json";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = common_1.serializeDataIfNeeded(createModerationRequest, localVarRequestOptions, configuration);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary The search endpoint computes similarity scores between provided query and documents. Documents can be passed directly to the API if there are no more than 200 of them.  To go beyond the 200 document limit, documents can be processed offline and then used for efficient retrieval at query time. When `file` is set, the search endpoint searches over all the documents in the given file and returns up to the `max_rerank` number of documents. These documents will be returned along with their search scores.  The similarity score is a positive score that usually ranges from 0 to 300 (but can sometimes go higher), where a score above 200 usually means the document is semantically similar to the query.
         * @param {string} engineId The ID of the engine to use for this request.  You can select one of &#x60;ada&#x60;, &#x60;babbage&#x60;, &#x60;curie&#x60;, or &#x60;davinci&#x60;.
         * @param {CreateSearchRequest} createSearchRequest
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        createSearch: (engineId, createSearchRequest, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createSearch", "engineId", engineId);
          common_1.assertParamExists("createSearch", "createSearchRequest", createSearchRequest);
          const localVarPath = `/engines/{engine_id}/search`.replace(`{${"engine_id"}}`, encodeURIComponent(String(engineId)));
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          localVarHeaderParameter["Content-Type"] = "application/json";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = common_1.serializeDataIfNeeded(createSearchRequest, localVarRequestOptions, configuration);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Transcribes audio into the input language.
         * @param {File} file The audio file to transcribe, in one of these formats: mp3, mp4, mpeg, mpga, m4a, wav, or webm.
         * @param {string} model ID of the model to use. Only &#x60;whisper-1&#x60; is currently available.
         * @param {string} [prompt] An optional text to guide the model\\\&#39;s style or continue a previous audio segment. The [prompt](/docs/guides/speech-to-text/prompting) should match the audio language.
         * @param {string} [responseFormat] The format of the transcript output, in one of these options: json, text, srt, verbose_json, or vtt.
         * @param {number} [temperature] The sampling temperature, between 0 and 1. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. If set to 0, the model will use [log probability](https://en.wikipedia.org/wiki/Log_probability) to automatically increase the temperature until certain thresholds are hit.
         * @param {string} [language] The language of the input audio. Supplying the input language in [ISO-639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) format will improve accuracy and latency.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createTranscription: (file, model, prompt, responseFormat, temperature, language, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createTranscription", "file", file);
          common_1.assertParamExists("createTranscription", "model", model);
          const localVarPath = `/audio/transcriptions`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          const localVarFormParams = new (configuration && configuration.formDataCtor || FormData)();
          if (file !== void 0) {
            localVarFormParams.append("file", file);
          }
          if (model !== void 0) {
            localVarFormParams.append("model", model);
          }
          if (prompt !== void 0) {
            localVarFormParams.append("prompt", prompt);
          }
          if (responseFormat !== void 0) {
            localVarFormParams.append("response_format", responseFormat);
          }
          if (temperature !== void 0) {
            localVarFormParams.append("temperature", temperature);
          }
          if (language !== void 0) {
            localVarFormParams.append("language", language);
          }
          localVarHeaderParameter["Content-Type"] = "multipart/form-data";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), localVarFormParams.getHeaders()), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = localVarFormParams;
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Translates audio into into English.
         * @param {File} file The audio file to translate, in one of these formats: mp3, mp4, mpeg, mpga, m4a, wav, or webm.
         * @param {string} model ID of the model to use. Only &#x60;whisper-1&#x60; is currently available.
         * @param {string} [prompt] An optional text to guide the model\\\&#39;s style or continue a previous audio segment. The [prompt](/docs/guides/speech-to-text/prompting) should be in English.
         * @param {string} [responseFormat] The format of the transcript output, in one of these options: json, text, srt, verbose_json, or vtt.
         * @param {number} [temperature] The sampling temperature, between 0 and 1. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. If set to 0, the model will use [log probability](https://en.wikipedia.org/wiki/Log_probability) to automatically increase the temperature until certain thresholds are hit.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createTranslation: (file, model, prompt, responseFormat, temperature, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("createTranslation", "file", file);
          common_1.assertParamExists("createTranslation", "model", model);
          const localVarPath = `/audio/translations`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "POST" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          const localVarFormParams = new (configuration && configuration.formDataCtor || FormData)();
          if (file !== void 0) {
            localVarFormParams.append("file", file);
          }
          if (model !== void 0) {
            localVarFormParams.append("model", model);
          }
          if (prompt !== void 0) {
            localVarFormParams.append("prompt", prompt);
          }
          if (responseFormat !== void 0) {
            localVarFormParams.append("response_format", responseFormat);
          }
          if (temperature !== void 0) {
            localVarFormParams.append("temperature", temperature);
          }
          localVarHeaderParameter["Content-Type"] = "multipart/form-data";
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), localVarFormParams.getHeaders()), headersFromBaseOptions), options.headers);
          localVarRequestOptions.data = localVarFormParams;
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Delete a file.
         * @param {string} fileId The ID of the file to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        deleteFile: (fileId, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("deleteFile", "fileId", fileId);
          const localVarPath = `/files/{file_id}`.replace(`{${"file_id"}}`, encodeURIComponent(String(fileId)));
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "DELETE" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Delete a fine-tuned model. You must have the Owner role in your organization.
         * @param {string} model The model to delete
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        deleteModel: (model, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("deleteModel", "model", model);
          const localVarPath = `/models/{model}`.replace(`{${"model"}}`, encodeURIComponent(String(model)));
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "DELETE" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Returns the contents of the specified file
         * @param {string} fileId The ID of the file to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        downloadFile: (fileId, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("downloadFile", "fileId", fileId);
          const localVarPath = `/files/{file_id}/content`.replace(`{${"file_id"}}`, encodeURIComponent(String(fileId)));
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "GET" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Lists the currently available (non-finetuned) models, and provides basic information about each one such as the owner and availability.
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        listEngines: (options = {}) => __awaiter(this, void 0, void 0, function* () {
          const localVarPath = `/engines`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "GET" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Returns a list of files that belong to the user\'s organization.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listFiles: (options = {}) => __awaiter(this, void 0, void 0, function* () {
          const localVarPath = `/files`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "GET" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Get fine-grained status updates for a fine-tune job.
         * @param {string} fineTuneId The ID of the fine-tune job to get events for.
         * @param {boolean} [stream] Whether to stream events for the fine-tune job. If set to true, events will be sent as data-only [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format) as they become available. The stream will terminate with a &#x60;data: [DONE]&#x60; message when the job is finished (succeeded, cancelled, or failed).  If set to false, only events generated so far will be returned.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listFineTuneEvents: (fineTuneId, stream, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("listFineTuneEvents", "fineTuneId", fineTuneId);
          const localVarPath = `/fine-tunes/{fine_tune_id}/events`.replace(`{${"fine_tune_id"}}`, encodeURIComponent(String(fineTuneId)));
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "GET" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          if (stream !== void 0) {
            localVarQueryParameter["stream"] = stream;
          }
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary List your organization\'s fine-tuning jobs
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listFineTunes: (options = {}) => __awaiter(this, void 0, void 0, function* () {
          const localVarPath = `/fine-tunes`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "GET" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Lists the currently available models, and provides basic information about each one such as the owner and availability.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listModels: (options = {}) => __awaiter(this, void 0, void 0, function* () {
          const localVarPath = `/models`;
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "GET" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Retrieves a model instance, providing basic information about it such as the owner and availability.
         * @param {string} engineId The ID of the engine to use for this request
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        retrieveEngine: (engineId, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("retrieveEngine", "engineId", engineId);
          const localVarPath = `/engines/{engine_id}`.replace(`{${"engine_id"}}`, encodeURIComponent(String(engineId)));
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "GET" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Returns information about a specific file.
         * @param {string} fileId The ID of the file to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        retrieveFile: (fileId, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("retrieveFile", "fileId", fileId);
          const localVarPath = `/files/{file_id}`.replace(`{${"file_id"}}`, encodeURIComponent(String(fileId)));
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "GET" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Gets info about the fine-tune job.  [Learn more about Fine-tuning](/docs/guides/fine-tuning)
         * @param {string} fineTuneId The ID of the fine-tune job
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        retrieveFineTune: (fineTuneId, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("retrieveFineTune", "fineTuneId", fineTuneId);
          const localVarPath = `/fine-tunes/{fine_tune_id}`.replace(`{${"fine_tune_id"}}`, encodeURIComponent(String(fineTuneId)));
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "GET" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        }),
        /**
         *
         * @summary Retrieves a model instance, providing basic information about the model such as the owner and permissioning.
         * @param {string} model The ID of the model to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        retrieveModel: (model, options = {}) => __awaiter(this, void 0, void 0, function* () {
          common_1.assertParamExists("retrieveModel", "model", model);
          const localVarPath = `/models/{model}`.replace(`{${"model"}}`, encodeURIComponent(String(model)));
          const localVarUrlObj = new URL(localVarPath, common_1.DUMMY_BASE_URL);
          let baseOptions;
          if (configuration) {
            baseOptions = configuration.baseOptions;
          }
          const localVarRequestOptions = Object.assign(Object.assign({ method: "GET" }, baseOptions), options);
          const localVarHeaderParameter = {};
          const localVarQueryParameter = {};
          common_1.setSearchParams(localVarUrlObj, localVarQueryParameter);
          let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};
          localVarRequestOptions.headers = Object.assign(Object.assign(Object.assign({}, localVarHeaderParameter), headersFromBaseOptions), options.headers);
          return {
            url: common_1.toPathString(localVarUrlObj),
            options: localVarRequestOptions
          };
        })
      };
    };
    exports.OpenAIApiFp = function(configuration) {
      const localVarAxiosParamCreator = exports.OpenAIApiAxiosParamCreator(configuration);
      return {
        /**
         *
         * @summary Immediately cancel a fine-tune job.
         * @param {string} fineTuneId The ID of the fine-tune job to cancel
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        cancelFineTune(fineTuneId, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.cancelFineTune(fineTuneId, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Answers the specified question using the provided documents and examples.  The endpoint first [searches](/docs/api-reference/searches) over provided documents or files to find relevant context. The relevant context is combined with the provided examples and question to create the prompt for [completion](/docs/api-reference/completions).
         * @param {CreateAnswerRequest} createAnswerRequest
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        createAnswer(createAnswerRequest, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createAnswer(createAnswerRequest, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Creates a completion for the chat message
         * @param {CreateChatCompletionRequest} createChatCompletionRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createChatCompletion(createChatCompletionRequest, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createChatCompletion(createChatCompletionRequest, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Classifies the specified `query` using provided examples.  The endpoint first [searches](/docs/api-reference/searches) over the labeled examples to select the ones most relevant for the particular query. Then, the relevant examples are combined with the query to construct a prompt to produce the final label via the [completions](/docs/api-reference/completions) endpoint.  Labeled examples can be provided via an uploaded `file`, or explicitly listed in the request using the `examples` parameter for quick tests and small scale use cases.
         * @param {CreateClassificationRequest} createClassificationRequest
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        createClassification(createClassificationRequest, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createClassification(createClassificationRequest, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Creates a completion for the provided prompt and parameters
         * @param {CreateCompletionRequest} createCompletionRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createCompletion(createCompletionRequest, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createCompletion(createCompletionRequest, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Creates a new edit for the provided input, instruction, and parameters.
         * @param {CreateEditRequest} createEditRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createEdit(createEditRequest, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createEdit(createEditRequest, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Creates an embedding vector representing the input text.
         * @param {CreateEmbeddingRequest} createEmbeddingRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createEmbedding(createEmbeddingRequest, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createEmbedding(createEmbeddingRequest, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Upload a file that contains document(s) to be used across various endpoints/features. Currently, the size of all the files uploaded by one organization can be up to 1 GB. Please contact us if you need to increase the storage limit.
         * @param {File} file Name of the [JSON Lines](https://jsonlines.readthedocs.io/en/latest/) file to be uploaded.  If the &#x60;purpose&#x60; is set to \\\&quot;fine-tune\\\&quot;, each line is a JSON record with \\\&quot;prompt\\\&quot; and \\\&quot;completion\\\&quot; fields representing your [training examples](/docs/guides/fine-tuning/prepare-training-data).
         * @param {string} purpose The intended purpose of the uploaded documents.  Use \\\&quot;fine-tune\\\&quot; for [Fine-tuning](/docs/api-reference/fine-tunes). This allows us to validate the format of the uploaded file.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createFile(file, purpose, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createFile(file, purpose, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Creates a job that fine-tunes a specified model from a given dataset.  Response includes details of the enqueued job including job status and the name of the fine-tuned models once complete.  [Learn more about Fine-tuning](/docs/guides/fine-tuning)
         * @param {CreateFineTuneRequest} createFineTuneRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createFineTune(createFineTuneRequest, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createFineTune(createFineTuneRequest, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Creates an image given a prompt.
         * @param {CreateImageRequest} createImageRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createImage(createImageRequest, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createImage(createImageRequest, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Creates an edited or extended image given an original image and a prompt.
         * @param {File} image The image to edit. Must be a valid PNG file, less than 4MB, and square. If mask is not provided, image must have transparency, which will be used as the mask.
         * @param {string} prompt A text description of the desired image(s). The maximum length is 1000 characters.
         * @param {File} [mask] An additional image whose fully transparent areas (e.g. where alpha is zero) indicate where &#x60;image&#x60; should be edited. Must be a valid PNG file, less than 4MB, and have the same dimensions as &#x60;image&#x60;.
         * @param {number} [n] The number of images to generate. Must be between 1 and 10.
         * @param {string} [size] The size of the generated images. Must be one of &#x60;256x256&#x60;, &#x60;512x512&#x60;, or &#x60;1024x1024&#x60;.
         * @param {string} [responseFormat] The format in which the generated images are returned. Must be one of &#x60;url&#x60; or &#x60;b64_json&#x60;.
         * @param {string} [user] A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](/docs/guides/safety-best-practices/end-user-ids).
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createImageEdit(image, prompt, mask, n, size, responseFormat, user, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createImageEdit(image, prompt, mask, n, size, responseFormat, user, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Creates a variation of a given image.
         * @param {File} image The image to use as the basis for the variation(s). Must be a valid PNG file, less than 4MB, and square.
         * @param {number} [n] The number of images to generate. Must be between 1 and 10.
         * @param {string} [size] The size of the generated images. Must be one of &#x60;256x256&#x60;, &#x60;512x512&#x60;, or &#x60;1024x1024&#x60;.
         * @param {string} [responseFormat] The format in which the generated images are returned. Must be one of &#x60;url&#x60; or &#x60;b64_json&#x60;.
         * @param {string} [user] A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](/docs/guides/safety-best-practices/end-user-ids).
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createImageVariation(image, n, size, responseFormat, user, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createImageVariation(image, n, size, responseFormat, user, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Classifies if text violates OpenAI\'s Content Policy
         * @param {CreateModerationRequest} createModerationRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createModeration(createModerationRequest, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createModeration(createModerationRequest, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary The search endpoint computes similarity scores between provided query and documents. Documents can be passed directly to the API if there are no more than 200 of them.  To go beyond the 200 document limit, documents can be processed offline and then used for efficient retrieval at query time. When `file` is set, the search endpoint searches over all the documents in the given file and returns up to the `max_rerank` number of documents. These documents will be returned along with their search scores.  The similarity score is a positive score that usually ranges from 0 to 300 (but can sometimes go higher), where a score above 200 usually means the document is semantically similar to the query.
         * @param {string} engineId The ID of the engine to use for this request.  You can select one of &#x60;ada&#x60;, &#x60;babbage&#x60;, &#x60;curie&#x60;, or &#x60;davinci&#x60;.
         * @param {CreateSearchRequest} createSearchRequest
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        createSearch(engineId, createSearchRequest, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createSearch(engineId, createSearchRequest, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Transcribes audio into the input language.
         * @param {File} file The audio file to transcribe, in one of these formats: mp3, mp4, mpeg, mpga, m4a, wav, or webm.
         * @param {string} model ID of the model to use. Only &#x60;whisper-1&#x60; is currently available.
         * @param {string} [prompt] An optional text to guide the model\\\&#39;s style or continue a previous audio segment. The [prompt](/docs/guides/speech-to-text/prompting) should match the audio language.
         * @param {string} [responseFormat] The format of the transcript output, in one of these options: json, text, srt, verbose_json, or vtt.
         * @param {number} [temperature] The sampling temperature, between 0 and 1. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. If set to 0, the model will use [log probability](https://en.wikipedia.org/wiki/Log_probability) to automatically increase the temperature until certain thresholds are hit.
         * @param {string} [language] The language of the input audio. Supplying the input language in [ISO-639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) format will improve accuracy and latency.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createTranscription(file, model, prompt, responseFormat, temperature, language, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createTranscription(file, model, prompt, responseFormat, temperature, language, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Translates audio into into English.
         * @param {File} file The audio file to translate, in one of these formats: mp3, mp4, mpeg, mpga, m4a, wav, or webm.
         * @param {string} model ID of the model to use. Only &#x60;whisper-1&#x60; is currently available.
         * @param {string} [prompt] An optional text to guide the model\\\&#39;s style or continue a previous audio segment. The [prompt](/docs/guides/speech-to-text/prompting) should be in English.
         * @param {string} [responseFormat] The format of the transcript output, in one of these options: json, text, srt, verbose_json, or vtt.
         * @param {number} [temperature] The sampling temperature, between 0 and 1. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. If set to 0, the model will use [log probability](https://en.wikipedia.org/wiki/Log_probability) to automatically increase the temperature until certain thresholds are hit.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createTranslation(file, model, prompt, responseFormat, temperature, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.createTranslation(file, model, prompt, responseFormat, temperature, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Delete a file.
         * @param {string} fileId The ID of the file to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        deleteFile(fileId, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteFile(fileId, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Delete a fine-tuned model. You must have the Owner role in your organization.
         * @param {string} model The model to delete
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        deleteModel(model, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.deleteModel(model, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Returns the contents of the specified file
         * @param {string} fileId The ID of the file to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        downloadFile(fileId, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.downloadFile(fileId, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Lists the currently available (non-finetuned) models, and provides basic information about each one such as the owner and availability.
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        listEngines(options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.listEngines(options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Returns a list of files that belong to the user\'s organization.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listFiles(options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.listFiles(options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Get fine-grained status updates for a fine-tune job.
         * @param {string} fineTuneId The ID of the fine-tune job to get events for.
         * @param {boolean} [stream] Whether to stream events for the fine-tune job. If set to true, events will be sent as data-only [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format) as they become available. The stream will terminate with a &#x60;data: [DONE]&#x60; message when the job is finished (succeeded, cancelled, or failed).  If set to false, only events generated so far will be returned.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listFineTuneEvents(fineTuneId, stream, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.listFineTuneEvents(fineTuneId, stream, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary List your organization\'s fine-tuning jobs
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listFineTunes(options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.listFineTunes(options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Lists the currently available models, and provides basic information about each one such as the owner and availability.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listModels(options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.listModels(options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Retrieves a model instance, providing basic information about it such as the owner and availability.
         * @param {string} engineId The ID of the engine to use for this request
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        retrieveEngine(engineId, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.retrieveEngine(engineId, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Returns information about a specific file.
         * @param {string} fileId The ID of the file to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        retrieveFile(fileId, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.retrieveFile(fileId, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Gets info about the fine-tune job.  [Learn more about Fine-tuning](/docs/guides/fine-tuning)
         * @param {string} fineTuneId The ID of the fine-tune job
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        retrieveFineTune(fineTuneId, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.retrieveFineTune(fineTuneId, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        },
        /**
         *
         * @summary Retrieves a model instance, providing basic information about the model such as the owner and permissioning.
         * @param {string} model The ID of the model to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        retrieveModel(model, options) {
          return __awaiter(this, void 0, void 0, function* () {
            const localVarAxiosArgs = yield localVarAxiosParamCreator.retrieveModel(model, options);
            return common_1.createRequestFunction(localVarAxiosArgs, axios_1.default, base_1.BASE_PATH, configuration);
          });
        }
      };
    };
    exports.OpenAIApiFactory = function(configuration, basePath, axios2) {
      const localVarFp = exports.OpenAIApiFp(configuration);
      return {
        /**
         *
         * @summary Immediately cancel a fine-tune job.
         * @param {string} fineTuneId The ID of the fine-tune job to cancel
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        cancelFineTune(fineTuneId, options) {
          return localVarFp.cancelFineTune(fineTuneId, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Answers the specified question using the provided documents and examples.  The endpoint first [searches](/docs/api-reference/searches) over provided documents or files to find relevant context. The relevant context is combined with the provided examples and question to create the prompt for [completion](/docs/api-reference/completions).
         * @param {CreateAnswerRequest} createAnswerRequest
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        createAnswer(createAnswerRequest, options) {
          return localVarFp.createAnswer(createAnswerRequest, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Creates a completion for the chat message
         * @param {CreateChatCompletionRequest} createChatCompletionRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createChatCompletion(createChatCompletionRequest, options) {
          return localVarFp.createChatCompletion(createChatCompletionRequest, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Classifies the specified `query` using provided examples.  The endpoint first [searches](/docs/api-reference/searches) over the labeled examples to select the ones most relevant for the particular query. Then, the relevant examples are combined with the query to construct a prompt to produce the final label via the [completions](/docs/api-reference/completions) endpoint.  Labeled examples can be provided via an uploaded `file`, or explicitly listed in the request using the `examples` parameter for quick tests and small scale use cases.
         * @param {CreateClassificationRequest} createClassificationRequest
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        createClassification(createClassificationRequest, options) {
          return localVarFp.createClassification(createClassificationRequest, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Creates a completion for the provided prompt and parameters
         * @param {CreateCompletionRequest} createCompletionRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createCompletion(createCompletionRequest, options) {
          return localVarFp.createCompletion(createCompletionRequest, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Creates a new edit for the provided input, instruction, and parameters.
         * @param {CreateEditRequest} createEditRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createEdit(createEditRequest, options) {
          return localVarFp.createEdit(createEditRequest, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Creates an embedding vector representing the input text.
         * @param {CreateEmbeddingRequest} createEmbeddingRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createEmbedding(createEmbeddingRequest, options) {
          return localVarFp.createEmbedding(createEmbeddingRequest, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Upload a file that contains document(s) to be used across various endpoints/features. Currently, the size of all the files uploaded by one organization can be up to 1 GB. Please contact us if you need to increase the storage limit.
         * @param {File} file Name of the [JSON Lines](https://jsonlines.readthedocs.io/en/latest/) file to be uploaded.  If the &#x60;purpose&#x60; is set to \\\&quot;fine-tune\\\&quot;, each line is a JSON record with \\\&quot;prompt\\\&quot; and \\\&quot;completion\\\&quot; fields representing your [training examples](/docs/guides/fine-tuning/prepare-training-data).
         * @param {string} purpose The intended purpose of the uploaded documents.  Use \\\&quot;fine-tune\\\&quot; for [Fine-tuning](/docs/api-reference/fine-tunes). This allows us to validate the format of the uploaded file.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createFile(file, purpose, options) {
          return localVarFp.createFile(file, purpose, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Creates a job that fine-tunes a specified model from a given dataset.  Response includes details of the enqueued job including job status and the name of the fine-tuned models once complete.  [Learn more about Fine-tuning](/docs/guides/fine-tuning)
         * @param {CreateFineTuneRequest} createFineTuneRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createFineTune(createFineTuneRequest, options) {
          return localVarFp.createFineTune(createFineTuneRequest, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Creates an image given a prompt.
         * @param {CreateImageRequest} createImageRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createImage(createImageRequest, options) {
          return localVarFp.createImage(createImageRequest, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Creates an edited or extended image given an original image and a prompt.
         * @param {File} image The image to edit. Must be a valid PNG file, less than 4MB, and square. If mask is not provided, image must have transparency, which will be used as the mask.
         * @param {string} prompt A text description of the desired image(s). The maximum length is 1000 characters.
         * @param {File} [mask] An additional image whose fully transparent areas (e.g. where alpha is zero) indicate where &#x60;image&#x60; should be edited. Must be a valid PNG file, less than 4MB, and have the same dimensions as &#x60;image&#x60;.
         * @param {number} [n] The number of images to generate. Must be between 1 and 10.
         * @param {string} [size] The size of the generated images. Must be one of &#x60;256x256&#x60;, &#x60;512x512&#x60;, or &#x60;1024x1024&#x60;.
         * @param {string} [responseFormat] The format in which the generated images are returned. Must be one of &#x60;url&#x60; or &#x60;b64_json&#x60;.
         * @param {string} [user] A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](/docs/guides/safety-best-practices/end-user-ids).
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createImageEdit(image, prompt, mask, n, size, responseFormat, user, options) {
          return localVarFp.createImageEdit(image, prompt, mask, n, size, responseFormat, user, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Creates a variation of a given image.
         * @param {File} image The image to use as the basis for the variation(s). Must be a valid PNG file, less than 4MB, and square.
         * @param {number} [n] The number of images to generate. Must be between 1 and 10.
         * @param {string} [size] The size of the generated images. Must be one of &#x60;256x256&#x60;, &#x60;512x512&#x60;, or &#x60;1024x1024&#x60;.
         * @param {string} [responseFormat] The format in which the generated images are returned. Must be one of &#x60;url&#x60; or &#x60;b64_json&#x60;.
         * @param {string} [user] A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](/docs/guides/safety-best-practices/end-user-ids).
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createImageVariation(image, n, size, responseFormat, user, options) {
          return localVarFp.createImageVariation(image, n, size, responseFormat, user, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Classifies if text violates OpenAI\'s Content Policy
         * @param {CreateModerationRequest} createModerationRequest
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createModeration(createModerationRequest, options) {
          return localVarFp.createModeration(createModerationRequest, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary The search endpoint computes similarity scores between provided query and documents. Documents can be passed directly to the API if there are no more than 200 of them.  To go beyond the 200 document limit, documents can be processed offline and then used for efficient retrieval at query time. When `file` is set, the search endpoint searches over all the documents in the given file and returns up to the `max_rerank` number of documents. These documents will be returned along with their search scores.  The similarity score is a positive score that usually ranges from 0 to 300 (but can sometimes go higher), where a score above 200 usually means the document is semantically similar to the query.
         * @param {string} engineId The ID of the engine to use for this request.  You can select one of &#x60;ada&#x60;, &#x60;babbage&#x60;, &#x60;curie&#x60;, or &#x60;davinci&#x60;.
         * @param {CreateSearchRequest} createSearchRequest
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        createSearch(engineId, createSearchRequest, options) {
          return localVarFp.createSearch(engineId, createSearchRequest, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Transcribes audio into the input language.
         * @param {File} file The audio file to transcribe, in one of these formats: mp3, mp4, mpeg, mpga, m4a, wav, or webm.
         * @param {string} model ID of the model to use. Only &#x60;whisper-1&#x60; is currently available.
         * @param {string} [prompt] An optional text to guide the model\\\&#39;s style or continue a previous audio segment. The [prompt](/docs/guides/speech-to-text/prompting) should match the audio language.
         * @param {string} [responseFormat] The format of the transcript output, in one of these options: json, text, srt, verbose_json, or vtt.
         * @param {number} [temperature] The sampling temperature, between 0 and 1. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. If set to 0, the model will use [log probability](https://en.wikipedia.org/wiki/Log_probability) to automatically increase the temperature until certain thresholds are hit.
         * @param {string} [language] The language of the input audio. Supplying the input language in [ISO-639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) format will improve accuracy and latency.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createTranscription(file, model, prompt, responseFormat, temperature, language, options) {
          return localVarFp.createTranscription(file, model, prompt, responseFormat, temperature, language, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Translates audio into into English.
         * @param {File} file The audio file to translate, in one of these formats: mp3, mp4, mpeg, mpga, m4a, wav, or webm.
         * @param {string} model ID of the model to use. Only &#x60;whisper-1&#x60; is currently available.
         * @param {string} [prompt] An optional text to guide the model\\\&#39;s style or continue a previous audio segment. The [prompt](/docs/guides/speech-to-text/prompting) should be in English.
         * @param {string} [responseFormat] The format of the transcript output, in one of these options: json, text, srt, verbose_json, or vtt.
         * @param {number} [temperature] The sampling temperature, between 0 and 1. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. If set to 0, the model will use [log probability](https://en.wikipedia.org/wiki/Log_probability) to automatically increase the temperature until certain thresholds are hit.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        createTranslation(file, model, prompt, responseFormat, temperature, options) {
          return localVarFp.createTranslation(file, model, prompt, responseFormat, temperature, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Delete a file.
         * @param {string} fileId The ID of the file to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        deleteFile(fileId, options) {
          return localVarFp.deleteFile(fileId, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Delete a fine-tuned model. You must have the Owner role in your organization.
         * @param {string} model The model to delete
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        deleteModel(model, options) {
          return localVarFp.deleteModel(model, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Returns the contents of the specified file
         * @param {string} fileId The ID of the file to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        downloadFile(fileId, options) {
          return localVarFp.downloadFile(fileId, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Lists the currently available (non-finetuned) models, and provides basic information about each one such as the owner and availability.
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        listEngines(options) {
          return localVarFp.listEngines(options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Returns a list of files that belong to the user\'s organization.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listFiles(options) {
          return localVarFp.listFiles(options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Get fine-grained status updates for a fine-tune job.
         * @param {string} fineTuneId The ID of the fine-tune job to get events for.
         * @param {boolean} [stream] Whether to stream events for the fine-tune job. If set to true, events will be sent as data-only [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format) as they become available. The stream will terminate with a &#x60;data: [DONE]&#x60; message when the job is finished (succeeded, cancelled, or failed).  If set to false, only events generated so far will be returned.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listFineTuneEvents(fineTuneId, stream, options) {
          return localVarFp.listFineTuneEvents(fineTuneId, stream, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary List your organization\'s fine-tuning jobs
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listFineTunes(options) {
          return localVarFp.listFineTunes(options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Lists the currently available models, and provides basic information about each one such as the owner and availability.
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        listModels(options) {
          return localVarFp.listModels(options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Retrieves a model instance, providing basic information about it such as the owner and availability.
         * @param {string} engineId The ID of the engine to use for this request
         * @param {*} [options] Override http request option.
         * @deprecated
         * @throws {RequiredError}
         */
        retrieveEngine(engineId, options) {
          return localVarFp.retrieveEngine(engineId, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Returns information about a specific file.
         * @param {string} fileId The ID of the file to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        retrieveFile(fileId, options) {
          return localVarFp.retrieveFile(fileId, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Gets info about the fine-tune job.  [Learn more about Fine-tuning](/docs/guides/fine-tuning)
         * @param {string} fineTuneId The ID of the fine-tune job
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        retrieveFineTune(fineTuneId, options) {
          return localVarFp.retrieveFineTune(fineTuneId, options).then((request) => request(axios2, basePath));
        },
        /**
         *
         * @summary Retrieves a model instance, providing basic information about the model such as the owner and permissioning.
         * @param {string} model The ID of the model to use for this request
         * @param {*} [options] Override http request option.
         * @throws {RequiredError}
         */
        retrieveModel(model, options) {
          return localVarFp.retrieveModel(model, options).then((request) => request(axios2, basePath));
        }
      };
    };
    var OpenAIApi5 = class extends base_1.BaseAPI {
      /**
       *
       * @summary Immediately cancel a fine-tune job.
       * @param {string} fineTuneId The ID of the fine-tune job to cancel
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      cancelFineTune(fineTuneId, options) {
        return exports.OpenAIApiFp(this.configuration).cancelFineTune(fineTuneId, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Answers the specified question using the provided documents and examples.  The endpoint first [searches](/docs/api-reference/searches) over provided documents or files to find relevant context. The relevant context is combined with the provided examples and question to create the prompt for [completion](/docs/api-reference/completions).
       * @param {CreateAnswerRequest} createAnswerRequest
       * @param {*} [options] Override http request option.
       * @deprecated
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createAnswer(createAnswerRequest, options) {
        return exports.OpenAIApiFp(this.configuration).createAnswer(createAnswerRequest, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Creates a completion for the chat message
       * @param {CreateChatCompletionRequest} createChatCompletionRequest
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createChatCompletion(createChatCompletionRequest, options) {
        return exports.OpenAIApiFp(this.configuration).createChatCompletion(createChatCompletionRequest, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Classifies the specified `query` using provided examples.  The endpoint first [searches](/docs/api-reference/searches) over the labeled examples to select the ones most relevant for the particular query. Then, the relevant examples are combined with the query to construct a prompt to produce the final label via the [completions](/docs/api-reference/completions) endpoint.  Labeled examples can be provided via an uploaded `file`, or explicitly listed in the request using the `examples` parameter for quick tests and small scale use cases.
       * @param {CreateClassificationRequest} createClassificationRequest
       * @param {*} [options] Override http request option.
       * @deprecated
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createClassification(createClassificationRequest, options) {
        return exports.OpenAIApiFp(this.configuration).createClassification(createClassificationRequest, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Creates a completion for the provided prompt and parameters
       * @param {CreateCompletionRequest} createCompletionRequest
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createCompletion(createCompletionRequest, options) {
        return exports.OpenAIApiFp(this.configuration).createCompletion(createCompletionRequest, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Creates a new edit for the provided input, instruction, and parameters.
       * @param {CreateEditRequest} createEditRequest
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createEdit(createEditRequest, options) {
        return exports.OpenAIApiFp(this.configuration).createEdit(createEditRequest, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Creates an embedding vector representing the input text.
       * @param {CreateEmbeddingRequest} createEmbeddingRequest
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createEmbedding(createEmbeddingRequest, options) {
        return exports.OpenAIApiFp(this.configuration).createEmbedding(createEmbeddingRequest, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Upload a file that contains document(s) to be used across various endpoints/features. Currently, the size of all the files uploaded by one organization can be up to 1 GB. Please contact us if you need to increase the storage limit.
       * @param {File} file Name of the [JSON Lines](https://jsonlines.readthedocs.io/en/latest/) file to be uploaded.  If the &#x60;purpose&#x60; is set to \\\&quot;fine-tune\\\&quot;, each line is a JSON record with \\\&quot;prompt\\\&quot; and \\\&quot;completion\\\&quot; fields representing your [training examples](/docs/guides/fine-tuning/prepare-training-data).
       * @param {string} purpose The intended purpose of the uploaded documents.  Use \\\&quot;fine-tune\\\&quot; for [Fine-tuning](/docs/api-reference/fine-tunes). This allows us to validate the format of the uploaded file.
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createFile(file, purpose, options) {
        return exports.OpenAIApiFp(this.configuration).createFile(file, purpose, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Creates a job that fine-tunes a specified model from a given dataset.  Response includes details of the enqueued job including job status and the name of the fine-tuned models once complete.  [Learn more about Fine-tuning](/docs/guides/fine-tuning)
       * @param {CreateFineTuneRequest} createFineTuneRequest
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createFineTune(createFineTuneRequest, options) {
        return exports.OpenAIApiFp(this.configuration).createFineTune(createFineTuneRequest, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Creates an image given a prompt.
       * @param {CreateImageRequest} createImageRequest
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createImage(createImageRequest, options) {
        return exports.OpenAIApiFp(this.configuration).createImage(createImageRequest, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Creates an edited or extended image given an original image and a prompt.
       * @param {File} image The image to edit. Must be a valid PNG file, less than 4MB, and square. If mask is not provided, image must have transparency, which will be used as the mask.
       * @param {string} prompt A text description of the desired image(s). The maximum length is 1000 characters.
       * @param {File} [mask] An additional image whose fully transparent areas (e.g. where alpha is zero) indicate where &#x60;image&#x60; should be edited. Must be a valid PNG file, less than 4MB, and have the same dimensions as &#x60;image&#x60;.
       * @param {number} [n] The number of images to generate. Must be between 1 and 10.
       * @param {string} [size] The size of the generated images. Must be one of &#x60;256x256&#x60;, &#x60;512x512&#x60;, or &#x60;1024x1024&#x60;.
       * @param {string} [responseFormat] The format in which the generated images are returned. Must be one of &#x60;url&#x60; or &#x60;b64_json&#x60;.
       * @param {string} [user] A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](/docs/guides/safety-best-practices/end-user-ids).
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createImageEdit(image, prompt, mask, n, size, responseFormat, user, options) {
        return exports.OpenAIApiFp(this.configuration).createImageEdit(image, prompt, mask, n, size, responseFormat, user, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Creates a variation of a given image.
       * @param {File} image The image to use as the basis for the variation(s). Must be a valid PNG file, less than 4MB, and square.
       * @param {number} [n] The number of images to generate. Must be between 1 and 10.
       * @param {string} [size] The size of the generated images. Must be one of &#x60;256x256&#x60;, &#x60;512x512&#x60;, or &#x60;1024x1024&#x60;.
       * @param {string} [responseFormat] The format in which the generated images are returned. Must be one of &#x60;url&#x60; or &#x60;b64_json&#x60;.
       * @param {string} [user] A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](/docs/guides/safety-best-practices/end-user-ids).
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createImageVariation(image, n, size, responseFormat, user, options) {
        return exports.OpenAIApiFp(this.configuration).createImageVariation(image, n, size, responseFormat, user, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Classifies if text violates OpenAI\'s Content Policy
       * @param {CreateModerationRequest} createModerationRequest
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createModeration(createModerationRequest, options) {
        return exports.OpenAIApiFp(this.configuration).createModeration(createModerationRequest, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary The search endpoint computes similarity scores between provided query and documents. Documents can be passed directly to the API if there are no more than 200 of them.  To go beyond the 200 document limit, documents can be processed offline and then used for efficient retrieval at query time. When `file` is set, the search endpoint searches over all the documents in the given file and returns up to the `max_rerank` number of documents. These documents will be returned along with their search scores.  The similarity score is a positive score that usually ranges from 0 to 300 (but can sometimes go higher), where a score above 200 usually means the document is semantically similar to the query.
       * @param {string} engineId The ID of the engine to use for this request.  You can select one of &#x60;ada&#x60;, &#x60;babbage&#x60;, &#x60;curie&#x60;, or &#x60;davinci&#x60;.
       * @param {CreateSearchRequest} createSearchRequest
       * @param {*} [options] Override http request option.
       * @deprecated
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createSearch(engineId, createSearchRequest, options) {
        return exports.OpenAIApiFp(this.configuration).createSearch(engineId, createSearchRequest, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Transcribes audio into the input language.
       * @param {File} file The audio file to transcribe, in one of these formats: mp3, mp4, mpeg, mpga, m4a, wav, or webm.
       * @param {string} model ID of the model to use. Only &#x60;whisper-1&#x60; is currently available.
       * @param {string} [prompt] An optional text to guide the model\\\&#39;s style or continue a previous audio segment. The [prompt](/docs/guides/speech-to-text/prompting) should match the audio language.
       * @param {string} [responseFormat] The format of the transcript output, in one of these options: json, text, srt, verbose_json, or vtt.
       * @param {number} [temperature] The sampling temperature, between 0 and 1. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. If set to 0, the model will use [log probability](https://en.wikipedia.org/wiki/Log_probability) to automatically increase the temperature until certain thresholds are hit.
       * @param {string} [language] The language of the input audio. Supplying the input language in [ISO-639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) format will improve accuracy and latency.
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createTranscription(file, model, prompt, responseFormat, temperature, language, options) {
        return exports.OpenAIApiFp(this.configuration).createTranscription(file, model, prompt, responseFormat, temperature, language, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Translates audio into into English.
       * @param {File} file The audio file to translate, in one of these formats: mp3, mp4, mpeg, mpga, m4a, wav, or webm.
       * @param {string} model ID of the model to use. Only &#x60;whisper-1&#x60; is currently available.
       * @param {string} [prompt] An optional text to guide the model\\\&#39;s style or continue a previous audio segment. The [prompt](/docs/guides/speech-to-text/prompting) should be in English.
       * @param {string} [responseFormat] The format of the transcript output, in one of these options: json, text, srt, verbose_json, or vtt.
       * @param {number} [temperature] The sampling temperature, between 0 and 1. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. If set to 0, the model will use [log probability](https://en.wikipedia.org/wiki/Log_probability) to automatically increase the temperature until certain thresholds are hit.
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      createTranslation(file, model, prompt, responseFormat, temperature, options) {
        return exports.OpenAIApiFp(this.configuration).createTranslation(file, model, prompt, responseFormat, temperature, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Delete a file.
       * @param {string} fileId The ID of the file to use for this request
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      deleteFile(fileId, options) {
        return exports.OpenAIApiFp(this.configuration).deleteFile(fileId, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Delete a fine-tuned model. You must have the Owner role in your organization.
       * @param {string} model The model to delete
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      deleteModel(model, options) {
        return exports.OpenAIApiFp(this.configuration).deleteModel(model, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Returns the contents of the specified file
       * @param {string} fileId The ID of the file to use for this request
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      downloadFile(fileId, options) {
        return exports.OpenAIApiFp(this.configuration).downloadFile(fileId, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Lists the currently available (non-finetuned) models, and provides basic information about each one such as the owner and availability.
       * @param {*} [options] Override http request option.
       * @deprecated
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      listEngines(options) {
        return exports.OpenAIApiFp(this.configuration).listEngines(options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Returns a list of files that belong to the user\'s organization.
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      listFiles(options) {
        return exports.OpenAIApiFp(this.configuration).listFiles(options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Get fine-grained status updates for a fine-tune job.
       * @param {string} fineTuneId The ID of the fine-tune job to get events for.
       * @param {boolean} [stream] Whether to stream events for the fine-tune job. If set to true, events will be sent as data-only [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#Event_stream_format) as they become available. The stream will terminate with a &#x60;data: [DONE]&#x60; message when the job is finished (succeeded, cancelled, or failed).  If set to false, only events generated so far will be returned.
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      listFineTuneEvents(fineTuneId, stream, options) {
        return exports.OpenAIApiFp(this.configuration).listFineTuneEvents(fineTuneId, stream, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary List your organization\'s fine-tuning jobs
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      listFineTunes(options) {
        return exports.OpenAIApiFp(this.configuration).listFineTunes(options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Lists the currently available models, and provides basic information about each one such as the owner and availability.
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      listModels(options) {
        return exports.OpenAIApiFp(this.configuration).listModels(options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Retrieves a model instance, providing basic information about it such as the owner and availability.
       * @param {string} engineId The ID of the engine to use for this request
       * @param {*} [options] Override http request option.
       * @deprecated
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      retrieveEngine(engineId, options) {
        return exports.OpenAIApiFp(this.configuration).retrieveEngine(engineId, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Returns information about a specific file.
       * @param {string} fileId The ID of the file to use for this request
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      retrieveFile(fileId, options) {
        return exports.OpenAIApiFp(this.configuration).retrieveFile(fileId, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Gets info about the fine-tune job.  [Learn more about Fine-tuning](/docs/guides/fine-tuning)
       * @param {string} fineTuneId The ID of the fine-tune job
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      retrieveFineTune(fineTuneId, options) {
        return exports.OpenAIApiFp(this.configuration).retrieveFineTune(fineTuneId, options).then((request) => request(this.axios, this.basePath));
      }
      /**
       *
       * @summary Retrieves a model instance, providing basic information about the model such as the owner and permissioning.
       * @param {string} model The ID of the model to use for this request
       * @param {*} [options] Override http request option.
       * @throws {RequiredError}
       * @memberof OpenAIApi
       */
      retrieveModel(model, options) {
        return exports.OpenAIApiFp(this.configuration).retrieveModel(model, options).then((request) => request(this.axios, this.basePath));
      }
    };
    exports.OpenAIApi = OpenAIApi5;
  }
});

// node_modules/openai/package.json
var require_package = __commonJS({
  "node_modules/openai/package.json"(exports, module2) {
    module2.exports = {
      name: "openai",
      version: "3.2.1",
      description: "Node.js library for the OpenAI API",
      repository: {
        type: "git",
        url: "git@github.com:openai/openai-node.git"
      },
      keywords: [
        "openai",
        "open",
        "ai",
        "gpt-3",
        "gpt3"
      ],
      author: "OpenAI",
      license: "MIT",
      main: "./dist/index.js",
      types: "./dist/index.d.ts",
      scripts: {
        build: "tsc --outDir dist/"
      },
      dependencies: {
        axios: "^0.26.0",
        "form-data": "^4.0.0"
      },
      devDependencies: {
        "@types/node": "^12.11.5",
        typescript: "^3.6.4"
      }
    };
  }
});

// node_modules/form-data/lib/browser.js
var require_browser = __commonJS({
  "node_modules/form-data/lib/browser.js"(exports, module2) {
    module2.exports = typeof self == "object" ? self.FormData : window.FormData;
  }
});

// node_modules/openai/dist/configuration.js
var require_configuration = __commonJS({
  "node_modules/openai/dist/configuration.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Configuration = void 0;
    var packageJson = require_package();
    var Configuration5 = class {
      constructor(param = {}) {
        this.apiKey = param.apiKey;
        this.organization = param.organization;
        this.username = param.username;
        this.password = param.password;
        this.accessToken = param.accessToken;
        this.basePath = param.basePath;
        this.baseOptions = param.baseOptions;
        this.formDataCtor = param.formDataCtor;
        if (!this.baseOptions) {
          this.baseOptions = {};
        }
        this.baseOptions.headers = Object.assign({ "User-Agent": `OpenAI/NodeJS/${packageJson.version}`, "Authorization": `Bearer ${this.apiKey}` }, this.baseOptions.headers);
        if (this.organization) {
          this.baseOptions.headers["OpenAI-Organization"] = this.organization;
        }
        if (!this.formDataCtor) {
          this.formDataCtor = require_browser();
        }
      }
      /**
       * Check if the given MIME is a JSON MIME.
       * JSON MIME examples:
       *   application/json
       *   application/json; charset=UTF8
       *   APPLICATION/JSON
       *   application/vnd.company+json
       * @param mime - MIME (Multipurpose Internet Mail Extensions)
       * @return True if the given MIME is JSON, false otherwise.
       */
      isJsonMime(mime) {
        const jsonMime = new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$", "i");
        return mime !== null && (jsonMime.test(mime) || mime.toLowerCase() === "application/json-patch+json");
      }
    };
    exports.Configuration = Configuration5;
  }
});

// node_modules/openai/dist/index.js
var require_dist2 = __commonJS({
  "node_modules/openai/dist/index.js"(exports) {
    "use strict";
    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      Object.defineProperty(o, k2, { enumerable: true, get: function() {
        return m[k];
      } });
    } : function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      o[k2] = m[k];
    });
    var __exportStar = exports && exports.__exportStar || function(m, exports2) {
      for (var p in m)
        if (p !== "default" && !exports2.hasOwnProperty(p))
          __createBinding(exports2, m, p);
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    __exportStar(require_api(), exports);
    __exportStar(require_configuration(), exports);
  }
});

// node_modules/langchain/dist/util/event-source-parse.js
async function getBytes(stream, onChunk) {
  const reader = stream.getReader();
  while (true) {
    const result = await reader.read();
    if (result.done) {
      onChunk(new Uint8Array(), true);
      break;
    }
    onChunk(result.value);
  }
}
function getLines(onLine) {
  let buffer;
  let position;
  let fieldLength;
  let discardTrailingNewline = false;
  return function onChunk(arr, flush) {
    if (flush) {
      onLine(arr, 0, true);
      return;
    }
    if (buffer === void 0) {
      buffer = arr;
      position = 0;
      fieldLength = -1;
    } else {
      buffer = concat(buffer, arr);
    }
    const bufLength = buffer.length;
    let lineStart = 0;
    while (position < bufLength) {
      if (discardTrailingNewline) {
        if (buffer[position] === 10) {
          lineStart = ++position;
        }
        discardTrailingNewline = false;
      }
      let lineEnd = -1;
      for (; position < bufLength && lineEnd === -1; ++position) {
        switch (buffer[position]) {
          case 58:
            if (fieldLength === -1) {
              fieldLength = position - lineStart;
            }
            break;
          case 13:
            discardTrailingNewline = true;
          case 10:
            lineEnd = position;
            break;
        }
      }
      if (lineEnd === -1) {
        break;
      }
      onLine(buffer.subarray(lineStart, lineEnd), fieldLength);
      lineStart = position;
      fieldLength = -1;
    }
    if (lineStart === bufLength) {
      buffer = void 0;
    } else if (lineStart !== 0) {
      buffer = buffer.subarray(lineStart);
      position -= lineStart;
    }
  };
}
function getMessages(onMessage, onId, onRetry) {
  let message = newMessage();
  const decoder = new TextDecoder();
  return function onLine(line, fieldLength, flush) {
    if (flush) {
      if (!isEmpty(message)) {
        onMessage == null ? void 0 : onMessage(message);
        message = newMessage();
      }
      return;
    }
    if (line.length === 0) {
      onMessage == null ? void 0 : onMessage(message);
      message = newMessage();
    } else if (fieldLength > 0) {
      const field = decoder.decode(line.subarray(0, fieldLength));
      const valueOffset = fieldLength + (line[fieldLength + 1] === 32 ? 2 : 1);
      const value = decoder.decode(line.subarray(valueOffset));
      switch (field) {
        case "data":
          message.data = message.data ? message.data + "\n" + value : value;
          break;
        case "event":
          message.event = value;
          break;
        case "id":
          onId == null ? void 0 : onId(message.id = value);
          break;
        case "retry": {
          const retry = parseInt(value, 10);
          if (!Number.isNaN(retry)) {
            onRetry == null ? void 0 : onRetry(message.retry = retry);
          }
          break;
        }
      }
    }
  };
}
function concat(a, b) {
  const res = new Uint8Array(a.length + b.length);
  res.set(a);
  res.set(b, a.length);
  return res;
}
function newMessage() {
  return {
    data: "",
    event: "",
    id: "",
    retry: void 0
  };
}
function isEmpty(message) {
  return message.data === "" && message.event === "" && message.id === "" && message.retry === void 0;
}
var EventStreamContentType;
var init_event_source_parse = __esm({
  "node_modules/langchain/dist/util/event-source-parse.js"() {
    EventStreamContentType = "text/event-stream";
  }
});

// node_modules/langchain/dist/util/axios-fetch-adapter.js
function tryJsonStringify2(data) {
  try {
    return JSON.stringify(data);
  } catch (e) {
    return data;
  }
}
function settle(resolve, reject, response) {
  const { validateStatus } = response.config;
  if (!response.status || !validateStatus || validateStatus(response.status)) {
    resolve(response);
  } else {
    reject(createError(`Request failed with status code ${response.status} and body ${typeof response.data === "string" ? response.data : tryJsonStringify2(response.data)}`, response.config, null, response.request, response));
  }
}
function isAbsoluteURL(url) {
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(url);
}
function combineURLs(baseURL, relativeURL) {
  return relativeURL ? baseURL.replace(/\/+$/, "") + "/" + relativeURL.replace(/^\/+/, "") : baseURL;
}
function encode(val) {
  return encodeURIComponent(val).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
}
function buildURL(url, params, paramsSerializer) {
  if (!params) {
    return url;
  }
  var serializedParams;
  if (paramsSerializer) {
    serializedParams = paramsSerializer(params);
  } else if (isURLSearchParams(params)) {
    serializedParams = params.toString();
  } else {
    var parts = [];
    forEach(params, function serialize(val, key) {
      if (val === null || typeof val === "undefined") {
        return;
      }
      if (isArray(val)) {
        key = `${key}[]`;
      } else {
        val = [val];
      }
      forEach(val, function parseValue(v) {
        if (isDate(v)) {
          v = v.toISOString();
        } else if (isObject(v)) {
          v = JSON.stringify(v);
        }
        parts.push(`${encode(key)}=${encode(v)}`);
      });
    });
    serializedParams = parts.join("&");
  }
  if (serializedParams) {
    var hashmarkIndex = url.indexOf("#");
    if (hashmarkIndex !== -1) {
      url = url.slice(0, hashmarkIndex);
    }
    url += (url.indexOf("?") === -1 ? "?" : "&") + serializedParams;
  }
  return url;
}
function buildFullPath(baseURL, requestedURL) {
  if (baseURL && !isAbsoluteURL(requestedURL)) {
    return combineURLs(baseURL, requestedURL);
  }
  return requestedURL;
}
function isUndefined(val) {
  return typeof val === "undefined";
}
function isObject(val) {
  return val !== null && typeof val === "object";
}
function isDate(val) {
  return toString.call(val) === "[object Date]";
}
function isURLSearchParams(val) {
  return toString.call(val) === "[object URLSearchParams]";
}
function isArray(val) {
  return Array.isArray(val);
}
function forEach(obj, fn) {
  if (obj === null || typeof obj === "undefined") {
    return;
  }
  if (typeof obj !== "object") {
    obj = [obj];
  }
  if (isArray(obj)) {
    for (var i = 0, l = obj.length; i < l; i++) {
      fn.call(null, obj[i], i, obj);
    }
  } else {
    for (var key in obj) {
      if (Object.prototype.hasOwnProperty.call(obj, key)) {
        fn.call(null, obj[key], key, obj);
      }
    }
  }
}
function isFormData(val) {
  return toString.call(val) === "[object FormData]";
}
function isStandardBrowserEnv() {
  if (typeof navigator !== "undefined" && // eslint-disable-next-line no-undef
  (navigator.product === "ReactNative" || // eslint-disable-next-line no-undef
  navigator.product === "NativeScript" || // eslint-disable-next-line no-undef
  navigator.product === "NS")) {
    return false;
  }
  return typeof window !== "undefined" && typeof document !== "undefined";
}
async function fetchAdapter(config) {
  const request = createRequest(config);
  const data = await getResponse(request, config);
  return new Promise((resolve, reject) => {
    if (data instanceof Error) {
      reject(data);
    } else {
      Object.prototype.toString.call(config.settle) === "[object Function]" ? config.settle(resolve, reject, data) : settle(resolve, reject, data);
    }
  });
}
async function getResponse(request, config) {
  let stageOne;
  try {
    stageOne = await fetch(request);
  } catch (e) {
    if (e && e.name === "AbortError") {
      return createError("Request aborted", config, "ECONNABORTED", request);
    }
    if (e && e.name === "TimeoutError") {
      return createError("Request timeout", config, "ECONNABORTED", request);
    }
    return createError("Network Error", config, "ERR_NETWORK", request);
  }
  const headers = {};
  stageOne.headers.forEach((value, key) => {
    headers[key] = value;
  });
  const response = {
    ok: stageOne.ok,
    status: stageOne.status,
    statusText: stageOne.statusText,
    headers,
    config,
    request
  };
  if (stageOne.status >= 200 && stageOne.status !== 204) {
    if (config.responseType === "stream") {
      const contentType = stageOne.headers.get("content-type");
      if (!(contentType == null ? void 0 : contentType.startsWith(EventStreamContentType))) {
        if (stageOne.status >= 400) {
          if (contentType == null ? void 0 : contentType.startsWith("application/json")) {
            response.data = await stageOne.json();
            return response;
          } else {
            response.data = await stageOne.text();
            return response;
          }
        }
        throw new Error(`Expected content-type to be ${EventStreamContentType}, Actual: ${contentType}`);
      }
      await getBytes(stageOne.body, getLines(getMessages(config.onmessage)));
    } else {
      switch (config.responseType) {
        case "arraybuffer":
          response.data = await stageOne.arrayBuffer();
          break;
        case "blob":
          response.data = await stageOne.blob();
          break;
        case "json":
          response.data = await stageOne.json();
          break;
        case "formData":
          response.data = await stageOne.formData();
          break;
        default:
          response.data = await stageOne.text();
          break;
      }
    }
  }
  return response;
}
function createRequest(config) {
  const headers = new Headers(config.headers);
  if (config.auth) {
    const username = config.auth.username || "";
    const password = config.auth.password ? decodeURI(encodeURIComponent(config.auth.password)) : "";
    headers.set("Authorization", `Basic ${btoa(`${username}:${password}`)}`);
  }
  const method = config.method.toUpperCase();
  const options = {
    headers,
    method
  };
  if (method !== "GET" && method !== "HEAD") {
    options.body = config.data;
    if (isFormData(options.body) && isStandardBrowserEnv()) {
      headers.delete("Content-Type");
    }
  }
  if (typeof options.body === "string") {
    options.body = new TextEncoder().encode(options.body);
  }
  if (config.mode) {
    options.mode = config.mode;
  }
  if (config.cache) {
    options.cache = config.cache;
  }
  if (config.integrity) {
    options.integrity = config.integrity;
  }
  if (config.redirect) {
    options.redirect = config.redirect;
  }
  if (config.referrer) {
    options.referrer = config.referrer;
  }
  if (config.timeout && config.timeout > 0) {
    options.signal = AbortSignal.timeout(config.timeout);
  }
  if (config.signal) {
    options.signal = config.signal;
  }
  if (!isUndefined(config.withCredentials)) {
    options.credentials = config.withCredentials ? "include" : "omit";
  }
  if (config.responseType === "stream") {
    options.headers.set("Accept", EventStreamContentType);
  }
  const fullPath = buildFullPath(config.baseURL, config.url);
  const url = buildURL(fullPath, config.params, config.paramsSerializer);
  return new Request(url, options);
}
function createError(message, config, code, request, response) {
  if (import_axios.default.AxiosError && typeof import_axios.default.AxiosError === "function") {
    return new import_axios.default.AxiosError(message, import_axios.default.AxiosError[code], config, request, response);
  }
  const error = new Error(message);
  return enhanceError(error, config, code, request, response);
}
function enhanceError(error, config, code, request, response) {
  error.config = config;
  if (code) {
    error.code = code;
  }
  error.request = request;
  error.response = response;
  error.isAxiosError = true;
  error.toJSON = function toJSON() {
    return {
      // Standard
      message: this.message,
      name: this.name,
      // Microsoft
      description: this.description,
      number: this.number,
      // Mozilla
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      // Axios
      config: this.config,
      code: this.code,
      status: this.response && this.response.status ? this.response.status : null
    };
  };
  return error;
}
var import_axios;
var init_axios_fetch_adapter = __esm({
  "node_modules/langchain/dist/util/axios-fetch-adapter.js"() {
    import_axios = __toESM(require_axios2(), 1);
    init_event_source_parse();
  }
});

// node_modules/langchain/dist/chat_models/base.js
var BaseChatModel;
var init_base3 = __esm({
  "node_modules/langchain/dist/chat_models/base.js"() {
    init_schema();
    init_base_language();
    init_manager();
    BaseChatModel = class extends BaseLanguageModel {
      constructor(fields) {
        super(fields);
      }
      async generate(messages2, options, callbacks) {
        var _a;
        const generations = [];
        const llmOutputs = [];
        let parsedOptions;
        if (Array.isArray(options)) {
          parsedOptions = { stop: options };
        } else if ((options == null ? void 0 : options.timeout) && !options.signal) {
          parsedOptions = {
            ...options,
            signal: AbortSignal.timeout(options.timeout)
          };
        } else {
          parsedOptions = options != null ? options : {};
        }
        const callbackManager_ = await CallbackManager.configure(callbacks, this.callbacks, { verbose: this.verbose });
        const invocationParams = { invocation_params: this == null ? void 0 : this.invocationParams() };
        const runManager = await (callbackManager_ == null ? void 0 : callbackManager_.handleChatModelStart({ name: this._llmType() }, messages2, void 0, void 0, invocationParams));
        try {
          const results = await Promise.all(messages2.map((messageList) => this._generate(messageList, parsedOptions, runManager)));
          for (const result of results) {
            if (result.llmOutput) {
              llmOutputs.push(result.llmOutput);
            }
            generations.push(result.generations);
          }
        } catch (err) {
          await (runManager == null ? void 0 : runManager.handleLLMError(err));
          throw err;
        }
        const output = {
          generations,
          llmOutput: llmOutputs.length ? (_a = this._combineLLMOutput) == null ? void 0 : _a.call(this, ...llmOutputs) : void 0
        };
        await (runManager == null ? void 0 : runManager.handleLLMEnd(output));
        Object.defineProperty(output, RUN_KEY, {
          value: runManager ? { runId: runManager == null ? void 0 : runManager.runId } : void 0,
          configurable: true
        });
        return output;
      }
      /**
       * Get the parameters used to invoke the model
       */
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      invocationParams() {
        return {};
      }
      _modelType() {
        return "base_chat_model";
      }
      async generatePrompt(promptValues, options, callbacks) {
        const promptMessages = promptValues.map((promptValue) => promptValue.toChatMessages());
        return this.generate(promptMessages, options, callbacks);
      }
      async call(messages2, options, callbacks) {
        const result = await this.generate([messages2], options, callbacks);
        const generations = result.generations;
        return generations[0][0].message;
      }
      async callPrompt(promptValue, options, callbacks) {
        const promptMessages = promptValue.toChatMessages();
        return this.call(promptMessages, options, callbacks);
      }
      async predictMessages(messages2, options, callbacks) {
        return this.call(messages2, options, callbacks);
      }
      async predict(text, options, callbacks) {
        const message = new HumanChatMessage(text);
        const result = await this.call([message], options, callbacks);
        return result.text;
      }
    };
  }
});

// node_modules/langchain/dist/util/prompt-layer.js
var promptLayerTrackRequest;
var init_prompt_layer = __esm({
  "node_modules/langchain/dist/util/prompt-layer.js"() {
    promptLayerTrackRequest = async (callerFunc, functionName, prompt, kwargs, plTags, requestResponse, startTime, endTime, apiKey) => {
      const promptLayerResp = await callerFunc.call(fetch, "https://api.promptlayer.com/track-request", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Accept: "application/json"
        },
        body: JSON.stringify({
          function_name: functionName,
          provider: "langchain",
          args: prompt,
          kwargs,
          tags: plTags,
          request_response: requestResponse,
          request_start_time: Math.floor(startTime / 1e3),
          request_end_time: Math.floor(endTime / 1e3),
          api_key: apiKey
        })
      });
      return promptLayerResp.json();
    };
  }
});

// node_modules/langchain/dist/chat_models/openai.js
var openai_exports = {};
__export(openai_exports, {
  ChatOpenAI: () => ChatOpenAI,
  PromptLayerChatOpenAI: () => PromptLayerChatOpenAI
});
function messageTypeToOpenAIRole(type) {
  switch (type) {
    case "system":
      return "system";
    case "ai":
      return "assistant";
    case "human":
      return "user";
    default:
      throw new Error(`Unknown message type: ${type}`);
  }
}
function openAIResponseToChatMessage(role, text) {
  switch (role) {
    case "user":
      return new HumanChatMessage(text);
    case "assistant":
      return new AIChatMessage(text);
    case "system":
      return new SystemChatMessage(text);
    default:
      return new ChatMessage(text, role != null ? role : "unknown");
  }
}
var import_openai, ChatOpenAI, PromptLayerChatOpenAI;
var init_openai = __esm({
  "node_modules/langchain/dist/chat_models/openai.js"() {
    import_openai = __toESM(require_dist2(), 1);
    init_env();
    init_axios_fetch_adapter();
    init_base3();
    init_schema();
    init_count_tokens();
    init_prompt_layer();
    ChatOpenAI = class extends BaseChatModel {
      get callKeys() {
        return ["stop", "signal", "timeout", "options"];
      }
      constructor(fields, configuration) {
        var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m;
        super(fields != null ? fields : {});
        Object.defineProperty(this, "temperature", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 1
        });
        Object.defineProperty(this, "topP", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 1
        });
        Object.defineProperty(this, "frequencyPenalty", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 0
        });
        Object.defineProperty(this, "presencePenalty", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 0
        });
        Object.defineProperty(this, "n", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 1
        });
        Object.defineProperty(this, "logitBias", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "modelName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "gpt-3.5-turbo"
        });
        Object.defineProperty(this, "modelKwargs", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "stop", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "timeout", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "streaming", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: false
        });
        Object.defineProperty(this, "maxTokens", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "azureOpenAIApiVersion", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "azureOpenAIApiKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "azureOpenAIApiInstanceName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "azureOpenAIApiDeploymentName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "client", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "clientConfig", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        const apiKey = (_a = fields == null ? void 0 : fields.openAIApiKey) != null ? _a : getEnvironmentVariable("OPENAI_API_KEY");
        const azureApiKey = (_b = fields == null ? void 0 : fields.azureOpenAIApiKey) != null ? _b : getEnvironmentVariable("AZURE_OPENAI_API_KEY");
        if (!azureApiKey && !apiKey) {
          throw new Error("(Azure) OpenAI API key not found");
        }
        const azureApiInstanceName = (_c = fields == null ? void 0 : fields.azureOpenAIApiInstanceName) != null ? _c : getEnvironmentVariable("AZURE_OPENAI_API_INSTANCE_NAME");
        const azureApiDeploymentName = (_d = fields == null ? void 0 : fields.azureOpenAIApiDeploymentName) != null ? _d : getEnvironmentVariable("AZURE_OPENAI_API_DEPLOYMENT_NAME");
        const azureApiVersion = (_e = fields == null ? void 0 : fields.azureOpenAIApiVersion) != null ? _e : getEnvironmentVariable("AZURE_OPENAI_API_VERSION");
        this.modelName = (_f = fields == null ? void 0 : fields.modelName) != null ? _f : this.modelName;
        this.modelKwargs = (_g = fields == null ? void 0 : fields.modelKwargs) != null ? _g : {};
        this.timeout = fields == null ? void 0 : fields.timeout;
        this.temperature = (_h = fields == null ? void 0 : fields.temperature) != null ? _h : this.temperature;
        this.topP = (_i = fields == null ? void 0 : fields.topP) != null ? _i : this.topP;
        this.frequencyPenalty = (_j = fields == null ? void 0 : fields.frequencyPenalty) != null ? _j : this.frequencyPenalty;
        this.presencePenalty = (_k = fields == null ? void 0 : fields.presencePenalty) != null ? _k : this.presencePenalty;
        this.maxTokens = fields == null ? void 0 : fields.maxTokens;
        this.n = (_l = fields == null ? void 0 : fields.n) != null ? _l : this.n;
        this.logitBias = fields == null ? void 0 : fields.logitBias;
        this.stop = fields == null ? void 0 : fields.stop;
        this.streaming = (_m = fields == null ? void 0 : fields.streaming) != null ? _m : false;
        this.azureOpenAIApiVersion = azureApiVersion;
        this.azureOpenAIApiKey = azureApiKey;
        this.azureOpenAIApiInstanceName = azureApiInstanceName;
        this.azureOpenAIApiDeploymentName = azureApiDeploymentName;
        if (this.streaming && this.n > 1) {
          throw new Error("Cannot stream results when n > 1");
        }
        if (this.azureOpenAIApiKey) {
          if (!this.azureOpenAIApiInstanceName) {
            throw new Error("Azure OpenAI API instance name not found");
          }
          if (!this.azureOpenAIApiDeploymentName) {
            throw new Error("Azure OpenAI API deployment name not found");
          }
          if (!this.azureOpenAIApiVersion) {
            throw new Error("Azure OpenAI API version not found");
          }
        }
        this.clientConfig = {
          apiKey,
          ...configuration
        };
      }
      /**
       * Get the parameters used to invoke the model
       */
      invocationParams() {
        return {
          model: this.modelName,
          temperature: this.temperature,
          top_p: this.topP,
          frequency_penalty: this.frequencyPenalty,
          presence_penalty: this.presencePenalty,
          max_tokens: this.maxTokens === -1 ? void 0 : this.maxTokens,
          n: this.n,
          logit_bias: this.logitBias,
          stop: this.stop,
          stream: this.streaming,
          ...this.modelKwargs
        };
      }
      /** @ignore */
      _identifyingParams() {
        return {
          model_name: this.modelName,
          ...this.invocationParams(),
          ...this.clientConfig
        };
      }
      /**
       * Get the identifying parameters for the model
       */
      identifyingParams() {
        return this._identifyingParams();
      }
      /** @ignore */
      async _generate(messages2, options, runManager) {
        var _a, _b, _c, _d, _e, _f, _g, _h, _i;
        const tokenUsage = {};
        if (this.stop && (options == null ? void 0 : options.stop)) {
          throw new Error("Stop found in input and default params");
        }
        const params = this.invocationParams();
        params.stop = (_a = options == null ? void 0 : options.stop) != null ? _a : params.stop;
        const messagesMapped = messages2.map((message) => ({
          role: messageTypeToOpenAIRole(message._getType()),
          content: message.text,
          name: message.name
        }));
        const data = params.stream ? await new Promise((resolve, reject) => {
          let response;
          let rejected = false;
          let resolved = false;
          this.completionWithRetry({
            ...params,
            messages: messagesMapped
          }, {
            signal: options == null ? void 0 : options.signal,
            ...options == null ? void 0 : options.options,
            adapter: fetchAdapter,
            responseType: "stream",
            onmessage: (event) => {
              var _a2, _b2, _c2, _d2, _e2, _f2, _g2, _h2, _i2, _j;
              if (((_b2 = (_a2 = event.data) == null ? void 0 : _a2.trim) == null ? void 0 : _b2.call(_a2)) === "[DONE]") {
                if (resolved) {
                  return;
                }
                resolved = true;
                resolve(response);
              } else {
                const message = JSON.parse(event.data);
                if (!response) {
                  response = {
                    id: message.id,
                    object: message.object,
                    created: message.created,
                    model: message.model,
                    choices: []
                  };
                }
                for (const part of message.choices) {
                  if (part != null) {
                    let choice = response.choices.find((c) => c.index === part.index);
                    if (!choice) {
                      choice = {
                        index: part.index,
                        finish_reason: (_c2 = part.finish_reason) != null ? _c2 : void 0
                      };
                      response.choices[part.index] = choice;
                    }
                    if (!choice.message) {
                      choice.message = {
                        role: (_d2 = part.delta) == null ? void 0 : _d2.role,
                        content: (_f2 = (_e2 = part.delta) == null ? void 0 : _e2.content) != null ? _f2 : ""
                      };
                    }
                    choice.message.content += (_h2 = (_g2 = part.delta) == null ? void 0 : _g2.content) != null ? _h2 : "";
                    void (runManager == null ? void 0 : runManager.handleLLMNewToken((_j = (_i2 = part.delta) == null ? void 0 : _i2.content) != null ? _j : ""));
                  }
                }
                if (!resolved && message.choices.every((c) => c.finish_reason != null)) {
                  resolved = true;
                  resolve(response);
                }
              }
            }
          }).catch((error) => {
            if (!rejected) {
              rejected = true;
              reject(error);
            }
          });
        }) : await this.completionWithRetry({
          ...params,
          messages: messagesMapped
        }, {
          signal: options == null ? void 0 : options.signal,
          ...options == null ? void 0 : options.options
        });
        const { completion_tokens: completionTokens, prompt_tokens: promptTokens, total_tokens: totalTokens } = (_b = data.usage) != null ? _b : {};
        if (completionTokens) {
          tokenUsage.completionTokens = ((_c = tokenUsage.completionTokens) != null ? _c : 0) + completionTokens;
        }
        if (promptTokens) {
          tokenUsage.promptTokens = ((_d = tokenUsage.promptTokens) != null ? _d : 0) + promptTokens;
        }
        if (totalTokens) {
          tokenUsage.totalTokens = ((_e = tokenUsage.totalTokens) != null ? _e : 0) + totalTokens;
        }
        const generations = [];
        for (const part of data.choices) {
          const role = (_g = (_f = part.message) == null ? void 0 : _f.role) != null ? _g : void 0;
          const text = (_i = (_h = part.message) == null ? void 0 : _h.content) != null ? _i : "";
          generations.push({
            text,
            message: openAIResponseToChatMessage(role, text)
          });
        }
        return {
          generations,
          llmOutput: { tokenUsage }
        };
      }
      async getNumTokensFromMessages(messages2) {
        let totalCount = 0;
        let tokensPerMessage = 0;
        let tokensPerName = 0;
        if (getModelNameForTiktoken(this.modelName) === "gpt-3.5-turbo") {
          tokensPerMessage = 4;
          tokensPerName = -1;
        } else if (getModelNameForTiktoken(this.modelName).startsWith("gpt-4")) {
          tokensPerMessage = 3;
          tokensPerName = 1;
        }
        const countPerMessage = await Promise.all(messages2.map(async (message) => {
          const textCount = await this.getNumTokens(message.text);
          const roleCount = await this.getNumTokens(messageTypeToOpenAIRole(message._getType()));
          const nameCount = message.name !== void 0 ? tokensPerName + await this.getNumTokens(message.name) : 0;
          const count = textCount + tokensPerMessage + roleCount + nameCount;
          totalCount += count;
          return count;
        }));
        totalCount += 3;
        return { totalCount, countPerMessage };
      }
      /** @ignore */
      async completionWithRetry(request, options) {
        if (!this.client) {
          const endpoint = this.azureOpenAIApiKey ? `https://${this.azureOpenAIApiInstanceName}.openai.azure.com/openai/deployments/${this.azureOpenAIApiDeploymentName}` : this.clientConfig.basePath;
          const clientConfig = new import_openai.Configuration({
            ...this.clientConfig,
            basePath: endpoint,
            baseOptions: {
              timeout: this.timeout,
              ...this.clientConfig.baseOptions
            }
          });
          this.client = new import_openai.OpenAIApi(clientConfig);
        }
        const axiosOptions = {
          adapter: isNode() ? void 0 : fetchAdapter,
          ...this.clientConfig.baseOptions,
          ...options
        };
        if (this.azureOpenAIApiKey) {
          axiosOptions.headers = {
            "api-key": this.azureOpenAIApiKey,
            ...axiosOptions.headers
          };
          axiosOptions.params = {
            "api-version": this.azureOpenAIApiVersion,
            ...axiosOptions.params
          };
        }
        return this.caller.call(this.client.createChatCompletion.bind(this.client), request, axiosOptions).then((res) => res.data);
      }
      _llmType() {
        return "openai";
      }
      /** @ignore */
      _combineLLMOutput(...llmOutputs) {
        return llmOutputs.reduce((acc, llmOutput) => {
          var _a, _b, _c;
          if (llmOutput && llmOutput.tokenUsage) {
            acc.tokenUsage.completionTokens += (_a = llmOutput.tokenUsage.completionTokens) != null ? _a : 0;
            acc.tokenUsage.promptTokens += (_b = llmOutput.tokenUsage.promptTokens) != null ? _b : 0;
            acc.tokenUsage.totalTokens += (_c = llmOutput.tokenUsage.totalTokens) != null ? _c : 0;
          }
          return acc;
        }, {
          tokenUsage: {
            completionTokens: 0,
            promptTokens: 0,
            totalTokens: 0
          }
        });
      }
    };
    PromptLayerChatOpenAI = class extends ChatOpenAI {
      constructor(fields) {
        var _a, _b, _c, _d;
        super(fields);
        Object.defineProperty(this, "promptLayerApiKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "plTags", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "returnPromptLayerId", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.promptLayerApiKey = (_b = fields == null ? void 0 : fields.promptLayerApiKey) != null ? _b : typeof process !== "undefined" ? (
          // eslint-disable-next-line no-process-env
          (_a = process.env) == null ? void 0 : _a.PROMPTLAYER_API_KEY
        ) : void 0;
        this.plTags = (_c = fields == null ? void 0 : fields.plTags) != null ? _c : [];
        this.returnPromptLayerId = (_d = fields == null ? void 0 : fields.returnPromptLayerId) != null ? _d : false;
      }
      async _generate(messages2, options, runManager) {
        const requestStartTime = Date.now();
        let parsedOptions;
        if (Array.isArray(options)) {
          parsedOptions = { stop: options };
        } else if ((options == null ? void 0 : options.timeout) && !options.signal) {
          parsedOptions = {
            ...options,
            signal: AbortSignal.timeout(options.timeout)
          };
        } else {
          parsedOptions = options != null ? options : {};
        }
        const generatedResponses = await super._generate(messages2, parsedOptions, runManager);
        const requestEndTime = Date.now();
        const _convertMessageToDict = (message) => {
          let messageDict;
          if (message._getType() === "human") {
            messageDict = { role: "user", content: message.text };
          } else if (message._getType() === "ai") {
            messageDict = { role: "assistant", content: message.text };
          } else if (message._getType() === "system") {
            messageDict = { role: "system", content: message.text };
          } else if (message._getType() === "generic") {
            messageDict = {
              role: message.role,
              content: message.text
            };
          } else {
            throw new Error(`Got unknown type ${message}`);
          }
          return messageDict;
        };
        const _createMessageDicts = (messages3, callOptions) => {
          const params = {
            ...this.invocationParams(),
            model: this.modelName
          };
          if (callOptions == null ? void 0 : callOptions.stop) {
            if (Object.keys(params).includes("stop")) {
              throw new Error("`stop` found in both the input and default params.");
            }
          }
          const messageDicts = messages3.map((message) => _convertMessageToDict(message));
          return messageDicts;
        };
        for (let i = 0; i < generatedResponses.generations.length; i += 1) {
          const generation = generatedResponses.generations[i];
          const messageDicts = _createMessageDicts(messages2, parsedOptions);
          let promptLayerRequestId;
          const parsedResp = [
            {
              content: generation.text,
              role: messageTypeToOpenAIRole(generation.message._getType())
            }
          ];
          const promptLayerRespBody = await promptLayerTrackRequest(this.caller, "langchain.PromptLayerChatOpenAI", messageDicts, this._identifyingParams(), this.plTags, parsedResp, requestStartTime, requestEndTime, this.promptLayerApiKey);
          if (this.returnPromptLayerId === true) {
            if (promptLayerRespBody.success === true) {
              promptLayerRequestId = promptLayerRespBody.request_id;
            }
            if (!generation.generationInfo || typeof generation.generationInfo !== "object") {
              generation.generationInfo = {};
            }
            generation.generationInfo.promptLayerRequestId = promptLayerRequestId;
          }
        }
        return generatedResponses;
      }
    };
  }
});

// node_modules/langchain/dist/base_language/index.js
var getVerbosity, BaseLangChain, BaseLanguageModel;
var init_base_language = __esm({
  "node_modules/langchain/dist/base_language/index.js"() {
    init_async_caller();
    init_count_tokens();
    init_tiktoken();
    init_count_tokens();
    getVerbosity = () => false;
    BaseLangChain = class {
      constructor(params) {
        var _a;
        Object.defineProperty(this, "verbose", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "callbacks", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.verbose = (_a = params.verbose) != null ? _a : getVerbosity();
        this.callbacks = params.callbacks;
      }
    };
    BaseLanguageModel = class extends BaseLangChain {
      /**
       * Keys that the language model accepts as call options.
       */
      get callKeys() {
        return ["stop", "timeout", "signal"];
      }
      constructor(params) {
        var _a;
        super({
          verbose: params.verbose,
          callbacks: (_a = params.callbacks) != null ? _a : params.callbackManager
        });
        Object.defineProperty(this, "caller", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "_encoding", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.caller = new AsyncCaller(params != null ? params : {});
      }
      async getNumTokens(text) {
        let numTokens = Math.ceil(text.length / 4);
        if (!this._encoding) {
          try {
            this._encoding = await encodingForModel("modelName" in this ? getModelNameForTiktoken(this.modelName) : "gpt2");
          } catch (error) {
            console.warn("Failed to calculate number of tokens, falling back to approximate count", error);
          }
        }
        if (this._encoding) {
          numTokens = this._encoding.encode(text).length;
        }
        return numTokens;
      }
      /**
       * Get the identifying parameters of the LLM.
       */
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      _identifyingParams() {
        return {};
      }
      /**
       * Return a json-like object representing this LLM.
       */
      serialize() {
        return {
          ...this._identifyingParams(),
          _type: this._llmType(),
          _model: this._modelType()
        };
      }
      /**
       * Load an LLM from a json-like object describing it.
       */
      static async deserialize(data) {
        const { _type, _model, ...rest } = data;
        if (_model && _model !== "base_chat_model") {
          throw new Error(`Cannot load LLM with model ${_model}`);
        }
        const Cls = {
          openai: (await Promise.resolve().then(() => (init_openai(), openai_exports))).ChatOpenAI
        }[_type];
        if (Cls === void 0) {
          throw new Error(`Cannot load  LLM with type ${_type}`);
        }
        return new Cls(rest);
      }
    };
  }
});

// node_modules/langchain/dist/prompts/template.js
var parseFString, interpolateFString, DEFAULT_FORMATTER_MAPPING, DEFAULT_PARSER_MAPPING, renderTemplate, parseTemplate, checkValidTemplate;
var init_template = __esm({
  "node_modules/langchain/dist/prompts/template.js"() {
    parseFString = (template) => {
      const chars = template.split("");
      const nodes = [];
      const nextBracket = (bracket, start) => {
        for (let i2 = start; i2 < chars.length; i2 += 1) {
          if (bracket.includes(chars[i2])) {
            return i2;
          }
        }
        return -1;
      };
      let i = 0;
      while (i < chars.length) {
        if (chars[i] === "{" && i + 1 < chars.length && chars[i + 1] === "{") {
          nodes.push({ type: "literal", text: "{" });
          i += 2;
        } else if (chars[i] === "}" && i + 1 < chars.length && chars[i + 1] === "}") {
          nodes.push({ type: "literal", text: "}" });
          i += 2;
        } else if (chars[i] === "{") {
          const j = nextBracket("}", i);
          if (j < 0) {
            throw new Error("Unclosed '{' in template.");
          }
          nodes.push({
            type: "variable",
            name: chars.slice(i + 1, j).join("")
          });
          i = j + 1;
        } else if (chars[i] === "}") {
          throw new Error("Single '}' in template.");
        } else {
          const next = nextBracket("{}", i);
          const text = (next < 0 ? chars.slice(i) : chars.slice(i, next)).join("");
          nodes.push({ type: "literal", text });
          i = next < 0 ? chars.length : next;
        }
      }
      return nodes;
    };
    interpolateFString = (template, values) => parseFString(template).reduce((res, node) => {
      if (node.type === "variable") {
        if (node.name in values) {
          return res + values[node.name];
        }
        throw new Error(`Missing value for input ${node.name}`);
      }
      return res + node.text;
    }, "");
    DEFAULT_FORMATTER_MAPPING = {
      "f-string": interpolateFString,
      jinja2: (_, __) => ""
    };
    DEFAULT_PARSER_MAPPING = {
      "f-string": parseFString,
      jinja2: (_) => []
    };
    renderTemplate = (template, templateFormat, inputValues) => DEFAULT_FORMATTER_MAPPING[templateFormat](template, inputValues);
    parseTemplate = (template, templateFormat) => DEFAULT_PARSER_MAPPING[templateFormat](template);
    checkValidTemplate = (template, templateFormat, inputVariables) => {
      if (!(templateFormat in DEFAULT_FORMATTER_MAPPING)) {
        const validFormats = Object.keys(DEFAULT_FORMATTER_MAPPING);
        throw new Error(`Invalid template format. Got \`${templateFormat}\`;
                         should be one of ${validFormats}`);
      }
      try {
        const dummyInputs = inputVariables.reduce((acc, v) => {
          acc[v] = "foo";
          return acc;
        }, {});
        renderTemplate(template, templateFormat, dummyInputs);
      } catch (e) {
        throw new Error("Invalid prompt schema.");
      }
    };
  }
});

// node_modules/langchain/dist/prompts/prompt.js
var prompt_exports = {};
__export(prompt_exports, {
  PromptTemplate: () => PromptTemplate
});
var PromptTemplate;
var init_prompt = __esm({
  "node_modules/langchain/dist/prompts/prompt.js"() {
    init_base4();
    init_template();
    PromptTemplate = class extends BaseStringPromptTemplate {
      constructor(input) {
        super(input);
        Object.defineProperty(this, "template", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "templateFormat", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "f-string"
        });
        Object.defineProperty(this, "validateTemplate", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: true
        });
        Object.assign(this, input);
        if (this.validateTemplate) {
          let totalInputVariables = this.inputVariables;
          if (this.partialVariables) {
            totalInputVariables = totalInputVariables.concat(Object.keys(this.partialVariables));
          }
          checkValidTemplate(this.template, this.templateFormat, totalInputVariables);
        }
      }
      _getPromptType() {
        return "prompt";
      }
      async format(values) {
        const allValues = await this.mergePartialAndUserVariables(values);
        return renderTemplate(this.template, this.templateFormat, allValues);
      }
      /**
       * Take examples in list format with prefix and suffix to create a prompt.
       *
       * Intendend to be used a a way to dynamically create a prompt from examples.
       *
       * @param examples - List of examples to use in the prompt.
       * @param suffix - String to go after the list of examples. Should generally set up the user's input.
       * @param inputVariables - A list of variable names the final prompt template will expect
       * @param exampleSeparator - The separator to use in between examples
       * @param prefix - String that should go before any examples. Generally includes examples.
       *
       * @returns The final prompt template generated.
       */
      static fromExamples(examples, suffix, inputVariables, exampleSeparator = "\n\n", prefix = "") {
        const template = [prefix, ...examples, suffix].join(exampleSeparator);
        return new PromptTemplate({
          inputVariables,
          template
        });
      }
      /**
       * Load prompt template from a template f-string
       */
      static fromTemplate(template, { templateFormat = "f-string", ...rest } = {}) {
        const names = /* @__PURE__ */ new Set();
        parseTemplate(template, templateFormat).forEach((node) => {
          if (node.type === "variable") {
            names.add(node.name);
          }
        });
        return new PromptTemplate({
          inputVariables: [...names],
          templateFormat,
          template,
          ...rest
        });
      }
      async partial(values) {
        var _a;
        const promptDict = { ...this };
        promptDict.inputVariables = this.inputVariables.filter((iv) => !(iv in values));
        promptDict.partialVariables = {
          ...(_a = this.partialVariables) != null ? _a : {},
          ...values
        };
        return new PromptTemplate(promptDict);
      }
      serialize() {
        if (this.outputParser !== void 0) {
          throw new Error("Cannot serialize a prompt template with an output parser");
        }
        return {
          _type: this._getPromptType(),
          input_variables: this.inputVariables,
          template: this.template,
          template_format: this.templateFormat
        };
      }
      static async deserialize(data) {
        if (!data.template) {
          throw new Error("Prompt template must have a template");
        }
        const res = new PromptTemplate({
          inputVariables: data.input_variables,
          template: data.template,
          templateFormat: data.template_format
        });
        return res;
      }
    };
  }
});

// node_modules/langchain/dist/prompts/few_shot.js
var few_shot_exports = {};
__export(few_shot_exports, {
  FewShotPromptTemplate: () => FewShotPromptTemplate
});
var FewShotPromptTemplate;
var init_few_shot = __esm({
  "node_modules/langchain/dist/prompts/few_shot.js"() {
    init_base4();
    init_template();
    init_prompt();
    FewShotPromptTemplate = class extends BaseStringPromptTemplate {
      constructor(input) {
        super(input);
        Object.defineProperty(this, "examples", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "exampleSelector", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "examplePrompt", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "suffix", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: ""
        });
        Object.defineProperty(this, "exampleSeparator", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "\n\n"
        });
        Object.defineProperty(this, "prefix", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: ""
        });
        Object.defineProperty(this, "templateFormat", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "f-string"
        });
        Object.defineProperty(this, "validateTemplate", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: true
        });
        Object.assign(this, input);
        if (this.examples !== void 0 && this.exampleSelector !== void 0) {
          throw new Error("Only one of 'examples' and 'example_selector' should be provided");
        }
        if (this.examples === void 0 && this.exampleSelector === void 0) {
          throw new Error("One of 'examples' and 'example_selector' should be provided");
        }
        if (this.validateTemplate) {
          let totalInputVariables = this.inputVariables;
          if (this.partialVariables) {
            totalInputVariables = totalInputVariables.concat(Object.keys(this.partialVariables));
          }
          checkValidTemplate(this.prefix + this.suffix, this.templateFormat, totalInputVariables);
        }
      }
      _getPromptType() {
        return "few_shot";
      }
      async getExamples(inputVariables) {
        if (this.examples !== void 0) {
          return this.examples;
        }
        if (this.exampleSelector !== void 0) {
          return this.exampleSelector.selectExamples(inputVariables);
        }
        throw new Error("One of 'examples' and 'example_selector' should be provided");
      }
      async partial(values) {
        var _a;
        const promptDict = { ...this };
        promptDict.inputVariables = this.inputVariables.filter((iv) => !(iv in values));
        promptDict.partialVariables = {
          ...(_a = this.partialVariables) != null ? _a : {},
          ...values
        };
        return new FewShotPromptTemplate(promptDict);
      }
      async format(values) {
        const allValues = await this.mergePartialAndUserVariables(values);
        const examples = await this.getExamples(allValues);
        const exampleStrings = await Promise.all(examples.map((example) => this.examplePrompt.format(example)));
        const template = [this.prefix, ...exampleStrings, this.suffix].join(this.exampleSeparator);
        return renderTemplate(template, this.templateFormat, allValues);
      }
      serialize() {
        if (this.exampleSelector || !this.examples) {
          throw new Error("Serializing an example selector is not currently supported");
        }
        if (this.outputParser !== void 0) {
          throw new Error("Serializing an output parser is not currently supported");
        }
        return {
          _type: this._getPromptType(),
          input_variables: this.inputVariables,
          example_prompt: this.examplePrompt.serialize(),
          example_separator: this.exampleSeparator,
          suffix: this.suffix,
          prefix: this.prefix,
          template_format: this.templateFormat,
          examples: this.examples
        };
      }
      static async deserialize(data) {
        const { example_prompt } = data;
        if (!example_prompt) {
          throw new Error("Missing example prompt");
        }
        const examplePrompt = await PromptTemplate.deserialize(example_prompt);
        let examples;
        if (Array.isArray(data.examples)) {
          examples = data.examples;
        } else {
          throw new Error("Invalid examples format. Only list or string are supported.");
        }
        return new FewShotPromptTemplate({
          inputVariables: data.input_variables,
          examplePrompt,
          examples,
          exampleSeparator: data.example_separator,
          prefix: data.prefix,
          suffix: data.suffix,
          templateFormat: data.template_format
        });
      }
    };
  }
});

// node_modules/langchain/dist/prompts/base.js
var StringPromptValue, BasePromptTemplate, BaseStringPromptTemplate;
var init_base4 = __esm({
  "node_modules/langchain/dist/prompts/base.js"() {
    init_schema();
    StringPromptValue = class extends BasePromptValue {
      constructor(value) {
        super();
        Object.defineProperty(this, "value", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.value = value;
      }
      toString() {
        return this.value;
      }
      toChatMessages() {
        return [new HumanChatMessage(this.value)];
      }
    };
    BasePromptTemplate = class {
      constructor(input) {
        Object.defineProperty(this, "inputVariables", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "outputParser", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "partialVariables", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        const { inputVariables } = input;
        if (inputVariables.includes("stop")) {
          throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");
        }
        Object.assign(this, input);
      }
      async mergePartialAndUserVariables(userVariables) {
        var _a;
        const partialVariables = (_a = this.partialVariables) != null ? _a : {};
        const partialValues = {};
        for (const [key, value] of Object.entries(partialVariables)) {
          if (typeof value === "string") {
            partialValues[key] = value;
          } else {
            partialValues[key] = await value();
          }
        }
        const allKwargs = { ...partialValues, ...userVariables };
        return allKwargs;
      }
      /**
       * Load a prompt template from a json-like object describing it.
       *
       * @remarks
       * Deserializing needs to be async because templates (e.g. {@link FewShotPromptTemplate}) can
       * reference remote resources that we read asynchronously with a web
       * request.
       */
      static async deserialize(data) {
        switch (data._type) {
          case "prompt": {
            const { PromptTemplate: PromptTemplate2 } = await Promise.resolve().then(() => (init_prompt(), prompt_exports));
            return PromptTemplate2.deserialize(data);
          }
          case void 0: {
            const { PromptTemplate: PromptTemplate2 } = await Promise.resolve().then(() => (init_prompt(), prompt_exports));
            return PromptTemplate2.deserialize({ ...data, _type: "prompt" });
          }
          case "few_shot": {
            const { FewShotPromptTemplate: FewShotPromptTemplate2 } = await Promise.resolve().then(() => (init_few_shot(), few_shot_exports));
            return FewShotPromptTemplate2.deserialize(data);
          }
          default:
            throw new Error(`Invalid prompt type in config: ${data._type}`);
        }
      }
    };
    BaseStringPromptTemplate = class extends BasePromptTemplate {
      async formatPromptValue(values) {
        const formattedPrompt = await this.format(values);
        return new StringPromptValue(formattedPrompt);
      }
    };
  }
});

// node_modules/langchain/dist/chains/llm_chain.js
var llm_chain_exports = {};
__export(llm_chain_exports, {
  LLMChain: () => LLMChain
});
var LLMChain;
var init_llm_chain = __esm({
  "node_modules/langchain/dist/chains/llm_chain.js"() {
    init_base5();
    init_base4();
    init_base_language();
    LLMChain = class extends BaseChain {
      get inputKeys() {
        return this.prompt.inputVariables;
      }
      get outputKeys() {
        return [this.outputKey];
      }
      constructor(fields) {
        var _a, _b;
        super(fields);
        Object.defineProperty(this, "prompt", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "llm", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "outputKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "text"
        });
        Object.defineProperty(this, "outputParser", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.prompt = fields.prompt;
        this.llm = fields.llm;
        this.outputKey = (_a = fields.outputKey) != null ? _a : this.outputKey;
        this.outputParser = (_b = fields.outputParser) != null ? _b : this.outputParser;
        if (this.prompt.outputParser) {
          if (this.outputParser) {
            throw new Error("Cannot set both outputParser and prompt.outputParser");
          }
          this.outputParser = this.prompt.outputParser;
        }
      }
      /** @ignore */
      async _getFinalOutput(generations, promptValue, runManager) {
        const completion = generations[0].text;
        let finalCompletion;
        if (this.outputParser) {
          finalCompletion = await this.outputParser.parseWithPrompt(completion, promptValue, runManager == null ? void 0 : runManager.getChild());
        } else {
          finalCompletion = completion;
        }
        return finalCompletion;
      }
      /**
       * Run the core logic of this chain and add to output if desired.
       *
       * Wraps _call and handles memory.
       */
      call(values, callbacks) {
        return super.call(values, callbacks);
      }
      /** @ignore */
      async _call(values, runManager) {
        const valuesForPrompt = { ...values };
        const valuesForLLM = {};
        for (const key of this.llm.callKeys) {
          if (key in values) {
            valuesForLLM[key] = values[key];
            delete valuesForPrompt[key];
          }
        }
        const promptValue = await this.prompt.formatPromptValue(valuesForPrompt);
        const { generations } = await this.llm.generatePrompt([promptValue], valuesForLLM, runManager == null ? void 0 : runManager.getChild());
        return {
          [this.outputKey]: await this._getFinalOutput(generations[0], promptValue, runManager)
        };
      }
      /**
       * Format prompt with values and pass to LLM
       *
       * @param values - keys to pass to prompt template
       * @param callbackManager - CallbackManager to use
       * @returns Completion from LLM.
       *
       * @example
       * ```ts
       * llm.predict({ adjective: "funny" })
       * ```
       */
      async predict(values, callbackManager) {
        const output = await this.call(values, callbackManager);
        return output[this.outputKey];
      }
      _chainType() {
        return "llm_chain";
      }
      static async deserialize(data) {
        const { llm, prompt } = data;
        if (!llm) {
          throw new Error("LLMChain must have llm");
        }
        if (!prompt) {
          throw new Error("LLMChain must have prompt");
        }
        return new LLMChain({
          llm: await BaseLanguageModel.deserialize(llm),
          prompt: await BasePromptTemplate.deserialize(prompt)
        });
      }
      serialize() {
        return {
          _type: this._chainType(),
          llm: this.llm.serialize(),
          prompt: this.prompt.serialize()
        };
      }
    };
  }
});

// node_modules/langchain/dist/util/set.js
function intersection(setA, setB) {
  const _intersection = /* @__PURE__ */ new Set();
  for (const elem of setB) {
    if (setA.has(elem)) {
      _intersection.add(elem);
    }
  }
  return _intersection;
}
function union(setA, setB) {
  const _union = new Set(setA);
  for (const elem of setB) {
    _union.add(elem);
  }
  return _union;
}
function difference(setA, setB) {
  const _difference = new Set(setA);
  for (const elem of setB) {
    _difference.delete(elem);
  }
  return _difference;
}
var init_set = __esm({
  "node_modules/langchain/dist/util/set.js"() {
  }
});

// node_modules/langchain/dist/chains/sequential_chain.js
var sequential_chain_exports = {};
__export(sequential_chain_exports, {
  SequentialChain: () => SequentialChain,
  SimpleSequentialChain: () => SimpleSequentialChain
});
function formatSet(input) {
  return Array.from(input).map((i) => `"${i}"`).join(", ");
}
var SequentialChain, SimpleSequentialChain;
var init_sequential_chain = __esm({
  "node_modules/langchain/dist/chains/sequential_chain.js"() {
    init_base5();
    init_set();
    SequentialChain = class extends BaseChain {
      get inputKeys() {
        return this.inputVariables;
      }
      get outputKeys() {
        return this.outputVariables;
      }
      constructor(fields) {
        var _a, _b;
        super(fields);
        Object.defineProperty(this, "chains", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "inputVariables", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "outputVariables", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "returnAll", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.chains = fields.chains;
        this.inputVariables = fields.inputVariables;
        this.outputVariables = (_a = fields.outputVariables) != null ? _a : [];
        if (this.outputVariables.length > 0 && fields.returnAll) {
          throw new Error("Either specify variables to return using `outputVariables` or use `returnAll` param. Cannot apply both conditions at the same time.");
        }
        this.returnAll = (_b = fields.returnAll) != null ? _b : false;
        this._validateChains();
      }
      /** @ignore */
      _validateChains() {
        var _a, _b;
        if (this.chains.length === 0) {
          throw new Error("Sequential chain must have at least one chain.");
        }
        const memoryKeys = (_b = (_a = this.memory) == null ? void 0 : _a.memoryKeys) != null ? _b : [];
        const inputKeysSet = new Set(this.inputKeys);
        const memoryKeysSet = new Set(memoryKeys);
        const keysIntersection = intersection(inputKeysSet, memoryKeysSet);
        if (keysIntersection.size > 0) {
          throw new Error(`The following keys: ${formatSet(keysIntersection)} are overlapping between memory and input keys of the chain variables. This can lead to unexpected behaviour. Please use input and memory keys that don't overlap.`);
        }
        const availableKeys = union(inputKeysSet, memoryKeysSet);
        for (const chain of this.chains) {
          const missingKeys = difference(new Set(chain.inputKeys), availableKeys);
          if (missingKeys.size > 0) {
            throw new Error(`Missing variables for chain "${chain._chainType()}": ${formatSet(missingKeys)}. Only got the following variables: ${formatSet(availableKeys)}.`);
          }
          const outputKeysSet = new Set(chain.outputKeys);
          const overlappingOutputKeys = intersection(availableKeys, outputKeysSet);
          if (overlappingOutputKeys.size > 0) {
            throw new Error(`The following output variables for chain "${chain._chainType()}" are overlapping: ${formatSet(overlappingOutputKeys)}. This can lead to unexpected behaviour.`);
          }
          for (const outputKey of outputKeysSet) {
            availableKeys.add(outputKey);
          }
        }
        if (this.outputVariables.length === 0) {
          if (this.returnAll) {
            const outputKeys = difference(availableKeys, inputKeysSet);
            this.outputVariables = Array.from(outputKeys);
          } else {
            this.outputVariables = this.chains[this.chains.length - 1].outputKeys;
          }
        } else {
          const missingKeys = difference(new Set(this.outputVariables), new Set(availableKeys));
          if (missingKeys.size > 0) {
            throw new Error(`The following output variables were expected to be in the final chain output but were not found: ${formatSet(missingKeys)}.`);
          }
        }
      }
      /** @ignore */
      async _call(values, runManager) {
        let input = {};
        const allChainValues = values;
        for (const chain of this.chains) {
          input = await chain.call(allChainValues, runManager == null ? void 0 : runManager.getChild());
          for (const key of Object.keys(input)) {
            allChainValues[key] = input[key];
          }
        }
        const output = {};
        for (const key of this.outputVariables) {
          output[key] = allChainValues[key];
        }
        return output;
      }
      _chainType() {
        return "sequential_chain";
      }
      static async deserialize(data) {
        const chains = [];
        const inputVariables = data.input_variables;
        const outputVariables = data.output_variables;
        const serializedChains = data.chains;
        for (const serializedChain of serializedChains) {
          const deserializedChain = await BaseChain.deserialize(serializedChain);
          chains.push(deserializedChain);
        }
        return new SequentialChain({ chains, inputVariables, outputVariables });
      }
      serialize() {
        const chains = [];
        for (const chain of this.chains) {
          chains.push(chain.serialize());
        }
        return {
          _type: this._chainType(),
          input_variables: this.inputVariables,
          output_variables: this.outputVariables,
          chains
        };
      }
    };
    SimpleSequentialChain = class extends BaseChain {
      get inputKeys() {
        return [this.inputKey];
      }
      get outputKeys() {
        return [this.outputKey];
      }
      constructor(fields) {
        var _a, _b;
        super(fields.memory, fields.verbose, (_a = fields.callbacks) != null ? _a : fields.callbackManager);
        Object.defineProperty(this, "chains", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "inputKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "input"
        });
        Object.defineProperty(this, "outputKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "output"
        });
        Object.defineProperty(this, "trimOutputs", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.chains = fields.chains;
        this.trimOutputs = (_b = fields.trimOutputs) != null ? _b : false;
        this._validateChains();
      }
      /** @ignore */
      _validateChains() {
        for (const chain of this.chains) {
          if (chain.inputKeys.length !== 1) {
            throw new Error(`Chains used in SimpleSequentialChain should all have one input, got ${chain.inputKeys.length} for ${chain._chainType()}.`);
          }
          if (chain.outputKeys.length !== 1) {
            throw new Error(`Chains used in SimpleSequentialChain should all have one output, got ${chain.outputKeys.length} for ${chain._chainType()}.`);
          }
        }
      }
      /** @ignore */
      async _call(values, runManager) {
        let input = values[this.inputKey];
        for (const chain of this.chains) {
          input = await chain.run(input, runManager == null ? void 0 : runManager.getChild());
          if (this.trimOutputs) {
            input = input.trim();
          }
          await (runManager == null ? void 0 : runManager.handleText(input));
        }
        return { [this.outputKey]: input };
      }
      _chainType() {
        return "simple_sequential_chain";
      }
      static async deserialize(data) {
        const chains = [];
        const serializedChains = data.chains;
        for (const serializedChain of serializedChains) {
          const deserializedChain = await BaseChain.deserialize(serializedChain);
          chains.push(deserializedChain);
        }
        return new SimpleSequentialChain({ chains });
      }
      serialize() {
        const chains = [];
        for (const chain of this.chains) {
          chains.push(chain.serialize());
        }
        return {
          _type: this._chainType(),
          chains
        };
      }
    };
  }
});

// node_modules/langchain/dist/chains/combine_docs_chain.js
var combine_docs_chain_exports = {};
__export(combine_docs_chain_exports, {
  MapReduceDocumentsChain: () => MapReduceDocumentsChain,
  RefineDocumentsChain: () => RefineDocumentsChain,
  StuffDocumentsChain: () => StuffDocumentsChain
});
var StuffDocumentsChain, MapReduceDocumentsChain, RefineDocumentsChain;
var init_combine_docs_chain = __esm({
  "node_modules/langchain/dist/chains/combine_docs_chain.js"() {
    init_base5();
    init_llm_chain();
    init_prompt();
    StuffDocumentsChain = class extends BaseChain {
      get inputKeys() {
        return [this.inputKey, ...this.llmChain.inputKeys];
      }
      get outputKeys() {
        return this.llmChain.outputKeys;
      }
      constructor(fields) {
        var _a, _b;
        super(fields);
        Object.defineProperty(this, "llmChain", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "inputKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "input_documents"
        });
        Object.defineProperty(this, "documentVariableName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "context"
        });
        this.llmChain = fields.llmChain;
        this.documentVariableName = (_a = fields.documentVariableName) != null ? _a : this.documentVariableName;
        this.inputKey = (_b = fields.inputKey) != null ? _b : this.inputKey;
      }
      /** @ignore */
      async _call(values, runManager) {
        if (!(this.inputKey in values)) {
          throw new Error(`Document key ${this.inputKey} not found.`);
        }
        const { [this.inputKey]: docs, ...rest } = values;
        const texts = docs.map(({ pageContent }) => pageContent);
        const text = texts.join("\n\n");
        const result = await this.llmChain.call({
          ...rest,
          [this.documentVariableName]: text
        }, runManager == null ? void 0 : runManager.getChild());
        return result;
      }
      _chainType() {
        return "stuff_documents_chain";
      }
      static async deserialize(data) {
        if (!data.llm_chain) {
          throw new Error("Missing llm_chain");
        }
        return new StuffDocumentsChain({
          llmChain: await LLMChain.deserialize(data.llm_chain)
        });
      }
      serialize() {
        return {
          _type: this._chainType(),
          llm_chain: this.llmChain.serialize()
        };
      }
    };
    MapReduceDocumentsChain = class extends BaseChain {
      get inputKeys() {
        return [this.inputKey, ...this.combineDocumentChain.inputKeys];
      }
      get outputKeys() {
        return this.combineDocumentChain.outputKeys;
      }
      constructor(fields) {
        var _a, _b, _c, _d, _e, _f;
        super(fields);
        Object.defineProperty(this, "llmChain", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "inputKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "input_documents"
        });
        Object.defineProperty(this, "documentVariableName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "context"
        });
        Object.defineProperty(this, "returnIntermediateSteps", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: false
        });
        Object.defineProperty(this, "maxTokens", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 3e3
        });
        Object.defineProperty(this, "maxIterations", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 10
        });
        Object.defineProperty(this, "ensureMapStep", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: false
        });
        Object.defineProperty(this, "combineDocumentChain", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.llmChain = fields.llmChain;
        this.combineDocumentChain = fields.combineDocumentChain;
        this.documentVariableName = (_a = fields.documentVariableName) != null ? _a : this.documentVariableName;
        this.ensureMapStep = (_b = fields.ensureMapStep) != null ? _b : this.ensureMapStep;
        this.inputKey = (_c = fields.inputKey) != null ? _c : this.inputKey;
        this.maxTokens = (_d = fields.maxTokens) != null ? _d : this.maxTokens;
        this.maxIterations = (_e = fields.maxIterations) != null ? _e : this.maxIterations;
        this.returnIntermediateSteps = (_f = fields.returnIntermediateSteps) != null ? _f : false;
      }
      /** @ignore */
      async _call(values, runManager) {
        if (!(this.inputKey in values)) {
          throw new Error(`Document key ${this.inputKey} not found.`);
        }
        const { [this.inputKey]: docs, ...rest } = values;
        let currentDocs = docs;
        let intermediateSteps = [];
        for (let i = 0; i < this.maxIterations; i += 1) {
          const inputs = currentDocs.map((d) => ({
            [this.documentVariableName]: d.pageContent,
            ...rest
          }));
          const promises = inputs.map(async (i2) => {
            const prompt = await this.llmChain.prompt.format(i2);
            return this.llmChain.llm.getNumTokens(prompt);
          });
          const length = await Promise.all(promises).then((results2) => results2.reduce((a, b) => a + b, 0));
          const canSkipMapStep = i !== 0 || !this.ensureMapStep;
          const withinTokenLimit = length < this.maxTokens;
          if (canSkipMapStep && withinTokenLimit) {
            break;
          }
          const results = await this.llmChain.apply(inputs, runManager ? [runManager.getChild()] : void 0);
          const { outputKey } = this.llmChain;
          if (this.returnIntermediateSteps) {
            intermediateSteps = intermediateSteps.concat(results.map((r) => r[outputKey]));
          }
          currentDocs = results.map((r) => ({
            pageContent: r[outputKey]
          }));
        }
        const newInputs = { input_documents: currentDocs, ...rest };
        const result = await this.combineDocumentChain.call(newInputs, runManager == null ? void 0 : runManager.getChild());
        if (this.returnIntermediateSteps) {
          return { ...result, intermediateSteps };
        }
        return result;
      }
      _chainType() {
        return "map_reduce_documents_chain";
      }
      static async deserialize(data) {
        if (!data.llm_chain) {
          throw new Error("Missing llm_chain");
        }
        if (!data.combine_document_chain) {
          throw new Error("Missing combine_document_chain");
        }
        return new MapReduceDocumentsChain({
          llmChain: await LLMChain.deserialize(data.llm_chain),
          combineDocumentChain: await BaseChain.deserialize(data.combine_document_chain)
        });
      }
      serialize() {
        return {
          _type: this._chainType(),
          llm_chain: this.llmChain.serialize(),
          combine_document_chain: this.combineDocumentChain.serialize()
        };
      }
    };
    RefineDocumentsChain = class extends BaseChain {
      get defaultDocumentPrompt() {
        return new PromptTemplate({
          inputVariables: ["page_content"],
          template: "{page_content}"
        });
      }
      get inputKeys() {
        return [this.inputKey, ...this.refineLLMChain.inputKeys];
      }
      get outputKeys() {
        return [this.outputKey];
      }
      constructor(fields) {
        var _a, _b, _c, _d, _e;
        super(fields);
        Object.defineProperty(this, "llmChain", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "inputKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "input_documents"
        });
        Object.defineProperty(this, "outputKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "output_text"
        });
        Object.defineProperty(this, "documentVariableName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "context"
        });
        Object.defineProperty(this, "initialResponseName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "existing_answer"
        });
        Object.defineProperty(this, "refineLLMChain", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "documentPrompt", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: this.defaultDocumentPrompt
        });
        this.llmChain = fields.llmChain;
        this.refineLLMChain = fields.refineLLMChain;
        this.documentVariableName = (_a = fields.documentVariableName) != null ? _a : this.documentVariableName;
        this.inputKey = (_b = fields.inputKey) != null ? _b : this.inputKey;
        this.outputKey = (_c = fields.outputKey) != null ? _c : this.outputKey;
        this.documentPrompt = (_d = fields.documentPrompt) != null ? _d : this.documentPrompt;
        this.initialResponseName = (_e = fields.initialResponseName) != null ? _e : this.initialResponseName;
      }
      /** @ignore */
      async _constructInitialInputs(doc, rest) {
        const baseInfo = {
          page_content: doc.pageContent,
          ...doc.metadata
        };
        const documentInfo = {};
        this.documentPrompt.inputVariables.forEach((value) => {
          documentInfo[value] = baseInfo[value];
        });
        const baseInputs = {
          [this.documentVariableName]: await this.documentPrompt.format({
            ...documentInfo
          })
        };
        const inputs = { ...baseInputs, ...rest };
        return inputs;
      }
      /** @ignore */
      async _constructRefineInputs(doc, res) {
        const baseInfo = {
          page_content: doc.pageContent,
          ...doc.metadata
        };
        const documentInfo = {};
        this.documentPrompt.inputVariables.forEach((value) => {
          documentInfo[value] = baseInfo[value];
        });
        const baseInputs = {
          [this.documentVariableName]: await this.documentPrompt.format({
            ...documentInfo
          })
        };
        const inputs = { [this.initialResponseName]: res, ...baseInputs };
        return inputs;
      }
      /** @ignore */
      async _call(values, runManager) {
        if (!(this.inputKey in values)) {
          throw new Error(`Document key ${this.inputKey} not found.`);
        }
        const { [this.inputKey]: docs, ...rest } = values;
        const currentDocs = docs;
        const initialInputs = await this._constructInitialInputs(currentDocs[0], rest);
        let res = await this.llmChain.predict({ ...initialInputs }, runManager == null ? void 0 : runManager.getChild());
        const refineSteps = [res];
        for (let i = 1; i < currentDocs.length; i += 1) {
          const refineInputs = await this._constructRefineInputs(currentDocs[i], res);
          const inputs = { ...refineInputs, ...rest };
          res = await this.refineLLMChain.predict({ ...inputs }, runManager == null ? void 0 : runManager.getChild());
          refineSteps.push(res);
        }
        return { [this.outputKey]: res };
      }
      _chainType() {
        return "refine_documents_chain";
      }
      static async deserialize(data) {
        const SerializedLLMChain = data.llm_chain;
        if (!SerializedLLMChain) {
          throw new Error("Missing llm_chain");
        }
        const SerializedRefineDocumentChain = data.refine_llm_chain;
        if (!SerializedRefineDocumentChain) {
          throw new Error("Missing refine_llm_chain");
        }
        return new RefineDocumentsChain({
          llmChain: await LLMChain.deserialize(SerializedLLMChain),
          refineLLMChain: await LLMChain.deserialize(SerializedRefineDocumentChain)
        });
      }
      serialize() {
        return {
          _type: this._chainType(),
          llm_chain: this.llmChain.serialize(),
          refine_llm_chain: this.refineLLMChain.serialize()
        };
      }
    };
  }
});

// node_modules/langchain/dist/prompts/chat.js
var BaseMessagePromptTemplate, ChatPromptValue, BaseMessageStringPromptTemplate, BaseChatPromptTemplate, HumanMessagePromptTemplate, SystemMessagePromptTemplate, ChatPromptTemplate;
var init_chat = __esm({
  "node_modules/langchain/dist/prompts/chat.js"() {
    init_schema();
    init_base4();
    init_prompt();
    BaseMessagePromptTemplate = class {
      serialize() {
        return {
          _type: this.constructor.name,
          ...JSON.parse(JSON.stringify(this))
        };
      }
    };
    ChatPromptValue = class extends BasePromptValue {
      constructor(messages2) {
        super();
        Object.defineProperty(this, "messages", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.messages = messages2;
      }
      toString() {
        return JSON.stringify(this.messages);
      }
      toChatMessages() {
        return this.messages;
      }
    };
    BaseMessageStringPromptTemplate = class extends BaseMessagePromptTemplate {
      constructor(prompt) {
        super();
        Object.defineProperty(this, "prompt", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.prompt = prompt;
      }
      get inputVariables() {
        return this.prompt.inputVariables;
      }
      async formatMessages(values) {
        return [await this.format(values)];
      }
    };
    BaseChatPromptTemplate = class extends BasePromptTemplate {
      constructor(input) {
        super(input);
      }
      async format(values) {
        return (await this.formatPromptValue(values)).toString();
      }
      async formatPromptValue(values) {
        const resultMessages = await this.formatMessages(values);
        return new ChatPromptValue(resultMessages);
      }
    };
    HumanMessagePromptTemplate = class extends BaseMessageStringPromptTemplate {
      async format(values) {
        return new HumanChatMessage(await this.prompt.format(values));
      }
      constructor(prompt) {
        super(prompt);
      }
      static fromTemplate(template) {
        return new this(PromptTemplate.fromTemplate(template));
      }
    };
    SystemMessagePromptTemplate = class extends BaseMessageStringPromptTemplate {
      async format(values) {
        return new SystemChatMessage(await this.prompt.format(values));
      }
      constructor(prompt) {
        super(prompt);
      }
      static fromTemplate(template) {
        return new this(PromptTemplate.fromTemplate(template));
      }
    };
    ChatPromptTemplate = class extends BaseChatPromptTemplate {
      constructor(input) {
        super(input);
        Object.defineProperty(this, "promptMessages", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "validateTemplate", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: true
        });
        Object.assign(this, input);
        if (this.validateTemplate) {
          const inputVariablesMessages = /* @__PURE__ */ new Set();
          for (const promptMessage of this.promptMessages) {
            for (const inputVariable of promptMessage.inputVariables) {
              inputVariablesMessages.add(inputVariable);
            }
          }
          const inputVariablesInstance = new Set(this.partialVariables ? this.inputVariables.concat(Object.keys(this.partialVariables)) : this.inputVariables);
          const difference2 = new Set([...inputVariablesInstance].filter((x) => !inputVariablesMessages.has(x)));
          if (difference2.size > 0) {
            throw new Error(`Input variables \`${[
              ...difference2
            ]}\` are not used in any of the prompt messages.`);
          }
          const otherDifference = new Set([...inputVariablesMessages].filter((x) => !inputVariablesInstance.has(x)));
          if (otherDifference.size > 0) {
            throw new Error(`Input variables \`${[
              ...otherDifference
            ]}\` are used in prompt messages but not in the prompt template.`);
          }
        }
      }
      _getPromptType() {
        return "chat";
      }
      async formatMessages(values) {
        const allValues = await this.mergePartialAndUserVariables(values);
        let resultMessages = [];
        for (const promptMessage of this.promptMessages) {
          const inputValues = promptMessage.inputVariables.reduce((acc, inputVariable) => {
            if (!(inputVariable in allValues)) {
              throw new Error(`Missing value for input variable \`${inputVariable}\``);
            }
            acc[inputVariable] = allValues[inputVariable];
            return acc;
          }, {});
          const message = await promptMessage.formatMessages(inputValues);
          resultMessages = resultMessages.concat(message);
        }
        return resultMessages;
      }
      serialize() {
        if (this.outputParser !== void 0) {
          throw new Error("ChatPromptTemplate cannot be serialized if outputParser is set");
        }
        return {
          input_variables: this.inputVariables,
          prompt_messages: this.promptMessages.map((m) => m.serialize())
        };
      }
      async partial(values) {
        var _a;
        const promptDict = { ...this };
        promptDict.inputVariables = this.inputVariables.filter((iv) => !(iv in values));
        promptDict.partialVariables = {
          ...(_a = this.partialVariables) != null ? _a : {},
          ...values
        };
        return new ChatPromptTemplate(promptDict);
      }
      static fromPromptMessages(promptMessages) {
        const flattenedMessages = promptMessages.reduce((acc, promptMessage) => acc.concat(
          // eslint-disable-next-line no-instanceof/no-instanceof
          promptMessage instanceof ChatPromptTemplate ? promptMessage.promptMessages : [promptMessage]
        ), []);
        const flattenedPartialVariables = promptMessages.reduce((acc, promptMessage) => (
          // eslint-disable-next-line no-instanceof/no-instanceof
          promptMessage instanceof ChatPromptTemplate ? Object.assign(acc, promptMessage.partialVariables) : acc
        ), /* @__PURE__ */ Object.create(null));
        const inputVariables = /* @__PURE__ */ new Set();
        for (const promptMessage of flattenedMessages) {
          for (const inputVariable of promptMessage.inputVariables) {
            if (inputVariable in flattenedPartialVariables) {
              continue;
            }
            inputVariables.add(inputVariable);
          }
        }
        return new ChatPromptTemplate({
          inputVariables: [...inputVariables],
          promptMessages: flattenedMessages,
          partialVariables: flattenedPartialVariables
        });
      }
    };
  }
});

// node_modules/langchain/dist/prompts/selectors/conditional.js
function isChatModel(llm) {
  return llm._modelType() === "base_chat_model";
}
var BasePromptSelector, ConditionalPromptSelector;
var init_conditional = __esm({
  "node_modules/langchain/dist/prompts/selectors/conditional.js"() {
    BasePromptSelector = class {
      async getPromptAsync(llm, options) {
        var _a;
        const prompt = this.getPrompt(llm);
        return prompt.partial((_a = options == null ? void 0 : options.partialVariables) != null ? _a : {});
      }
    };
    ConditionalPromptSelector = class extends BasePromptSelector {
      constructor(default_prompt, conditionals = []) {
        super();
        Object.defineProperty(this, "defaultPrompt", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "conditionals", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.defaultPrompt = default_prompt;
        this.conditionals = conditionals;
      }
      getPrompt(llm) {
        for (const [condition, prompt] of this.conditionals) {
          if (condition(llm)) {
            return prompt;
          }
        }
        return this.defaultPrompt;
      }
    };
  }
});

// node_modules/langchain/dist/chains/question_answering/stuff_prompts.js
var DEFAULT_QA_PROMPT, system_template, messages, CHAT_PROMPT, QA_PROMPT_SELECTOR;
var init_stuff_prompts = __esm({
  "node_modules/langchain/dist/chains/question_answering/stuff_prompts.js"() {
    init_prompt();
    init_chat();
    init_conditional();
    DEFAULT_QA_PROMPT = /* @__PURE__ */ new PromptTemplate({
      template: "Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer.\n\n{context}\n\nQuestion: {question}\nHelpful Answer:",
      inputVariables: ["context", "question"]
    });
    system_template = `Use the following pieces of context to answer the users question. 
If you don't know the answer, just say that you don't know, don't try to make up an answer.
----------------
{context}`;
    messages = [
      /* @__PURE__ */ SystemMessagePromptTemplate.fromTemplate(system_template),
      /* @__PURE__ */ HumanMessagePromptTemplate.fromTemplate("{question}")
    ];
    CHAT_PROMPT = /* @__PURE__ */ ChatPromptTemplate.fromPromptMessages(messages);
    QA_PROMPT_SELECTOR = /* @__PURE__ */ new ConditionalPromptSelector(DEFAULT_QA_PROMPT, [[isChatModel, CHAT_PROMPT]]);
  }
});

// node_modules/langchain/dist/chains/question_answering/map_reduce_prompts.js
var init_map_reduce_prompts = __esm({
  "node_modules/langchain/dist/chains/question_answering/map_reduce_prompts.js"() {
    init_prompt();
    init_chat();
    init_conditional();
  }
});

// node_modules/langchain/dist/prompts/selectors/LengthBasedExampleSelector.js
var init_LengthBasedExampleSelector = __esm({
  "node_modules/langchain/dist/prompts/selectors/LengthBasedExampleSelector.js"() {
  }
});

// node_modules/langchain/dist/document.js
var init_document = __esm({
  "node_modules/langchain/dist/document.js"() {
  }
});

// node_modules/langchain/dist/prompts/selectors/SemanticSimilarityExampleSelector.js
var init_SemanticSimilarityExampleSelector = __esm({
  "node_modules/langchain/dist/prompts/selectors/SemanticSimilarityExampleSelector.js"() {
    init_document();
  }
});

// node_modules/langchain/dist/prompts/pipeline.js
var init_pipeline = __esm({
  "node_modules/langchain/dist/prompts/pipeline.js"() {
    init_base4();
    init_chat();
  }
});

// node_modules/langchain/dist/prompts/index.js
var init_prompts = __esm({
  "node_modules/langchain/dist/prompts/index.js"() {
    init_base4();
    init_prompt();
    init_conditional();
    init_LengthBasedExampleSelector();
    init_SemanticSimilarityExampleSelector();
    init_few_shot();
    init_chat();
    init_template();
    init_pipeline();
  }
});

// node_modules/langchain/dist/chains/question_answering/refine_prompts.js
var init_refine_prompts = __esm({
  "node_modules/langchain/dist/chains/question_answering/refine_prompts.js"() {
    init_prompts();
    init_conditional();
  }
});

// node_modules/langchain/dist/chains/question_answering/load.js
function loadQAStuffChain(llm, params = {}) {
  const { prompt = QA_PROMPT_SELECTOR.getPrompt(llm), verbose } = params;
  const llmChain = new LLMChain({ prompt, llm, verbose });
  const chain = new StuffDocumentsChain({ llmChain, verbose });
  return chain;
}
var init_load = __esm({
  "node_modules/langchain/dist/chains/question_answering/load.js"() {
    init_llm_chain();
    init_combine_docs_chain();
    init_stuff_prompts();
    init_map_reduce_prompts();
    init_refine_prompts();
  }
});

// node_modules/langchain/dist/chains/vector_db_qa.js
var vector_db_qa_exports = {};
__export(vector_db_qa_exports, {
  VectorDBQAChain: () => VectorDBQAChain
});
var VectorDBQAChain;
var init_vector_db_qa = __esm({
  "node_modules/langchain/dist/chains/vector_db_qa.js"() {
    init_base5();
    init_load();
    VectorDBQAChain = class extends BaseChain {
      get inputKeys() {
        return [this.inputKey];
      }
      get outputKeys() {
        return this.combineDocumentsChain.outputKeys.concat(this.returnSourceDocuments ? ["sourceDocuments"] : []);
      }
      constructor(fields) {
        var _a, _b, _c;
        super(fields);
        Object.defineProperty(this, "k", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 4
        });
        Object.defineProperty(this, "inputKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "query"
        });
        Object.defineProperty(this, "vectorstore", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "combineDocumentsChain", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "returnSourceDocuments", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: false
        });
        this.vectorstore = fields.vectorstore;
        this.combineDocumentsChain = fields.combineDocumentsChain;
        this.inputKey = (_a = fields.inputKey) != null ? _a : this.inputKey;
        this.k = (_b = fields.k) != null ? _b : this.k;
        this.returnSourceDocuments = (_c = fields.returnSourceDocuments) != null ? _c : this.returnSourceDocuments;
      }
      /** @ignore */
      async _call(values, runManager) {
        if (!(this.inputKey in values)) {
          throw new Error(`Question key ${this.inputKey} not found.`);
        }
        const question = values[this.inputKey];
        const docs = await this.vectorstore.similaritySearch(question, this.k, values.filter);
        const inputs = { question, input_documents: docs };
        const result = await this.combineDocumentsChain.call(inputs, runManager == null ? void 0 : runManager.getChild());
        if (this.returnSourceDocuments) {
          return {
            ...result,
            sourceDocuments: docs
          };
        }
        return result;
      }
      _chainType() {
        return "vector_db_qa";
      }
      static async deserialize(data, values) {
        if (!("vectorstore" in values)) {
          throw new Error(`Need to pass in a vectorstore to deserialize VectorDBQAChain`);
        }
        const { vectorstore } = values;
        if (!data.combine_documents_chain) {
          throw new Error(`VectorDBQAChain must have combine_documents_chain in serialized data`);
        }
        return new VectorDBQAChain({
          combineDocumentsChain: await BaseChain.deserialize(data.combine_documents_chain),
          k: data.k,
          vectorstore
        });
      }
      serialize() {
        return {
          _type: this._chainType(),
          combine_documents_chain: this.combineDocumentsChain.serialize(),
          k: this.k
        };
      }
      static fromLLM(llm, vectorstore, options) {
        const qaChain = loadQAStuffChain(llm);
        return new this({
          vectorstore,
          combineDocumentsChain: qaChain,
          ...options
        });
      }
    };
  }
});

// node_modules/langchain/dist/chains/api/prompts.js
var API_URL_RAW_PROMPT_TEMPLATE, API_URL_PROMPT_TEMPLATE, API_RESPONSE_RAW_PROMPT_TEMPLATE, API_RESPONSE_PROMPT_TEMPLATE;
var init_prompts2 = __esm({
  "node_modules/langchain/dist/chains/api/prompts.js"() {
    init_prompt();
    API_URL_RAW_PROMPT_TEMPLATE = `You are given the below API Documentation:
{api_docs}
Using this documentation, generate the full API url to call for answering the user question.
You should build the API url in order to get a response that is as short as possible, while still getting the necessary information to answer the question. Pay attention to deliberately exclude any unnecessary pieces of data in the API call.

Question:{question}
API url:`;
    API_URL_PROMPT_TEMPLATE = /* @__PURE__ */ new PromptTemplate({
      inputVariables: ["api_docs", "question"],
      template: API_URL_RAW_PROMPT_TEMPLATE
    });
    API_RESPONSE_RAW_PROMPT_TEMPLATE = `${API_URL_RAW_PROMPT_TEMPLATE} {api_url}

Here is the response from the API:

{api_response}

Summarize this response to answer the original question.

Summary:`;
    API_RESPONSE_PROMPT_TEMPLATE = /* @__PURE__ */ new PromptTemplate({
      inputVariables: ["api_docs", "question", "api_url", "api_response"],
      template: API_RESPONSE_RAW_PROMPT_TEMPLATE
    });
  }
});

// node_modules/langchain/dist/chains/api/api_chain.js
var api_chain_exports = {};
__export(api_chain_exports, {
  APIChain: () => APIChain
});
var APIChain;
var init_api_chain = __esm({
  "node_modules/langchain/dist/chains/api/api_chain.js"() {
    init_base5();
    init_llm_chain();
    init_prompts2();
    APIChain = class extends BaseChain {
      get inputKeys() {
        return [this.inputKey];
      }
      get outputKeys() {
        return [this.outputKey];
      }
      constructor(fields) {
        var _a, _b, _c;
        super(fields);
        Object.defineProperty(this, "apiAnswerChain", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "apiRequestChain", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "apiDocs", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "headers", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: {}
        });
        Object.defineProperty(this, "inputKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "question"
        });
        Object.defineProperty(this, "outputKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "output"
        });
        this.apiRequestChain = fields.apiRequestChain;
        this.apiAnswerChain = fields.apiAnswerChain;
        this.apiDocs = fields.apiDocs;
        this.inputKey = (_a = fields.inputKey) != null ? _a : this.inputKey;
        this.outputKey = (_b = fields.outputKey) != null ? _b : this.outputKey;
        this.headers = (_c = fields.headers) != null ? _c : this.headers;
      }
      /** @ignore */
      async _call(values, runManager) {
        const question = values[this.inputKey];
        const api_url = await this.apiRequestChain.predict({ question, api_docs: this.apiDocs }, runManager == null ? void 0 : runManager.getChild());
        const res = await fetch(api_url, { headers: this.headers });
        const api_response = await res.text();
        const answer = await this.apiAnswerChain.predict({ question, api_docs: this.apiDocs, api_url, api_response }, runManager == null ? void 0 : runManager.getChild());
        return { [this.outputKey]: answer };
      }
      _chainType() {
        return "api_chain";
      }
      static async deserialize(data) {
        const { api_request_chain, api_answer_chain, api_docs } = data;
        if (!api_request_chain) {
          throw new Error("LLMChain must have api_request_chain");
        }
        if (!api_answer_chain) {
          throw new Error("LLMChain must have api_answer_chain");
        }
        if (!api_docs) {
          throw new Error("LLMChain must have api_docs");
        }
        return new APIChain({
          apiAnswerChain: await LLMChain.deserialize(api_answer_chain),
          apiRequestChain: await LLMChain.deserialize(api_request_chain),
          apiDocs: api_docs
        });
      }
      serialize() {
        return {
          _type: this._chainType(),
          api_answer_chain: this.apiAnswerChain.serialize(),
          api_request_chain: this.apiRequestChain.serialize(),
          api_docs: this.apiDocs
        };
      }
      static fromLLMAndAPIDocs(llm, apiDocs, options = {}) {
        const { apiUrlPrompt = API_URL_PROMPT_TEMPLATE, apiResponsePrompt = API_RESPONSE_PROMPT_TEMPLATE } = options;
        const apiRequestChain = new LLMChain({ prompt: apiUrlPrompt, llm });
        const apiAnswerChain = new LLMChain({ prompt: apiResponsePrompt, llm });
        return new this({
          apiAnswerChain,
          apiRequestChain,
          apiDocs,
          ...options
        });
      }
    };
  }
});

// node_modules/langchain/dist/chains/base.js
var BaseChain;
var init_base5 = __esm({
  "node_modules/langchain/dist/chains/base.js"() {
    init_schema();
    init_manager();
    init_base_language();
    BaseChain = class extends BaseLangChain {
      constructor(fields, verbose, callbacks) {
        if (arguments.length === 1 && typeof fields === "object" && !("saveContext" in fields)) {
          const { memory, callbackManager, ...rest } = fields;
          super({ ...rest, callbacks: callbackManager != null ? callbackManager : rest.callbacks });
          this.memory = memory;
        } else {
          super({ verbose, callbacks });
          this.memory = fields;
        }
      }
      /**
       * Return a json-like object representing this chain.
       */
      serialize() {
        throw new Error("Method not implemented.");
      }
      async run(input, callbacks) {
        const isKeylessInput = this.inputKeys.length <= 1;
        if (!isKeylessInput) {
          throw new Error(`Chain ${this._chainType()} expects multiple inputs, cannot use 'run' `);
        }
        const values = this.inputKeys.length ? { [this.inputKeys[0]]: input } : {};
        const returnValues = await this.call(values, callbacks);
        const keys = Object.keys(returnValues);
        if (keys.length === 1) {
          return returnValues[keys[0]];
        }
        throw new Error("return values have multiple keys, `run` only supported when one key currently");
      }
      /**
       * Run the core logic of this chain and add to output if desired.
       *
       * Wraps _call and handles memory.
       */
      async call(values, callbacks) {
        const fullValues = { ...values };
        if (!(this.memory == null)) {
          const newValues = await this.memory.loadMemoryVariables(values);
          for (const [key, value] of Object.entries(newValues)) {
            fullValues[key] = value;
          }
        }
        const callbackManager_ = await CallbackManager.configure(callbacks, this.callbacks, { verbose: this.verbose });
        const runManager = await (callbackManager_ == null ? void 0 : callbackManager_.handleChainStart({ name: this._chainType() }, fullValues));
        let outputValues;
        try {
          outputValues = await this._call(fullValues, runManager);
        } catch (e) {
          await (runManager == null ? void 0 : runManager.handleChainError(e));
          throw e;
        }
        if (!(this.memory == null)) {
          await this.memory.saveContext(values, outputValues);
        }
        await (runManager == null ? void 0 : runManager.handleChainEnd(outputValues));
        Object.defineProperty(outputValues, RUN_KEY, {
          value: runManager ? { runId: runManager == null ? void 0 : runManager.runId } : void 0,
          configurable: true
        });
        return outputValues;
      }
      /**
       * Call the chain on all inputs in the list
       */
      async apply(inputs, callbacks) {
        return Promise.all(inputs.map(async (i, idx) => this.call(i, callbacks == null ? void 0 : callbacks[idx])));
      }
      /**
       * Load a chain from a json-like object describing it.
       */
      static async deserialize(data, values = {}) {
        switch (data._type) {
          case "llm_chain": {
            const { LLMChain: LLMChain2 } = await Promise.resolve().then(() => (init_llm_chain(), llm_chain_exports));
            return LLMChain2.deserialize(data);
          }
          case "sequential_chain": {
            const { SequentialChain: SequentialChain2 } = await Promise.resolve().then(() => (init_sequential_chain(), sequential_chain_exports));
            return SequentialChain2.deserialize(data);
          }
          case "simple_sequential_chain": {
            const { SimpleSequentialChain: SimpleSequentialChain2 } = await Promise.resolve().then(() => (init_sequential_chain(), sequential_chain_exports));
            return SimpleSequentialChain2.deserialize(data);
          }
          case "stuff_documents_chain": {
            const { StuffDocumentsChain: StuffDocumentsChain2 } = await Promise.resolve().then(() => (init_combine_docs_chain(), combine_docs_chain_exports));
            return StuffDocumentsChain2.deserialize(data);
          }
          case "map_reduce_documents_chain": {
            const { MapReduceDocumentsChain: MapReduceDocumentsChain2 } = await Promise.resolve().then(() => (init_combine_docs_chain(), combine_docs_chain_exports));
            return MapReduceDocumentsChain2.deserialize(data);
          }
          case "refine_documents_chain": {
            const { RefineDocumentsChain: RefineDocumentsChain2 } = await Promise.resolve().then(() => (init_combine_docs_chain(), combine_docs_chain_exports));
            return RefineDocumentsChain2.deserialize(data);
          }
          case "vector_db_qa": {
            const { VectorDBQAChain: VectorDBQAChain2 } = await Promise.resolve().then(() => (init_vector_db_qa(), vector_db_qa_exports));
            return VectorDBQAChain2.deserialize(data, values);
          }
          case "api_chain": {
            const { APIChain: APIChain2 } = await Promise.resolve().then(() => (init_api_chain(), api_chain_exports));
            return APIChain2.deserialize(data);
          }
          default:
            throw new Error(`Invalid prompt type in config: ${data._type}`);
        }
      }
    };
  }
});

// node_modules/zod/lib/helpers/util.js
var require_util = __commonJS({
  "node_modules/zod/lib/helpers/util.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.getParsedType = exports.ZodParsedType = exports.objectUtil = exports.util = void 0;
    var util;
    (function(util2) {
      util2.assertEqual = (val) => val;
      function assertIs(_arg) {
      }
      util2.assertIs = assertIs;
      function assertNever(_x) {
        throw new Error();
      }
      util2.assertNever = assertNever;
      util2.arrayToEnum = (items) => {
        const obj = {};
        for (const item of items) {
          obj[item] = item;
        }
        return obj;
      };
      util2.getValidEnumValues = (obj) => {
        const validKeys = util2.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== "number");
        const filtered = {};
        for (const k of validKeys) {
          filtered[k] = obj[k];
        }
        return util2.objectValues(filtered);
      };
      util2.objectValues = (obj) => {
        return util2.objectKeys(obj).map(function(e) {
          return obj[e];
        });
      };
      util2.objectKeys = typeof Object.keys === "function" ? (obj) => Object.keys(obj) : (object) => {
        const keys = [];
        for (const key in object) {
          if (Object.prototype.hasOwnProperty.call(object, key)) {
            keys.push(key);
          }
        }
        return keys;
      };
      util2.find = (arr, checker) => {
        for (const item of arr) {
          if (checker(item))
            return item;
        }
        return void 0;
      };
      util2.isInteger = typeof Number.isInteger === "function" ? (val) => Number.isInteger(val) : (val) => typeof val === "number" && isFinite(val) && Math.floor(val) === val;
      function joinValues(array, separator = " | ") {
        return array.map((val) => typeof val === "string" ? `'${val}'` : val).join(separator);
      }
      util2.joinValues = joinValues;
      util2.jsonStringifyReplacer = (_, value) => {
        if (typeof value === "bigint") {
          return value.toString();
        }
        return value;
      };
    })(util = exports.util || (exports.util = {}));
    var objectUtil;
    (function(objectUtil2) {
      objectUtil2.mergeShapes = (first, second) => {
        return {
          ...first,
          ...second
        };
      };
    })(objectUtil = exports.objectUtil || (exports.objectUtil = {}));
    exports.ZodParsedType = util.arrayToEnum([
      "string",
      "nan",
      "number",
      "integer",
      "float",
      "boolean",
      "date",
      "bigint",
      "symbol",
      "function",
      "undefined",
      "null",
      "array",
      "object",
      "unknown",
      "promise",
      "void",
      "never",
      "map",
      "set"
    ]);
    var getParsedType = (data) => {
      const t = typeof data;
      switch (t) {
        case "undefined":
          return exports.ZodParsedType.undefined;
        case "string":
          return exports.ZodParsedType.string;
        case "number":
          return isNaN(data) ? exports.ZodParsedType.nan : exports.ZodParsedType.number;
        case "boolean":
          return exports.ZodParsedType.boolean;
        case "function":
          return exports.ZodParsedType.function;
        case "bigint":
          return exports.ZodParsedType.bigint;
        case "symbol":
          return exports.ZodParsedType.symbol;
        case "object":
          if (Array.isArray(data)) {
            return exports.ZodParsedType.array;
          }
          if (data === null) {
            return exports.ZodParsedType.null;
          }
          if (data.then && typeof data.then === "function" && data.catch && typeof data.catch === "function") {
            return exports.ZodParsedType.promise;
          }
          if (typeof Map !== "undefined" && data instanceof Map) {
            return exports.ZodParsedType.map;
          }
          if (typeof Set !== "undefined" && data instanceof Set) {
            return exports.ZodParsedType.set;
          }
          if (typeof Date !== "undefined" && data instanceof Date) {
            return exports.ZodParsedType.date;
          }
          return exports.ZodParsedType.object;
        default:
          return exports.ZodParsedType.unknown;
      }
    };
    exports.getParsedType = getParsedType;
  }
});

// node_modules/zod/lib/ZodError.js
var require_ZodError = __commonJS({
  "node_modules/zod/lib/ZodError.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.ZodError = exports.quotelessJson = exports.ZodIssueCode = void 0;
    var util_1 = require_util();
    exports.ZodIssueCode = util_1.util.arrayToEnum([
      "invalid_type",
      "invalid_literal",
      "custom",
      "invalid_union",
      "invalid_union_discriminator",
      "invalid_enum_value",
      "unrecognized_keys",
      "invalid_arguments",
      "invalid_return_type",
      "invalid_date",
      "invalid_string",
      "too_small",
      "too_big",
      "invalid_intersection_types",
      "not_multiple_of",
      "not_finite"
    ]);
    var quotelessJson = (obj) => {
      const json = JSON.stringify(obj, null, 2);
      return json.replace(/"([^"]+)":/g, "$1:");
    };
    exports.quotelessJson = quotelessJson;
    var ZodError = class extends Error {
      constructor(issues) {
        super();
        this.issues = [];
        this.addIssue = (sub) => {
          this.issues = [...this.issues, sub];
        };
        this.addIssues = (subs = []) => {
          this.issues = [...this.issues, ...subs];
        };
        const actualProto = new.target.prototype;
        if (Object.setPrototypeOf) {
          Object.setPrototypeOf(this, actualProto);
        } else {
          this.__proto__ = actualProto;
        }
        this.name = "ZodError";
        this.issues = issues;
      }
      get errors() {
        return this.issues;
      }
      format(_mapper) {
        const mapper = _mapper || function(issue) {
          return issue.message;
        };
        const fieldErrors = { _errors: [] };
        const processError = (error) => {
          for (const issue of error.issues) {
            if (issue.code === "invalid_union") {
              issue.unionErrors.map(processError);
            } else if (issue.code === "invalid_return_type") {
              processError(issue.returnTypeError);
            } else if (issue.code === "invalid_arguments") {
              processError(issue.argumentsError);
            } else if (issue.path.length === 0) {
              fieldErrors._errors.push(mapper(issue));
            } else {
              let curr = fieldErrors;
              let i = 0;
              while (i < issue.path.length) {
                const el = issue.path[i];
                const terminal = i === issue.path.length - 1;
                if (!terminal) {
                  curr[el] = curr[el] || { _errors: [] };
                } else {
                  curr[el] = curr[el] || { _errors: [] };
                  curr[el]._errors.push(mapper(issue));
                }
                curr = curr[el];
                i++;
              }
            }
          }
        };
        processError(this);
        return fieldErrors;
      }
      toString() {
        return this.message;
      }
      get message() {
        return JSON.stringify(this.issues, util_1.util.jsonStringifyReplacer, 2);
      }
      get isEmpty() {
        return this.issues.length === 0;
      }
      flatten(mapper = (issue) => issue.message) {
        const fieldErrors = {};
        const formErrors = [];
        for (const sub of this.issues) {
          if (sub.path.length > 0) {
            fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];
            fieldErrors[sub.path[0]].push(mapper(sub));
          } else {
            formErrors.push(mapper(sub));
          }
        }
        return { formErrors, fieldErrors };
      }
      get formErrors() {
        return this.flatten();
      }
    };
    exports.ZodError = ZodError;
    ZodError.create = (issues) => {
      const error = new ZodError(issues);
      return error;
    };
  }
});

// node_modules/zod/lib/locales/en.js
var require_en = __commonJS({
  "node_modules/zod/lib/locales/en.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var util_1 = require_util();
    var ZodError_1 = require_ZodError();
    var errorMap = (issue, _ctx) => {
      let message;
      switch (issue.code) {
        case ZodError_1.ZodIssueCode.invalid_type:
          if (issue.received === util_1.ZodParsedType.undefined) {
            message = "Required";
          } else {
            message = `Expected ${issue.expected}, received ${issue.received}`;
          }
          break;
        case ZodError_1.ZodIssueCode.invalid_literal:
          message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util_1.util.jsonStringifyReplacer)}`;
          break;
        case ZodError_1.ZodIssueCode.unrecognized_keys:
          message = `Unrecognized key(s) in object: ${util_1.util.joinValues(issue.keys, ", ")}`;
          break;
        case ZodError_1.ZodIssueCode.invalid_union:
          message = `Invalid input`;
          break;
        case ZodError_1.ZodIssueCode.invalid_union_discriminator:
          message = `Invalid discriminator value. Expected ${util_1.util.joinValues(issue.options)}`;
          break;
        case ZodError_1.ZodIssueCode.invalid_enum_value:
          message = `Invalid enum value. Expected ${util_1.util.joinValues(issue.options)}, received '${issue.received}'`;
          break;
        case ZodError_1.ZodIssueCode.invalid_arguments:
          message = `Invalid function arguments`;
          break;
        case ZodError_1.ZodIssueCode.invalid_return_type:
          message = `Invalid function return type`;
          break;
        case ZodError_1.ZodIssueCode.invalid_date:
          message = `Invalid date`;
          break;
        case ZodError_1.ZodIssueCode.invalid_string:
          if (typeof issue.validation === "object") {
            if ("includes" in issue.validation) {
              message = `Invalid input: must include "${issue.validation.includes}"`;
              if (typeof issue.validation.position === "number") {
                message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;
              }
            } else if ("startsWith" in issue.validation) {
              message = `Invalid input: must start with "${issue.validation.startsWith}"`;
            } else if ("endsWith" in issue.validation) {
              message = `Invalid input: must end with "${issue.validation.endsWith}"`;
            } else {
              util_1.util.assertNever(issue.validation);
            }
          } else if (issue.validation !== "regex") {
            message = `Invalid ${issue.validation}`;
          } else {
            message = "Invalid";
          }
          break;
        case ZodError_1.ZodIssueCode.too_small:
          if (issue.type === "array")
            message = `Array must contain ${issue.exact ? "exactly" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;
          else if (issue.type === "string")
            message = `String must contain ${issue.exact ? "exactly" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;
          else if (issue.type === "number")
            message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;
          else if (issue.type === "date")
            message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;
          else
            message = "Invalid input";
          break;
        case ZodError_1.ZodIssueCode.too_big:
          if (issue.type === "array")
            message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;
          else if (issue.type === "string")
            message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;
          else if (issue.type === "number")
            message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;
          else if (issue.type === "bigint")
            message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;
          else if (issue.type === "date")
            message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;
          else
            message = "Invalid input";
          break;
        case ZodError_1.ZodIssueCode.custom:
          message = `Invalid input`;
          break;
        case ZodError_1.ZodIssueCode.invalid_intersection_types:
          message = `Intersection results could not be merged`;
          break;
        case ZodError_1.ZodIssueCode.not_multiple_of:
          message = `Number must be a multiple of ${issue.multipleOf}`;
          break;
        case ZodError_1.ZodIssueCode.not_finite:
          message = "Number must be finite";
          break;
        default:
          message = _ctx.defaultError;
          util_1.util.assertNever(issue);
      }
      return { message };
    };
    exports.default = errorMap;
  }
});

// node_modules/zod/lib/errors.js
var require_errors = __commonJS({
  "node_modules/zod/lib/errors.js"(exports) {
    "use strict";
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.getErrorMap = exports.setErrorMap = exports.defaultErrorMap = void 0;
    var en_1 = __importDefault(require_en());
    exports.defaultErrorMap = en_1.default;
    var overrideErrorMap = en_1.default;
    function setErrorMap(map) {
      overrideErrorMap = map;
    }
    exports.setErrorMap = setErrorMap;
    function getErrorMap() {
      return overrideErrorMap;
    }
    exports.getErrorMap = getErrorMap;
  }
});

// node_modules/zod/lib/helpers/parseUtil.js
var require_parseUtil = __commonJS({
  "node_modules/zod/lib/helpers/parseUtil.js"(exports) {
    "use strict";
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.isAsync = exports.isValid = exports.isDirty = exports.isAborted = exports.OK = exports.DIRTY = exports.INVALID = exports.ParseStatus = exports.addIssueToContext = exports.EMPTY_PATH = exports.makeIssue = void 0;
    var errors_1 = require_errors();
    var en_1 = __importDefault(require_en());
    var makeIssue = (params) => {
      const { data, path, errorMaps, issueData } = params;
      const fullPath = [...path, ...issueData.path || []];
      const fullIssue = {
        ...issueData,
        path: fullPath
      };
      let errorMessage = "";
      const maps = errorMaps.filter((m) => !!m).slice().reverse();
      for (const map of maps) {
        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;
      }
      return {
        ...issueData,
        path: fullPath,
        message: issueData.message || errorMessage
      };
    };
    exports.makeIssue = makeIssue;
    exports.EMPTY_PATH = [];
    function addIssueToContext(ctx, issueData) {
      const issue = (0, exports.makeIssue)({
        issueData,
        data: ctx.data,
        path: ctx.path,
        errorMaps: [
          ctx.common.contextualErrorMap,
          ctx.schemaErrorMap,
          (0, errors_1.getErrorMap)(),
          en_1.default
        ].filter((x) => !!x)
      });
      ctx.common.issues.push(issue);
    }
    exports.addIssueToContext = addIssueToContext;
    var ParseStatus = class {
      constructor() {
        this.value = "valid";
      }
      dirty() {
        if (this.value === "valid")
          this.value = "dirty";
      }
      abort() {
        if (this.value !== "aborted")
          this.value = "aborted";
      }
      static mergeArray(status, results) {
        const arrayValue = [];
        for (const s of results) {
          if (s.status === "aborted")
            return exports.INVALID;
          if (s.status === "dirty")
            status.dirty();
          arrayValue.push(s.value);
        }
        return { status: status.value, value: arrayValue };
      }
      static async mergeObjectAsync(status, pairs) {
        const syncPairs = [];
        for (const pair of pairs) {
          syncPairs.push({
            key: await pair.key,
            value: await pair.value
          });
        }
        return ParseStatus.mergeObjectSync(status, syncPairs);
      }
      static mergeObjectSync(status, pairs) {
        const finalObject = {};
        for (const pair of pairs) {
          const { key, value } = pair;
          if (key.status === "aborted")
            return exports.INVALID;
          if (value.status === "aborted")
            return exports.INVALID;
          if (key.status === "dirty")
            status.dirty();
          if (value.status === "dirty")
            status.dirty();
          if (typeof value.value !== "undefined" || pair.alwaysSet) {
            finalObject[key.value] = value.value;
          }
        }
        return { status: status.value, value: finalObject };
      }
    };
    exports.ParseStatus = ParseStatus;
    exports.INVALID = Object.freeze({
      status: "aborted"
    });
    var DIRTY = (value) => ({ status: "dirty", value });
    exports.DIRTY = DIRTY;
    var OK = (value) => ({ status: "valid", value });
    exports.OK = OK;
    var isAborted = (x) => x.status === "aborted";
    exports.isAborted = isAborted;
    var isDirty = (x) => x.status === "dirty";
    exports.isDirty = isDirty;
    var isValid = (x) => x.status === "valid";
    exports.isValid = isValid;
    var isAsync = (x) => typeof Promise !== "undefined" && x instanceof Promise;
    exports.isAsync = isAsync;
  }
});

// node_modules/zod/lib/helpers/typeAliases.js
var require_typeAliases = __commonJS({
  "node_modules/zod/lib/helpers/typeAliases.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
  }
});

// node_modules/zod/lib/helpers/errorUtil.js
var require_errorUtil = __commonJS({
  "node_modules/zod/lib/helpers/errorUtil.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.errorUtil = void 0;
    var errorUtil;
    (function(errorUtil2) {
      errorUtil2.errToObj = (message) => typeof message === "string" ? { message } : message || {};
      errorUtil2.toString = (message) => typeof message === "string" ? message : message === null || message === void 0 ? void 0 : message.message;
    })(errorUtil = exports.errorUtil || (exports.errorUtil = {}));
  }
});

// node_modules/zod/lib/types.js
var require_types = __commonJS({
  "node_modules/zod/lib/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.discriminatedUnion = exports.date = exports.boolean = exports.bigint = exports.array = exports.any = exports.coerce = exports.ZodFirstPartyTypeKind = exports.late = exports.ZodSchema = exports.Schema = exports.custom = exports.ZodPipeline = exports.ZodBranded = exports.BRAND = exports.ZodNaN = exports.ZodCatch = exports.ZodDefault = exports.ZodNullable = exports.ZodOptional = exports.ZodTransformer = exports.ZodEffects = exports.ZodPromise = exports.ZodNativeEnum = exports.ZodEnum = exports.ZodLiteral = exports.ZodLazy = exports.ZodFunction = exports.ZodSet = exports.ZodMap = exports.ZodRecord = exports.ZodTuple = exports.ZodIntersection = exports.ZodDiscriminatedUnion = exports.ZodUnion = exports.ZodObject = exports.ZodArray = exports.ZodVoid = exports.ZodNever = exports.ZodUnknown = exports.ZodAny = exports.ZodNull = exports.ZodUndefined = exports.ZodSymbol = exports.ZodDate = exports.ZodBoolean = exports.ZodBigInt = exports.ZodNumber = exports.ZodString = exports.ZodType = void 0;
    exports.NEVER = exports.void = exports.unknown = exports.union = exports.undefined = exports.tuple = exports.transformer = exports.symbol = exports.string = exports.strictObject = exports.set = exports.record = exports.promise = exports.preprocess = exports.pipeline = exports.ostring = exports.optional = exports.onumber = exports.oboolean = exports.object = exports.number = exports.nullable = exports.null = exports.never = exports.nativeEnum = exports.nan = exports.map = exports.literal = exports.lazy = exports.intersection = exports.instanceof = exports.function = exports.enum = exports.effect = void 0;
    var errors_1 = require_errors();
    var errorUtil_1 = require_errorUtil();
    var parseUtil_1 = require_parseUtil();
    var util_1 = require_util();
    var ZodError_1 = require_ZodError();
    var ParseInputLazyPath = class {
      constructor(parent, value, path, key) {
        this._cachedPath = [];
        this.parent = parent;
        this.data = value;
        this._path = path;
        this._key = key;
      }
      get path() {
        if (!this._cachedPath.length) {
          if (this._key instanceof Array) {
            this._cachedPath.push(...this._path, ...this._key);
          } else {
            this._cachedPath.push(...this._path, this._key);
          }
        }
        return this._cachedPath;
      }
    };
    var handleResult = (ctx, result) => {
      if ((0, parseUtil_1.isValid)(result)) {
        return { success: true, data: result.value };
      } else {
        if (!ctx.common.issues.length) {
          throw new Error("Validation failed but no issues detected.");
        }
        return {
          success: false,
          get error() {
            if (this._error)
              return this._error;
            const error = new ZodError_1.ZodError(ctx.common.issues);
            this._error = error;
            return this._error;
          }
        };
      }
    };
    function processCreateParams(params) {
      if (!params)
        return {};
      const { errorMap, invalid_type_error, required_error, description } = params;
      if (errorMap && (invalid_type_error || required_error)) {
        throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
      }
      if (errorMap)
        return { errorMap, description };
      const customMap = (iss, ctx) => {
        if (iss.code !== "invalid_type")
          return { message: ctx.defaultError };
        if (typeof ctx.data === "undefined") {
          return { message: required_error !== null && required_error !== void 0 ? required_error : ctx.defaultError };
        }
        return { message: invalid_type_error !== null && invalid_type_error !== void 0 ? invalid_type_error : ctx.defaultError };
      };
      return { errorMap: customMap, description };
    }
    var ZodType = class {
      constructor(def) {
        this.spa = this.safeParseAsync;
        this._def = def;
        this.parse = this.parse.bind(this);
        this.safeParse = this.safeParse.bind(this);
        this.parseAsync = this.parseAsync.bind(this);
        this.safeParseAsync = this.safeParseAsync.bind(this);
        this.spa = this.spa.bind(this);
        this.refine = this.refine.bind(this);
        this.refinement = this.refinement.bind(this);
        this.superRefine = this.superRefine.bind(this);
        this.optional = this.optional.bind(this);
        this.nullable = this.nullable.bind(this);
        this.nullish = this.nullish.bind(this);
        this.array = this.array.bind(this);
        this.promise = this.promise.bind(this);
        this.or = this.or.bind(this);
        this.and = this.and.bind(this);
        this.transform = this.transform.bind(this);
        this.brand = this.brand.bind(this);
        this.default = this.default.bind(this);
        this.catch = this.catch.bind(this);
        this.describe = this.describe.bind(this);
        this.pipe = this.pipe.bind(this);
        this.isNullable = this.isNullable.bind(this);
        this.isOptional = this.isOptional.bind(this);
      }
      get description() {
        return this._def.description;
      }
      _getType(input) {
        return (0, util_1.getParsedType)(input.data);
      }
      _getOrReturnCtx(input, ctx) {
        return ctx || {
          common: input.parent.common,
          data: input.data,
          parsedType: (0, util_1.getParsedType)(input.data),
          schemaErrorMap: this._def.errorMap,
          path: input.path,
          parent: input.parent
        };
      }
      _processInputParams(input) {
        return {
          status: new parseUtil_1.ParseStatus(),
          ctx: {
            common: input.parent.common,
            data: input.data,
            parsedType: (0, util_1.getParsedType)(input.data),
            schemaErrorMap: this._def.errorMap,
            path: input.path,
            parent: input.parent
          }
        };
      }
      _parseSync(input) {
        const result = this._parse(input);
        if ((0, parseUtil_1.isAsync)(result)) {
          throw new Error("Synchronous parse encountered promise.");
        }
        return result;
      }
      _parseAsync(input) {
        const result = this._parse(input);
        return Promise.resolve(result);
      }
      parse(data, params) {
        const result = this.safeParse(data, params);
        if (result.success)
          return result.data;
        throw result.error;
      }
      safeParse(data, params) {
        var _a;
        const ctx = {
          common: {
            issues: [],
            async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,
            contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap
          },
          path: (params === null || params === void 0 ? void 0 : params.path) || [],
          schemaErrorMap: this._def.errorMap,
          parent: null,
          data,
          parsedType: (0, util_1.getParsedType)(data)
        };
        const result = this._parseSync({ data, path: ctx.path, parent: ctx });
        return handleResult(ctx, result);
      }
      async parseAsync(data, params) {
        const result = await this.safeParseAsync(data, params);
        if (result.success)
          return result.data;
        throw result.error;
      }
      async safeParseAsync(data, params) {
        const ctx = {
          common: {
            issues: [],
            contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,
            async: true
          },
          path: (params === null || params === void 0 ? void 0 : params.path) || [],
          schemaErrorMap: this._def.errorMap,
          parent: null,
          data,
          parsedType: (0, util_1.getParsedType)(data)
        };
        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });
        const result = await ((0, parseUtil_1.isAsync)(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));
        return handleResult(ctx, result);
      }
      refine(check, message) {
        const getIssueProperties = (val) => {
          if (typeof message === "string" || typeof message === "undefined") {
            return { message };
          } else if (typeof message === "function") {
            return message(val);
          } else {
            return message;
          }
        };
        return this._refinement((val, ctx) => {
          const result = check(val);
          const setError = () => ctx.addIssue({
            code: ZodError_1.ZodIssueCode.custom,
            ...getIssueProperties(val)
          });
          if (typeof Promise !== "undefined" && result instanceof Promise) {
            return result.then((data) => {
              if (!data) {
                setError();
                return false;
              } else {
                return true;
              }
            });
          }
          if (!result) {
            setError();
            return false;
          } else {
            return true;
          }
        });
      }
      refinement(check, refinementData) {
        return this._refinement((val, ctx) => {
          if (!check(val)) {
            ctx.addIssue(typeof refinementData === "function" ? refinementData(val, ctx) : refinementData);
            return false;
          } else {
            return true;
          }
        });
      }
      _refinement(refinement) {
        return new ZodEffects({
          schema: this,
          typeName: ZodFirstPartyTypeKind.ZodEffects,
          effect: { type: "refinement", refinement }
        });
      }
      superRefine(refinement) {
        return this._refinement(refinement);
      }
      optional() {
        return ZodOptional.create(this, this._def);
      }
      nullable() {
        return ZodNullable.create(this, this._def);
      }
      nullish() {
        return this.nullable().optional();
      }
      array() {
        return ZodArray.create(this, this._def);
      }
      promise() {
        return ZodPromise.create(this, this._def);
      }
      or(option) {
        return ZodUnion.create([this, option], this._def);
      }
      and(incoming) {
        return ZodIntersection.create(this, incoming, this._def);
      }
      transform(transform) {
        return new ZodEffects({
          ...processCreateParams(this._def),
          schema: this,
          typeName: ZodFirstPartyTypeKind.ZodEffects,
          effect: { type: "transform", transform }
        });
      }
      default(def) {
        const defaultValueFunc = typeof def === "function" ? def : () => def;
        return new ZodDefault({
          ...processCreateParams(this._def),
          innerType: this,
          defaultValue: defaultValueFunc,
          typeName: ZodFirstPartyTypeKind.ZodDefault
        });
      }
      brand() {
        return new ZodBranded({
          typeName: ZodFirstPartyTypeKind.ZodBranded,
          type: this,
          ...processCreateParams(this._def)
        });
      }
      catch(def) {
        const catchValueFunc = typeof def === "function" ? def : () => def;
        return new ZodCatch({
          ...processCreateParams(this._def),
          innerType: this,
          catchValue: catchValueFunc,
          typeName: ZodFirstPartyTypeKind.ZodCatch
        });
      }
      describe(description) {
        const This = this.constructor;
        return new This({
          ...this._def,
          description
        });
      }
      pipe(target) {
        return ZodPipeline.create(this, target);
      }
      isOptional() {
        return this.safeParse(void 0).success;
      }
      isNullable() {
        return this.safeParse(null).success;
      }
    };
    exports.ZodType = ZodType;
    exports.Schema = ZodType;
    exports.ZodSchema = ZodType;
    var cuidRegex = /^c[^\s-]{8,}$/i;
    var cuid2Regex = /^[a-z][a-z0-9]*$/;
    var ulidRegex = /[0-9A-HJKMNP-TV-Z]{26}/;
    var uuidRegex = /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;
    var emailRegex = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/;
    var emojiRegex = /^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u;
    var ipv4Regex = /^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/;
    var ipv6Regex = /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;
    var datetimeRegex = (args) => {
      if (args.precision) {
        if (args.offset) {
          return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${args.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`);
        } else {
          return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${args.precision}}Z$`);
        }
      } else if (args.precision === 0) {
        if (args.offset) {
          return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$`);
        } else {
          return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$`);
        }
      } else {
        if (args.offset) {
          return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$`);
        } else {
          return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$`);
        }
      }
    };
    function isValidIP(ip, version) {
      if ((version === "v4" || !version) && ipv4Regex.test(ip)) {
        return true;
      }
      if ((version === "v6" || !version) && ipv6Regex.test(ip)) {
        return true;
      }
      return false;
    }
    var ZodString = class extends ZodType {
      constructor() {
        super(...arguments);
        this._regex = (regex, validation, message) => this.refinement((data) => regex.test(data), {
          validation,
          code: ZodError_1.ZodIssueCode.invalid_string,
          ...errorUtil_1.errorUtil.errToObj(message)
        });
        this.nonempty = (message) => this.min(1, errorUtil_1.errorUtil.errToObj(message));
        this.trim = () => new ZodString({
          ...this._def,
          checks: [...this._def.checks, { kind: "trim" }]
        });
        this.toLowerCase = () => new ZodString({
          ...this._def,
          checks: [...this._def.checks, { kind: "toLowerCase" }]
        });
        this.toUpperCase = () => new ZodString({
          ...this._def,
          checks: [...this._def.checks, { kind: "toUpperCase" }]
        });
      }
      _parse(input) {
        if (this._def.coerce) {
          input.data = String(input.data);
        }
        const parsedType = this._getType(input);
        if (parsedType !== util_1.ZodParsedType.string) {
          const ctx2 = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx2, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.string,
            received: ctx2.parsedType
          });
          return parseUtil_1.INVALID;
        }
        const status = new parseUtil_1.ParseStatus();
        let ctx = void 0;
        for (const check of this._def.checks) {
          if (check.kind === "min") {
            if (input.data.length < check.value) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.too_small,
                minimum: check.value,
                type: "string",
                inclusive: true,
                exact: false,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "max") {
            if (input.data.length > check.value) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.too_big,
                maximum: check.value,
                type: "string",
                inclusive: true,
                exact: false,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "length") {
            const tooBig = input.data.length > check.value;
            const tooSmall = input.data.length < check.value;
            if (tooBig || tooSmall) {
              ctx = this._getOrReturnCtx(input, ctx);
              if (tooBig) {
                (0, parseUtil_1.addIssueToContext)(ctx, {
                  code: ZodError_1.ZodIssueCode.too_big,
                  maximum: check.value,
                  type: "string",
                  inclusive: true,
                  exact: true,
                  message: check.message
                });
              } else if (tooSmall) {
                (0, parseUtil_1.addIssueToContext)(ctx, {
                  code: ZodError_1.ZodIssueCode.too_small,
                  minimum: check.value,
                  type: "string",
                  inclusive: true,
                  exact: true,
                  message: check.message
                });
              }
              status.dirty();
            }
          } else if (check.kind === "email") {
            if (!emailRegex.test(input.data)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                validation: "email",
                code: ZodError_1.ZodIssueCode.invalid_string,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "emoji") {
            if (!emojiRegex.test(input.data)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                validation: "emoji",
                code: ZodError_1.ZodIssueCode.invalid_string,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "uuid") {
            if (!uuidRegex.test(input.data)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                validation: "uuid",
                code: ZodError_1.ZodIssueCode.invalid_string,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "cuid") {
            if (!cuidRegex.test(input.data)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                validation: "cuid",
                code: ZodError_1.ZodIssueCode.invalid_string,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "cuid2") {
            if (!cuid2Regex.test(input.data)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                validation: "cuid2",
                code: ZodError_1.ZodIssueCode.invalid_string,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "ulid") {
            if (!ulidRegex.test(input.data)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                validation: "ulid",
                code: ZodError_1.ZodIssueCode.invalid_string,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "url") {
            try {
              new URL(input.data);
            } catch (_a) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                validation: "url",
                code: ZodError_1.ZodIssueCode.invalid_string,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "regex") {
            check.regex.lastIndex = 0;
            const testResult = check.regex.test(input.data);
            if (!testResult) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                validation: "regex",
                code: ZodError_1.ZodIssueCode.invalid_string,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "trim") {
            input.data = input.data.trim();
          } else if (check.kind === "includes") {
            if (!input.data.includes(check.value, check.position)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.invalid_string,
                validation: { includes: check.value, position: check.position },
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "toLowerCase") {
            input.data = input.data.toLowerCase();
          } else if (check.kind === "toUpperCase") {
            input.data = input.data.toUpperCase();
          } else if (check.kind === "startsWith") {
            if (!input.data.startsWith(check.value)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.invalid_string,
                validation: { startsWith: check.value },
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "endsWith") {
            if (!input.data.endsWith(check.value)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.invalid_string,
                validation: { endsWith: check.value },
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "datetime") {
            const regex = datetimeRegex(check);
            if (!regex.test(input.data)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.invalid_string,
                validation: "datetime",
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "ip") {
            if (!isValidIP(input.data, check.version)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                validation: "ip",
                code: ZodError_1.ZodIssueCode.invalid_string,
                message: check.message
              });
              status.dirty();
            }
          } else {
            util_1.util.assertNever(check);
          }
        }
        return { status: status.value, value: input.data };
      }
      _addCheck(check) {
        return new ZodString({
          ...this._def,
          checks: [...this._def.checks, check]
        });
      }
      email(message) {
        return this._addCheck({ kind: "email", ...errorUtil_1.errorUtil.errToObj(message) });
      }
      url(message) {
        return this._addCheck({ kind: "url", ...errorUtil_1.errorUtil.errToObj(message) });
      }
      emoji(message) {
        return this._addCheck({ kind: "emoji", ...errorUtil_1.errorUtil.errToObj(message) });
      }
      uuid(message) {
        return this._addCheck({ kind: "uuid", ...errorUtil_1.errorUtil.errToObj(message) });
      }
      cuid(message) {
        return this._addCheck({ kind: "cuid", ...errorUtil_1.errorUtil.errToObj(message) });
      }
      cuid2(message) {
        return this._addCheck({ kind: "cuid2", ...errorUtil_1.errorUtil.errToObj(message) });
      }
      ulid(message) {
        return this._addCheck({ kind: "ulid", ...errorUtil_1.errorUtil.errToObj(message) });
      }
      ip(options) {
        return this._addCheck({ kind: "ip", ...errorUtil_1.errorUtil.errToObj(options) });
      }
      datetime(options) {
        var _a;
        if (typeof options === "string") {
          return this._addCheck({
            kind: "datetime",
            precision: null,
            offset: false,
            message: options
          });
        }
        return this._addCheck({
          kind: "datetime",
          precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === "undefined" ? null : options === null || options === void 0 ? void 0 : options.precision,
          offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,
          ...errorUtil_1.errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)
        });
      }
      regex(regex, message) {
        return this._addCheck({
          kind: "regex",
          regex,
          ...errorUtil_1.errorUtil.errToObj(message)
        });
      }
      includes(value, options) {
        return this._addCheck({
          kind: "includes",
          value,
          position: options === null || options === void 0 ? void 0 : options.position,
          ...errorUtil_1.errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)
        });
      }
      startsWith(value, message) {
        return this._addCheck({
          kind: "startsWith",
          value,
          ...errorUtil_1.errorUtil.errToObj(message)
        });
      }
      endsWith(value, message) {
        return this._addCheck({
          kind: "endsWith",
          value,
          ...errorUtil_1.errorUtil.errToObj(message)
        });
      }
      min(minLength, message) {
        return this._addCheck({
          kind: "min",
          value: minLength,
          ...errorUtil_1.errorUtil.errToObj(message)
        });
      }
      max(maxLength, message) {
        return this._addCheck({
          kind: "max",
          value: maxLength,
          ...errorUtil_1.errorUtil.errToObj(message)
        });
      }
      length(len, message) {
        return this._addCheck({
          kind: "length",
          value: len,
          ...errorUtil_1.errorUtil.errToObj(message)
        });
      }
      get isDatetime() {
        return !!this._def.checks.find((ch) => ch.kind === "datetime");
      }
      get isEmail() {
        return !!this._def.checks.find((ch) => ch.kind === "email");
      }
      get isURL() {
        return !!this._def.checks.find((ch) => ch.kind === "url");
      }
      get isEmoji() {
        return !!this._def.checks.find((ch) => ch.kind === "emoji");
      }
      get isUUID() {
        return !!this._def.checks.find((ch) => ch.kind === "uuid");
      }
      get isCUID() {
        return !!this._def.checks.find((ch) => ch.kind === "cuid");
      }
      get isCUID2() {
        return !!this._def.checks.find((ch) => ch.kind === "cuid2");
      }
      get isULID() {
        return !!this._def.checks.find((ch) => ch.kind === "ulid");
      }
      get isIP() {
        return !!this._def.checks.find((ch) => ch.kind === "ip");
      }
      get minLength() {
        let min = null;
        for (const ch of this._def.checks) {
          if (ch.kind === "min") {
            if (min === null || ch.value > min)
              min = ch.value;
          }
        }
        return min;
      }
      get maxLength() {
        let max = null;
        for (const ch of this._def.checks) {
          if (ch.kind === "max") {
            if (max === null || ch.value < max)
              max = ch.value;
          }
        }
        return max;
      }
    };
    exports.ZodString = ZodString;
    ZodString.create = (params) => {
      var _a;
      return new ZodString({
        checks: [],
        typeName: ZodFirstPartyTypeKind.ZodString,
        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,
        ...processCreateParams(params)
      });
    };
    function floatSafeRemainder(val, step) {
      const valDecCount = (val.toString().split(".")[1] || "").length;
      const stepDecCount = (step.toString().split(".")[1] || "").length;
      const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
      const valInt = parseInt(val.toFixed(decCount).replace(".", ""));
      const stepInt = parseInt(step.toFixed(decCount).replace(".", ""));
      return valInt % stepInt / Math.pow(10, decCount);
    }
    var ZodNumber = class extends ZodType {
      constructor() {
        super(...arguments);
        this.min = this.gte;
        this.max = this.lte;
        this.step = this.multipleOf;
      }
      _parse(input) {
        if (this._def.coerce) {
          input.data = Number(input.data);
        }
        const parsedType = this._getType(input);
        if (parsedType !== util_1.ZodParsedType.number) {
          const ctx2 = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx2, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.number,
            received: ctx2.parsedType
          });
          return parseUtil_1.INVALID;
        }
        let ctx = void 0;
        const status = new parseUtil_1.ParseStatus();
        for (const check of this._def.checks) {
          if (check.kind === "int") {
            if (!util_1.util.isInteger(input.data)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.invalid_type,
                expected: "integer",
                received: "float",
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "min") {
            const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;
            if (tooSmall) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.too_small,
                minimum: check.value,
                type: "number",
                inclusive: check.inclusive,
                exact: false,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "max") {
            const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;
            if (tooBig) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.too_big,
                maximum: check.value,
                type: "number",
                inclusive: check.inclusive,
                exact: false,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "multipleOf") {
            if (floatSafeRemainder(input.data, check.value) !== 0) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.not_multiple_of,
                multipleOf: check.value,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "finite") {
            if (!Number.isFinite(input.data)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.not_finite,
                message: check.message
              });
              status.dirty();
            }
          } else {
            util_1.util.assertNever(check);
          }
        }
        return { status: status.value, value: input.data };
      }
      gte(value, message) {
        return this.setLimit("min", value, true, errorUtil_1.errorUtil.toString(message));
      }
      gt(value, message) {
        return this.setLimit("min", value, false, errorUtil_1.errorUtil.toString(message));
      }
      lte(value, message) {
        return this.setLimit("max", value, true, errorUtil_1.errorUtil.toString(message));
      }
      lt(value, message) {
        return this.setLimit("max", value, false, errorUtil_1.errorUtil.toString(message));
      }
      setLimit(kind, value, inclusive, message) {
        return new ZodNumber({
          ...this._def,
          checks: [
            ...this._def.checks,
            {
              kind,
              value,
              inclusive,
              message: errorUtil_1.errorUtil.toString(message)
            }
          ]
        });
      }
      _addCheck(check) {
        return new ZodNumber({
          ...this._def,
          checks: [...this._def.checks, check]
        });
      }
      int(message) {
        return this._addCheck({
          kind: "int",
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      positive(message) {
        return this._addCheck({
          kind: "min",
          value: 0,
          inclusive: false,
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      negative(message) {
        return this._addCheck({
          kind: "max",
          value: 0,
          inclusive: false,
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      nonpositive(message) {
        return this._addCheck({
          kind: "max",
          value: 0,
          inclusive: true,
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      nonnegative(message) {
        return this._addCheck({
          kind: "min",
          value: 0,
          inclusive: true,
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      multipleOf(value, message) {
        return this._addCheck({
          kind: "multipleOf",
          value,
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      finite(message) {
        return this._addCheck({
          kind: "finite",
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      safe(message) {
        return this._addCheck({
          kind: "min",
          inclusive: true,
          value: Number.MIN_SAFE_INTEGER,
          message: errorUtil_1.errorUtil.toString(message)
        })._addCheck({
          kind: "max",
          inclusive: true,
          value: Number.MAX_SAFE_INTEGER,
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      get minValue() {
        let min = null;
        for (const ch of this._def.checks) {
          if (ch.kind === "min") {
            if (min === null || ch.value > min)
              min = ch.value;
          }
        }
        return min;
      }
      get maxValue() {
        let max = null;
        for (const ch of this._def.checks) {
          if (ch.kind === "max") {
            if (max === null || ch.value < max)
              max = ch.value;
          }
        }
        return max;
      }
      get isInt() {
        return !!this._def.checks.find((ch) => ch.kind === "int" || ch.kind === "multipleOf" && util_1.util.isInteger(ch.value));
      }
      get isFinite() {
        let max = null, min = null;
        for (const ch of this._def.checks) {
          if (ch.kind === "finite" || ch.kind === "int" || ch.kind === "multipleOf") {
            return true;
          } else if (ch.kind === "min") {
            if (min === null || ch.value > min)
              min = ch.value;
          } else if (ch.kind === "max") {
            if (max === null || ch.value < max)
              max = ch.value;
          }
        }
        return Number.isFinite(min) && Number.isFinite(max);
      }
    };
    exports.ZodNumber = ZodNumber;
    ZodNumber.create = (params) => {
      return new ZodNumber({
        checks: [],
        typeName: ZodFirstPartyTypeKind.ZodNumber,
        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,
        ...processCreateParams(params)
      });
    };
    var ZodBigInt = class extends ZodType {
      constructor() {
        super(...arguments);
        this.min = this.gte;
        this.max = this.lte;
      }
      _parse(input) {
        if (this._def.coerce) {
          input.data = BigInt(input.data);
        }
        const parsedType = this._getType(input);
        if (parsedType !== util_1.ZodParsedType.bigint) {
          const ctx2 = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx2, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.bigint,
            received: ctx2.parsedType
          });
          return parseUtil_1.INVALID;
        }
        let ctx = void 0;
        const status = new parseUtil_1.ParseStatus();
        for (const check of this._def.checks) {
          if (check.kind === "min") {
            const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;
            if (tooSmall) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.too_small,
                type: "bigint",
                minimum: check.value,
                inclusive: check.inclusive,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "max") {
            const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;
            if (tooBig) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.too_big,
                type: "bigint",
                maximum: check.value,
                inclusive: check.inclusive,
                message: check.message
              });
              status.dirty();
            }
          } else if (check.kind === "multipleOf") {
            if (input.data % check.value !== BigInt(0)) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.not_multiple_of,
                multipleOf: check.value,
                message: check.message
              });
              status.dirty();
            }
          } else {
            util_1.util.assertNever(check);
          }
        }
        return { status: status.value, value: input.data };
      }
      gte(value, message) {
        return this.setLimit("min", value, true, errorUtil_1.errorUtil.toString(message));
      }
      gt(value, message) {
        return this.setLimit("min", value, false, errorUtil_1.errorUtil.toString(message));
      }
      lte(value, message) {
        return this.setLimit("max", value, true, errorUtil_1.errorUtil.toString(message));
      }
      lt(value, message) {
        return this.setLimit("max", value, false, errorUtil_1.errorUtil.toString(message));
      }
      setLimit(kind, value, inclusive, message) {
        return new ZodBigInt({
          ...this._def,
          checks: [
            ...this._def.checks,
            {
              kind,
              value,
              inclusive,
              message: errorUtil_1.errorUtil.toString(message)
            }
          ]
        });
      }
      _addCheck(check) {
        return new ZodBigInt({
          ...this._def,
          checks: [...this._def.checks, check]
        });
      }
      positive(message) {
        return this._addCheck({
          kind: "min",
          value: BigInt(0),
          inclusive: false,
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      negative(message) {
        return this._addCheck({
          kind: "max",
          value: BigInt(0),
          inclusive: false,
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      nonpositive(message) {
        return this._addCheck({
          kind: "max",
          value: BigInt(0),
          inclusive: true,
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      nonnegative(message) {
        return this._addCheck({
          kind: "min",
          value: BigInt(0),
          inclusive: true,
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      multipleOf(value, message) {
        return this._addCheck({
          kind: "multipleOf",
          value,
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      get minValue() {
        let min = null;
        for (const ch of this._def.checks) {
          if (ch.kind === "min") {
            if (min === null || ch.value > min)
              min = ch.value;
          }
        }
        return min;
      }
      get maxValue() {
        let max = null;
        for (const ch of this._def.checks) {
          if (ch.kind === "max") {
            if (max === null || ch.value < max)
              max = ch.value;
          }
        }
        return max;
      }
    };
    exports.ZodBigInt = ZodBigInt;
    ZodBigInt.create = (params) => {
      var _a;
      return new ZodBigInt({
        checks: [],
        typeName: ZodFirstPartyTypeKind.ZodBigInt,
        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,
        ...processCreateParams(params)
      });
    };
    var ZodBoolean = class extends ZodType {
      _parse(input) {
        if (this._def.coerce) {
          input.data = Boolean(input.data);
        }
        const parsedType = this._getType(input);
        if (parsedType !== util_1.ZodParsedType.boolean) {
          const ctx = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.boolean,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        return (0, parseUtil_1.OK)(input.data);
      }
    };
    exports.ZodBoolean = ZodBoolean;
    ZodBoolean.create = (params) => {
      return new ZodBoolean({
        typeName: ZodFirstPartyTypeKind.ZodBoolean,
        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,
        ...processCreateParams(params)
      });
    };
    var ZodDate = class extends ZodType {
      _parse(input) {
        if (this._def.coerce) {
          input.data = new Date(input.data);
        }
        const parsedType = this._getType(input);
        if (parsedType !== util_1.ZodParsedType.date) {
          const ctx2 = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx2, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.date,
            received: ctx2.parsedType
          });
          return parseUtil_1.INVALID;
        }
        if (isNaN(input.data.getTime())) {
          const ctx2 = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx2, {
            code: ZodError_1.ZodIssueCode.invalid_date
          });
          return parseUtil_1.INVALID;
        }
        const status = new parseUtil_1.ParseStatus();
        let ctx = void 0;
        for (const check of this._def.checks) {
          if (check.kind === "min") {
            if (input.data.getTime() < check.value) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.too_small,
                message: check.message,
                inclusive: true,
                exact: false,
                minimum: check.value,
                type: "date"
              });
              status.dirty();
            }
          } else if (check.kind === "max") {
            if (input.data.getTime() > check.value) {
              ctx = this._getOrReturnCtx(input, ctx);
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.too_big,
                message: check.message,
                inclusive: true,
                exact: false,
                maximum: check.value,
                type: "date"
              });
              status.dirty();
            }
          } else {
            util_1.util.assertNever(check);
          }
        }
        return {
          status: status.value,
          value: new Date(input.data.getTime())
        };
      }
      _addCheck(check) {
        return new ZodDate({
          ...this._def,
          checks: [...this._def.checks, check]
        });
      }
      min(minDate, message) {
        return this._addCheck({
          kind: "min",
          value: minDate.getTime(),
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      max(maxDate, message) {
        return this._addCheck({
          kind: "max",
          value: maxDate.getTime(),
          message: errorUtil_1.errorUtil.toString(message)
        });
      }
      get minDate() {
        let min = null;
        for (const ch of this._def.checks) {
          if (ch.kind === "min") {
            if (min === null || ch.value > min)
              min = ch.value;
          }
        }
        return min != null ? new Date(min) : null;
      }
      get maxDate() {
        let max = null;
        for (const ch of this._def.checks) {
          if (ch.kind === "max") {
            if (max === null || ch.value < max)
              max = ch.value;
          }
        }
        return max != null ? new Date(max) : null;
      }
    };
    exports.ZodDate = ZodDate;
    ZodDate.create = (params) => {
      return new ZodDate({
        checks: [],
        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,
        typeName: ZodFirstPartyTypeKind.ZodDate,
        ...processCreateParams(params)
      });
    };
    var ZodSymbol = class extends ZodType {
      _parse(input) {
        const parsedType = this._getType(input);
        if (parsedType !== util_1.ZodParsedType.symbol) {
          const ctx = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.symbol,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        return (0, parseUtil_1.OK)(input.data);
      }
    };
    exports.ZodSymbol = ZodSymbol;
    ZodSymbol.create = (params) => {
      return new ZodSymbol({
        typeName: ZodFirstPartyTypeKind.ZodSymbol,
        ...processCreateParams(params)
      });
    };
    var ZodUndefined = class extends ZodType {
      _parse(input) {
        const parsedType = this._getType(input);
        if (parsedType !== util_1.ZodParsedType.undefined) {
          const ctx = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.undefined,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        return (0, parseUtil_1.OK)(input.data);
      }
    };
    exports.ZodUndefined = ZodUndefined;
    ZodUndefined.create = (params) => {
      return new ZodUndefined({
        typeName: ZodFirstPartyTypeKind.ZodUndefined,
        ...processCreateParams(params)
      });
    };
    var ZodNull = class extends ZodType {
      _parse(input) {
        const parsedType = this._getType(input);
        if (parsedType !== util_1.ZodParsedType.null) {
          const ctx = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.null,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        return (0, parseUtil_1.OK)(input.data);
      }
    };
    exports.ZodNull = ZodNull;
    ZodNull.create = (params) => {
      return new ZodNull({
        typeName: ZodFirstPartyTypeKind.ZodNull,
        ...processCreateParams(params)
      });
    };
    var ZodAny = class extends ZodType {
      constructor() {
        super(...arguments);
        this._any = true;
      }
      _parse(input) {
        return (0, parseUtil_1.OK)(input.data);
      }
    };
    exports.ZodAny = ZodAny;
    ZodAny.create = (params) => {
      return new ZodAny({
        typeName: ZodFirstPartyTypeKind.ZodAny,
        ...processCreateParams(params)
      });
    };
    var ZodUnknown = class extends ZodType {
      constructor() {
        super(...arguments);
        this._unknown = true;
      }
      _parse(input) {
        return (0, parseUtil_1.OK)(input.data);
      }
    };
    exports.ZodUnknown = ZodUnknown;
    ZodUnknown.create = (params) => {
      return new ZodUnknown({
        typeName: ZodFirstPartyTypeKind.ZodUnknown,
        ...processCreateParams(params)
      });
    };
    var ZodNever = class extends ZodType {
      _parse(input) {
        const ctx = this._getOrReturnCtx(input);
        (0, parseUtil_1.addIssueToContext)(ctx, {
          code: ZodError_1.ZodIssueCode.invalid_type,
          expected: util_1.ZodParsedType.never,
          received: ctx.parsedType
        });
        return parseUtil_1.INVALID;
      }
    };
    exports.ZodNever = ZodNever;
    ZodNever.create = (params) => {
      return new ZodNever({
        typeName: ZodFirstPartyTypeKind.ZodNever,
        ...processCreateParams(params)
      });
    };
    var ZodVoid = class extends ZodType {
      _parse(input) {
        const parsedType = this._getType(input);
        if (parsedType !== util_1.ZodParsedType.undefined) {
          const ctx = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.void,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        return (0, parseUtil_1.OK)(input.data);
      }
    };
    exports.ZodVoid = ZodVoid;
    ZodVoid.create = (params) => {
      return new ZodVoid({
        typeName: ZodFirstPartyTypeKind.ZodVoid,
        ...processCreateParams(params)
      });
    };
    var ZodArray = class extends ZodType {
      _parse(input) {
        const { ctx, status } = this._processInputParams(input);
        const def = this._def;
        if (ctx.parsedType !== util_1.ZodParsedType.array) {
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.array,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        if (def.exactLength !== null) {
          const tooBig = ctx.data.length > def.exactLength.value;
          const tooSmall = ctx.data.length < def.exactLength.value;
          if (tooBig || tooSmall) {
            (0, parseUtil_1.addIssueToContext)(ctx, {
              code: tooBig ? ZodError_1.ZodIssueCode.too_big : ZodError_1.ZodIssueCode.too_small,
              minimum: tooSmall ? def.exactLength.value : void 0,
              maximum: tooBig ? def.exactLength.value : void 0,
              type: "array",
              inclusive: true,
              exact: true,
              message: def.exactLength.message
            });
            status.dirty();
          }
        }
        if (def.minLength !== null) {
          if (ctx.data.length < def.minLength.value) {
            (0, parseUtil_1.addIssueToContext)(ctx, {
              code: ZodError_1.ZodIssueCode.too_small,
              minimum: def.minLength.value,
              type: "array",
              inclusive: true,
              exact: false,
              message: def.minLength.message
            });
            status.dirty();
          }
        }
        if (def.maxLength !== null) {
          if (ctx.data.length > def.maxLength.value) {
            (0, parseUtil_1.addIssueToContext)(ctx, {
              code: ZodError_1.ZodIssueCode.too_big,
              maximum: def.maxLength.value,
              type: "array",
              inclusive: true,
              exact: false,
              message: def.maxLength.message
            });
            status.dirty();
          }
        }
        if (ctx.common.async) {
          return Promise.all([...ctx.data].map((item, i) => {
            return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));
          })).then((result2) => {
            return parseUtil_1.ParseStatus.mergeArray(status, result2);
          });
        }
        const result = [...ctx.data].map((item, i) => {
          return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));
        });
        return parseUtil_1.ParseStatus.mergeArray(status, result);
      }
      get element() {
        return this._def.type;
      }
      min(minLength, message) {
        return new ZodArray({
          ...this._def,
          minLength: { value: minLength, message: errorUtil_1.errorUtil.toString(message) }
        });
      }
      max(maxLength, message) {
        return new ZodArray({
          ...this._def,
          maxLength: { value: maxLength, message: errorUtil_1.errorUtil.toString(message) }
        });
      }
      length(len, message) {
        return new ZodArray({
          ...this._def,
          exactLength: { value: len, message: errorUtil_1.errorUtil.toString(message) }
        });
      }
      nonempty(message) {
        return this.min(1, message);
      }
    };
    exports.ZodArray = ZodArray;
    ZodArray.create = (schema, params) => {
      return new ZodArray({
        type: schema,
        minLength: null,
        maxLength: null,
        exactLength: null,
        typeName: ZodFirstPartyTypeKind.ZodArray,
        ...processCreateParams(params)
      });
    };
    function deepPartialify(schema) {
      if (schema instanceof ZodObject) {
        const newShape = {};
        for (const key in schema.shape) {
          const fieldSchema = schema.shape[key];
          newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));
        }
        return new ZodObject({
          ...schema._def,
          shape: () => newShape
        });
      } else if (schema instanceof ZodArray) {
        return new ZodArray({
          ...schema._def,
          type: deepPartialify(schema.element)
        });
      } else if (schema instanceof ZodOptional) {
        return ZodOptional.create(deepPartialify(schema.unwrap()));
      } else if (schema instanceof ZodNullable) {
        return ZodNullable.create(deepPartialify(schema.unwrap()));
      } else if (schema instanceof ZodTuple) {
        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));
      } else {
        return schema;
      }
    }
    var ZodObject = class extends ZodType {
      constructor() {
        super(...arguments);
        this._cached = null;
        this.nonstrict = this.passthrough;
        this.augment = this.extend;
      }
      _getCached() {
        if (this._cached !== null)
          return this._cached;
        const shape = this._def.shape();
        const keys = util_1.util.objectKeys(shape);
        return this._cached = { shape, keys };
      }
      _parse(input) {
        const parsedType = this._getType(input);
        if (parsedType !== util_1.ZodParsedType.object) {
          const ctx2 = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx2, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.object,
            received: ctx2.parsedType
          });
          return parseUtil_1.INVALID;
        }
        const { status, ctx } = this._processInputParams(input);
        const { shape, keys: shapeKeys } = this._getCached();
        const extraKeys = [];
        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === "strip")) {
          for (const key in ctx.data) {
            if (!shapeKeys.includes(key)) {
              extraKeys.push(key);
            }
          }
        }
        const pairs = [];
        for (const key of shapeKeys) {
          const keyValidator = shape[key];
          const value = ctx.data[key];
          pairs.push({
            key: { status: "valid", value: key },
            value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),
            alwaysSet: key in ctx.data
          });
        }
        if (this._def.catchall instanceof ZodNever) {
          const unknownKeys = this._def.unknownKeys;
          if (unknownKeys === "passthrough") {
            for (const key of extraKeys) {
              pairs.push({
                key: { status: "valid", value: key },
                value: { status: "valid", value: ctx.data[key] }
              });
            }
          } else if (unknownKeys === "strict") {
            if (extraKeys.length > 0) {
              (0, parseUtil_1.addIssueToContext)(ctx, {
                code: ZodError_1.ZodIssueCode.unrecognized_keys,
                keys: extraKeys
              });
              status.dirty();
            }
          } else if (unknownKeys === "strip") {
          } else {
            throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);
          }
        } else {
          const catchall = this._def.catchall;
          for (const key of extraKeys) {
            const value = ctx.data[key];
            pairs.push({
              key: { status: "valid", value: key },
              value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),
              alwaysSet: key in ctx.data
            });
          }
        }
        if (ctx.common.async) {
          return Promise.resolve().then(async () => {
            const syncPairs = [];
            for (const pair of pairs) {
              const key = await pair.key;
              syncPairs.push({
                key,
                value: await pair.value,
                alwaysSet: pair.alwaysSet
              });
            }
            return syncPairs;
          }).then((syncPairs) => {
            return parseUtil_1.ParseStatus.mergeObjectSync(status, syncPairs);
          });
        } else {
          return parseUtil_1.ParseStatus.mergeObjectSync(status, pairs);
        }
      }
      get shape() {
        return this._def.shape();
      }
      strict(message) {
        errorUtil_1.errorUtil.errToObj;
        return new ZodObject({
          ...this._def,
          unknownKeys: "strict",
          ...message !== void 0 ? {
            errorMap: (issue, ctx) => {
              var _a, _b, _c, _d;
              const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;
              if (issue.code === "unrecognized_keys")
                return {
                  message: (_d = errorUtil_1.errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError
                };
              return {
                message: defaultError
              };
            }
          } : {}
        });
      }
      strip() {
        return new ZodObject({
          ...this._def,
          unknownKeys: "strip"
        });
      }
      passthrough() {
        return new ZodObject({
          ...this._def,
          unknownKeys: "passthrough"
        });
      }
      extend(augmentation) {
        return new ZodObject({
          ...this._def,
          shape: () => ({
            ...this._def.shape(),
            ...augmentation
          })
        });
      }
      merge(merging) {
        const merged = new ZodObject({
          unknownKeys: merging._def.unknownKeys,
          catchall: merging._def.catchall,
          shape: () => ({
            ...this._def.shape(),
            ...merging._def.shape()
          }),
          typeName: ZodFirstPartyTypeKind.ZodObject
        });
        return merged;
      }
      setKey(key, schema) {
        return this.augment({ [key]: schema });
      }
      catchall(index) {
        return new ZodObject({
          ...this._def,
          catchall: index
        });
      }
      pick(mask) {
        const shape = {};
        util_1.util.objectKeys(mask).forEach((key) => {
          if (mask[key] && this.shape[key]) {
            shape[key] = this.shape[key];
          }
        });
        return new ZodObject({
          ...this._def,
          shape: () => shape
        });
      }
      omit(mask) {
        const shape = {};
        util_1.util.objectKeys(this.shape).forEach((key) => {
          if (!mask[key]) {
            shape[key] = this.shape[key];
          }
        });
        return new ZodObject({
          ...this._def,
          shape: () => shape
        });
      }
      deepPartial() {
        return deepPartialify(this);
      }
      partial(mask) {
        const newShape = {};
        util_1.util.objectKeys(this.shape).forEach((key) => {
          const fieldSchema = this.shape[key];
          if (mask && !mask[key]) {
            newShape[key] = fieldSchema;
          } else {
            newShape[key] = fieldSchema.optional();
          }
        });
        return new ZodObject({
          ...this._def,
          shape: () => newShape
        });
      }
      required(mask) {
        const newShape = {};
        util_1.util.objectKeys(this.shape).forEach((key) => {
          if (mask && !mask[key]) {
            newShape[key] = this.shape[key];
          } else {
            const fieldSchema = this.shape[key];
            let newField = fieldSchema;
            while (newField instanceof ZodOptional) {
              newField = newField._def.innerType;
            }
            newShape[key] = newField;
          }
        });
        return new ZodObject({
          ...this._def,
          shape: () => newShape
        });
      }
      keyof() {
        return createZodEnum(util_1.util.objectKeys(this.shape));
      }
    };
    exports.ZodObject = ZodObject;
    ZodObject.create = (shape, params) => {
      return new ZodObject({
        shape: () => shape,
        unknownKeys: "strip",
        catchall: ZodNever.create(),
        typeName: ZodFirstPartyTypeKind.ZodObject,
        ...processCreateParams(params)
      });
    };
    ZodObject.strictCreate = (shape, params) => {
      return new ZodObject({
        shape: () => shape,
        unknownKeys: "strict",
        catchall: ZodNever.create(),
        typeName: ZodFirstPartyTypeKind.ZodObject,
        ...processCreateParams(params)
      });
    };
    ZodObject.lazycreate = (shape, params) => {
      return new ZodObject({
        shape,
        unknownKeys: "strip",
        catchall: ZodNever.create(),
        typeName: ZodFirstPartyTypeKind.ZodObject,
        ...processCreateParams(params)
      });
    };
    var ZodUnion = class extends ZodType {
      _parse(input) {
        const { ctx } = this._processInputParams(input);
        const options = this._def.options;
        function handleResults(results) {
          for (const result of results) {
            if (result.result.status === "valid") {
              return result.result;
            }
          }
          for (const result of results) {
            if (result.result.status === "dirty") {
              ctx.common.issues.push(...result.ctx.common.issues);
              return result.result;
            }
          }
          const unionErrors = results.map((result) => new ZodError_1.ZodError(result.ctx.common.issues));
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_union,
            unionErrors
          });
          return parseUtil_1.INVALID;
        }
        if (ctx.common.async) {
          return Promise.all(options.map(async (option) => {
            const childCtx = {
              ...ctx,
              common: {
                ...ctx.common,
                issues: []
              },
              parent: null
            };
            return {
              result: await option._parseAsync({
                data: ctx.data,
                path: ctx.path,
                parent: childCtx
              }),
              ctx: childCtx
            };
          })).then(handleResults);
        } else {
          let dirty = void 0;
          const issues = [];
          for (const option of options) {
            const childCtx = {
              ...ctx,
              common: {
                ...ctx.common,
                issues: []
              },
              parent: null
            };
            const result = option._parseSync({
              data: ctx.data,
              path: ctx.path,
              parent: childCtx
            });
            if (result.status === "valid") {
              return result;
            } else if (result.status === "dirty" && !dirty) {
              dirty = { result, ctx: childCtx };
            }
            if (childCtx.common.issues.length) {
              issues.push(childCtx.common.issues);
            }
          }
          if (dirty) {
            ctx.common.issues.push(...dirty.ctx.common.issues);
            return dirty.result;
          }
          const unionErrors = issues.map((issues2) => new ZodError_1.ZodError(issues2));
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_union,
            unionErrors
          });
          return parseUtil_1.INVALID;
        }
      }
      get options() {
        return this._def.options;
      }
    };
    exports.ZodUnion = ZodUnion;
    ZodUnion.create = (types, params) => {
      return new ZodUnion({
        options: types,
        typeName: ZodFirstPartyTypeKind.ZodUnion,
        ...processCreateParams(params)
      });
    };
    var getDiscriminator = (type) => {
      if (type instanceof ZodLazy) {
        return getDiscriminator(type.schema);
      } else if (type instanceof ZodEffects) {
        return getDiscriminator(type.innerType());
      } else if (type instanceof ZodLiteral) {
        return [type.value];
      } else if (type instanceof ZodEnum) {
        return type.options;
      } else if (type instanceof ZodNativeEnum) {
        return Object.keys(type.enum);
      } else if (type instanceof ZodDefault) {
        return getDiscriminator(type._def.innerType);
      } else if (type instanceof ZodUndefined) {
        return [void 0];
      } else if (type instanceof ZodNull) {
        return [null];
      } else {
        return null;
      }
    };
    var ZodDiscriminatedUnion = class extends ZodType {
      _parse(input) {
        const { ctx } = this._processInputParams(input);
        if (ctx.parsedType !== util_1.ZodParsedType.object) {
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.object,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        const discriminator = this.discriminator;
        const discriminatorValue = ctx.data[discriminator];
        const option = this.optionsMap.get(discriminatorValue);
        if (!option) {
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_union_discriminator,
            options: Array.from(this.optionsMap.keys()),
            path: [discriminator]
          });
          return parseUtil_1.INVALID;
        }
        if (ctx.common.async) {
          return option._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          });
        } else {
          return option._parseSync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          });
        }
      }
      get discriminator() {
        return this._def.discriminator;
      }
      get options() {
        return this._def.options;
      }
      get optionsMap() {
        return this._def.optionsMap;
      }
      static create(discriminator, options, params) {
        const optionsMap = /* @__PURE__ */ new Map();
        for (const type of options) {
          const discriminatorValues = getDiscriminator(type.shape[discriminator]);
          if (!discriminatorValues) {
            throw new Error(`A discriminator value for key \`${discriminator}\` could not be extracted from all schema options`);
          }
          for (const value of discriminatorValues) {
            if (optionsMap.has(value)) {
              throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);
            }
            optionsMap.set(value, type);
          }
        }
        return new ZodDiscriminatedUnion({
          typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,
          discriminator,
          options,
          optionsMap,
          ...processCreateParams(params)
        });
      }
    };
    exports.ZodDiscriminatedUnion = ZodDiscriminatedUnion;
    function mergeValues(a, b) {
      const aType = (0, util_1.getParsedType)(a);
      const bType = (0, util_1.getParsedType)(b);
      if (a === b) {
        return { valid: true, data: a };
      } else if (aType === util_1.ZodParsedType.object && bType === util_1.ZodParsedType.object) {
        const bKeys = util_1.util.objectKeys(b);
        const sharedKeys = util_1.util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);
        const newObj = { ...a, ...b };
        for (const key of sharedKeys) {
          const sharedValue = mergeValues(a[key], b[key]);
          if (!sharedValue.valid) {
            return { valid: false };
          }
          newObj[key] = sharedValue.data;
        }
        return { valid: true, data: newObj };
      } else if (aType === util_1.ZodParsedType.array && bType === util_1.ZodParsedType.array) {
        if (a.length !== b.length) {
          return { valid: false };
        }
        const newArray = [];
        for (let index = 0; index < a.length; index++) {
          const itemA = a[index];
          const itemB = b[index];
          const sharedValue = mergeValues(itemA, itemB);
          if (!sharedValue.valid) {
            return { valid: false };
          }
          newArray.push(sharedValue.data);
        }
        return { valid: true, data: newArray };
      } else if (aType === util_1.ZodParsedType.date && bType === util_1.ZodParsedType.date && +a === +b) {
        return { valid: true, data: a };
      } else {
        return { valid: false };
      }
    }
    var ZodIntersection = class extends ZodType {
      _parse(input) {
        const { status, ctx } = this._processInputParams(input);
        const handleParsed = (parsedLeft, parsedRight) => {
          if ((0, parseUtil_1.isAborted)(parsedLeft) || (0, parseUtil_1.isAborted)(parsedRight)) {
            return parseUtil_1.INVALID;
          }
          const merged = mergeValues(parsedLeft.value, parsedRight.value);
          if (!merged.valid) {
            (0, parseUtil_1.addIssueToContext)(ctx, {
              code: ZodError_1.ZodIssueCode.invalid_intersection_types
            });
            return parseUtil_1.INVALID;
          }
          if ((0, parseUtil_1.isDirty)(parsedLeft) || (0, parseUtil_1.isDirty)(parsedRight)) {
            status.dirty();
          }
          return { status: status.value, value: merged.data };
        };
        if (ctx.common.async) {
          return Promise.all([
            this._def.left._parseAsync({
              data: ctx.data,
              path: ctx.path,
              parent: ctx
            }),
            this._def.right._parseAsync({
              data: ctx.data,
              path: ctx.path,
              parent: ctx
            })
          ]).then(([left, right]) => handleParsed(left, right));
        } else {
          return handleParsed(this._def.left._parseSync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          }), this._def.right._parseSync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          }));
        }
      }
    };
    exports.ZodIntersection = ZodIntersection;
    ZodIntersection.create = (left, right, params) => {
      return new ZodIntersection({
        left,
        right,
        typeName: ZodFirstPartyTypeKind.ZodIntersection,
        ...processCreateParams(params)
      });
    };
    var ZodTuple = class extends ZodType {
      _parse(input) {
        const { status, ctx } = this._processInputParams(input);
        if (ctx.parsedType !== util_1.ZodParsedType.array) {
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.array,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        if (ctx.data.length < this._def.items.length) {
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.too_small,
            minimum: this._def.items.length,
            inclusive: true,
            exact: false,
            type: "array"
          });
          return parseUtil_1.INVALID;
        }
        const rest = this._def.rest;
        if (!rest && ctx.data.length > this._def.items.length) {
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.too_big,
            maximum: this._def.items.length,
            inclusive: true,
            exact: false,
            type: "array"
          });
          status.dirty();
        }
        const items = [...ctx.data].map((item, itemIndex) => {
          const schema = this._def.items[itemIndex] || this._def.rest;
          if (!schema)
            return null;
          return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));
        }).filter((x) => !!x);
        if (ctx.common.async) {
          return Promise.all(items).then((results) => {
            return parseUtil_1.ParseStatus.mergeArray(status, results);
          });
        } else {
          return parseUtil_1.ParseStatus.mergeArray(status, items);
        }
      }
      get items() {
        return this._def.items;
      }
      rest(rest) {
        return new ZodTuple({
          ...this._def,
          rest
        });
      }
    };
    exports.ZodTuple = ZodTuple;
    ZodTuple.create = (schemas, params) => {
      if (!Array.isArray(schemas)) {
        throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
      }
      return new ZodTuple({
        items: schemas,
        typeName: ZodFirstPartyTypeKind.ZodTuple,
        rest: null,
        ...processCreateParams(params)
      });
    };
    var ZodRecord = class extends ZodType {
      get keySchema() {
        return this._def.keyType;
      }
      get valueSchema() {
        return this._def.valueType;
      }
      _parse(input) {
        const { status, ctx } = this._processInputParams(input);
        if (ctx.parsedType !== util_1.ZodParsedType.object) {
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.object,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        const pairs = [];
        const keyType = this._def.keyType;
        const valueType = this._def.valueType;
        for (const key in ctx.data) {
          pairs.push({
            key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),
            value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key))
          });
        }
        if (ctx.common.async) {
          return parseUtil_1.ParseStatus.mergeObjectAsync(status, pairs);
        } else {
          return parseUtil_1.ParseStatus.mergeObjectSync(status, pairs);
        }
      }
      get element() {
        return this._def.valueType;
      }
      static create(first, second, third) {
        if (second instanceof ZodType) {
          return new ZodRecord({
            keyType: first,
            valueType: second,
            typeName: ZodFirstPartyTypeKind.ZodRecord,
            ...processCreateParams(third)
          });
        }
        return new ZodRecord({
          keyType: ZodString.create(),
          valueType: first,
          typeName: ZodFirstPartyTypeKind.ZodRecord,
          ...processCreateParams(second)
        });
      }
    };
    exports.ZodRecord = ZodRecord;
    var ZodMap = class extends ZodType {
      _parse(input) {
        const { status, ctx } = this._processInputParams(input);
        if (ctx.parsedType !== util_1.ZodParsedType.map) {
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.map,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        const keyType = this._def.keyType;
        const valueType = this._def.valueType;
        const pairs = [...ctx.data.entries()].map(([key, value], index) => {
          return {
            key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, "key"])),
            value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, "value"]))
          };
        });
        if (ctx.common.async) {
          const finalMap = /* @__PURE__ */ new Map();
          return Promise.resolve().then(async () => {
            for (const pair of pairs) {
              const key = await pair.key;
              const value = await pair.value;
              if (key.status === "aborted" || value.status === "aborted") {
                return parseUtil_1.INVALID;
              }
              if (key.status === "dirty" || value.status === "dirty") {
                status.dirty();
              }
              finalMap.set(key.value, value.value);
            }
            return { status: status.value, value: finalMap };
          });
        } else {
          const finalMap = /* @__PURE__ */ new Map();
          for (const pair of pairs) {
            const key = pair.key;
            const value = pair.value;
            if (key.status === "aborted" || value.status === "aborted") {
              return parseUtil_1.INVALID;
            }
            if (key.status === "dirty" || value.status === "dirty") {
              status.dirty();
            }
            finalMap.set(key.value, value.value);
          }
          return { status: status.value, value: finalMap };
        }
      }
    };
    exports.ZodMap = ZodMap;
    ZodMap.create = (keyType, valueType, params) => {
      return new ZodMap({
        valueType,
        keyType,
        typeName: ZodFirstPartyTypeKind.ZodMap,
        ...processCreateParams(params)
      });
    };
    var ZodSet = class extends ZodType {
      _parse(input) {
        const { status, ctx } = this._processInputParams(input);
        if (ctx.parsedType !== util_1.ZodParsedType.set) {
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.set,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        const def = this._def;
        if (def.minSize !== null) {
          if (ctx.data.size < def.minSize.value) {
            (0, parseUtil_1.addIssueToContext)(ctx, {
              code: ZodError_1.ZodIssueCode.too_small,
              minimum: def.minSize.value,
              type: "set",
              inclusive: true,
              exact: false,
              message: def.minSize.message
            });
            status.dirty();
          }
        }
        if (def.maxSize !== null) {
          if (ctx.data.size > def.maxSize.value) {
            (0, parseUtil_1.addIssueToContext)(ctx, {
              code: ZodError_1.ZodIssueCode.too_big,
              maximum: def.maxSize.value,
              type: "set",
              inclusive: true,
              exact: false,
              message: def.maxSize.message
            });
            status.dirty();
          }
        }
        const valueType = this._def.valueType;
        function finalizeSet(elements2) {
          const parsedSet = /* @__PURE__ */ new Set();
          for (const element of elements2) {
            if (element.status === "aborted")
              return parseUtil_1.INVALID;
            if (element.status === "dirty")
              status.dirty();
            parsedSet.add(element.value);
          }
          return { status: status.value, value: parsedSet };
        }
        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));
        if (ctx.common.async) {
          return Promise.all(elements).then((elements2) => finalizeSet(elements2));
        } else {
          return finalizeSet(elements);
        }
      }
      min(minSize, message) {
        return new ZodSet({
          ...this._def,
          minSize: { value: minSize, message: errorUtil_1.errorUtil.toString(message) }
        });
      }
      max(maxSize, message) {
        return new ZodSet({
          ...this._def,
          maxSize: { value: maxSize, message: errorUtil_1.errorUtil.toString(message) }
        });
      }
      size(size, message) {
        return this.min(size, message).max(size, message);
      }
      nonempty(message) {
        return this.min(1, message);
      }
    };
    exports.ZodSet = ZodSet;
    ZodSet.create = (valueType, params) => {
      return new ZodSet({
        valueType,
        minSize: null,
        maxSize: null,
        typeName: ZodFirstPartyTypeKind.ZodSet,
        ...processCreateParams(params)
      });
    };
    var ZodFunction = class extends ZodType {
      constructor() {
        super(...arguments);
        this.validate = this.implement;
      }
      _parse(input) {
        const { ctx } = this._processInputParams(input);
        if (ctx.parsedType !== util_1.ZodParsedType.function) {
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.function,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        function makeArgsIssue(args, error) {
          return (0, parseUtil_1.makeIssue)({
            data: args,
            path: ctx.path,
            errorMaps: [
              ctx.common.contextualErrorMap,
              ctx.schemaErrorMap,
              (0, errors_1.getErrorMap)(),
              errors_1.defaultErrorMap
            ].filter((x) => !!x),
            issueData: {
              code: ZodError_1.ZodIssueCode.invalid_arguments,
              argumentsError: error
            }
          });
        }
        function makeReturnsIssue(returns, error) {
          return (0, parseUtil_1.makeIssue)({
            data: returns,
            path: ctx.path,
            errorMaps: [
              ctx.common.contextualErrorMap,
              ctx.schemaErrorMap,
              (0, errors_1.getErrorMap)(),
              errors_1.defaultErrorMap
            ].filter((x) => !!x),
            issueData: {
              code: ZodError_1.ZodIssueCode.invalid_return_type,
              returnTypeError: error
            }
          });
        }
        const params = { errorMap: ctx.common.contextualErrorMap };
        const fn = ctx.data;
        if (this._def.returns instanceof ZodPromise) {
          return (0, parseUtil_1.OK)(async (...args) => {
            const error = new ZodError_1.ZodError([]);
            const parsedArgs = await this._def.args.parseAsync(args, params).catch((e) => {
              error.addIssue(makeArgsIssue(args, e));
              throw error;
            });
            const result = await fn(...parsedArgs);
            const parsedReturns = await this._def.returns._def.type.parseAsync(result, params).catch((e) => {
              error.addIssue(makeReturnsIssue(result, e));
              throw error;
            });
            return parsedReturns;
          });
        } else {
          return (0, parseUtil_1.OK)((...args) => {
            const parsedArgs = this._def.args.safeParse(args, params);
            if (!parsedArgs.success) {
              throw new ZodError_1.ZodError([makeArgsIssue(args, parsedArgs.error)]);
            }
            const result = fn(...parsedArgs.data);
            const parsedReturns = this._def.returns.safeParse(result, params);
            if (!parsedReturns.success) {
              throw new ZodError_1.ZodError([makeReturnsIssue(result, parsedReturns.error)]);
            }
            return parsedReturns.data;
          });
        }
      }
      parameters() {
        return this._def.args;
      }
      returnType() {
        return this._def.returns;
      }
      args(...items) {
        return new ZodFunction({
          ...this._def,
          args: ZodTuple.create(items).rest(ZodUnknown.create())
        });
      }
      returns(returnType) {
        return new ZodFunction({
          ...this._def,
          returns: returnType
        });
      }
      implement(func) {
        const validatedFunc = this.parse(func);
        return validatedFunc;
      }
      strictImplement(func) {
        const validatedFunc = this.parse(func);
        return validatedFunc;
      }
      static create(args, returns, params) {
        return new ZodFunction({
          args: args ? args : ZodTuple.create([]).rest(ZodUnknown.create()),
          returns: returns || ZodUnknown.create(),
          typeName: ZodFirstPartyTypeKind.ZodFunction,
          ...processCreateParams(params)
        });
      }
    };
    exports.ZodFunction = ZodFunction;
    var ZodLazy = class extends ZodType {
      get schema() {
        return this._def.getter();
      }
      _parse(input) {
        const { ctx } = this._processInputParams(input);
        const lazySchema = this._def.getter();
        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });
      }
    };
    exports.ZodLazy = ZodLazy;
    ZodLazy.create = (getter, params) => {
      return new ZodLazy({
        getter,
        typeName: ZodFirstPartyTypeKind.ZodLazy,
        ...processCreateParams(params)
      });
    };
    var ZodLiteral = class extends ZodType {
      _parse(input) {
        if (input.data !== this._def.value) {
          const ctx = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx, {
            received: ctx.data,
            code: ZodError_1.ZodIssueCode.invalid_literal,
            expected: this._def.value
          });
          return parseUtil_1.INVALID;
        }
        return { status: "valid", value: input.data };
      }
      get value() {
        return this._def.value;
      }
    };
    exports.ZodLiteral = ZodLiteral;
    ZodLiteral.create = (value, params) => {
      return new ZodLiteral({
        value,
        typeName: ZodFirstPartyTypeKind.ZodLiteral,
        ...processCreateParams(params)
      });
    };
    function createZodEnum(values, params) {
      return new ZodEnum({
        values,
        typeName: ZodFirstPartyTypeKind.ZodEnum,
        ...processCreateParams(params)
      });
    }
    var ZodEnum = class extends ZodType {
      _parse(input) {
        if (typeof input.data !== "string") {
          const ctx = this._getOrReturnCtx(input);
          const expectedValues = this._def.values;
          (0, parseUtil_1.addIssueToContext)(ctx, {
            expected: util_1.util.joinValues(expectedValues),
            received: ctx.parsedType,
            code: ZodError_1.ZodIssueCode.invalid_type
          });
          return parseUtil_1.INVALID;
        }
        if (this._def.values.indexOf(input.data) === -1) {
          const ctx = this._getOrReturnCtx(input);
          const expectedValues = this._def.values;
          (0, parseUtil_1.addIssueToContext)(ctx, {
            received: ctx.data,
            code: ZodError_1.ZodIssueCode.invalid_enum_value,
            options: expectedValues
          });
          return parseUtil_1.INVALID;
        }
        return (0, parseUtil_1.OK)(input.data);
      }
      get options() {
        return this._def.values;
      }
      get enum() {
        const enumValues = {};
        for (const val of this._def.values) {
          enumValues[val] = val;
        }
        return enumValues;
      }
      get Values() {
        const enumValues = {};
        for (const val of this._def.values) {
          enumValues[val] = val;
        }
        return enumValues;
      }
      get Enum() {
        const enumValues = {};
        for (const val of this._def.values) {
          enumValues[val] = val;
        }
        return enumValues;
      }
      extract(values) {
        return ZodEnum.create(values);
      }
      exclude(values) {
        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)));
      }
    };
    exports.ZodEnum = ZodEnum;
    ZodEnum.create = createZodEnum;
    var ZodNativeEnum = class extends ZodType {
      _parse(input) {
        const nativeEnumValues = util_1.util.getValidEnumValues(this._def.values);
        const ctx = this._getOrReturnCtx(input);
        if (ctx.parsedType !== util_1.ZodParsedType.string && ctx.parsedType !== util_1.ZodParsedType.number) {
          const expectedValues = util_1.util.objectValues(nativeEnumValues);
          (0, parseUtil_1.addIssueToContext)(ctx, {
            expected: util_1.util.joinValues(expectedValues),
            received: ctx.parsedType,
            code: ZodError_1.ZodIssueCode.invalid_type
          });
          return parseUtil_1.INVALID;
        }
        if (nativeEnumValues.indexOf(input.data) === -1) {
          const expectedValues = util_1.util.objectValues(nativeEnumValues);
          (0, parseUtil_1.addIssueToContext)(ctx, {
            received: ctx.data,
            code: ZodError_1.ZodIssueCode.invalid_enum_value,
            options: expectedValues
          });
          return parseUtil_1.INVALID;
        }
        return (0, parseUtil_1.OK)(input.data);
      }
      get enum() {
        return this._def.values;
      }
    };
    exports.ZodNativeEnum = ZodNativeEnum;
    ZodNativeEnum.create = (values, params) => {
      return new ZodNativeEnum({
        values,
        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,
        ...processCreateParams(params)
      });
    };
    var ZodPromise = class extends ZodType {
      unwrap() {
        return this._def.type;
      }
      _parse(input) {
        const { ctx } = this._processInputParams(input);
        if (ctx.parsedType !== util_1.ZodParsedType.promise && ctx.common.async === false) {
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.promise,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        const promisified = ctx.parsedType === util_1.ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);
        return (0, parseUtil_1.OK)(promisified.then((data) => {
          return this._def.type.parseAsync(data, {
            path: ctx.path,
            errorMap: ctx.common.contextualErrorMap
          });
        }));
      }
    };
    exports.ZodPromise = ZodPromise;
    ZodPromise.create = (schema, params) => {
      return new ZodPromise({
        type: schema,
        typeName: ZodFirstPartyTypeKind.ZodPromise,
        ...processCreateParams(params)
      });
    };
    var ZodEffects = class extends ZodType {
      innerType() {
        return this._def.schema;
      }
      sourceType() {
        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects ? this._def.schema.sourceType() : this._def.schema;
      }
      _parse(input) {
        const { status, ctx } = this._processInputParams(input);
        const effect = this._def.effect || null;
        if (effect.type === "preprocess") {
          const processed = effect.transform(ctx.data);
          if (ctx.common.async) {
            return Promise.resolve(processed).then((processed2) => {
              return this._def.schema._parseAsync({
                data: processed2,
                path: ctx.path,
                parent: ctx
              });
            });
          } else {
            return this._def.schema._parseSync({
              data: processed,
              path: ctx.path,
              parent: ctx
            });
          }
        }
        const checkCtx = {
          addIssue: (arg) => {
            (0, parseUtil_1.addIssueToContext)(ctx, arg);
            if (arg.fatal) {
              status.abort();
            } else {
              status.dirty();
            }
          },
          get path() {
            return ctx.path;
          }
        };
        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);
        if (effect.type === "refinement") {
          const executeRefinement = (acc) => {
            const result = effect.refinement(acc, checkCtx);
            if (ctx.common.async) {
              return Promise.resolve(result);
            }
            if (result instanceof Promise) {
              throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
            }
            return acc;
          };
          if (ctx.common.async === false) {
            const inner = this._def.schema._parseSync({
              data: ctx.data,
              path: ctx.path,
              parent: ctx
            });
            if (inner.status === "aborted")
              return parseUtil_1.INVALID;
            if (inner.status === "dirty")
              status.dirty();
            executeRefinement(inner.value);
            return { status: status.value, value: inner.value };
          } else {
            return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {
              if (inner.status === "aborted")
                return parseUtil_1.INVALID;
              if (inner.status === "dirty")
                status.dirty();
              return executeRefinement(inner.value).then(() => {
                return { status: status.value, value: inner.value };
              });
            });
          }
        }
        if (effect.type === "transform") {
          if (ctx.common.async === false) {
            const base = this._def.schema._parseSync({
              data: ctx.data,
              path: ctx.path,
              parent: ctx
            });
            if (!(0, parseUtil_1.isValid)(base))
              return base;
            const result = effect.transform(base.value, checkCtx);
            if (result instanceof Promise) {
              throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);
            }
            return { status: status.value, value: result };
          } else {
            return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {
              if (!(0, parseUtil_1.isValid)(base))
                return base;
              return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));
            });
          }
        }
        util_1.util.assertNever(effect);
      }
    };
    exports.ZodEffects = ZodEffects;
    exports.ZodTransformer = ZodEffects;
    ZodEffects.create = (schema, effect, params) => {
      return new ZodEffects({
        schema,
        typeName: ZodFirstPartyTypeKind.ZodEffects,
        effect,
        ...processCreateParams(params)
      });
    };
    ZodEffects.createWithPreprocess = (preprocess, schema, params) => {
      return new ZodEffects({
        schema,
        effect: { type: "preprocess", transform: preprocess },
        typeName: ZodFirstPartyTypeKind.ZodEffects,
        ...processCreateParams(params)
      });
    };
    var ZodOptional = class extends ZodType {
      _parse(input) {
        const parsedType = this._getType(input);
        if (parsedType === util_1.ZodParsedType.undefined) {
          return (0, parseUtil_1.OK)(void 0);
        }
        return this._def.innerType._parse(input);
      }
      unwrap() {
        return this._def.innerType;
      }
    };
    exports.ZodOptional = ZodOptional;
    ZodOptional.create = (type, params) => {
      return new ZodOptional({
        innerType: type,
        typeName: ZodFirstPartyTypeKind.ZodOptional,
        ...processCreateParams(params)
      });
    };
    var ZodNullable = class extends ZodType {
      _parse(input) {
        const parsedType = this._getType(input);
        if (parsedType === util_1.ZodParsedType.null) {
          return (0, parseUtil_1.OK)(null);
        }
        return this._def.innerType._parse(input);
      }
      unwrap() {
        return this._def.innerType;
      }
    };
    exports.ZodNullable = ZodNullable;
    ZodNullable.create = (type, params) => {
      return new ZodNullable({
        innerType: type,
        typeName: ZodFirstPartyTypeKind.ZodNullable,
        ...processCreateParams(params)
      });
    };
    var ZodDefault = class extends ZodType {
      _parse(input) {
        const { ctx } = this._processInputParams(input);
        let data = ctx.data;
        if (ctx.parsedType === util_1.ZodParsedType.undefined) {
          data = this._def.defaultValue();
        }
        return this._def.innerType._parse({
          data,
          path: ctx.path,
          parent: ctx
        });
      }
      removeDefault() {
        return this._def.innerType;
      }
    };
    exports.ZodDefault = ZodDefault;
    ZodDefault.create = (type, params) => {
      return new ZodDefault({
        innerType: type,
        typeName: ZodFirstPartyTypeKind.ZodDefault,
        defaultValue: typeof params.default === "function" ? params.default : () => params.default,
        ...processCreateParams(params)
      });
    };
    var ZodCatch = class extends ZodType {
      _parse(input) {
        const { ctx } = this._processInputParams(input);
        const newCtx = {
          ...ctx,
          common: {
            ...ctx.common,
            issues: []
          }
        };
        const result = this._def.innerType._parse({
          data: newCtx.data,
          path: newCtx.path,
          parent: {
            ...newCtx
          }
        });
        if ((0, parseUtil_1.isAsync)(result)) {
          return result.then((result2) => {
            return {
              status: "valid",
              value: result2.status === "valid" ? result2.value : this._def.catchValue({
                get error() {
                  return new ZodError_1.ZodError(newCtx.common.issues);
                },
                input: newCtx.data
              })
            };
          });
        } else {
          return {
            status: "valid",
            value: result.status === "valid" ? result.value : this._def.catchValue({
              get error() {
                return new ZodError_1.ZodError(newCtx.common.issues);
              },
              input: newCtx.data
            })
          };
        }
      }
      removeCatch() {
        return this._def.innerType;
      }
    };
    exports.ZodCatch = ZodCatch;
    ZodCatch.create = (type, params) => {
      return new ZodCatch({
        innerType: type,
        typeName: ZodFirstPartyTypeKind.ZodCatch,
        catchValue: typeof params.catch === "function" ? params.catch : () => params.catch,
        ...processCreateParams(params)
      });
    };
    var ZodNaN = class extends ZodType {
      _parse(input) {
        const parsedType = this._getType(input);
        if (parsedType !== util_1.ZodParsedType.nan) {
          const ctx = this._getOrReturnCtx(input);
          (0, parseUtil_1.addIssueToContext)(ctx, {
            code: ZodError_1.ZodIssueCode.invalid_type,
            expected: util_1.ZodParsedType.nan,
            received: ctx.parsedType
          });
          return parseUtil_1.INVALID;
        }
        return { status: "valid", value: input.data };
      }
    };
    exports.ZodNaN = ZodNaN;
    ZodNaN.create = (params) => {
      return new ZodNaN({
        typeName: ZodFirstPartyTypeKind.ZodNaN,
        ...processCreateParams(params)
      });
    };
    exports.BRAND = Symbol("zod_brand");
    var ZodBranded = class extends ZodType {
      _parse(input) {
        const { ctx } = this._processInputParams(input);
        const data = ctx.data;
        return this._def.type._parse({
          data,
          path: ctx.path,
          parent: ctx
        });
      }
      unwrap() {
        return this._def.type;
      }
    };
    exports.ZodBranded = ZodBranded;
    var ZodPipeline = class extends ZodType {
      _parse(input) {
        const { status, ctx } = this._processInputParams(input);
        if (ctx.common.async) {
          const handleAsync = async () => {
            const inResult = await this._def.in._parseAsync({
              data: ctx.data,
              path: ctx.path,
              parent: ctx
            });
            if (inResult.status === "aborted")
              return parseUtil_1.INVALID;
            if (inResult.status === "dirty") {
              status.dirty();
              return (0, parseUtil_1.DIRTY)(inResult.value);
            } else {
              return this._def.out._parseAsync({
                data: inResult.value,
                path: ctx.path,
                parent: ctx
              });
            }
          };
          return handleAsync();
        } else {
          const inResult = this._def.in._parseSync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          });
          if (inResult.status === "aborted")
            return parseUtil_1.INVALID;
          if (inResult.status === "dirty") {
            status.dirty();
            return {
              status: "dirty",
              value: inResult.value
            };
          } else {
            return this._def.out._parseSync({
              data: inResult.value,
              path: ctx.path,
              parent: ctx
            });
          }
        }
      }
      static create(a, b) {
        return new ZodPipeline({
          in: a,
          out: b,
          typeName: ZodFirstPartyTypeKind.ZodPipeline
        });
      }
    };
    exports.ZodPipeline = ZodPipeline;
    var custom = (check, params = {}, fatal) => {
      if (check)
        return ZodAny.create().superRefine((data, ctx) => {
          var _a, _b;
          if (!check(data)) {
            const p = typeof params === "function" ? params(data) : typeof params === "string" ? { message: params } : params;
            const _fatal = (_b = (_a = p.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;
            const p2 = typeof p === "string" ? { message: p } : p;
            ctx.addIssue({ code: "custom", ...p2, fatal: _fatal });
          }
        });
      return ZodAny.create();
    };
    exports.custom = custom;
    exports.late = {
      object: ZodObject.lazycreate
    };
    var ZodFirstPartyTypeKind;
    (function(ZodFirstPartyTypeKind2) {
      ZodFirstPartyTypeKind2["ZodString"] = "ZodString";
      ZodFirstPartyTypeKind2["ZodNumber"] = "ZodNumber";
      ZodFirstPartyTypeKind2["ZodNaN"] = "ZodNaN";
      ZodFirstPartyTypeKind2["ZodBigInt"] = "ZodBigInt";
      ZodFirstPartyTypeKind2["ZodBoolean"] = "ZodBoolean";
      ZodFirstPartyTypeKind2["ZodDate"] = "ZodDate";
      ZodFirstPartyTypeKind2["ZodSymbol"] = "ZodSymbol";
      ZodFirstPartyTypeKind2["ZodUndefined"] = "ZodUndefined";
      ZodFirstPartyTypeKind2["ZodNull"] = "ZodNull";
      ZodFirstPartyTypeKind2["ZodAny"] = "ZodAny";
      ZodFirstPartyTypeKind2["ZodUnknown"] = "ZodUnknown";
      ZodFirstPartyTypeKind2["ZodNever"] = "ZodNever";
      ZodFirstPartyTypeKind2["ZodVoid"] = "ZodVoid";
      ZodFirstPartyTypeKind2["ZodArray"] = "ZodArray";
      ZodFirstPartyTypeKind2["ZodObject"] = "ZodObject";
      ZodFirstPartyTypeKind2["ZodUnion"] = "ZodUnion";
      ZodFirstPartyTypeKind2["ZodDiscriminatedUnion"] = "ZodDiscriminatedUnion";
      ZodFirstPartyTypeKind2["ZodIntersection"] = "ZodIntersection";
      ZodFirstPartyTypeKind2["ZodTuple"] = "ZodTuple";
      ZodFirstPartyTypeKind2["ZodRecord"] = "ZodRecord";
      ZodFirstPartyTypeKind2["ZodMap"] = "ZodMap";
      ZodFirstPartyTypeKind2["ZodSet"] = "ZodSet";
      ZodFirstPartyTypeKind2["ZodFunction"] = "ZodFunction";
      ZodFirstPartyTypeKind2["ZodLazy"] = "ZodLazy";
      ZodFirstPartyTypeKind2["ZodLiteral"] = "ZodLiteral";
      ZodFirstPartyTypeKind2["ZodEnum"] = "ZodEnum";
      ZodFirstPartyTypeKind2["ZodEffects"] = "ZodEffects";
      ZodFirstPartyTypeKind2["ZodNativeEnum"] = "ZodNativeEnum";
      ZodFirstPartyTypeKind2["ZodOptional"] = "ZodOptional";
      ZodFirstPartyTypeKind2["ZodNullable"] = "ZodNullable";
      ZodFirstPartyTypeKind2["ZodDefault"] = "ZodDefault";
      ZodFirstPartyTypeKind2["ZodCatch"] = "ZodCatch";
      ZodFirstPartyTypeKind2["ZodPromise"] = "ZodPromise";
      ZodFirstPartyTypeKind2["ZodBranded"] = "ZodBranded";
      ZodFirstPartyTypeKind2["ZodPipeline"] = "ZodPipeline";
    })(ZodFirstPartyTypeKind = exports.ZodFirstPartyTypeKind || (exports.ZodFirstPartyTypeKind = {}));
    var instanceOfType = (cls, params = {
      message: `Input not instance of ${cls.name}`
    }) => (0, exports.custom)((data) => data instanceof cls, params);
    exports.instanceof = instanceOfType;
    var stringType = ZodString.create;
    exports.string = stringType;
    var numberType = ZodNumber.create;
    exports.number = numberType;
    var nanType = ZodNaN.create;
    exports.nan = nanType;
    var bigIntType = ZodBigInt.create;
    exports.bigint = bigIntType;
    var booleanType = ZodBoolean.create;
    exports.boolean = booleanType;
    var dateType = ZodDate.create;
    exports.date = dateType;
    var symbolType = ZodSymbol.create;
    exports.symbol = symbolType;
    var undefinedType = ZodUndefined.create;
    exports.undefined = undefinedType;
    var nullType = ZodNull.create;
    exports.null = nullType;
    var anyType = ZodAny.create;
    exports.any = anyType;
    var unknownType = ZodUnknown.create;
    exports.unknown = unknownType;
    var neverType = ZodNever.create;
    exports.never = neverType;
    var voidType = ZodVoid.create;
    exports.void = voidType;
    var arrayType = ZodArray.create;
    exports.array = arrayType;
    var objectType = ZodObject.create;
    exports.object = objectType;
    var strictObjectType = ZodObject.strictCreate;
    exports.strictObject = strictObjectType;
    var unionType = ZodUnion.create;
    exports.union = unionType;
    var discriminatedUnionType = ZodDiscriminatedUnion.create;
    exports.discriminatedUnion = discriminatedUnionType;
    var intersectionType = ZodIntersection.create;
    exports.intersection = intersectionType;
    var tupleType = ZodTuple.create;
    exports.tuple = tupleType;
    var recordType = ZodRecord.create;
    exports.record = recordType;
    var mapType = ZodMap.create;
    exports.map = mapType;
    var setType = ZodSet.create;
    exports.set = setType;
    var functionType = ZodFunction.create;
    exports.function = functionType;
    var lazyType = ZodLazy.create;
    exports.lazy = lazyType;
    var literalType = ZodLiteral.create;
    exports.literal = literalType;
    var enumType = ZodEnum.create;
    exports.enum = enumType;
    var nativeEnumType = ZodNativeEnum.create;
    exports.nativeEnum = nativeEnumType;
    var promiseType = ZodPromise.create;
    exports.promise = promiseType;
    var effectsType = ZodEffects.create;
    exports.effect = effectsType;
    exports.transformer = effectsType;
    var optionalType = ZodOptional.create;
    exports.optional = optionalType;
    var nullableType = ZodNullable.create;
    exports.nullable = nullableType;
    var preprocessType = ZodEffects.createWithPreprocess;
    exports.preprocess = preprocessType;
    var pipelineType = ZodPipeline.create;
    exports.pipeline = pipelineType;
    var ostring = () => stringType().optional();
    exports.ostring = ostring;
    var onumber = () => numberType().optional();
    exports.onumber = onumber;
    var oboolean = () => booleanType().optional();
    exports.oboolean = oboolean;
    exports.coerce = {
      string: (arg) => ZodString.create({ ...arg, coerce: true }),
      number: (arg) => ZodNumber.create({ ...arg, coerce: true }),
      boolean: (arg) => ZodBoolean.create({
        ...arg,
        coerce: true
      }),
      bigint: (arg) => ZodBigInt.create({ ...arg, coerce: true }),
      date: (arg) => ZodDate.create({ ...arg, coerce: true })
    };
    exports.NEVER = parseUtil_1.INVALID;
  }
});

// node_modules/zod/lib/external.js
var require_external = __commonJS({
  "node_modules/zod/lib/external.js"(exports) {
    "use strict";
    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      Object.defineProperty(o, k2, { enumerable: true, get: function() {
        return m[k];
      } });
    } : function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      o[k2] = m[k];
    });
    var __exportStar = exports && exports.__exportStar || function(m, exports2) {
      for (var p in m)
        if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports2, p))
          __createBinding(exports2, m, p);
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    __exportStar(require_errors(), exports);
    __exportStar(require_parseUtil(), exports);
    __exportStar(require_typeAliases(), exports);
    __exportStar(require_util(), exports);
    __exportStar(require_types(), exports);
    __exportStar(require_ZodError(), exports);
  }
});

// node_modules/zod/lib/index.js
var require_lib = __commonJS({
  "node_modules/zod/lib/index.js"(exports) {
    "use strict";
    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      Object.defineProperty(o, k2, { enumerable: true, get: function() {
        return m[k];
      } });
    } : function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      o[k2] = m[k];
    });
    var __setModuleDefault = exports && exports.__setModuleDefault || (Object.create ? function(o, v) {
      Object.defineProperty(o, "default", { enumerable: true, value: v });
    } : function(o, v) {
      o["default"] = v;
    });
    var __importStar = exports && exports.__importStar || function(mod) {
      if (mod && mod.__esModule)
        return mod;
      var result = {};
      if (mod != null) {
        for (var k in mod)
          if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k))
            __createBinding(result, mod, k);
      }
      __setModuleDefault(result, mod);
      return result;
    };
    var __exportStar = exports && exports.__exportStar || function(m, exports2) {
      for (var p in m)
        if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports2, p))
          __createBinding(exports2, m, p);
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.z = void 0;
    var z = __importStar(require_external());
    exports.z = z;
    __exportStar(require_external(), exports);
    exports.default = z;
  }
});

// node_modules/zod-to-json-schema/src/parsers/any.js
var require_any = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/any.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseAnyDef = void 0;
    function parseAnyDef() {
      return {};
    }
    exports.parseAnyDef = parseAnyDef;
  }
});

// node_modules/zod-to-json-schema/src/errorMessages.js
var require_errorMessages = __commonJS({
  "node_modules/zod-to-json-schema/src/errorMessages.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.setResponseValueAndErrors = exports.addErrorMessage = void 0;
    function addErrorMessage(res, key, errorMessage, refs) {
      if (!(refs === null || refs === void 0 ? void 0 : refs.errorMessages))
        return;
      if (errorMessage) {
        res.errorMessage = Object.assign(Object.assign({}, res.errorMessage), { [key]: errorMessage });
      }
    }
    exports.addErrorMessage = addErrorMessage;
    function setResponseValueAndErrors(res, key, value, errorMessage, refs) {
      res[key] = value;
      addErrorMessage(res, key, errorMessage, refs);
    }
    exports.setResponseValueAndErrors = setResponseValueAndErrors;
  }
});

// node_modules/zod-to-json-schema/src/parsers/array.js
var require_array = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/array.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseArrayDef = void 0;
    var zod_1 = require_lib();
    var errorMessages_1 = require_errorMessages();
    var parseDef_1 = require_parseDef();
    function parseArrayDef(def, refs) {
      var _a, _b;
      const res = {
        type: "array"
      };
      if (((_b = (_a = def.type) === null || _a === void 0 ? void 0 : _a._def) === null || _b === void 0 ? void 0 : _b.typeName) !== zod_1.ZodFirstPartyTypeKind.ZodAny) {
        res.items = (0, parseDef_1.parseDef)(def.type._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "items"] }));
      }
      if (def.minLength) {
        (0, errorMessages_1.setResponseValueAndErrors)(res, "minItems", def.minLength.value, def.minLength.message, refs);
      }
      if (def.maxLength) {
        (0, errorMessages_1.setResponseValueAndErrors)(res, "maxItems", def.maxLength.value, def.maxLength.message, refs);
      }
      return res;
    }
    exports.parseArrayDef = parseArrayDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/bigint.js
var require_bigint = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/bigint.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseBigintDef = void 0;
    var errorMessages_1 = require_errorMessages();
    function parseBigintDef(def, refs) {
      const res = {
        type: "integer",
        format: "int64"
      };
      if (!def.checks)
        return res;
      for (const check of def.checks) {
        switch (check.kind) {
          case "min":
            if (refs.target === "jsonSchema7") {
              if (check.inclusive) {
                (0, errorMessages_1.setResponseValueAndErrors)(res, "minimum", check.value, check.message, refs);
              } else {
                (0, errorMessages_1.setResponseValueAndErrors)(res, "exclusiveMinimum", check.value, check.message, refs);
              }
            } else {
              if (!check.inclusive) {
                res.exclusiveMinimum = true;
              }
              (0, errorMessages_1.setResponseValueAndErrors)(res, "minimum", check.value, check.message, refs);
            }
            break;
          case "max":
            if (refs.target === "jsonSchema7") {
              if (check.inclusive) {
                (0, errorMessages_1.setResponseValueAndErrors)(res, "maximum", check.value, check.message, refs);
              } else {
                (0, errorMessages_1.setResponseValueAndErrors)(res, "exclusiveMaximum", check.value, check.message, refs);
              }
            } else {
              if (!check.inclusive) {
                res.exclusiveMaximum = true;
              }
              (0, errorMessages_1.setResponseValueAndErrors)(res, "maximum", check.value, check.message, refs);
            }
            break;
          case "multipleOf":
            (0, errorMessages_1.setResponseValueAndErrors)(res, "multipleOf", check.value, check.message, refs);
            break;
        }
      }
      return res;
    }
    exports.parseBigintDef = parseBigintDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/boolean.js
var require_boolean = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/boolean.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseBooleanDef = void 0;
    function parseBooleanDef() {
      return {
        type: "boolean"
      };
    }
    exports.parseBooleanDef = parseBooleanDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/branded.js
var require_branded = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/branded.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseBrandedDef = void 0;
    var parseDef_1 = require_parseDef();
    function parseBrandedDef(_def, refs) {
      return (0, parseDef_1.parseDef)(_def.type._def, refs);
    }
    exports.parseBrandedDef = parseBrandedDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/catch.js
var require_catch = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/catch.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseCatchDef = void 0;
    var parseDef_1 = require_parseDef();
    var parseCatchDef = (def, refs) => {
      return (0, parseDef_1.parseDef)(def.innerType._def, refs);
    };
    exports.parseCatchDef = parseCatchDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/date.js
var require_date = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/date.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseDateDef = void 0;
    function parseDateDef() {
      return {
        type: "string",
        format: "date-time"
      };
    }
    exports.parseDateDef = parseDateDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/default.js
var require_default = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/default.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseDefaultDef = void 0;
    var parseDef_1 = require_parseDef();
    function parseDefaultDef(_def, refs) {
      return Object.assign(Object.assign({}, (0, parseDef_1.parseDef)(_def.innerType._def, refs)), { default: _def.defaultValue() });
    }
    exports.parseDefaultDef = parseDefaultDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/effects.js
var require_effects = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/effects.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseEffectsDef = void 0;
    var parseDef_1 = require_parseDef();
    function parseEffectsDef(_def, refs) {
      return refs.effectStrategy === "input" ? (0, parseDef_1.parseDef)(_def.schema._def, refs) : {};
    }
    exports.parseEffectsDef = parseEffectsDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/enum.js
var require_enum = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/enum.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseEnumDef = void 0;
    function parseEnumDef(def) {
      return {
        type: "string",
        enum: def.values
      };
    }
    exports.parseEnumDef = parseEnumDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/intersection.js
var require_intersection = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/intersection.js"(exports) {
    "use strict";
    var __rest = exports && exports.__rest || function(s, e) {
      var t = {};
      for (var p in s)
        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
          t[p] = s[p];
      if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
            t[p[i]] = s[p[i]];
        }
      return t;
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseIntersectionDef = void 0;
    var parseDef_1 = require_parseDef();
    var isJsonSchema7AllOfType = (type) => {
      if ("type" in type && type.type === "string")
        return false;
      return "allOf" in type;
    };
    function parseIntersectionDef(def, refs) {
      const allOf = [
        (0, parseDef_1.parseDef)(def.left._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "allOf", "0"] })),
        (0, parseDef_1.parseDef)(def.right._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "allOf", "1"] }))
      ].filter((x) => !!x);
      let unevaluatedProperties = refs.target === "jsonSchema2019-09" ? { unevaluatedProperties: false } : void 0;
      const mergedAllOf = [];
      allOf.forEach((schema) => {
        if (isJsonSchema7AllOfType(schema)) {
          mergedAllOf.push(...schema.allOf);
          if (schema.unevaluatedProperties === void 0) {
            unevaluatedProperties = void 0;
          }
        } else {
          let nestedSchema = schema;
          if ("additionalProperties" in schema && schema.additionalProperties === false) {
            const { additionalProperties } = schema, rest = __rest(schema, ["additionalProperties"]);
            nestedSchema = rest;
          } else {
            unevaluatedProperties = void 0;
          }
          mergedAllOf.push(nestedSchema);
        }
      });
      return mergedAllOf.length ? Object.assign({ allOf: mergedAllOf }, unevaluatedProperties) : void 0;
    }
    exports.parseIntersectionDef = parseIntersectionDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/literal.js
var require_literal = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/literal.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseLiteralDef = void 0;
    function parseLiteralDef(def, refs) {
      const parsedType = typeof def.value;
      if (parsedType !== "bigint" && parsedType !== "number" && parsedType !== "boolean" && parsedType !== "string") {
        return {
          type: Array.isArray(def.value) ? "array" : "object"
        };
      }
      if (refs.target === "openApi3") {
        return {
          type: parsedType === "bigint" ? "integer" : parsedType,
          enum: [def.value]
        };
      }
      return {
        type: parsedType === "bigint" ? "integer" : parsedType,
        const: def.value
      };
    }
    exports.parseLiteralDef = parseLiteralDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/map.js
var require_map = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/map.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseMapDef = void 0;
    var parseDef_1 = require_parseDef();
    function parseMapDef(def, refs) {
      const keys = (0, parseDef_1.parseDef)(def.keyType._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "items", "items", "0"] })) || {};
      const values = (0, parseDef_1.parseDef)(def.valueType._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "items", "items", "1"] })) || {};
      return {
        type: "array",
        maxItems: 125,
        items: {
          type: "array",
          items: [keys, values],
          minItems: 2,
          maxItems: 2
        }
      };
    }
    exports.parseMapDef = parseMapDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/nativeEnum.js
var require_nativeEnum = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/nativeEnum.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseNativeEnumDef = void 0;
    function parseNativeEnumDef(def) {
      const object = def.values;
      const actualKeys = Object.keys(def.values).filter((key) => {
        return typeof object[object[key]] !== "number";
      });
      const actualValues = actualKeys.map((key) => object[key]);
      const parsedTypes = Array.from(new Set(actualValues.map((values) => typeof values)));
      return {
        type: parsedTypes.length === 1 ? parsedTypes[0] === "string" ? "string" : "number" : ["string", "number"],
        enum: actualValues
      };
    }
    exports.parseNativeEnumDef = parseNativeEnumDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/never.js
var require_never = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/never.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseNeverDef = void 0;
    function parseNeverDef() {
      return {
        not: {}
      };
    }
    exports.parseNeverDef = parseNeverDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/null.js
var require_null = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/null.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseNullDef = void 0;
    function parseNullDef(refs) {
      return refs.target === "openApi3" ? {
        enum: ["null"],
        nullable: true
      } : {
        type: "null"
      };
    }
    exports.parseNullDef = parseNullDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/union.js
var require_union = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/union.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseUnionDef = exports.primitiveMappings = void 0;
    var parseDef_1 = require_parseDef();
    exports.primitiveMappings = {
      ZodString: "string",
      ZodNumber: "number",
      ZodBigInt: "integer",
      ZodBoolean: "boolean",
      ZodNull: "null"
    };
    function parseUnionDef(def, refs) {
      if (refs.target === "openApi3")
        return asAnyOf(def, refs);
      const options = def.options instanceof Map ? Array.from(def.options.values()) : def.options;
      if (options.every((x) => x._def.typeName in exports.primitiveMappings && (!x._def.checks || !x._def.checks.length))) {
        const types = options.reduce((types2, x) => {
          const type = exports.primitiveMappings[x._def.typeName];
          return type && !types2.includes(type) ? [...types2, type] : types2;
        }, []);
        return {
          type: types.length > 1 ? types : types[0]
        };
      } else if (options.every((x) => x._def.typeName === "ZodLiteral" && !x.description)) {
        const types = options.reduce((acc, x) => {
          const type = typeof x._def.value;
          switch (type) {
            case "string":
            case "number":
            case "boolean":
              return [...acc, type];
            case "bigint":
              return [...acc, "integer"];
            case "object":
              if (x._def.value === null)
                return [...acc, "null"];
            case "symbol":
            case "undefined":
            case "function":
            default:
              return acc;
          }
        }, []);
        if (types.length === options.length) {
          const uniqueTypes = types.filter((x, i, a) => a.indexOf(x) === i);
          return {
            type: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],
            enum: options.reduce((acc, x) => {
              return acc.includes(x._def.value) ? acc : [...acc, x._def.value];
            }, [])
          };
        }
      } else if (options.every((x) => x._def.typeName === "ZodEnum")) {
        return {
          type: "string",
          enum: options.reduce((acc, x) => [
            ...acc,
            ...x._def.values.filter((x2) => !acc.includes(x2))
          ], [])
        };
      }
      return asAnyOf(def, refs);
    }
    exports.parseUnionDef = parseUnionDef;
    var asAnyOf = (def, refs) => {
      const anyOf = (def.options instanceof Map ? Array.from(def.options.values()) : def.options).map((x, i) => (0, parseDef_1.parseDef)(x._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "anyOf", `${i}`] }))).filter((x) => !!x && (!refs.strictUnions || typeof x === "object" && Object.keys(x).length > 0));
      return anyOf.length ? { anyOf } : void 0;
    };
  }
});

// node_modules/zod-to-json-schema/src/parsers/nullable.js
var require_nullable = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/nullable.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseNullableDef = void 0;
    var parseDef_1 = require_parseDef();
    var union_1 = require_union();
    function parseNullableDef(def, refs) {
      if (["ZodString", "ZodNumber", "ZodBigInt", "ZodBoolean", "ZodNull"].includes(def.innerType._def.typeName) && (!def.innerType._def.checks || !def.innerType._def.checks.length)) {
        if (refs.target === "openApi3") {
          return {
            type: union_1.primitiveMappings[def.innerType._def.typeName],
            nullable: true
          };
        }
        return {
          type: [
            union_1.primitiveMappings[def.innerType._def.typeName],
            "null"
          ]
        };
      }
      const type = (0, parseDef_1.parseDef)(def.innerType._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "anyOf", "0"] }));
      return type ? refs.target === "openApi3" ? Object.assign(Object.assign({}, type), { nullable: true }) : {
        anyOf: [
          type,
          {
            type: "null"
          }
        ]
      } : void 0;
    }
    exports.parseNullableDef = parseNullableDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/number.js
var require_number = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/number.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseNumberDef = void 0;
    var errorMessages_1 = require_errorMessages();
    function parseNumberDef(def, refs) {
      const res = {
        type: "number"
      };
      if (!def.checks)
        return res;
      for (const check of def.checks) {
        switch (check.kind) {
          case "int":
            res.type = "integer";
            (0, errorMessages_1.addErrorMessage)(res, "type", check.message, refs);
            break;
          case "min":
            if (refs.target === "jsonSchema7") {
              if (check.inclusive) {
                (0, errorMessages_1.setResponseValueAndErrors)(res, "minimum", check.value, check.message, refs);
              } else {
                (0, errorMessages_1.setResponseValueAndErrors)(res, "exclusiveMinimum", check.value, check.message, refs);
              }
            } else {
              if (!check.inclusive) {
                res.exclusiveMinimum = true;
              }
              (0, errorMessages_1.setResponseValueAndErrors)(res, "minimum", check.value, check.message, refs);
            }
            break;
          case "max":
            if (refs.target === "jsonSchema7") {
              if (check.inclusive) {
                (0, errorMessages_1.setResponseValueAndErrors)(res, "maximum", check.value, check.message, refs);
              } else {
                (0, errorMessages_1.setResponseValueAndErrors)(res, "exclusiveMaximum", check.value, check.message, refs);
              }
            } else {
              if (!check.inclusive) {
                res.exclusiveMaximum = true;
              }
              (0, errorMessages_1.setResponseValueAndErrors)(res, "maximum", check.value, check.message, refs);
            }
            break;
          case "multipleOf":
            (0, errorMessages_1.setResponseValueAndErrors)(res, "multipleOf", check.value, check.message, refs);
            break;
        }
      }
      return res;
    }
    exports.parseNumberDef = parseNumberDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/object.js
var require_object = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/object.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseObjectDef = void 0;
    var parseDef_1 = require_parseDef();
    function parseObjectDef(def, refs) {
      var _a;
      const result = Object.assign(Object.assign({ type: "object" }, Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {
        if (propDef === void 0 || propDef._def === void 0)
          return acc;
        const parsedDef = (0, parseDef_1.parseDef)(propDef._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "properties", propName], propertyPath: [...refs.currentPath, "properties", propName] }));
        if (parsedDef === void 0)
          return acc;
        return {
          properties: Object.assign(Object.assign({}, acc.properties), { [propName]: parsedDef }),
          required: propDef.isOptional() ? acc.required : [...acc.required, propName]
        };
      }, { properties: {}, required: [] })), { additionalProperties: def.catchall._def.typeName === "ZodNever" ? def.unknownKeys === "passthrough" : (_a = (0, parseDef_1.parseDef)(def.catchall._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "additionalProperties"] }))) !== null && _a !== void 0 ? _a : true });
      if (!result.required.length)
        delete result.required;
      return result;
    }
    exports.parseObjectDef = parseObjectDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/optional.js
var require_optional = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/optional.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseOptionalDef = void 0;
    var parseDef_1 = require_parseDef();
    var parseOptionalDef = (def, refs) => {
      var _a;
      if (refs.currentPath.toString() === ((_a = refs.propertyPath) === null || _a === void 0 ? void 0 : _a.toString())) {
        return (0, parseDef_1.parseDef)(def.innerType._def, refs);
      }
      const innerSchema = (0, parseDef_1.parseDef)(def.innerType._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "anyOf", "1"] }));
      return innerSchema ? {
        anyOf: [
          {
            not: {}
          },
          innerSchema
        ]
      } : {};
    };
    exports.parseOptionalDef = parseOptionalDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/pipeline.js
var require_pipeline = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/pipeline.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parsePipelineDef = void 0;
    var parseDef_1 = require_parseDef();
    var parsePipelineDef = (def, refs) => {
      if (refs.pipeStrategy === "input") {
        return (0, parseDef_1.parseDef)(def.in._def, refs);
      }
      const a = (0, parseDef_1.parseDef)(def.in._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "allOf", "0"] }));
      const b = (0, parseDef_1.parseDef)(def.out._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "allOf", a ? "1" : "0"] }));
      return {
        allOf: [a, b].filter((x) => x !== void 0)
      };
    };
    exports.parsePipelineDef = parsePipelineDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/promise.js
var require_promise = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/promise.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parsePromiseDef = void 0;
    var parseDef_1 = require_parseDef();
    function parsePromiseDef(def, refs) {
      return (0, parseDef_1.parseDef)(def.type._def, refs);
    }
    exports.parsePromiseDef = parsePromiseDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/string.js
var require_string = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/string.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseStringDef = void 0;
    var errorMessages_1 = require_errorMessages();
    function parseStringDef(def, refs) {
      const res = {
        type: "string"
      };
      if (def.checks) {
        for (const check of def.checks) {
          switch (check.kind) {
            case "min":
              (0, errorMessages_1.setResponseValueAndErrors)(res, "minLength", typeof res.minLength === "number" ? Math.max(res.minLength, check.value) : check.value, check.message, refs);
              break;
            case "max":
              (0, errorMessages_1.setResponseValueAndErrors)(res, "maxLength", typeof res.maxLength === "number" ? Math.min(res.maxLength, check.value) : check.value, check.message, refs);
              break;
            case "email":
              addFormat(res, "email", check.message, refs);
              break;
            case "url":
              addFormat(res, "uri", check.message, refs);
              break;
            case "uuid":
              addFormat(res, "uuid", check.message, refs);
              break;
            case "regex":
              addPattern(res, check.regex.source, check.message, refs);
              break;
            case "cuid":
              addPattern(res, "^c[^\\s-]{8,}$", check.message, refs);
              break;
            case "cuid2":
              addPattern(res, "^[a-z][a-z0-9]*$", check.message, refs);
              break;
            case "startsWith":
              addPattern(res, "^" + escapeNonAlphaNumeric(check.value), check.message, refs);
              break;
            case "endsWith":
              addPattern(res, escapeNonAlphaNumeric(check.value) + "$", check.message, refs);
              break;
            case "datetime":
              addFormat(res, "date-time", check.message, refs);
              break;
            case "length":
              (0, errorMessages_1.setResponseValueAndErrors)(res, "minLength", typeof res.minLength === "number" ? Math.max(res.minLength, check.value) : check.value, check.message, refs);
              (0, errorMessages_1.setResponseValueAndErrors)(res, "maxLength", typeof res.maxLength === "number" ? Math.min(res.maxLength, check.value) : check.value, check.message, refs);
              break;
            case "includes": {
              addPattern(res, escapeNonAlphaNumeric(check.value), check.message, refs);
              break;
            }
            case "ip": {
              if (check.version !== "v6") {
                addFormat(res, "ipv4", check.message, refs);
              }
              if (check.version !== "v4") {
                addFormat(res, "ipv6", check.message, refs);
              }
              break;
            }
            case "emoji":
              addPattern(res, "/^(p{Extended_Pictographic}|p{Emoji_Component})+$/u", check.message, refs);
              break;
            case "ulid": {
              addPattern(res, "/[0-9A-HJKMNP-TV-Z]{26}/", check.message, refs);
              break;
            }
            case "toLowerCase":
            case "toUpperCase":
            case "trim":
              break;
            default:
              ((_) => {
              })(check);
          }
        }
      }
      return res;
    }
    exports.parseStringDef = parseStringDef;
    var escapeNonAlphaNumeric = (value) => Array.from(value).map((c) => /[a-zA-Z0-9]/.test(c) ? c : `\\${c}`).join("");
    var addFormat = (schema, value, message, refs) => {
      var _a;
      if (schema.format || ((_a = schema.anyOf) === null || _a === void 0 ? void 0 : _a.some((x) => x.format))) {
        if (!schema.anyOf) {
          schema.anyOf = [];
        }
        if (schema.format) {
          schema.anyOf.push(Object.assign({ format: schema.format }, schema.errorMessage && refs.errorMessages && {
            errorMessage: { format: schema.errorMessage.format }
          }));
          delete schema.format;
          if (schema.errorMessage) {
            delete schema.errorMessage.format;
            if (Object.keys(schema.errorMessage).length === 0) {
              delete schema.errorMessage;
            }
          }
        }
        schema.anyOf.push(Object.assign({ format: value }, message && refs.errorMessages && { errorMessage: { format: message } }));
      } else {
        (0, errorMessages_1.setResponseValueAndErrors)(schema, "format", value, message, refs);
      }
    };
    var addPattern = (schema, value, message, refs) => {
      var _a;
      if (schema.pattern || ((_a = schema.allOf) === null || _a === void 0 ? void 0 : _a.some((x) => x.pattern))) {
        if (!schema.allOf) {
          schema.allOf = [];
        }
        if (schema.pattern) {
          schema.allOf.push(Object.assign({ pattern: schema.pattern }, schema.errorMessage && refs.errorMessages && {
            errorMessage: { pattern: schema.errorMessage.pattern }
          }));
          delete schema.pattern;
          if (schema.errorMessage) {
            delete schema.errorMessage.pattern;
            if (Object.keys(schema.errorMessage).length === 0) {
              delete schema.errorMessage;
            }
          }
        }
        schema.allOf.push(Object.assign({ pattern: value }, message && refs.errorMessages && { errorMessage: { pattern: message } }));
      } else {
        (0, errorMessages_1.setResponseValueAndErrors)(schema, "pattern", value, message, refs);
      }
    };
  }
});

// node_modules/zod-to-json-schema/src/parsers/record.js
var require_record = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/record.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseRecordDef = void 0;
    var zod_1 = require_lib();
    var parseDef_1 = require_parseDef();
    var string_1 = require_string();
    function parseRecordDef(def, refs) {
      var _a, _b, _c, _d, _e;
      if (refs.target === "openApi3" && ((_a = def.keyType) === null || _a === void 0 ? void 0 : _a._def.typeName) === zod_1.ZodFirstPartyTypeKind.ZodEnum) {
        return {
          type: "object",
          required: def.keyType._def.values,
          properties: def.keyType._def.values.reduce((acc, key) => {
            var _a2;
            return Object.assign(Object.assign({}, acc), { [key]: (_a2 = (0, parseDef_1.parseDef)(def.valueType._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "properties", key] }))) !== null && _a2 !== void 0 ? _a2 : {} });
          }, {}),
          additionalProperties: false
        };
      }
      const schema = {
        type: "object",
        additionalProperties: (_b = (0, parseDef_1.parseDef)(def.valueType._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "additionalProperties"] }))) !== null && _b !== void 0 ? _b : {}
      };
      if (refs.target === "openApi3") {
        return schema;
      }
      if (((_c = def.keyType) === null || _c === void 0 ? void 0 : _c._def.typeName) === zod_1.ZodFirstPartyTypeKind.ZodString && ((_d = def.keyType._def.checks) === null || _d === void 0 ? void 0 : _d.length)) {
        const keyType = Object.entries((0, string_1.parseStringDef)(def.keyType._def, refs)).reduce((acc, [key, value]) => key === "type" ? acc : Object.assign(Object.assign({}, acc), { [key]: value }), {});
        return Object.assign(Object.assign({}, schema), { propertyNames: keyType });
      } else if (((_e = def.keyType) === null || _e === void 0 ? void 0 : _e._def.typeName) === zod_1.ZodFirstPartyTypeKind.ZodEnum) {
        return Object.assign(Object.assign({}, schema), { propertyNames: {
          enum: def.keyType._def.values
        } });
      }
      return schema;
    }
    exports.parseRecordDef = parseRecordDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/set.js
var require_set = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/set.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseSetDef = void 0;
    var errorMessages_1 = require_errorMessages();
    var parseDef_1 = require_parseDef();
    function parseSetDef(def, refs) {
      const items = (0, parseDef_1.parseDef)(def.valueType._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "items"] }));
      const schema = {
        type: "array",
        uniqueItems: true,
        items
      };
      if (def.minSize) {
        (0, errorMessages_1.setResponseValueAndErrors)(schema, "minItems", def.minSize.value, def.minSize.message, refs);
      }
      if (def.maxSize) {
        (0, errorMessages_1.setResponseValueAndErrors)(schema, "maxItems", def.maxSize.value, def.maxSize.message, refs);
      }
      return schema;
    }
    exports.parseSetDef = parseSetDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/tuple.js
var require_tuple = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/tuple.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseTupleDef = void 0;
    var parseDef_1 = require_parseDef();
    function parseTupleDef(def, refs) {
      if (def.rest) {
        return {
          type: "array",
          minItems: def.items.length,
          items: def.items.map((x, i) => (0, parseDef_1.parseDef)(x._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "items", `${i}`] }))).reduce((acc, x) => x === void 0 ? acc : [...acc, x], []),
          additionalItems: (0, parseDef_1.parseDef)(def.rest._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "additionalItems"] }))
        };
      } else {
        return {
          type: "array",
          minItems: def.items.length,
          maxItems: def.items.length,
          items: def.items.map((x, i) => (0, parseDef_1.parseDef)(x._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, "items", `${i}`] }))).reduce((acc, x) => x === void 0 ? acc : [...acc, x], [])
        };
      }
    }
    exports.parseTupleDef = parseTupleDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/undefined.js
var require_undefined = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/undefined.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseUndefinedDef = void 0;
    function parseUndefinedDef() {
      return {
        not: {}
      };
    }
    exports.parseUndefinedDef = parseUndefinedDef;
  }
});

// node_modules/zod-to-json-schema/src/parsers/unknown.js
var require_unknown = __commonJS({
  "node_modules/zod-to-json-schema/src/parsers/unknown.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseUnknownDef = void 0;
    function parseUnknownDef() {
      return {};
    }
    exports.parseUnknownDef = parseUnknownDef;
  }
});

// node_modules/zod-to-json-schema/src/parseDef.js
var require_parseDef = __commonJS({
  "node_modules/zod-to-json-schema/src/parseDef.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parseDef = void 0;
    var zod_1 = require_lib();
    var any_1 = require_any();
    var array_1 = require_array();
    var bigint_1 = require_bigint();
    var boolean_1 = require_boolean();
    var branded_1 = require_branded();
    var catch_1 = require_catch();
    var date_1 = require_date();
    var default_1 = require_default();
    var effects_1 = require_effects();
    var enum_1 = require_enum();
    var intersection_1 = require_intersection();
    var literal_1 = require_literal();
    var map_1 = require_map();
    var nativeEnum_1 = require_nativeEnum();
    var never_1 = require_never();
    var null_1 = require_null();
    var nullable_1 = require_nullable();
    var number_1 = require_number();
    var object_1 = require_object();
    var optional_1 = require_optional();
    var pipeline_1 = require_pipeline();
    var promise_1 = require_promise();
    var record_1 = require_record();
    var set_1 = require_set();
    var string_1 = require_string();
    var tuple_1 = require_tuple();
    var undefined_1 = require_undefined();
    var union_1 = require_union();
    var unknown_1 = require_unknown();
    function parseDef(def, refs, forceResolution = false) {
      const seenItem = refs.seen.get(def);
      if (seenItem && !forceResolution) {
        return get$ref(seenItem, refs);
      }
      const newItem = { def, path: refs.currentPath, jsonSchema: void 0 };
      refs.seen.set(def, newItem);
      const jsonSchema = selectParser(def, def.typeName, refs);
      if (jsonSchema) {
        addMeta(def, jsonSchema);
      }
      newItem.jsonSchema = jsonSchema;
      return jsonSchema;
    }
    exports.parseDef = parseDef;
    var get$ref = (item, refs) => {
      switch (refs.$refStrategy) {
        case "root":
          return {
            $ref: item.path.length === 0 ? "" : item.path.length === 1 ? `${item.path[0]}/` : item.path.join("/")
          };
        case "relative":
          return { $ref: getRelativePath(refs.currentPath, item.path) };
        case "none": {
          if (item.path.length < refs.currentPath.length && item.path.every((value, index) => refs.currentPath[index] === value)) {
            console.warn(`Recursive reference detected at ${refs.currentPath.join("/")}! Defaulting to any`);
            return {};
          } else {
            return item.jsonSchema;
          }
        }
      }
    };
    var getRelativePath = (pathA, pathB) => {
      let i = 0;
      for (; i < pathA.length && i < pathB.length; i++) {
        if (pathA[i] !== pathB[i])
          break;
      }
      return [(pathA.length - i).toString(), ...pathB.slice(i)].join("/");
    };
    var selectParser = (def, typeName, refs) => {
      switch (typeName) {
        case zod_1.ZodFirstPartyTypeKind.ZodString:
          return (0, string_1.parseStringDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodNumber:
          return (0, number_1.parseNumberDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodObject:
          return (0, object_1.parseObjectDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodBigInt:
          return (0, bigint_1.parseBigintDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodBoolean:
          return (0, boolean_1.parseBooleanDef)();
        case zod_1.ZodFirstPartyTypeKind.ZodDate:
          return (0, date_1.parseDateDef)();
        case zod_1.ZodFirstPartyTypeKind.ZodUndefined:
          return (0, undefined_1.parseUndefinedDef)();
        case zod_1.ZodFirstPartyTypeKind.ZodNull:
          return (0, null_1.parseNullDef)(refs);
        case zod_1.ZodFirstPartyTypeKind.ZodArray:
          return (0, array_1.parseArrayDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodUnion:
        case zod_1.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:
          return (0, union_1.parseUnionDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodIntersection:
          return (0, intersection_1.parseIntersectionDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodTuple:
          return (0, tuple_1.parseTupleDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodRecord:
          return (0, record_1.parseRecordDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodLiteral:
          return (0, literal_1.parseLiteralDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodEnum:
          return (0, enum_1.parseEnumDef)(def);
        case zod_1.ZodFirstPartyTypeKind.ZodNativeEnum:
          return (0, nativeEnum_1.parseNativeEnumDef)(def);
        case zod_1.ZodFirstPartyTypeKind.ZodNullable:
          return (0, nullable_1.parseNullableDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodOptional:
          return (0, optional_1.parseOptionalDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodMap:
          return (0, map_1.parseMapDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodSet:
          return (0, set_1.parseSetDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodLazy:
          return parseDef(def.getter()._def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodPromise:
          return (0, promise_1.parsePromiseDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodNaN:
        case zod_1.ZodFirstPartyTypeKind.ZodNever:
          return (0, never_1.parseNeverDef)();
        case zod_1.ZodFirstPartyTypeKind.ZodEffects:
          return (0, effects_1.parseEffectsDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodAny:
          return (0, any_1.parseAnyDef)();
        case zod_1.ZodFirstPartyTypeKind.ZodUnknown:
          return (0, unknown_1.parseUnknownDef)();
        case zod_1.ZodFirstPartyTypeKind.ZodDefault:
          return (0, default_1.parseDefaultDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodBranded:
          return (0, branded_1.parseBrandedDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodCatch:
          return (0, catch_1.parseCatchDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodPipeline:
          return (0, pipeline_1.parsePipelineDef)(def, refs);
        case zod_1.ZodFirstPartyTypeKind.ZodFunction:
        case zod_1.ZodFirstPartyTypeKind.ZodVoid:
        case zod_1.ZodFirstPartyTypeKind.ZodSymbol:
          return void 0;
        default:
          return ((_) => void 0)(typeName);
      }
    };
    var addMeta = (def, jsonSchema) => {
      if (def.description)
        jsonSchema.description = def.description;
      return jsonSchema;
    };
  }
});

// node_modules/zod-to-json-schema/src/Options.js
var require_Options = __commonJS({
  "node_modules/zod-to-json-schema/src/Options.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.getDefaultOptions = exports.defaultOptions = void 0;
    exports.defaultOptions = {
      name: void 0,
      $refStrategy: "root",
      basePath: ["#"],
      effectStrategy: "input",
      pipeStrategy: "all",
      definitionPath: "definitions",
      target: "jsonSchema7",
      strictUnions: false,
      definitions: {},
      errorMessages: false
    };
    var getDefaultOptions = (options) => typeof options === "string" ? Object.assign(Object.assign({}, exports.defaultOptions), { name: options }) : Object.assign(Object.assign({}, exports.defaultOptions), options);
    exports.getDefaultOptions = getDefaultOptions;
  }
});

// node_modules/zod-to-json-schema/src/Refs.js
var require_Refs = __commonJS({
  "node_modules/zod-to-json-schema/src/Refs.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.getRefs = void 0;
    var Options_1 = require_Options();
    var getRefs = (options) => {
      const _options = (0, Options_1.getDefaultOptions)(options);
      const currentPath = _options.name !== void 0 ? [..._options.basePath, _options.definitionPath, _options.name] : _options.basePath;
      return Object.assign(Object.assign({}, _options), { currentPath, propertyPath: void 0, seen: new Map(Object.entries(_options.definitions).map(([name, def]) => [
        def._def,
        {
          def: def._def,
          path: [..._options.basePath, _options.definitionPath, name],
          // Resolution of references will be forced even though seen, so it's ok that the schema is undefined here for now.
          jsonSchema: void 0
        }
      ])) });
    };
    exports.getRefs = getRefs;
  }
});

// node_modules/zod-to-json-schema/src/zodToJsonSchema.js
var require_zodToJsonSchema = __commonJS({
  "node_modules/zod-to-json-schema/src/zodToJsonSchema.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.zodToJsonSchema = void 0;
    var parseDef_1 = require_parseDef();
    var Refs_1 = require_Refs();
    var zodToJsonSchema2 = (schema, options) => {
      var _a;
      const refs = (0, Refs_1.getRefs)(options);
      const definitions = typeof options === "object" && options.definitions ? Object.entries(options.definitions).reduce((acc, [name2, schema2]) => {
        var _a2;
        return Object.assign(Object.assign({}, acc), { [name2]: (_a2 = (0, parseDef_1.parseDef)(schema2._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.basePath, refs.definitionPath, name2] }), true)) !== null && _a2 !== void 0 ? _a2 : {} });
      }, {}) : void 0;
      const name = typeof options === "string" ? options : options === null || options === void 0 ? void 0 : options.name;
      const main = (_a = (0, parseDef_1.parseDef)(schema._def, name === void 0 ? refs : Object.assign(Object.assign({}, refs), { currentPath: [...refs.basePath, refs.definitionPath, name] }), false)) !== null && _a !== void 0 ? _a : {};
      const combined = name === void 0 ? definitions ? Object.assign(Object.assign({}, main), { [refs.definitionPath]: definitions }) : main : {
        $ref: [
          ...refs.$refStrategy === "relative" ? [] : refs.basePath,
          refs.definitionPath,
          name
        ].join("/"),
        [refs.definitionPath]: Object.assign(Object.assign({}, definitions), { [name]: main })
      };
      if (refs.target === "jsonSchema7") {
        combined.$schema = "http://json-schema.org/draft-07/schema#";
      } else if (refs.target === "jsonSchema2019-09") {
        combined.$schema = "https://json-schema.org/draft/2019-09/schema#";
      }
      return combined;
    };
    exports.zodToJsonSchema = zodToJsonSchema2;
  }
});

// node_modules/zod-to-json-schema/index.js
var require_zod_to_json_schema = __commonJS({
  "node_modules/zod-to-json-schema/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.zodToJsonSchema = void 0;
    var zodToJsonSchema_1 = require_zodToJsonSchema();
    Object.defineProperty(exports, "zodToJsonSchema", { enumerable: true, get: function() {
      return zodToJsonSchema_1.zodToJsonSchema;
    } });
    exports.default = zodToJsonSchema_1.zodToJsonSchema;
  }
});

// node_modules/langchain/dist/util/chunk.js
var chunkArray;
var init_chunk = __esm({
  "node_modules/langchain/dist/util/chunk.js"() {
    chunkArray = (arr, chunkSize) => arr.reduce((chunks, elem, index) => {
      const chunkIndex = Math.floor(index / chunkSize);
      const chunk = chunks[chunkIndex] || [];
      chunks[chunkIndex] = chunk.concat([elem]);
      return chunks;
    }, []);
  }
});

// node_modules/object-hash/dist/object_hash.js
var require_object_hash = __commonJS({
  "node_modules/object-hash/dist/object_hash.js"(exports, module2) {
    !function(e) {
      var t;
      "object" == typeof exports ? module2.exports = e() : "function" == typeof define && define.amd ? define(e) : ("undefined" != typeof window ? t = window : "undefined" != typeof global ? t = global : "undefined" != typeof self && (t = self), t.objectHash = e());
    }(function() {
      return function r(o, i, u) {
        function s(n, e2) {
          if (!i[n]) {
            if (!o[n]) {
              var t = "function" == typeof require && require;
              if (!e2 && t)
                return t(n, true);
              if (a)
                return a(n, true);
              throw new Error("Cannot find module '" + n + "'");
            }
            e2 = i[n] = { exports: {} };
            o[n][0].call(e2.exports, function(e3) {
              var t2 = o[n][1][e3];
              return s(t2 || e3);
            }, e2, e2.exports, r, o, i, u);
          }
          return i[n].exports;
        }
        for (var a = "function" == typeof require && require, e = 0; e < u.length; e++)
          s(u[e]);
        return s;
      }({ 1: [function(w, b, m) {
        !function(e, n, s, c, d, h, p, g, y) {
          "use strict";
          var r = w("crypto");
          function t(e2, t2) {
            t2 = u(e2, t2);
            var n2;
            return void 0 === (n2 = "passthrough" !== t2.algorithm ? r.createHash(t2.algorithm) : new l()).write && (n2.write = n2.update, n2.end = n2.update), f(t2, n2).dispatch(e2), n2.update || n2.end(""), n2.digest ? n2.digest("buffer" === t2.encoding ? void 0 : t2.encoding) : (e2 = n2.read(), "buffer" !== t2.encoding ? e2.toString(t2.encoding) : e2);
          }
          (m = b.exports = t).sha1 = function(e2) {
            return t(e2);
          }, m.keys = function(e2) {
            return t(e2, { excludeValues: true, algorithm: "sha1", encoding: "hex" });
          }, m.MD5 = function(e2) {
            return t(e2, { algorithm: "md5", encoding: "hex" });
          }, m.keysMD5 = function(e2) {
            return t(e2, { algorithm: "md5", encoding: "hex", excludeValues: true });
          };
          var o = r.getHashes ? r.getHashes().slice() : ["sha1", "md5"], i = (o.push("passthrough"), ["buffer", "hex", "binary", "base64"]);
          function u(e2, t2) {
            var n2 = {};
            if (n2.algorithm = (t2 = t2 || {}).algorithm || "sha1", n2.encoding = t2.encoding || "hex", n2.excludeValues = !!t2.excludeValues, n2.algorithm = n2.algorithm.toLowerCase(), n2.encoding = n2.encoding.toLowerCase(), n2.ignoreUnknown = true === t2.ignoreUnknown, n2.respectType = false !== t2.respectType, n2.respectFunctionNames = false !== t2.respectFunctionNames, n2.respectFunctionProperties = false !== t2.respectFunctionProperties, n2.unorderedArrays = true === t2.unorderedArrays, n2.unorderedSets = false !== t2.unorderedSets, n2.unorderedObjects = false !== t2.unorderedObjects, n2.replacer = t2.replacer || void 0, n2.excludeKeys = t2.excludeKeys || void 0, void 0 === e2)
              throw new Error("Object argument required.");
            for (var r2 = 0; r2 < o.length; ++r2)
              o[r2].toLowerCase() === n2.algorithm.toLowerCase() && (n2.algorithm = o[r2]);
            if (-1 === o.indexOf(n2.algorithm))
              throw new Error('Algorithm "' + n2.algorithm + '"  not supported. supported values: ' + o.join(", "));
            if (-1 === i.indexOf(n2.encoding) && "passthrough" !== n2.algorithm)
              throw new Error('Encoding "' + n2.encoding + '"  not supported. supported values: ' + i.join(", "));
            return n2;
          }
          function a(e2) {
            if ("function" == typeof e2)
              return null != /^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e2));
          }
          function f(o2, t2, i2) {
            i2 = i2 || [];
            function u2(e2) {
              return t2.update ? t2.update(e2, "utf8") : t2.write(e2, "utf8");
            }
            return { dispatch: function(e2) {
              return this["_" + (null === (e2 = o2.replacer ? o2.replacer(e2) : e2) ? "null" : typeof e2)](e2);
            }, _object: function(t3) {
              var n2, e2 = Object.prototype.toString.call(t3), r2 = /\[object (.*)\]/i.exec(e2);
              r2 = (r2 = r2 ? r2[1] : "unknown:[" + e2 + "]").toLowerCase();
              if (0 <= (e2 = i2.indexOf(t3)))
                return this.dispatch("[CIRCULAR:" + e2 + "]");
              if (i2.push(t3), void 0 !== s && s.isBuffer && s.isBuffer(t3))
                return u2("buffer:"), u2(t3);
              if ("object" === r2 || "function" === r2 || "asyncfunction" === r2)
                return e2 = Object.keys(t3), o2.unorderedObjects && (e2 = e2.sort()), false === o2.respectType || a(t3) || e2.splice(0, 0, "prototype", "__proto__", "constructor"), o2.excludeKeys && (e2 = e2.filter(function(e3) {
                  return !o2.excludeKeys(e3);
                })), u2("object:" + e2.length + ":"), n2 = this, e2.forEach(function(e3) {
                  n2.dispatch(e3), u2(":"), o2.excludeValues || n2.dispatch(t3[e3]), u2(",");
                });
              if (!this["_" + r2]) {
                if (o2.ignoreUnknown)
                  return u2("[" + r2 + "]");
                throw new Error('Unknown object type "' + r2 + '"');
              }
              this["_" + r2](t3);
            }, _array: function(e2, t3) {
              t3 = void 0 !== t3 ? t3 : false !== o2.unorderedArrays;
              var n2 = this;
              if (u2("array:" + e2.length + ":"), !t3 || e2.length <= 1)
                return e2.forEach(function(e3) {
                  return n2.dispatch(e3);
                });
              var r2 = [], t3 = e2.map(function(e3) {
                var t4 = new l(), n3 = i2.slice();
                return f(o2, t4, n3).dispatch(e3), r2 = r2.concat(n3.slice(i2.length)), t4.read().toString();
              });
              return i2 = i2.concat(r2), t3.sort(), this._array(t3, false);
            }, _date: function(e2) {
              return u2("date:" + e2.toJSON());
            }, _symbol: function(e2) {
              return u2("symbol:" + e2.toString());
            }, _error: function(e2) {
              return u2("error:" + e2.toString());
            }, _boolean: function(e2) {
              return u2("bool:" + e2.toString());
            }, _string: function(e2) {
              u2("string:" + e2.length + ":"), u2(e2.toString());
            }, _function: function(e2) {
              u2("fn:"), a(e2) ? this.dispatch("[native]") : this.dispatch(e2.toString()), false !== o2.respectFunctionNames && this.dispatch("function-name:" + String(e2.name)), o2.respectFunctionProperties && this._object(e2);
            }, _number: function(e2) {
              return u2("number:" + e2.toString());
            }, _xml: function(e2) {
              return u2("xml:" + e2.toString());
            }, _null: function() {
              return u2("Null");
            }, _undefined: function() {
              return u2("Undefined");
            }, _regexp: function(e2) {
              return u2("regex:" + e2.toString());
            }, _uint8array: function(e2) {
              return u2("uint8array:"), this.dispatch(Array.prototype.slice.call(e2));
            }, _uint8clampedarray: function(e2) {
              return u2("uint8clampedarray:"), this.dispatch(Array.prototype.slice.call(e2));
            }, _int8array: function(e2) {
              return u2("int8array:"), this.dispatch(Array.prototype.slice.call(e2));
            }, _uint16array: function(e2) {
              return u2("uint16array:"), this.dispatch(Array.prototype.slice.call(e2));
            }, _int16array: function(e2) {
              return u2("int16array:"), this.dispatch(Array.prototype.slice.call(e2));
            }, _uint32array: function(e2) {
              return u2("uint32array:"), this.dispatch(Array.prototype.slice.call(e2));
            }, _int32array: function(e2) {
              return u2("int32array:"), this.dispatch(Array.prototype.slice.call(e2));
            }, _float32array: function(e2) {
              return u2("float32array:"), this.dispatch(Array.prototype.slice.call(e2));
            }, _float64array: function(e2) {
              return u2("float64array:"), this.dispatch(Array.prototype.slice.call(e2));
            }, _arraybuffer: function(e2) {
              return u2("arraybuffer:"), this.dispatch(new Uint8Array(e2));
            }, _url: function(e2) {
              return u2("url:" + e2.toString());
            }, _map: function(e2) {
              u2("map:");
              e2 = Array.from(e2);
              return this._array(e2, false !== o2.unorderedSets);
            }, _set: function(e2) {
              u2("set:");
              e2 = Array.from(e2);
              return this._array(e2, false !== o2.unorderedSets);
            }, _file: function(e2) {
              return u2("file:"), this.dispatch([e2.name, e2.size, e2.type, e2.lastModfied]);
            }, _blob: function() {
              if (o2.ignoreUnknown)
                return u2("[blob]");
              throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n');
            }, _domwindow: function() {
              return u2("domwindow");
            }, _bigint: function(e2) {
              return u2("bigint:" + e2.toString());
            }, _process: function() {
              return u2("process");
            }, _timer: function() {
              return u2("timer");
            }, _pipe: function() {
              return u2("pipe");
            }, _tcp: function() {
              return u2("tcp");
            }, _udp: function() {
              return u2("udp");
            }, _tty: function() {
              return u2("tty");
            }, _statwatcher: function() {
              return u2("statwatcher");
            }, _securecontext: function() {
              return u2("securecontext");
            }, _connection: function() {
              return u2("connection");
            }, _zlib: function() {
              return u2("zlib");
            }, _context: function() {
              return u2("context");
            }, _nodescript: function() {
              return u2("nodescript");
            }, _httpparser: function() {
              return u2("httpparser");
            }, _dataview: function() {
              return u2("dataview");
            }, _signal: function() {
              return u2("signal");
            }, _fsevent: function() {
              return u2("fsevent");
            }, _tlswrap: function() {
              return u2("tlswrap");
            } };
          }
          function l() {
            return { buf: "", write: function(e2) {
              this.buf += e2;
            }, end: function(e2) {
              this.buf += e2;
            }, read: function() {
              return this.buf;
            } };
          }
          m.writeToStream = function(e2, t2, n2) {
            return void 0 === n2 && (n2 = t2, t2 = {}), f(t2 = u(e2, t2), n2).dispatch(e2);
          };
        }.call(this, w("lYpoI2"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, w("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/fake_9a5aa49d.js", "/");
      }, { buffer: 3, crypto: 5, lYpoI2: 11 }], 2: [function(e, t, f) {
        !function(e2, t2, n, r, o, i, u, s, a) {
          !function(e3) {
            "use strict";
            var a2 = "undefined" != typeof Uint8Array ? Uint8Array : Array, t3 = "+".charCodeAt(0), n2 = "/".charCodeAt(0), r2 = "0".charCodeAt(0), o2 = "a".charCodeAt(0), i2 = "A".charCodeAt(0), u2 = "-".charCodeAt(0), s2 = "_".charCodeAt(0);
            function f2(e4) {
              e4 = e4.charCodeAt(0);
              return e4 === t3 || e4 === u2 ? 62 : e4 === n2 || e4 === s2 ? 63 : e4 < r2 ? -1 : e4 < r2 + 10 ? e4 - r2 + 26 + 26 : e4 < i2 + 26 ? e4 - i2 : e4 < o2 + 26 ? e4 - o2 + 26 : void 0;
            }
            e3.toByteArray = function(e4) {
              var t4, n3;
              if (0 < e4.length % 4)
                throw new Error("Invalid string. Length must be a multiple of 4");
              var r3 = e4.length, r3 = "=" === e4.charAt(r3 - 2) ? 2 : "=" === e4.charAt(r3 - 1) ? 1 : 0, o3 = new a2(3 * e4.length / 4 - r3), i3 = 0 < r3 ? e4.length - 4 : e4.length, u3 = 0;
              function s3(e5) {
                o3[u3++] = e5;
              }
              for (t4 = 0; t4 < i3; t4 += 4, 0)
                s3((16711680 & (n3 = f2(e4.charAt(t4)) << 18 | f2(e4.charAt(t4 + 1)) << 12 | f2(e4.charAt(t4 + 2)) << 6 | f2(e4.charAt(t4 + 3)))) >> 16), s3((65280 & n3) >> 8), s3(255 & n3);
              return 2 == r3 ? s3(255 & (n3 = f2(e4.charAt(t4)) << 2 | f2(e4.charAt(t4 + 1)) >> 4)) : 1 == r3 && (s3((n3 = f2(e4.charAt(t4)) << 10 | f2(e4.charAt(t4 + 1)) << 4 | f2(e4.charAt(t4 + 2)) >> 2) >> 8 & 255), s3(255 & n3)), o3;
            }, e3.fromByteArray = function(e4) {
              var t4, n3, r3, o3, i3 = e4.length % 3, u3 = "";
              function s3(e5) {
                return "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e5);
              }
              for (t4 = 0, r3 = e4.length - i3; t4 < r3; t4 += 3)
                n3 = (e4[t4] << 16) + (e4[t4 + 1] << 8) + e4[t4 + 2], u3 += s3((o3 = n3) >> 18 & 63) + s3(o3 >> 12 & 63) + s3(o3 >> 6 & 63) + s3(63 & o3);
              switch (i3) {
                case 1:
                  u3 = (u3 += s3((n3 = e4[e4.length - 1]) >> 2)) + s3(n3 << 4 & 63) + "==";
                  break;
                case 2:
                  u3 = (u3 = (u3 += s3((n3 = (e4[e4.length - 2] << 8) + e4[e4.length - 1]) >> 10)) + s3(n3 >> 4 & 63)) + s3(n3 << 2 & 63) + "=";
              }
              return u3;
            };
          }(void 0 === f ? this.base64js = {} : f);
        }.call(this, e("lYpoI2"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, e("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js", "/node_modules/gulp-browserify/node_modules/base64-js/lib");
      }, { buffer: 3, lYpoI2: 11 }], 3: [function(O, e, H) {
        !function(e2, n, f, r, h, p, g, y, w) {
          var a = O("base64-js"), i = O("ieee754");
          function f(e3, t2, n2) {
            if (!(this instanceof f))
              return new f(e3, t2, n2);
            var r2, o2, i2, u2, s2 = typeof e3;
            if ("base64" === t2 && "string" == s2)
              for (e3 = (u2 = e3).trim ? u2.trim() : u2.replace(/^\s+|\s+$/g, ""); e3.length % 4 != 0; )
                e3 += "=";
            if ("number" == s2)
              r2 = j(e3);
            else if ("string" == s2)
              r2 = f.byteLength(e3, t2);
            else {
              if ("object" != s2)
                throw new Error("First argument needs to be a number, array or string.");
              r2 = j(e3.length);
            }
            if (f._useTypedArrays ? o2 = f._augment(new Uint8Array(r2)) : ((o2 = this).length = r2, o2._isBuffer = true), f._useTypedArrays && "number" == typeof e3.byteLength)
              o2._set(e3);
            else if (C(u2 = e3) || f.isBuffer(u2) || u2 && "object" == typeof u2 && "number" == typeof u2.length)
              for (i2 = 0; i2 < r2; i2++)
                f.isBuffer(e3) ? o2[i2] = e3.readUInt8(i2) : o2[i2] = e3[i2];
            else if ("string" == s2)
              o2.write(e3, 0, t2);
            else if ("number" == s2 && !f._useTypedArrays && !n2)
              for (i2 = 0; i2 < r2; i2++)
                o2[i2] = 0;
            return o2;
          }
          function b(e3, t2, n2, r2) {
            return f._charsWritten = c(function(e4) {
              for (var t3 = [], n3 = 0; n3 < e4.length; n3++)
                t3.push(255 & e4.charCodeAt(n3));
              return t3;
            }(t2), e3, n2, r2);
          }
          function m(e3, t2, n2, r2) {
            return f._charsWritten = c(function(e4) {
              for (var t3, n3, r3 = [], o2 = 0; o2 < e4.length; o2++)
                n3 = e4.charCodeAt(o2), t3 = n3 >> 8, n3 = n3 % 256, r3.push(n3), r3.push(t3);
              return r3;
            }(t2), e3, n2, r2);
          }
          function v(e3, t2, n2) {
            var r2 = "";
            n2 = Math.min(e3.length, n2);
            for (var o2 = t2; o2 < n2; o2++)
              r2 += String.fromCharCode(e3[o2]);
            return r2;
          }
          function o(e3, t2, n2, r2) {
            r2 || (d("boolean" == typeof n2, "missing or invalid endian"), d(null != t2, "missing offset"), d(t2 + 1 < e3.length, "Trying to read beyond buffer length"));
            var o2, r2 = e3.length;
            if (!(r2 <= t2))
              return n2 ? (o2 = e3[t2], t2 + 1 < r2 && (o2 |= e3[t2 + 1] << 8)) : (o2 = e3[t2] << 8, t2 + 1 < r2 && (o2 |= e3[t2 + 1])), o2;
          }
          function u(e3, t2, n2, r2) {
            r2 || (d("boolean" == typeof n2, "missing or invalid endian"), d(null != t2, "missing offset"), d(t2 + 3 < e3.length, "Trying to read beyond buffer length"));
            var o2, r2 = e3.length;
            if (!(r2 <= t2))
              return n2 ? (t2 + 2 < r2 && (o2 = e3[t2 + 2] << 16), t2 + 1 < r2 && (o2 |= e3[t2 + 1] << 8), o2 |= e3[t2], t2 + 3 < r2 && (o2 += e3[t2 + 3] << 24 >>> 0)) : (t2 + 1 < r2 && (o2 = e3[t2 + 1] << 16), t2 + 2 < r2 && (o2 |= e3[t2 + 2] << 8), t2 + 3 < r2 && (o2 |= e3[t2 + 3]), o2 += e3[t2] << 24 >>> 0), o2;
          }
          function _(e3, t2, n2, r2) {
            if (r2 || (d("boolean" == typeof n2, "missing or invalid endian"), d(null != t2, "missing offset"), d(t2 + 1 < e3.length, "Trying to read beyond buffer length")), !(e3.length <= t2))
              return r2 = o(e3, t2, n2, true), 32768 & r2 ? -1 * (65535 - r2 + 1) : r2;
          }
          function E(e3, t2, n2, r2) {
            if (r2 || (d("boolean" == typeof n2, "missing or invalid endian"), d(null != t2, "missing offset"), d(t2 + 3 < e3.length, "Trying to read beyond buffer length")), !(e3.length <= t2))
              return r2 = u(e3, t2, n2, true), 2147483648 & r2 ? -1 * (4294967295 - r2 + 1) : r2;
          }
          function I(e3, t2, n2, r2) {
            return r2 || (d("boolean" == typeof n2, "missing or invalid endian"), d(t2 + 3 < e3.length, "Trying to read beyond buffer length")), i.read(e3, t2, n2, 23, 4);
          }
          function A(e3, t2, n2, r2) {
            return r2 || (d("boolean" == typeof n2, "missing or invalid endian"), d(t2 + 7 < e3.length, "Trying to read beyond buffer length")), i.read(e3, t2, n2, 52, 8);
          }
          function s(e3, t2, n2, r2, o2) {
            o2 || (d(null != t2, "missing value"), d("boolean" == typeof r2, "missing or invalid endian"), d(null != n2, "missing offset"), d(n2 + 1 < e3.length, "trying to write beyond buffer length"), Y(t2, 65535));
            o2 = e3.length;
            if (!(o2 <= n2))
              for (var i2 = 0, u2 = Math.min(o2 - n2, 2); i2 < u2; i2++)
                e3[n2 + i2] = (t2 & 255 << 8 * (r2 ? i2 : 1 - i2)) >>> 8 * (r2 ? i2 : 1 - i2);
          }
          function l(e3, t2, n2, r2, o2) {
            o2 || (d(null != t2, "missing value"), d("boolean" == typeof r2, "missing or invalid endian"), d(null != n2, "missing offset"), d(n2 + 3 < e3.length, "trying to write beyond buffer length"), Y(t2, 4294967295));
            o2 = e3.length;
            if (!(o2 <= n2))
              for (var i2 = 0, u2 = Math.min(o2 - n2, 4); i2 < u2; i2++)
                e3[n2 + i2] = t2 >>> 8 * (r2 ? i2 : 3 - i2) & 255;
          }
          function B(e3, t2, n2, r2, o2) {
            o2 || (d(null != t2, "missing value"), d("boolean" == typeof r2, "missing or invalid endian"), d(null != n2, "missing offset"), d(n2 + 1 < e3.length, "Trying to write beyond buffer length"), F(t2, 32767, -32768)), e3.length <= n2 || s(e3, 0 <= t2 ? t2 : 65535 + t2 + 1, n2, r2, o2);
          }
          function L(e3, t2, n2, r2, o2) {
            o2 || (d(null != t2, "missing value"), d("boolean" == typeof r2, "missing or invalid endian"), d(null != n2, "missing offset"), d(n2 + 3 < e3.length, "Trying to write beyond buffer length"), F(t2, 2147483647, -2147483648)), e3.length <= n2 || l(e3, 0 <= t2 ? t2 : 4294967295 + t2 + 1, n2, r2, o2);
          }
          function U(e3, t2, n2, r2, o2) {
            o2 || (d(null != t2, "missing value"), d("boolean" == typeof r2, "missing or invalid endian"), d(null != n2, "missing offset"), d(n2 + 3 < e3.length, "Trying to write beyond buffer length"), D(t2, 34028234663852886e22, -34028234663852886e22)), e3.length <= n2 || i.write(e3, t2, n2, r2, 23, 4);
          }
          function x(e3, t2, n2, r2, o2) {
            o2 || (d(null != t2, "missing value"), d("boolean" == typeof r2, "missing or invalid endian"), d(null != n2, "missing offset"), d(n2 + 7 < e3.length, "Trying to write beyond buffer length"), D(t2, 17976931348623157e292, -17976931348623157e292)), e3.length <= n2 || i.write(e3, t2, n2, r2, 52, 8);
          }
          H.Buffer = f, H.SlowBuffer = f, H.INSPECT_MAX_BYTES = 50, f.poolSize = 8192, f._useTypedArrays = function() {
            try {
              var e3 = new ArrayBuffer(0), t2 = new Uint8Array(e3);
              return t2.foo = function() {
                return 42;
              }, 42 === t2.foo() && "function" == typeof t2.subarray;
            } catch (e4) {
              return false;
            }
          }(), f.isEncoding = function(e3) {
            switch (String(e3).toLowerCase()) {
              case "hex":
              case "utf8":
              case "utf-8":
              case "ascii":
              case "binary":
              case "base64":
              case "raw":
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return true;
              default:
                return false;
            }
          }, f.isBuffer = function(e3) {
            return !(null == e3 || !e3._isBuffer);
          }, f.byteLength = function(e3, t2) {
            var n2;
            switch (e3 += "", t2 || "utf8") {
              case "hex":
                n2 = e3.length / 2;
                break;
              case "utf8":
              case "utf-8":
                n2 = T(e3).length;
                break;
              case "ascii":
              case "binary":
              case "raw":
                n2 = e3.length;
                break;
              case "base64":
                n2 = M(e3).length;
                break;
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                n2 = 2 * e3.length;
                break;
              default:
                throw new Error("Unknown encoding");
            }
            return n2;
          }, f.concat = function(e3, t2) {
            if (d(C(e3), "Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."), 0 === e3.length)
              return new f(0);
            if (1 === e3.length)
              return e3[0];
            if ("number" != typeof t2)
              for (o2 = t2 = 0; o2 < e3.length; o2++)
                t2 += e3[o2].length;
            for (var n2 = new f(t2), r2 = 0, o2 = 0; o2 < e3.length; o2++) {
              var i2 = e3[o2];
              i2.copy(n2, r2), r2 += i2.length;
            }
            return n2;
          }, f.prototype.write = function(e3, t2, n2, r2) {
            isFinite(t2) ? isFinite(n2) || (r2 = n2, n2 = void 0) : (a2 = r2, r2 = t2, t2 = n2, n2 = a2), t2 = Number(t2) || 0;
            var o2, i2, u2, s2, a2 = this.length - t2;
            switch ((!n2 || a2 < (n2 = Number(n2))) && (n2 = a2), r2 = String(r2 || "utf8").toLowerCase()) {
              case "hex":
                o2 = function(e4, t3, n3, r3) {
                  n3 = Number(n3) || 0;
                  var o3 = e4.length - n3;
                  (!r3 || o3 < (r3 = Number(r3))) && (r3 = o3), d((o3 = t3.length) % 2 == 0, "Invalid hex string"), o3 / 2 < r3 && (r3 = o3 / 2);
                  for (var i3 = 0; i3 < r3; i3++) {
                    var u3 = parseInt(t3.substr(2 * i3, 2), 16);
                    d(!isNaN(u3), "Invalid hex string"), e4[n3 + i3] = u3;
                  }
                  return f._charsWritten = 2 * i3, i3;
                }(this, e3, t2, n2);
                break;
              case "utf8":
              case "utf-8":
                i2 = this, u2 = t2, s2 = n2, o2 = f._charsWritten = c(T(e3), i2, u2, s2);
                break;
              case "ascii":
              case "binary":
                o2 = b(this, e3, t2, n2);
                break;
              case "base64":
                i2 = this, u2 = t2, s2 = n2, o2 = f._charsWritten = c(M(e3), i2, u2, s2);
                break;
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                o2 = m(this, e3, t2, n2);
                break;
              default:
                throw new Error("Unknown encoding");
            }
            return o2;
          }, f.prototype.toString = function(e3, t2, n2) {
            var r2, o2, i2, u2, s2 = this;
            if (e3 = String(e3 || "utf8").toLowerCase(), t2 = Number(t2) || 0, (n2 = void 0 !== n2 ? Number(n2) : s2.length) === t2)
              return "";
            switch (e3) {
              case "hex":
                r2 = function(e4, t3, n3) {
                  var r3 = e4.length;
                  (!t3 || t3 < 0) && (t3 = 0);
                  (!n3 || n3 < 0 || r3 < n3) && (n3 = r3);
                  for (var o3 = "", i3 = t3; i3 < n3; i3++)
                    o3 += k(e4[i3]);
                  return o3;
                }(s2, t2, n2);
                break;
              case "utf8":
              case "utf-8":
                r2 = function(e4, t3, n3) {
                  var r3 = "", o3 = "";
                  n3 = Math.min(e4.length, n3);
                  for (var i3 = t3; i3 < n3; i3++)
                    e4[i3] <= 127 ? (r3 += N(o3) + String.fromCharCode(e4[i3]), o3 = "") : o3 += "%" + e4[i3].toString(16);
                  return r3 + N(o3);
                }(s2, t2, n2);
                break;
              case "ascii":
              case "binary":
                r2 = v(s2, t2, n2);
                break;
              case "base64":
                o2 = s2, u2 = n2, r2 = 0 === (i2 = t2) && u2 === o2.length ? a.fromByteArray(o2) : a.fromByteArray(o2.slice(i2, u2));
                break;
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                r2 = function(e4, t3, n3) {
                  for (var r3 = e4.slice(t3, n3), o3 = "", i3 = 0; i3 < r3.length; i3 += 2)
                    o3 += String.fromCharCode(r3[i3] + 256 * r3[i3 + 1]);
                  return o3;
                }(s2, t2, n2);
                break;
              default:
                throw new Error("Unknown encoding");
            }
            return r2;
          }, f.prototype.toJSON = function() {
            return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) };
          }, f.prototype.copy = function(e3, t2, n2, r2) {
            if (t2 = t2 || 0, (r2 = r2 || 0 === r2 ? r2 : this.length) !== (n2 = n2 || 0) && 0 !== e3.length && 0 !== this.length) {
              d(n2 <= r2, "sourceEnd < sourceStart"), d(0 <= t2 && t2 < e3.length, "targetStart out of bounds"), d(0 <= n2 && n2 < this.length, "sourceStart out of bounds"), d(0 <= r2 && r2 <= this.length, "sourceEnd out of bounds"), r2 > this.length && (r2 = this.length);
              var o2 = (r2 = e3.length - t2 < r2 - n2 ? e3.length - t2 + n2 : r2) - n2;
              if (o2 < 100 || !f._useTypedArrays)
                for (var i2 = 0; i2 < o2; i2++)
                  e3[i2 + t2] = this[i2 + n2];
              else
                e3._set(this.subarray(n2, n2 + o2), t2);
            }
          }, f.prototype.slice = function(e3, t2) {
            var n2 = this.length;
            if (e3 = S(e3, n2, 0), t2 = S(t2, n2, n2), f._useTypedArrays)
              return f._augment(this.subarray(e3, t2));
            for (var r2 = t2 - e3, o2 = new f(r2, void 0, true), i2 = 0; i2 < r2; i2++)
              o2[i2] = this[i2 + e3];
            return o2;
          }, f.prototype.get = function(e3) {
            return console.log(".get() is deprecated. Access using array indexes instead."), this.readUInt8(e3);
          }, f.prototype.set = function(e3, t2) {
            return console.log(".set() is deprecated. Access using array indexes instead."), this.writeUInt8(e3, t2);
          }, f.prototype.readUInt8 = function(e3, t2) {
            if (t2 || (d(null != e3, "missing offset"), d(e3 < this.length, "Trying to read beyond buffer length")), !(e3 >= this.length))
              return this[e3];
          }, f.prototype.readUInt16LE = function(e3, t2) {
            return o(this, e3, true, t2);
          }, f.prototype.readUInt16BE = function(e3, t2) {
            return o(this, e3, false, t2);
          }, f.prototype.readUInt32LE = function(e3, t2) {
            return u(this, e3, true, t2);
          }, f.prototype.readUInt32BE = function(e3, t2) {
            return u(this, e3, false, t2);
          }, f.prototype.readInt8 = function(e3, t2) {
            if (t2 || (d(null != e3, "missing offset"), d(e3 < this.length, "Trying to read beyond buffer length")), !(e3 >= this.length))
              return 128 & this[e3] ? -1 * (255 - this[e3] + 1) : this[e3];
          }, f.prototype.readInt16LE = function(e3, t2) {
            return _(this, e3, true, t2);
          }, f.prototype.readInt16BE = function(e3, t2) {
            return _(this, e3, false, t2);
          }, f.prototype.readInt32LE = function(e3, t2) {
            return E(this, e3, true, t2);
          }, f.prototype.readInt32BE = function(e3, t2) {
            return E(this, e3, false, t2);
          }, f.prototype.readFloatLE = function(e3, t2) {
            return I(this, e3, true, t2);
          }, f.prototype.readFloatBE = function(e3, t2) {
            return I(this, e3, false, t2);
          }, f.prototype.readDoubleLE = function(e3, t2) {
            return A(this, e3, true, t2);
          }, f.prototype.readDoubleBE = function(e3, t2) {
            return A(this, e3, false, t2);
          }, f.prototype.writeUInt8 = function(e3, t2, n2) {
            n2 || (d(null != e3, "missing value"), d(null != t2, "missing offset"), d(t2 < this.length, "trying to write beyond buffer length"), Y(e3, 255)), t2 >= this.length || (this[t2] = e3);
          }, f.prototype.writeUInt16LE = function(e3, t2, n2) {
            s(this, e3, t2, true, n2);
          }, f.prototype.writeUInt16BE = function(e3, t2, n2) {
            s(this, e3, t2, false, n2);
          }, f.prototype.writeUInt32LE = function(e3, t2, n2) {
            l(this, e3, t2, true, n2);
          }, f.prototype.writeUInt32BE = function(e3, t2, n2) {
            l(this, e3, t2, false, n2);
          }, f.prototype.writeInt8 = function(e3, t2, n2) {
            n2 || (d(null != e3, "missing value"), d(null != t2, "missing offset"), d(t2 < this.length, "Trying to write beyond buffer length"), F(e3, 127, -128)), t2 >= this.length || (0 <= e3 ? this.writeUInt8(e3, t2, n2) : this.writeUInt8(255 + e3 + 1, t2, n2));
          }, f.prototype.writeInt16LE = function(e3, t2, n2) {
            B(this, e3, t2, true, n2);
          }, f.prototype.writeInt16BE = function(e3, t2, n2) {
            B(this, e3, t2, false, n2);
          }, f.prototype.writeInt32LE = function(e3, t2, n2) {
            L(this, e3, t2, true, n2);
          }, f.prototype.writeInt32BE = function(e3, t2, n2) {
            L(this, e3, t2, false, n2);
          }, f.prototype.writeFloatLE = function(e3, t2, n2) {
            U(this, e3, t2, true, n2);
          }, f.prototype.writeFloatBE = function(e3, t2, n2) {
            U(this, e3, t2, false, n2);
          }, f.prototype.writeDoubleLE = function(e3, t2, n2) {
            x(this, e3, t2, true, n2);
          }, f.prototype.writeDoubleBE = function(e3, t2, n2) {
            x(this, e3, t2, false, n2);
          }, f.prototype.fill = function(e3, t2, n2) {
            if (t2 = t2 || 0, n2 = n2 || this.length, d("number" == typeof (e3 = "string" == typeof (e3 = e3 || 0) ? e3.charCodeAt(0) : e3) && !isNaN(e3), "value is not a number"), d(t2 <= n2, "end < start"), n2 !== t2 && 0 !== this.length) {
              d(0 <= t2 && t2 < this.length, "start out of bounds"), d(0 <= n2 && n2 <= this.length, "end out of bounds");
              for (var r2 = t2; r2 < n2; r2++)
                this[r2] = e3;
            }
          }, f.prototype.inspect = function() {
            for (var e3 = [], t2 = this.length, n2 = 0; n2 < t2; n2++)
              if (e3[n2] = k(this[n2]), n2 === H.INSPECT_MAX_BYTES) {
                e3[n2 + 1] = "...";
                break;
              }
            return "<Buffer " + e3.join(" ") + ">";
          }, f.prototype.toArrayBuffer = function() {
            if ("undefined" == typeof Uint8Array)
              throw new Error("Buffer.toArrayBuffer not supported in this browser");
            if (f._useTypedArrays)
              return new f(this).buffer;
            for (var e3 = new Uint8Array(this.length), t2 = 0, n2 = e3.length; t2 < n2; t2 += 1)
              e3[t2] = this[t2];
            return e3.buffer;
          };
          var t = f.prototype;
          function S(e3, t2, n2) {
            return "number" != typeof e3 ? n2 : t2 <= (e3 = ~~e3) ? t2 : 0 <= e3 || 0 <= (e3 += t2) ? e3 : 0;
          }
          function j(e3) {
            return (e3 = ~~Math.ceil(+e3)) < 0 ? 0 : e3;
          }
          function C(e3) {
            return (Array.isArray || function(e4) {
              return "[object Array]" === Object.prototype.toString.call(e4);
            })(e3);
          }
          function k(e3) {
            return e3 < 16 ? "0" + e3.toString(16) : e3.toString(16);
          }
          function T(e3) {
            for (var t2 = [], n2 = 0; n2 < e3.length; n2++) {
              var r2 = e3.charCodeAt(n2);
              if (r2 <= 127)
                t2.push(e3.charCodeAt(n2));
              else
                for (var o2 = n2, i2 = (55296 <= r2 && r2 <= 57343 && n2++, encodeURIComponent(e3.slice(o2, n2 + 1)).substr(1).split("%")), u2 = 0; u2 < i2.length; u2++)
                  t2.push(parseInt(i2[u2], 16));
            }
            return t2;
          }
          function M(e3) {
            return a.toByteArray(e3);
          }
          function c(e3, t2, n2, r2) {
            for (var o2 = 0; o2 < r2 && !(o2 + n2 >= t2.length || o2 >= e3.length); o2++)
              t2[o2 + n2] = e3[o2];
            return o2;
          }
          function N(e3) {
            try {
              return decodeURIComponent(e3);
            } catch (e4) {
              return String.fromCharCode(65533);
            }
          }
          function Y(e3, t2) {
            d("number" == typeof e3, "cannot write a non-number as a number"), d(0 <= e3, "specified a negative value for writing an unsigned value"), d(e3 <= t2, "value is larger than maximum value for type"), d(Math.floor(e3) === e3, "value has a fractional component");
          }
          function F(e3, t2, n2) {
            d("number" == typeof e3, "cannot write a non-number as a number"), d(e3 <= t2, "value larger than maximum allowed value"), d(n2 <= e3, "value smaller than minimum allowed value"), d(Math.floor(e3) === e3, "value has a fractional component");
          }
          function D(e3, t2, n2) {
            d("number" == typeof e3, "cannot write a non-number as a number"), d(e3 <= t2, "value larger than maximum allowed value"), d(n2 <= e3, "value smaller than minimum allowed value");
          }
          function d(e3, t2) {
            if (!e3)
              throw new Error(t2 || "Failed assertion");
          }
          f._augment = function(e3) {
            return e3._isBuffer = true, e3._get = e3.get, e3._set = e3.set, e3.get = t.get, e3.set = t.set, e3.write = t.write, e3.toString = t.toString, e3.toLocaleString = t.toString, e3.toJSON = t.toJSON, e3.copy = t.copy, e3.slice = t.slice, e3.readUInt8 = t.readUInt8, e3.readUInt16LE = t.readUInt16LE, e3.readUInt16BE = t.readUInt16BE, e3.readUInt32LE = t.readUInt32LE, e3.readUInt32BE = t.readUInt32BE, e3.readInt8 = t.readInt8, e3.readInt16LE = t.readInt16LE, e3.readInt16BE = t.readInt16BE, e3.readInt32LE = t.readInt32LE, e3.readInt32BE = t.readInt32BE, e3.readFloatLE = t.readFloatLE, e3.readFloatBE = t.readFloatBE, e3.readDoubleLE = t.readDoubleLE, e3.readDoubleBE = t.readDoubleBE, e3.writeUInt8 = t.writeUInt8, e3.writeUInt16LE = t.writeUInt16LE, e3.writeUInt16BE = t.writeUInt16BE, e3.writeUInt32LE = t.writeUInt32LE, e3.writeUInt32BE = t.writeUInt32BE, e3.writeInt8 = t.writeInt8, e3.writeInt16LE = t.writeInt16LE, e3.writeInt16BE = t.writeInt16BE, e3.writeInt32LE = t.writeInt32LE, e3.writeInt32BE = t.writeInt32BE, e3.writeFloatLE = t.writeFloatLE, e3.writeFloatBE = t.writeFloatBE, e3.writeDoubleLE = t.writeDoubleLE, e3.writeDoubleBE = t.writeDoubleBE, e3.fill = t.fill, e3.inspect = t.inspect, e3.toArrayBuffer = t.toArrayBuffer, e3;
          };
        }.call(this, O("lYpoI2"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, O("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/gulp-browserify/node_modules/buffer/index.js", "/node_modules/gulp-browserify/node_modules/buffer");
      }, { "base64-js": 2, buffer: 3, ieee754: 10, lYpoI2: 11 }], 4: [function(c, d, e) {
        !function(e2, t, a, n, r, o, i, u, s) {
          var a = c("buffer").Buffer, f = 4, l = new a(f);
          l.fill(0);
          d.exports = { hash: function(e3, t2, n2, r2) {
            for (var o2 = t2(function(e4, t3) {
              e4.length % f != 0 && (n3 = e4.length + (f - e4.length % f), e4 = a.concat([e4, l], n3));
              for (var n3, r3 = [], o3 = t3 ? e4.readInt32BE : e4.readInt32LE, i3 = 0; i3 < e4.length; i3 += f)
                r3.push(o3.call(e4, i3));
              return r3;
            }(e3 = a.isBuffer(e3) ? e3 : new a(e3), r2), 8 * e3.length), t2 = r2, i2 = new a(n2), u2 = t2 ? i2.writeInt32BE : i2.writeInt32LE, s2 = 0; s2 < o2.length; s2++)
              u2.call(i2, o2[s2], 4 * s2, true);
            return i2;
          } };
        }.call(this, c("lYpoI2"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, c("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js", "/node_modules/gulp-browserify/node_modules/crypto-browserify");
      }, { buffer: 3, lYpoI2: 11 }], 5: [function(v, e, _) {
        !function(l, c, u, d, h, p, g, y, w) {
          var u = v("buffer").Buffer, e2 = v("./sha"), t = v("./sha256"), n = v("./rng"), b = { sha1: e2, sha256: t, md5: v("./md5") }, s = 64, a = new u(s);
          function r(e3, n2) {
            var r2 = b[e3 = e3 || "sha1"], o2 = [];
            return r2 || i("algorithm:", e3, "is not yet supported"), { update: function(e4) {
              return u.isBuffer(e4) || (e4 = new u(e4)), o2.push(e4), e4.length, this;
            }, digest: function(e4) {
              var t2 = u.concat(o2), t2 = n2 ? function(e5, t3, n3) {
                u.isBuffer(t3) || (t3 = new u(t3)), u.isBuffer(n3) || (n3 = new u(n3)), t3.length > s ? t3 = e5(t3) : t3.length < s && (t3 = u.concat([t3, a], s));
                for (var r3 = new u(s), o3 = new u(s), i2 = 0; i2 < s; i2++)
                  r3[i2] = 54 ^ t3[i2], o3[i2] = 92 ^ t3[i2];
                return n3 = e5(u.concat([r3, n3])), e5(u.concat([o3, n3]));
              }(r2, n2, t2) : r2(t2);
              return o2 = null, e4 ? t2.toString(e4) : t2;
            } };
          }
          function i() {
            var e3 = [].slice.call(arguments).join(" ");
            throw new Error([e3, "we accept pull requests", "http://github.com/dominictarr/crypto-browserify"].join("\n"));
          }
          a.fill(0), _.createHash = function(e3) {
            return r(e3);
          }, _.createHmac = r, _.randomBytes = function(e3, t2) {
            if (!t2 || !t2.call)
              return new u(n(e3));
            try {
              t2.call(this, void 0, new u(n(e3)));
            } catch (e4) {
              t2(e4);
            }
          };
          var o, f = ["createCredentials", "createCipher", "createCipheriv", "createDecipher", "createDecipheriv", "createSign", "createVerify", "createDiffieHellman", "pbkdf2"], m = function(e3) {
            _[e3] = function() {
              i("sorry,", e3, "is not implemented yet");
            };
          };
          for (o in f)
            m(f[o], o);
        }.call(this, v("lYpoI2"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, v("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js", "/node_modules/gulp-browserify/node_modules/crypto-browserify");
      }, { "./md5": 6, "./rng": 7, "./sha": 8, "./sha256": 9, buffer: 3, lYpoI2: 11 }], 6: [function(w, b, e) {
        !function(e2, r, o, i, u, a, f, l, y) {
          var t = w("./helpers");
          function n(e3, t2) {
            e3[t2 >> 5] |= 128 << t2 % 32, e3[14 + (t2 + 64 >>> 9 << 4)] = t2;
            for (var n2 = 1732584193, r2 = -271733879, o2 = -1732584194, i2 = 271733878, u2 = 0; u2 < e3.length; u2 += 16) {
              var s2 = n2, a2 = r2, f2 = o2, l2 = i2, n2 = c(n2, r2, o2, i2, e3[u2 + 0], 7, -680876936), i2 = c(i2, n2, r2, o2, e3[u2 + 1], 12, -389564586), o2 = c(o2, i2, n2, r2, e3[u2 + 2], 17, 606105819), r2 = c(r2, o2, i2, n2, e3[u2 + 3], 22, -1044525330);
              n2 = c(n2, r2, o2, i2, e3[u2 + 4], 7, -176418897), i2 = c(i2, n2, r2, o2, e3[u2 + 5], 12, 1200080426), o2 = c(o2, i2, n2, r2, e3[u2 + 6], 17, -1473231341), r2 = c(r2, o2, i2, n2, e3[u2 + 7], 22, -45705983), n2 = c(n2, r2, o2, i2, e3[u2 + 8], 7, 1770035416), i2 = c(i2, n2, r2, o2, e3[u2 + 9], 12, -1958414417), o2 = c(o2, i2, n2, r2, e3[u2 + 10], 17, -42063), r2 = c(r2, o2, i2, n2, e3[u2 + 11], 22, -1990404162), n2 = c(n2, r2, o2, i2, e3[u2 + 12], 7, 1804603682), i2 = c(i2, n2, r2, o2, e3[u2 + 13], 12, -40341101), o2 = c(o2, i2, n2, r2, e3[u2 + 14], 17, -1502002290), n2 = d(n2, r2 = c(r2, o2, i2, n2, e3[u2 + 15], 22, 1236535329), o2, i2, e3[u2 + 1], 5, -165796510), i2 = d(i2, n2, r2, o2, e3[u2 + 6], 9, -1069501632), o2 = d(o2, i2, n2, r2, e3[u2 + 11], 14, 643717713), r2 = d(r2, o2, i2, n2, e3[u2 + 0], 20, -373897302), n2 = d(n2, r2, o2, i2, e3[u2 + 5], 5, -701558691), i2 = d(i2, n2, r2, o2, e3[u2 + 10], 9, 38016083), o2 = d(o2, i2, n2, r2, e3[u2 + 15], 14, -660478335), r2 = d(r2, o2, i2, n2, e3[u2 + 4], 20, -405537848), n2 = d(n2, r2, o2, i2, e3[u2 + 9], 5, 568446438), i2 = d(i2, n2, r2, o2, e3[u2 + 14], 9, -1019803690), o2 = d(o2, i2, n2, r2, e3[u2 + 3], 14, -187363961), r2 = d(r2, o2, i2, n2, e3[u2 + 8], 20, 1163531501), n2 = d(n2, r2, o2, i2, e3[u2 + 13], 5, -1444681467), i2 = d(i2, n2, r2, o2, e3[u2 + 2], 9, -51403784), o2 = d(o2, i2, n2, r2, e3[u2 + 7], 14, 1735328473), n2 = h(n2, r2 = d(r2, o2, i2, n2, e3[u2 + 12], 20, -1926607734), o2, i2, e3[u2 + 5], 4, -378558), i2 = h(i2, n2, r2, o2, e3[u2 + 8], 11, -2022574463), o2 = h(o2, i2, n2, r2, e3[u2 + 11], 16, 1839030562), r2 = h(r2, o2, i2, n2, e3[u2 + 14], 23, -35309556), n2 = h(n2, r2, o2, i2, e3[u2 + 1], 4, -1530992060), i2 = h(i2, n2, r2, o2, e3[u2 + 4], 11, 1272893353), o2 = h(o2, i2, n2, r2, e3[u2 + 7], 16, -155497632), r2 = h(r2, o2, i2, n2, e3[u2 + 10], 23, -1094730640), n2 = h(n2, r2, o2, i2, e3[u2 + 13], 4, 681279174), i2 = h(i2, n2, r2, o2, e3[u2 + 0], 11, -358537222), o2 = h(o2, i2, n2, r2, e3[u2 + 3], 16, -722521979), r2 = h(r2, o2, i2, n2, e3[u2 + 6], 23, 76029189), n2 = h(n2, r2, o2, i2, e3[u2 + 9], 4, -640364487), i2 = h(i2, n2, r2, o2, e3[u2 + 12], 11, -421815835), o2 = h(o2, i2, n2, r2, e3[u2 + 15], 16, 530742520), n2 = p(n2, r2 = h(r2, o2, i2, n2, e3[u2 + 2], 23, -995338651), o2, i2, e3[u2 + 0], 6, -198630844), i2 = p(i2, n2, r2, o2, e3[u2 + 7], 10, 1126891415), o2 = p(o2, i2, n2, r2, e3[u2 + 14], 15, -1416354905), r2 = p(r2, o2, i2, n2, e3[u2 + 5], 21, -57434055), n2 = p(n2, r2, o2, i2, e3[u2 + 12], 6, 1700485571), i2 = p(i2, n2, r2, o2, e3[u2 + 3], 10, -1894986606), o2 = p(o2, i2, n2, r2, e3[u2 + 10], 15, -1051523), r2 = p(r2, o2, i2, n2, e3[u2 + 1], 21, -2054922799), n2 = p(n2, r2, o2, i2, e3[u2 + 8], 6, 1873313359), i2 = p(i2, n2, r2, o2, e3[u2 + 15], 10, -30611744), o2 = p(o2, i2, n2, r2, e3[u2 + 6], 15, -1560198380), r2 = p(r2, o2, i2, n2, e3[u2 + 13], 21, 1309151649), n2 = p(n2, r2, o2, i2, e3[u2 + 4], 6, -145523070), i2 = p(i2, n2, r2, o2, e3[u2 + 11], 10, -1120210379), o2 = p(o2, i2, n2, r2, e3[u2 + 2], 15, 718787259), r2 = p(r2, o2, i2, n2, e3[u2 + 9], 21, -343485551), n2 = g(n2, s2), r2 = g(r2, a2), o2 = g(o2, f2), i2 = g(i2, l2);
            }
            return Array(n2, r2, o2, i2);
          }
          function s(e3, t2, n2, r2, o2, i2) {
            return g((t2 = g(g(t2, e3), g(r2, i2))) << o2 | t2 >>> 32 - o2, n2);
          }
          function c(e3, t2, n2, r2, o2, i2, u2) {
            return s(t2 & n2 | ~t2 & r2, e3, t2, o2, i2, u2);
          }
          function d(e3, t2, n2, r2, o2, i2, u2) {
            return s(t2 & r2 | n2 & ~r2, e3, t2, o2, i2, u2);
          }
          function h(e3, t2, n2, r2, o2, i2, u2) {
            return s(t2 ^ n2 ^ r2, e3, t2, o2, i2, u2);
          }
          function p(e3, t2, n2, r2, o2, i2, u2) {
            return s(n2 ^ (t2 | ~r2), e3, t2, o2, i2, u2);
          }
          function g(e3, t2) {
            var n2 = (65535 & e3) + (65535 & t2);
            return (e3 >> 16) + (t2 >> 16) + (n2 >> 16) << 16 | 65535 & n2;
          }
          b.exports = function(e3) {
            return t.hash(e3, n, 16);
          };
        }.call(this, w("lYpoI2"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, w("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js", "/node_modules/gulp-browserify/node_modules/crypto-browserify");
      }, { "./helpers": 4, buffer: 3, lYpoI2: 11 }], 7: [function(e, l, t) {
        !function(e2, t2, n, r, o, i, u, s, f) {
          var a;
          l.exports = a || function(e3) {
            for (var t3, n2 = new Array(e3), r2 = 0; r2 < e3; r2++)
              0 == (3 & r2) && (t3 = 4294967296 * Math.random()), n2[r2] = t3 >>> ((3 & r2) << 3) & 255;
            return n2;
          };
        }.call(this, e("lYpoI2"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, e("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js", "/node_modules/gulp-browserify/node_modules/crypto-browserify");
      }, { buffer: 3, lYpoI2: 11 }], 8: [function(c, d, e) {
        !function(e2, t, n, r, o, s, a, f, l) {
          var i = c("./helpers");
          function u(l2, c2) {
            l2[c2 >> 5] |= 128 << 24 - c2 % 32, l2[15 + (c2 + 64 >> 9 << 4)] = c2;
            for (var e3, t2, n2, r2 = Array(80), o2 = 1732584193, i2 = -271733879, u2 = -1732584194, s2 = 271733878, d2 = -1009589776, h = 0; h < l2.length; h += 16) {
              for (var p = o2, g = i2, y = u2, w = s2, b = d2, a2 = 0; a2 < 80; a2++) {
                r2[a2] = a2 < 16 ? l2[h + a2] : v(r2[a2 - 3] ^ r2[a2 - 8] ^ r2[a2 - 14] ^ r2[a2 - 16], 1);
                var f2 = m(m(v(o2, 5), (f2 = i2, t2 = u2, n2 = s2, (e3 = a2) < 20 ? f2 & t2 | ~f2 & n2 : !(e3 < 40) && e3 < 60 ? f2 & t2 | f2 & n2 | t2 & n2 : f2 ^ t2 ^ n2)), m(m(d2, r2[a2]), (e3 = a2) < 20 ? 1518500249 : e3 < 40 ? 1859775393 : e3 < 60 ? -1894007588 : -899497514)), d2 = s2, s2 = u2, u2 = v(i2, 30), i2 = o2, o2 = f2;
              }
              o2 = m(o2, p), i2 = m(i2, g), u2 = m(u2, y), s2 = m(s2, w), d2 = m(d2, b);
            }
            return Array(o2, i2, u2, s2, d2);
          }
          function m(e3, t2) {
            var n2 = (65535 & e3) + (65535 & t2);
            return (e3 >> 16) + (t2 >> 16) + (n2 >> 16) << 16 | 65535 & n2;
          }
          function v(e3, t2) {
            return e3 << t2 | e3 >>> 32 - t2;
          }
          d.exports = function(e3) {
            return i.hash(e3, u, 20, true);
          };
        }.call(this, c("lYpoI2"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, c("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js", "/node_modules/gulp-browserify/node_modules/crypto-browserify");
      }, { "./helpers": 4, buffer: 3, lYpoI2: 11 }], 9: [function(c, d, e) {
        !function(e2, t, n, r, u, s, a, f, l) {
          function b(e3, t2) {
            var n2 = (65535 & e3) + (65535 & t2);
            return (e3 >> 16) + (t2 >> 16) + (n2 >> 16) << 16 | 65535 & n2;
          }
          function o(e3, l2) {
            var c2, d2 = new Array(1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298), t2 = new Array(1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225), n2 = new Array(64);
            e3[l2 >> 5] |= 128 << 24 - l2 % 32, e3[15 + (l2 + 64 >> 9 << 4)] = l2;
            for (var r2, o2, h = 0; h < e3.length; h += 16) {
              for (var i2 = t2[0], u2 = t2[1], s2 = t2[2], p = t2[3], a2 = t2[4], g = t2[5], y = t2[6], w = t2[7], f2 = 0; f2 < 64; f2++)
                n2[f2] = f2 < 16 ? e3[f2 + h] : b(b(b((o2 = n2[f2 - 2], m(o2, 17) ^ m(o2, 19) ^ v(o2, 10)), n2[f2 - 7]), (o2 = n2[f2 - 15], m(o2, 7) ^ m(o2, 18) ^ v(o2, 3))), n2[f2 - 16]), c2 = b(b(b(b(w, m(o2 = a2, 6) ^ m(o2, 11) ^ m(o2, 25)), a2 & g ^ ~a2 & y), d2[f2]), n2[f2]), r2 = b(m(r2 = i2, 2) ^ m(r2, 13) ^ m(r2, 22), i2 & u2 ^ i2 & s2 ^ u2 & s2), w = y, y = g, g = a2, a2 = b(p, c2), p = s2, s2 = u2, u2 = i2, i2 = b(c2, r2);
              t2[0] = b(i2, t2[0]), t2[1] = b(u2, t2[1]), t2[2] = b(s2, t2[2]), t2[3] = b(p, t2[3]), t2[4] = b(a2, t2[4]), t2[5] = b(g, t2[5]), t2[6] = b(y, t2[6]), t2[7] = b(w, t2[7]);
            }
            return t2;
          }
          var i = c("./helpers"), m = function(e3, t2) {
            return e3 >>> t2 | e3 << 32 - t2;
          }, v = function(e3, t2) {
            return e3 >>> t2;
          };
          d.exports = function(e3) {
            return i.hash(e3, o, 32, true);
          };
        }.call(this, c("lYpoI2"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, c("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js", "/node_modules/gulp-browserify/node_modules/crypto-browserify");
      }, { "./helpers": 4, buffer: 3, lYpoI2: 11 }], 10: [function(e, t, f) {
        !function(e2, t2, n, r, o, i, u, s, a) {
          f.read = function(e3, t3, n2, r2, o2) {
            var i2, u2, l = 8 * o2 - r2 - 1, c = (1 << l) - 1, d = c >> 1, s2 = -7, a2 = n2 ? o2 - 1 : 0, f2 = n2 ? -1 : 1, o2 = e3[t3 + a2];
            for (a2 += f2, i2 = o2 & (1 << -s2) - 1, o2 >>= -s2, s2 += l; 0 < s2; i2 = 256 * i2 + e3[t3 + a2], a2 += f2, s2 -= 8)
              ;
            for (u2 = i2 & (1 << -s2) - 1, i2 >>= -s2, s2 += r2; 0 < s2; u2 = 256 * u2 + e3[t3 + a2], a2 += f2, s2 -= 8)
              ;
            if (0 === i2)
              i2 = 1 - d;
            else {
              if (i2 === c)
                return u2 ? NaN : 1 / 0 * (o2 ? -1 : 1);
              u2 += Math.pow(2, r2), i2 -= d;
            }
            return (o2 ? -1 : 1) * u2 * Math.pow(2, i2 - r2);
          }, f.write = function(e3, t3, l, n2, r2, c) {
            var o2, i2, u2 = 8 * c - r2 - 1, s2 = (1 << u2) - 1, a2 = s2 >> 1, d = 23 === r2 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, f2 = n2 ? 0 : c - 1, h = n2 ? 1 : -1, c = t3 < 0 || 0 === t3 && 1 / t3 < 0 ? 1 : 0;
            for (t3 = Math.abs(t3), isNaN(t3) || t3 === 1 / 0 ? (i2 = isNaN(t3) ? 1 : 0, o2 = s2) : (o2 = Math.floor(Math.log(t3) / Math.LN2), t3 * (n2 = Math.pow(2, -o2)) < 1 && (o2--, n2 *= 2), 2 <= (t3 += 1 <= o2 + a2 ? d / n2 : d * Math.pow(2, 1 - a2)) * n2 && (o2++, n2 /= 2), s2 <= o2 + a2 ? (i2 = 0, o2 = s2) : 1 <= o2 + a2 ? (i2 = (t3 * n2 - 1) * Math.pow(2, r2), o2 += a2) : (i2 = t3 * Math.pow(2, a2 - 1) * Math.pow(2, r2), o2 = 0)); 8 <= r2; e3[l + f2] = 255 & i2, f2 += h, i2 /= 256, r2 -= 8)
              ;
            for (o2 = o2 << r2 | i2, u2 += r2; 0 < u2; e3[l + f2] = 255 & o2, f2 += h, o2 /= 256, u2 -= 8)
              ;
            e3[l + f2 - h] |= 128 * c;
          };
        }.call(this, e("lYpoI2"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, e("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/gulp-browserify/node_modules/ieee754/index.js", "/node_modules/gulp-browserify/node_modules/ieee754");
      }, { buffer: 3, lYpoI2: 11 }], 11: [function(e, h, t) {
        !function(e2, t2, n, r, o, f, l, c, d) {
          var i, u, s;
          function a() {
          }
          (e2 = h.exports = {}).nextTick = (u = "undefined" != typeof window && window.setImmediate, s = "undefined" != typeof window && window.postMessage && window.addEventListener, u ? function(e3) {
            return window.setImmediate(e3);
          } : s ? (i = [], window.addEventListener("message", function(e3) {
            var t3 = e3.source;
            t3 !== window && null !== t3 || "process-tick" !== e3.data || (e3.stopPropagation(), 0 < i.length && i.shift()());
          }, true), function(e3) {
            i.push(e3), window.postMessage("process-tick", "*");
          }) : function(e3) {
            setTimeout(e3, 0);
          }), e2.title = "browser", e2.browser = true, e2.env = {}, e2.argv = [], e2.on = a, e2.addListener = a, e2.once = a, e2.off = a, e2.removeListener = a, e2.removeAllListeners = a, e2.emit = a, e2.binding = function(e3) {
            throw new Error("process.binding is not supported");
          }, e2.cwd = function() {
            return "/";
          }, e2.chdir = function(e3) {
            throw new Error("process.chdir is not supported");
          };
        }.call(this, e("lYpoI2"), "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, e("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/gulp-browserify/node_modules/process/browser.js", "/node_modules/gulp-browserify/node_modules/process");
      }, { buffer: 3, lYpoI2: 11 }] }, {}, [1])(1);
    });
  }
});

// node_modules/langchain/dist/cache/base.js
var import_object_hash, getCacheKey;
var init_base6 = __esm({
  "node_modules/langchain/dist/cache/base.js"() {
    import_object_hash = __toESM(require_object_hash(), 1);
    getCacheKey = (...strings) => (0, import_object_hash.default)(strings.join("_"));
  }
});

// node_modules/langchain/dist/cache/index.js
var GLOBAL_MAP, InMemoryCache;
var init_cache = __esm({
  "node_modules/langchain/dist/cache/index.js"() {
    init_base6();
    init_schema();
    GLOBAL_MAP = /* @__PURE__ */ new Map();
    InMemoryCache = class extends BaseCache {
      constructor(map) {
        super();
        Object.defineProperty(this, "cache", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.cache = map != null ? map : /* @__PURE__ */ new Map();
      }
      lookup(prompt, llmKey) {
        var _a;
        return Promise.resolve((_a = this.cache.get(getCacheKey(prompt, llmKey))) != null ? _a : null);
      }
      async update(prompt, llmKey, value) {
        this.cache.set(getCacheKey(prompt, llmKey), value);
      }
      static global() {
        return new InMemoryCache(GLOBAL_MAP);
      }
    };
  }
});

// node_modules/langchain/dist/llms/base.js
var BaseLLM, LLM;
var init_base7 = __esm({
  "node_modules/langchain/dist/llms/base.js"() {
    init_cache();
    init_schema();
    init_base_language();
    init_manager();
    init_base2();
    BaseLLM = class extends BaseLanguageModel {
      constructor({ cache: cache2, concurrency, ...rest }) {
        super(concurrency ? { maxConcurrency: concurrency, ...rest } : rest);
        Object.defineProperty(this, "cache", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        if (typeof cache2 === "object") {
          this.cache = cache2;
        } else if (cache2) {
          this.cache = InMemoryCache.global();
        } else {
          this.cache = void 0;
        }
      }
      async generatePrompt(promptValues, options, callbacks) {
        const prompts = promptValues.map((promptValue) => promptValue.toString());
        return this.generate(prompts, options, callbacks);
      }
      /**
       * Get the parameters used to invoke the model
       */
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      invocationParams() {
        return {};
      }
      /** @ignore */
      async _generateUncached(prompts, options, callbacks) {
        const callbackManager_ = await CallbackManager.configure(callbacks, this.callbacks, { verbose: this.verbose });
        const invocationParams = { invocation_params: this == null ? void 0 : this.invocationParams() };
        const runManager = await (callbackManager_ == null ? void 0 : callbackManager_.handleLLMStart({ name: this._llmType() }, prompts, void 0, void 0, invocationParams));
        let output;
        try {
          output = await this._generate(prompts, options, runManager);
        } catch (err) {
          await (runManager == null ? void 0 : runManager.handleLLMError(err));
          throw err;
        }
        await (runManager == null ? void 0 : runManager.handleLLMEnd(output));
        Object.defineProperty(output, RUN_KEY, {
          value: runManager ? { runId: runManager == null ? void 0 : runManager.runId } : void 0,
          configurable: true
        });
        return output;
      }
      /**
       * Run the LLM on the given propmts an input, handling caching.
       */
      async generate(prompts, options, callbacks) {
        var _a, _b;
        if (!Array.isArray(prompts)) {
          throw new Error("Argument 'prompts' is expected to be a string[]");
        }
        let parsedOptions;
        if (Array.isArray(options)) {
          parsedOptions = { stop: options };
        } else if ((options == null ? void 0 : options.timeout) && !options.signal) {
          parsedOptions = {
            ...options,
            signal: AbortSignal.timeout(options.timeout)
          };
        } else {
          parsedOptions = options != null ? options : {};
        }
        if (!this.cache) {
          return this._generateUncached(prompts, parsedOptions, callbacks);
        }
        const { cache: cache2 } = this;
        const params = this.serialize();
        params.stop = (_a = parsedOptions.stop) != null ? _a : params.stop;
        const llmStringKey = `${Object.entries(params).sort()}`;
        const missingPromptIndices = [];
        const generations = await Promise.all(prompts.map(async (prompt, index) => {
          const result = await cache2.lookup(prompt, llmStringKey);
          if (!result) {
            missingPromptIndices.push(index);
          }
          return result;
        }));
        let llmOutput = {};
        if (missingPromptIndices.length > 0) {
          const results = await this._generateUncached(missingPromptIndices.map((i) => prompts[i]), parsedOptions, callbacks);
          await Promise.all(results.generations.map(async (generation, index) => {
            const promptIndex = missingPromptIndices[index];
            generations[promptIndex] = generation;
            return cache2.update(prompts[promptIndex], llmStringKey, generation);
          }));
          llmOutput = (_b = results.llmOutput) != null ? _b : {};
        }
        return { generations, llmOutput };
      }
      /**
       * Convenience wrapper for {@link generate} that takes in a single string prompt and returns a single string output.
       */
      async call(prompt, options, callbacks) {
        const { generations } = await this.generate([prompt], options != null ? options : {}, callbacks);
        return generations[0][0].text;
      }
      async predict(text, options, callbacks) {
        return this.call(text, options, callbacks);
      }
      async predictMessages(messages2, options, callbacks) {
        const text = getBufferString(messages2);
        const prediction = await this.call(text, options, callbacks);
        return new AIChatMessage(prediction);
      }
      /**
       * Get the identifying parameters of the LLM.
       */
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      _identifyingParams() {
        return {};
      }
      /**
       * Return a json-like object representing this LLM.
       */
      serialize() {
        return {
          ...this._identifyingParams(),
          _type: this._llmType(),
          _model: this._modelType()
        };
      }
      _modelType() {
        return "base_llm";
      }
      /**
       * Load an LLM from a json-like object describing it.
       */
      static async deserialize(data) {
        const { _type, _model, ...rest } = data;
        if (_model && _model !== "base_llm") {
          throw new Error(`Cannot load LLM with model ${_model}`);
        }
        const Cls = {
          openai: (await Promise.resolve().then(() => (init_openai2(), openai_exports2))).OpenAI
        }[_type];
        if (Cls === void 0) {
          throw new Error(`Cannot load  LLM with type ${_type}`);
        }
        return new Cls(rest);
      }
    };
    LLM = class extends BaseLLM {
      async _generate(prompts, options, runManager) {
        const generations = await Promise.all(prompts.map((prompt) => this._call(prompt, options, runManager).then((text) => [{ text }])));
        return { generations };
      }
    };
  }
});

// node_modules/langchain/dist/llms/openai-chat.js
var import_openai3, OpenAIChat, PromptLayerOpenAIChat;
var init_openai_chat = __esm({
  "node_modules/langchain/dist/llms/openai-chat.js"() {
    import_openai3 = __toESM(require_dist2(), 1);
    init_env();
    init_axios_fetch_adapter();
    init_base7();
    init_prompt_layer();
    OpenAIChat = class extends LLM {
      get callKeys() {
        return ["stop", "signal", "timeout", "options"];
      }
      constructor(fields, configuration) {
        var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;
        super(fields != null ? fields : {});
        Object.defineProperty(this, "temperature", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 1
        });
        Object.defineProperty(this, "topP", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 1
        });
        Object.defineProperty(this, "frequencyPenalty", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 0
        });
        Object.defineProperty(this, "presencePenalty", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 0
        });
        Object.defineProperty(this, "n", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 1
        });
        Object.defineProperty(this, "logitBias", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "maxTokens", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "modelName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "gpt-3.5-turbo"
        });
        Object.defineProperty(this, "prefixMessages", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "modelKwargs", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "timeout", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "stop", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "streaming", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: false
        });
        Object.defineProperty(this, "azureOpenAIApiVersion", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "azureOpenAIApiKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "azureOpenAIApiInstanceName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "azureOpenAIApiDeploymentName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "client", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "clientConfig", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        const apiKey = (_a = fields == null ? void 0 : fields.openAIApiKey) != null ? _a : getEnvironmentVariable("OPENAI_API_KEY");
        const azureApiKey = (_b = fields == null ? void 0 : fields.azureOpenAIApiKey) != null ? _b : getEnvironmentVariable("AZURE_OPENAI_API_KEY");
        if (!azureApiKey && !apiKey) {
          throw new Error("(Azure) OpenAI API key not found");
        }
        const azureApiInstanceName = (_c = fields == null ? void 0 : fields.azureOpenAIApiInstanceName) != null ? _c : getEnvironmentVariable("AZURE_OPENAI_API_INSTANCE_NAME");
        const azureApiDeploymentName = (_d = fields == null ? void 0 : fields.azureOpenAIApiDeploymentName) != null ? _d : getEnvironmentVariable("AZURE_OPENAI_API_DEPLOYMENT_NAME");
        const azureApiVersion = (_e = fields == null ? void 0 : fields.azureOpenAIApiVersion) != null ? _e : getEnvironmentVariable("AZURE_OPENAI_API_VERSION");
        this.modelName = (_f = fields == null ? void 0 : fields.modelName) != null ? _f : this.modelName;
        this.prefixMessages = (_g = fields == null ? void 0 : fields.prefixMessages) != null ? _g : this.prefixMessages;
        this.modelKwargs = (_h = fields == null ? void 0 : fields.modelKwargs) != null ? _h : {};
        this.timeout = fields == null ? void 0 : fields.timeout;
        this.temperature = (_i = fields == null ? void 0 : fields.temperature) != null ? _i : this.temperature;
        this.topP = (_j = fields == null ? void 0 : fields.topP) != null ? _j : this.topP;
        this.frequencyPenalty = (_k = fields == null ? void 0 : fields.frequencyPenalty) != null ? _k : this.frequencyPenalty;
        this.presencePenalty = (_l = fields == null ? void 0 : fields.presencePenalty) != null ? _l : this.presencePenalty;
        this.n = (_m = fields == null ? void 0 : fields.n) != null ? _m : this.n;
        this.logitBias = fields == null ? void 0 : fields.logitBias;
        this.maxTokens = fields == null ? void 0 : fields.maxTokens;
        this.stop = fields == null ? void 0 : fields.stop;
        this.streaming = (_n = fields == null ? void 0 : fields.streaming) != null ? _n : false;
        this.azureOpenAIApiVersion = azureApiVersion;
        this.azureOpenAIApiKey = azureApiKey;
        this.azureOpenAIApiInstanceName = azureApiInstanceName;
        this.azureOpenAIApiDeploymentName = azureApiDeploymentName;
        if (this.streaming && this.n > 1) {
          throw new Error("Cannot stream results when n > 1");
        }
        if (this.azureOpenAIApiKey) {
          if (!this.azureOpenAIApiInstanceName) {
            throw new Error("Azure OpenAI API instance name not found");
          }
          if (!this.azureOpenAIApiDeploymentName) {
            throw new Error("Azure OpenAI API deployment name not found");
          }
          if (!this.azureOpenAIApiVersion) {
            throw new Error("Azure OpenAI API version not found");
          }
        }
        this.clientConfig = {
          apiKey,
          ...configuration
        };
      }
      /**
       * Get the parameters used to invoke the model
       */
      invocationParams() {
        return {
          model: this.modelName,
          temperature: this.temperature,
          top_p: this.topP,
          frequency_penalty: this.frequencyPenalty,
          presence_penalty: this.presencePenalty,
          n: this.n,
          logit_bias: this.logitBias,
          max_tokens: this.maxTokens === -1 ? void 0 : this.maxTokens,
          stop: this.stop,
          stream: this.streaming,
          ...this.modelKwargs
        };
      }
      /** @ignore */
      _identifyingParams() {
        return {
          model_name: this.modelName,
          ...this.invocationParams(),
          ...this.clientConfig
        };
      }
      /**
       * Get the identifying parameters for the model
       */
      identifyingParams() {
        return {
          model_name: this.modelName,
          ...this.invocationParams(),
          ...this.clientConfig
        };
      }
      formatMessages(prompt) {
        const message = {
          role: "user",
          content: prompt
        };
        return this.prefixMessages ? [...this.prefixMessages, message] : [message];
      }
      /** @ignore */
      async _call(prompt, options, runManager) {
        var _a, _b;
        const { stop } = options;
        const params = this.invocationParams();
        params.stop = stop != null ? stop : params.stop;
        const data = params.stream ? await new Promise((resolve, reject) => {
          let response;
          let rejected = false;
          let resolved = false;
          this.completionWithRetry({
            ...params,
            messages: this.formatMessages(prompt)
          }, {
            signal: options.signal,
            ...options.options,
            adapter: fetchAdapter,
            responseType: "stream",
            onmessage: (event) => {
              var _a2, _b2, _c, _d, _e, _f, _g, _h, _i, _j;
              if (((_b2 = (_a2 = event.data) == null ? void 0 : _a2.trim) == null ? void 0 : _b2.call(_a2)) === "[DONE]") {
                if (resolved) {
                  return;
                }
                resolved = true;
                resolve(response);
              } else {
                const message = JSON.parse(event.data);
                if (!response) {
                  response = {
                    id: message.id,
                    object: message.object,
                    created: message.created,
                    model: message.model,
                    choices: []
                  };
                }
                for (const part of message.choices) {
                  if (part != null) {
                    let choice = response.choices.find((c) => c.index === part.index);
                    if (!choice) {
                      choice = {
                        index: part.index,
                        finish_reason: (_c = part.finish_reason) != null ? _c : void 0
                      };
                      response.choices.push(choice);
                    }
                    if (!choice.message) {
                      choice.message = {
                        role: (_d = part.delta) == null ? void 0 : _d.role,
                        content: (_f = (_e = part.delta) == null ? void 0 : _e.content) != null ? _f : ""
                      };
                    }
                    choice.message.content += (_h = (_g = part.delta) == null ? void 0 : _g.content) != null ? _h : "";
                    void (runManager == null ? void 0 : runManager.handleLLMNewToken((_j = (_i = part.delta) == null ? void 0 : _i.content) != null ? _j : ""));
                  }
                }
                if (!resolved && message.choices.every((c) => c.finish_reason != null)) {
                  resolved = true;
                  resolve(response);
                }
              }
            }
          }).catch((error) => {
            if (!rejected) {
              rejected = true;
              reject(error);
            }
          });
        }) : await this.completionWithRetry({
          ...params,
          messages: this.formatMessages(prompt)
        }, {
          signal: options.signal,
          ...options.options
        });
        return (_b = (_a = data.choices[0].message) == null ? void 0 : _a.content) != null ? _b : "";
      }
      /** @ignore */
      async completionWithRetry(request, options) {
        if (!this.client) {
          const endpoint = this.azureOpenAIApiKey ? `https://${this.azureOpenAIApiInstanceName}.openai.azure.com/openai/deployments/${this.azureOpenAIApiDeploymentName}` : this.clientConfig.basePath;
          const clientConfig = new import_openai3.Configuration({
            ...this.clientConfig,
            basePath: endpoint,
            baseOptions: {
              timeout: this.timeout,
              ...this.clientConfig.baseOptions
            }
          });
          this.client = new import_openai3.OpenAIApi(clientConfig);
        }
        const axiosOptions = {
          adapter: isNode() ? void 0 : fetchAdapter,
          ...this.clientConfig.baseOptions,
          ...options
        };
        if (this.azureOpenAIApiKey) {
          axiosOptions.headers = {
            "api-key": this.azureOpenAIApiKey,
            ...axiosOptions.headers
          };
          axiosOptions.params = {
            "api-version": this.azureOpenAIApiVersion,
            ...axiosOptions.params
          };
        }
        return this.caller.call(this.client.createChatCompletion.bind(this.client), request, axiosOptions).then((res) => res.data);
      }
      _llmType() {
        return "openai";
      }
    };
    PromptLayerOpenAIChat = class extends OpenAIChat {
      constructor(fields) {
        var _a, _b, _c;
        super(fields);
        Object.defineProperty(this, "promptLayerApiKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "plTags", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "returnPromptLayerId", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.plTags = (_a = fields == null ? void 0 : fields.plTags) != null ? _a : [];
        this.returnPromptLayerId = (_b = fields == null ? void 0 : fields.returnPromptLayerId) != null ? _b : false;
        this.promptLayerApiKey = (_c = fields == null ? void 0 : fields.promptLayerApiKey) != null ? _c : getEnvironmentVariable("PROMPTLAYER_API_KEY");
        if (!this.promptLayerApiKey) {
          throw new Error("Missing PromptLayer API key");
        }
      }
      async completionWithRetry(request, options) {
        if (request.stream) {
          return super.completionWithRetry(request, options);
        }
        const response = await super.completionWithRetry(request);
        return response;
      }
      async _generate(prompts, options, runManager) {
        let choice;
        const generations = await Promise.all(prompts.map(async (prompt) => {
          const requestStartTime = Date.now();
          const text = await this._call(prompt, options, runManager);
          const requestEndTime = Date.now();
          choice = [{ text }];
          const parsedResp = {
            text
          };
          const promptLayerRespBody = await promptLayerTrackRequest(this.caller, "langchain.PromptLayerOpenAIChat", [prompt], this._identifyingParams(), this.plTags, parsedResp, requestStartTime, requestEndTime, this.promptLayerApiKey);
          if (this.returnPromptLayerId === true && promptLayerRespBody.success === true) {
            choice[0].generationInfo = {
              promptLayerRequestId: promptLayerRespBody.request_id
            };
          }
          return choice;
        }));
        return { generations };
      }
    };
  }
});

// node_modules/langchain/dist/llms/openai.js
var openai_exports2 = {};
__export(openai_exports2, {
  OpenAI: () => OpenAI,
  OpenAIChat: () => OpenAIChat,
  PromptLayerOpenAI: () => PromptLayerOpenAI,
  PromptLayerOpenAIChat: () => PromptLayerOpenAIChat
});
var import_openai4, OpenAI, PromptLayerOpenAI;
var init_openai2 = __esm({
  "node_modules/langchain/dist/llms/openai.js"() {
    import_openai4 = __toESM(require_dist2(), 1);
    init_env();
    init_axios_fetch_adapter();
    init_chunk();
    init_base7();
    init_count_tokens();
    init_openai_chat();
    init_prompt_layer();
    init_openai_chat();
    OpenAI = class extends BaseLLM {
      get callKeys() {
        return ["stop", "signal", "timeout", "options"];
      }
      constructor(fields, configuration) {
        var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s;
        if (((_a = fields == null ? void 0 : fields.modelName) == null ? void 0 : _a.startsWith("gpt-3.5-turbo")) || ((_b = fields == null ? void 0 : fields.modelName) == null ? void 0 : _b.startsWith("gpt-4")) || ((_c = fields == null ? void 0 : fields.modelName) == null ? void 0 : _c.startsWith("gpt-4-32k"))) {
          return new OpenAIChat(fields, configuration);
        }
        super(fields != null ? fields : {});
        Object.defineProperty(this, "temperature", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 0.7
        });
        Object.defineProperty(this, "maxTokens", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 256
        });
        Object.defineProperty(this, "topP", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 1
        });
        Object.defineProperty(this, "frequencyPenalty", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 0
        });
        Object.defineProperty(this, "presencePenalty", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 0
        });
        Object.defineProperty(this, "n", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 1
        });
        Object.defineProperty(this, "bestOf", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 1
        });
        Object.defineProperty(this, "logitBias", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "modelName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: "text-davinci-003"
        });
        Object.defineProperty(this, "modelKwargs", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "batchSize", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: 20
        });
        Object.defineProperty(this, "timeout", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "stop", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "streaming", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: false
        });
        Object.defineProperty(this, "azureOpenAIApiVersion", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "azureOpenAIApiKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "azureOpenAIApiInstanceName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "azureOpenAIApiDeploymentName", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "client", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "clientConfig", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        const apiKey = (_d = fields == null ? void 0 : fields.openAIApiKey) != null ? _d : getEnvironmentVariable("OPENAI_API_KEY");
        const azureApiKey = (_e = fields == null ? void 0 : fields.azureOpenAIApiKey) != null ? _e : getEnvironmentVariable("AZURE_OPENAI_API_KEY");
        if (!azureApiKey && !apiKey) {
          throw new Error("(Azure) OpenAI API key not found");
        }
        const azureApiInstanceName = (_f = fields == null ? void 0 : fields.azureOpenAIApiInstanceName) != null ? _f : getEnvironmentVariable("AZURE_OPENAI_API_INSTANCE_NAME");
        const azureApiDeploymentName = (_g = (fields == null ? void 0 : fields.azureOpenAIApiCompletionsDeploymentName) || (fields == null ? void 0 : fields.azureOpenAIApiDeploymentName)) != null ? _g : getEnvironmentVariable("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME") || getEnvironmentVariable("AZURE_OPENAI_API_DEPLOYMENT_NAME");
        const azureApiVersion = (_h = fields == null ? void 0 : fields.azureOpenAIApiVersion) != null ? _h : getEnvironmentVariable("AZURE_OPENAI_API_VERSION");
        this.modelName = (_i = fields == null ? void 0 : fields.modelName) != null ? _i : this.modelName;
        this.modelKwargs = (_j = fields == null ? void 0 : fields.modelKwargs) != null ? _j : {};
        this.batchSize = (_k = fields == null ? void 0 : fields.batchSize) != null ? _k : this.batchSize;
        this.timeout = fields == null ? void 0 : fields.timeout;
        this.temperature = (_l = fields == null ? void 0 : fields.temperature) != null ? _l : this.temperature;
        this.maxTokens = (_m = fields == null ? void 0 : fields.maxTokens) != null ? _m : this.maxTokens;
        this.topP = (_n = fields == null ? void 0 : fields.topP) != null ? _n : this.topP;
        this.frequencyPenalty = (_o = fields == null ? void 0 : fields.frequencyPenalty) != null ? _o : this.frequencyPenalty;
        this.presencePenalty = (_p = fields == null ? void 0 : fields.presencePenalty) != null ? _p : this.presencePenalty;
        this.n = (_q = fields == null ? void 0 : fields.n) != null ? _q : this.n;
        this.bestOf = (_r = fields == null ? void 0 : fields.bestOf) != null ? _r : this.bestOf;
        this.logitBias = fields == null ? void 0 : fields.logitBias;
        this.stop = fields == null ? void 0 : fields.stop;
        this.streaming = (_s = fields == null ? void 0 : fields.streaming) != null ? _s : false;
        this.azureOpenAIApiVersion = azureApiVersion;
        this.azureOpenAIApiKey = azureApiKey;
        this.azureOpenAIApiInstanceName = azureApiInstanceName;
        this.azureOpenAIApiDeploymentName = azureApiDeploymentName;
        if (this.streaming && this.n > 1) {
          throw new Error("Cannot stream results when n > 1");
        }
        if (this.streaming && this.bestOf > 1) {
          throw new Error("Cannot stream results when bestOf > 1");
        }
        if (this.azureOpenAIApiKey) {
          if (!this.azureOpenAIApiInstanceName) {
            throw new Error("Azure OpenAI API instance name not found");
          }
          if (!this.azureOpenAIApiDeploymentName) {
            throw new Error("Azure OpenAI API deployment name not found");
          }
          if (!this.azureOpenAIApiVersion) {
            throw new Error("Azure OpenAI API version not found");
          }
        }
        this.clientConfig = {
          apiKey,
          ...configuration
        };
      }
      /**
       * Get the parameters used to invoke the model
       */
      invocationParams() {
        return {
          model: this.modelName,
          temperature: this.temperature,
          max_tokens: this.maxTokens,
          top_p: this.topP,
          frequency_penalty: this.frequencyPenalty,
          presence_penalty: this.presencePenalty,
          n: this.n,
          best_of: this.bestOf,
          logit_bias: this.logitBias,
          stop: this.stop,
          stream: this.streaming,
          ...this.modelKwargs
        };
      }
      _identifyingParams() {
        return {
          model_name: this.modelName,
          ...this.invocationParams(),
          ...this.clientConfig
        };
      }
      /**
       * Get the identifying parameters for the model
       */
      identifyingParams() {
        return this._identifyingParams();
      }
      /**
       * Call out to OpenAI's endpoint with k unique prompts
       *
       * @param [prompts] - The prompts to pass into the model.
       * @param [options] - Optional list of stop words to use when generating.
       * @param [runManager] - Optional callback manager to use when generating.
       *
       * @returns The full LLM output.
       *
       * @example
       * ```ts
       * import { OpenAI } from "langchain/llms/openai";
       * const openai = new OpenAI();
       * const response = await openai.generate(["Tell me a joke."]);
       * ```
       */
      async _generate(prompts, options, runManager) {
        var _a, _b, _c, _d;
        const { stop } = options;
        const subPrompts = chunkArray(prompts, this.batchSize);
        const choices = [];
        const tokenUsage = {};
        if (this.stop && stop) {
          throw new Error("Stop found in input and default params");
        }
        const params = this.invocationParams();
        params.stop = stop != null ? stop : params.stop;
        if (params.max_tokens === -1) {
          if (prompts.length !== 1) {
            throw new Error("max_tokens set to -1 not supported for multiple inputs");
          }
          params.max_tokens = await calculateMaxTokens({
            prompt: prompts[0],
            // Cast here to allow for other models that may not fit the union
            modelName: this.modelName
          });
        }
        for (let i = 0; i < subPrompts.length; i += 1) {
          const data = params.stream ? await new Promise((resolve, reject) => {
            const choices2 = [];
            let response;
            let rejected = false;
            let resolved = false;
            this.completionWithRetry({
              ...params,
              prompt: subPrompts[i]
            }, {
              signal: options.signal,
              ...options.options,
              adapter: fetchAdapter,
              responseType: "stream",
              onmessage: (event) => {
                var _a2, _b2, _c2, _d2, _e;
                if (((_b2 = (_a2 = event.data) == null ? void 0 : _a2.trim) == null ? void 0 : _b2.call(_a2)) === "[DONE]") {
                  if (resolved) {
                    return;
                  }
                  resolved = true;
                  resolve({
                    ...response,
                    choices: choices2
                  });
                } else {
                  const message = JSON.parse(event.data);
                  if (!response) {
                    response = {
                      id: message.id,
                      object: message.object,
                      created: message.created,
                      model: message.model
                    };
                  }
                  for (const part of message.choices) {
                    if (part != null && part.index != null) {
                      if (!choices2[part.index])
                        choices2[part.index] = {};
                      const choice = choices2[part.index];
                      choice.text = ((_c2 = choice.text) != null ? _c2 : "") + ((_d2 = part.text) != null ? _d2 : "");
                      choice.finish_reason = part.finish_reason;
                      choice.logprobs = part.logprobs;
                      void (runManager == null ? void 0 : runManager.handleLLMNewToken((_e = part.text) != null ? _e : ""));
                    }
                  }
                  if (!resolved && choices2.every((c) => c.finish_reason != null)) {
                    resolved = true;
                    resolve({
                      ...response,
                      choices: choices2
                    });
                  }
                }
              }
            }).catch((error) => {
              if (!rejected) {
                rejected = true;
                reject(error);
              }
            });
          }) : await this.completionWithRetry({
            ...params,
            prompt: subPrompts[i]
          }, {
            signal: options.signal,
            ...options.options
          });
          choices.push(...data.choices);
          const { completion_tokens: completionTokens, prompt_tokens: promptTokens, total_tokens: totalTokens } = (_a = data.usage) != null ? _a : {};
          if (completionTokens) {
            tokenUsage.completionTokens = ((_b = tokenUsage.completionTokens) != null ? _b : 0) + completionTokens;
          }
          if (promptTokens) {
            tokenUsage.promptTokens = ((_c = tokenUsage.promptTokens) != null ? _c : 0) + promptTokens;
          }
          if (totalTokens) {
            tokenUsage.totalTokens = ((_d = tokenUsage.totalTokens) != null ? _d : 0) + totalTokens;
          }
        }
        const generations = chunkArray(choices, this.n).map((promptChoices) => promptChoices.map((choice) => {
          var _a2;
          return {
            text: (_a2 = choice.text) != null ? _a2 : "",
            generationInfo: {
              finishReason: choice.finish_reason,
              logprobs: choice.logprobs
            }
          };
        }));
        return {
          generations,
          llmOutput: { tokenUsage }
        };
      }
      /** @ignore */
      async completionWithRetry(request, options) {
        if (!this.client) {
          const endpoint = this.azureOpenAIApiKey ? `https://${this.azureOpenAIApiInstanceName}.openai.azure.com/openai/deployments/${this.azureOpenAIApiDeploymentName}` : this.clientConfig.basePath;
          const clientConfig = new import_openai4.Configuration({
            ...this.clientConfig,
            basePath: endpoint,
            baseOptions: {
              timeout: this.timeout,
              ...this.clientConfig.baseOptions
            }
          });
          this.client = new import_openai4.OpenAIApi(clientConfig);
        }
        const axiosOptions = {
          adapter: isNode() ? void 0 : fetchAdapter,
          ...this.clientConfig.baseOptions,
          ...options
        };
        if (this.azureOpenAIApiKey) {
          axiosOptions.headers = {
            "api-key": this.azureOpenAIApiKey,
            ...axiosOptions.headers
          };
          axiosOptions.params = {
            "api-version": this.azureOpenAIApiVersion,
            ...axiosOptions.params
          };
        }
        return this.caller.call(this.client.createCompletion.bind(this.client), request, axiosOptions).then((res) => res.data);
      }
      _llmType() {
        return "openai";
      }
    };
    PromptLayerOpenAI = class extends OpenAI {
      constructor(fields) {
        var _a, _b;
        super(fields);
        Object.defineProperty(this, "promptLayerApiKey", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "plTags", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        Object.defineProperty(this, "returnPromptLayerId", {
          enumerable: true,
          configurable: true,
          writable: true,
          value: void 0
        });
        this.plTags = (_a = fields == null ? void 0 : fields.plTags) != null ? _a : [];
        this.promptLayerApiKey = (_b = fields == null ? void 0 : fields.promptLayerApiKey) != null ? _b : getEnvironmentVariable("PROMPTLAYER_API_KEY");
        this.returnPromptLayerId = fields == null ? void 0 : fields.returnPromptLayerId;
        if (!this.promptLayerApiKey) {
          throw new Error("Missing PromptLayer API key");
        }
      }
      async completionWithRetry(request, options) {
        if (request.stream) {
          return super.completionWithRetry(request, options);
        }
        const response = await super.completionWithRetry(request);
        return response;
      }
      async _generate(prompts, options, runManager) {
        const requestStartTime = Date.now();
        const generations = await super._generate(prompts, options, runManager);
        for (let i = 0; i < generations.generations.length; i += 1) {
          const requestEndTime = Date.now();
          const parsedResp = {
            text: generations.generations[i][0].text,
            llm_output: generations.llmOutput
          };
          const promptLayerRespBody = await promptLayerTrackRequest(this.caller, "langchain.PromptLayerOpenAI", [prompts[i]], this._identifyingParams(), this.plTags, parsedResp, requestStartTime, requestEndTime, this.promptLayerApiKey);
          let promptLayerRequestId;
          if (this.returnPromptLayerId === true) {
            if (promptLayerRespBody && promptLayerRespBody.success === true) {
              promptLayerRequestId = promptLayerRespBody.request_id;
            }
            generations.generations[i][0].generationInfo = {
              ...generations.generations[i][0].generationInfo,
              promptLayerRequestId
            };
          }
        }
        return generations;
      }
    };
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => VoiceLiner
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// node_modules/langchain/dist/chains/index.js
init_base5();
init_llm_chain();
init_api_chain();

// node_modules/langchain/dist/chains/conversation.js
init_llm_chain();
init_prompt();

// node_modules/langchain/dist/memory/buffer_memory.js
init_base2();

// node_modules/langchain/dist/memory/chat_memory.js
init_base2();

// node_modules/langchain/dist/stores/message/in_memory.js
init_schema();

// node_modules/langchain/dist/chains/index.js
init_sequential_chain();
init_combine_docs_chain();

// node_modules/langchain/dist/chains/chat_vector_db_chain.js
init_prompt();
init_base5();
init_llm_chain();
init_load();

// node_modules/langchain/dist/chains/analyze_documents_chain.js
init_base5();

// node_modules/langchain/dist/text_splitter.js
init_document();
init_tiktoken();

// node_modules/langchain/dist/chains/index.js
init_vector_db_qa();
init_load();

// node_modules/langchain/dist/chains/summarization/load.js
init_llm_chain();
init_combine_docs_chain();

// node_modules/langchain/dist/chains/summarization/stuff_prompts.js
init_prompt();

// node_modules/langchain/dist/chains/summarization/refine_prompts.js
init_prompt();

// node_modules/langchain/dist/chains/sql_db/sql_db_prompt.js
init_prompt();

// node_modules/langchain/dist/chains/sql_db/sql_db_chain.js
init_base5();
init_llm_chain();
init_base_language();
init_count_tokens();

// node_modules/langchain/dist/chains/conversational_retrieval_chain.js
init_prompt();
init_base5();
init_llm_chain();
init_load();

// node_modules/langchain/dist/chains/retrieval_qa.js
init_base5();
init_load();

// node_modules/langchain/dist/chains/constitutional_ai/constitutional_chain.js
init_base5();
init_llm_chain();

// node_modules/langchain/dist/chains/constitutional_ai/constitutional_prompts.js
init_few_shot();
init_prompt();

// node_modules/langchain/dist/chains/openai_moderation.js
var import_openai2 = __toESM(require_dist2(), 1);
init_base5();
init_axios_fetch_adapter();
init_async_caller();
init_env();

// node_modules/langchain/dist/chains/router/multi_route.js
init_base5();

// node_modules/langchain/dist/chains/router/llm_router.js
init_llm_chain();

// node_modules/langchain/dist/chains/router/multi_prompt.js
init_template();
init_llm_chain();
init_prompt();

// node_modules/langchain/dist/output_parsers/structured.js
var import_zod_to_json_schema = __toESM(require_zod_to_json_schema(), 1);

// node_modules/langchain/dist/chains/router/multi_retrieval_qa.js
init_template();
init_prompt();

// node_modules/langchain/llms/openai.js
init_openai2();

// node_modules/langchain/prompts.js
init_prompts();

// main.ts
var DEFAULT_SETTINGS = {
  openAIKey: "default"
};
var VoiceLiner = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    console.log("loading VoiceLiner");
    this.addCommand({
      id: "transcribe-current-recording",
      name: "Transcribe Current Recording",
      callback: this.processCurrentRecording.bind(this)
    });
    this.addCommand({
      id: "transcribe-all-recordings",
      name: "Transcribe All Recordings",
      callback: this.processAllRecordings.bind(this)
    });
    this.addCommand({
      id: "transcribe-and-summarize-current-recording",
      name: "Transcribe and Summarize Current Recording",
      callback: this.processAndSummarizeCurrentRecording.bind(this)
    });
    this.addSettingTab(new VoiceLinerSettingTab(this.app, this));
  }
  async onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async summarize(transcribed_text) {
    console.log("Summarizing the text:", transcribed_text);
    const template = `Assistant is a large language model trained by OpenAI.

		Assistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.

		Assistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.

		Overall, Assistant is a powerful tool that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.

		Assistant is aware that human input is being transcribed from audio and as such there may be some errors in the transcription. It will attempt to account for some words being swapped with similar-sounding words or phrases. Assistant will also keep responses concise, because human attention spans are more limited over the audio channel since it takes time to listen to a response.

		Please assess and arrange them as bullet points.

		Human: {human_input}

		Assistant:`;
    const prompt = new PromptTemplate({ template, inputVariables: ["human_input"] });
    const model = new OpenAI({ openAIApiKey: this.settings.openAIKey, temperature: 0 });
    const chain = new LLMChain({ llm: model, prompt });
    const summary_text = await chain.call({ human_input: transcribed_text });
    this.createNote(summary_text.text);
  }
  async transcribeAudio(fileBinary, summarize = false) {
    console.log("Transcribing audio...");
    const endpoint = "https://api.openai.com/v1/audio/transcriptions";
    const apiKey = this.settings.openAIKey;
    if (apiKey === "default") {
      new import_obsidian.Notice("Open AI Key not set. Please set it in the settings.");
      return;
    } else {
      const formData = new FormData();
      formData.append("file", new Blob([fileBinary]), "audio.webm");
      formData.append("model", "whisper-1");
      const response = await fetch(endpoint, {
        method: "POST",
        headers: {
          Authorization: `Bearer ${apiKey}`
        },
        body: formData
      });
      if (response.ok) {
        const result = await response.json();
        console.log("Transcription complete:", result);
        if (result.text) {
          if (summarize) {
            this.summarize(result.text);
          } else {
            this.createNote(result.text);
          }
        }
      } else {
        console.error(
          "Transcription failed:",
          response.status,
          response.statusText
        );
      }
    }
  }
  async processCurrentRecording() {
    const activeFile = this.app.workspace.getActiveFile();
    if (activeFile) {
      try {
        console.log("Processing file:", activeFile.name);
        const fileBinary = await this.app.vault.readBinary(activeFile);
        this.transcribeAudio(fileBinary, false);
      } catch (error) {
        console.error(`Error processing file: ${activeFile.name}`, error);
      }
    }
  }
  async processAndSummarizeCurrentRecording() {
    const activeFile = this.app.workspace.getActiveFile();
    if (activeFile) {
      try {
        console.log("Processing file:", activeFile.name);
        const fileBinary = await this.app.vault.readBinary(activeFile);
        this.transcribeAudio(fileBinary, true);
      } catch (error) {
        console.error(`Error processing file: ${activeFile.name}`, error);
      }
    }
  }
  async processAllRecordings() {
    const files = this.app.vault.getFiles();
    for (const file of files) {
      const extension = file.path.split(".").pop();
      if (extension === "webm") {
        console.log("found webm file");
        try {
          const fileBinary = await this.app.vault.readBinary(file);
          this.transcribeAudio(fileBinary);
        } catch (error) {
          console.error(`Error processing file: ${file.name}`, error);
        }
      }
    }
  }
  async createNote(content_body) {
    const currentDate = new Date();
    const timestamp = currentDate.getTime();
    console.log("Current date and time:", currentDate);
    console.log("Timestamp:", timestamp);
    const title = `Transcribed Note ${timestamp}`;
    const content = content_body;
    try {
      console.log("Creating Note");
      const newFile = await this.app.vault.create(`${title}.md`, content);
      if (newFile instanceof import_obsidian.TFile) {
        new import_obsidian.Notice(`Note "${newFile.basename}" created successfully.`);
      } else {
        new import_obsidian.Notice("Failed to create the note.");
      }
      console.log("note created");
    } catch (error) {
      new import_obsidian.Notice("An error occurred while creating the note.");
      console.error(error);
    }
  }
};
var VoiceLinerSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for Voice Liner" });
    new import_obsidian.Setting(containerEl).setName("1. Open AI Key").setDesc(
      "You'll find the key at https://platform.openai.com/account/api-keys"
    ).addText(
      (text) => text.setPlaceholder("Enter your secret").setValue(this.plugin.settings.openAIKey).onChange(async (value) => {
        this.plugin.settings.openAIKey = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3NjaGVtYS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25hdGl2ZS5qcyIsICJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwgIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NhbGxiYWNrcy9iYXNlLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vbm9kZV9tb2R1bGVzL2Fuc2ktc3R5bGVzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvaGFuZGxlcnMvdHJhY2VyLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvaGFuZGxlcnMvY29uc29sZS5qcyIsICJub2RlX21vZHVsZXMvcmV0cnkvbGliL3JldHJ5X29wZXJhdGlvbi5qcyIsICJub2RlX21vZHVsZXMvcmV0cnkvbGliL3JldHJ5LmpzIiwgIm5vZGVfbW9kdWxlcy9yZXRyeS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvcC1yZXRyeS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvcC1maW5hbGx5L2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9wLXRpbWVvdXQvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL3AtcXVldWUvZGlzdC9sb3dlci1ib3VuZC5qcyIsICJub2RlX21vZHVsZXMvcC1xdWV1ZS9kaXN0L3ByaW9yaXR5LXF1ZXVlLmpzIiwgIm5vZGVfbW9kdWxlcy9wLXF1ZXVlL2Rpc3QvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3V0aWwvYXN5bmNfY2FsbGVyLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC91dGlsL2Vudi5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FsbGJhY2tzL2hhbmRsZXJzL3RyYWNlcl9sYW5nY2hhaW4uanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L21lbW9yeS9iYXNlLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWxsYmFja3MvaGFuZGxlcnMvdHJhY2VyX2xhbmdjaGFpbl92MS5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2FsbGJhY2tzL2hhbmRsZXJzL2luaXRpYWxpemUuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NhbGxiYWNrcy9tYW5hZ2VyLmpzIiwgIm5vZGVfbW9kdWxlcy9qcy10aWt0b2tlbi9kaXN0L2NodW5rLVhYUEdaSFdaLmpzIiwgIm5vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2pzLXRpa3Rva2VuL2Rpc3QvY2h1bmstSE9ST0RENVAuanMiLCAibm9kZV9tb2R1bGVzL2pzLXRpa3Rva2VuL2Rpc3QvbGl0ZS5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC90aWt0b2tlbi5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvYmFzZV9sYW5ndWFnZS9jb3VudF90b2tlbnMuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMvdHJhbnNpdGlvbmFsLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9jcmVhdGVFcnJvci5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvYnVpbGRGdWxsUGF0aC5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvbWVyZ2VDb25maWcuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9lbnYvZGF0YS5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdmFsaWRhdG9yLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvcy5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWxUb2tlbi5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwgIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0F4aW9zRXJyb3IuanMiLCAibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9heGlvcy5qcyIsICJub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9kaXN0L2Jhc2UuanMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9kaXN0L2NvbW1vbi5qcyIsICJub2RlX21vZHVsZXMvb3BlbmFpL2Rpc3QvYXBpLmpzIiwgIm5vZGVfbW9kdWxlcy9vcGVuYWkvcGFja2FnZS5qc29uIiwgIm5vZGVfbW9kdWxlcy9mb3JtLWRhdGEvbGliL2Jyb3dzZXIuanMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9kaXN0L2NvbmZpZ3VyYXRpb24uanMiLCAibm9kZV9tb2R1bGVzL29wZW5haS9kaXN0L2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC91dGlsL2V2ZW50LXNvdXJjZS1wYXJzZS5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC9heGlvcy1mZXRjaC1hZGFwdGVyLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGF0X21vZGVscy9iYXNlLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC91dGlsL3Byb21wdC1sYXllci5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhdF9tb2RlbHMvb3BlbmFpLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9iYXNlX2xhbmd1YWdlL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9wcm9tcHRzL3RlbXBsYXRlLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9wcm9tcHRzL3Byb21wdC5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy9mZXdfc2hvdC5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy9iYXNlLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvbGxtX2NoYWluLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC91dGlsL3NldC5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3NlcXVlbnRpYWxfY2hhaW4uanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9jb21iaW5lX2RvY3NfY2hhaW4uanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3Byb21wdHMvY2hhdC5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy9zZWxlY3RvcnMvY29uZGl0aW9uYWwuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9xdWVzdGlvbl9hbnN3ZXJpbmcvc3R1ZmZfcHJvbXB0cy5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9tYXBfcmVkdWNlX3Byb21wdHMuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3Byb21wdHMvc2VsZWN0b3JzL0xlbmd0aEJhc2VkRXhhbXBsZVNlbGVjdG9yLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9kb2N1bWVudC5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvcHJvbXB0cy9zZWxlY3RvcnMvU2VtYW50aWNTaW1pbGFyaXR5RXhhbXBsZVNlbGVjdG9yLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9wcm9tcHRzL3BpcGVsaW5lLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9wcm9tcHRzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvcXVlc3Rpb25fYW5zd2VyaW5nL3JlZmluZV9wcm9tcHRzLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvcXVlc3Rpb25fYW5zd2VyaW5nL2xvYWQuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy92ZWN0b3JfZGJfcWEuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9hcGkvcHJvbXB0cy5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2FwaS9hcGlfY2hhaW4uanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9iYXNlLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvdXRpbC5qcyIsICJub2RlX21vZHVsZXMvem9kL2xpYi9ab2RFcnJvci5qcyIsICJub2RlX21vZHVsZXMvem9kL2xpYi9sb2NhbGVzL2VuLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QvbGliL2Vycm9ycy5qcyIsICJub2RlX21vZHVsZXMvem9kL2xpYi9oZWxwZXJzL3BhcnNlVXRpbC5qcyIsICJub2RlX21vZHVsZXMvem9kL2xpYi9oZWxwZXJzL3R5cGVBbGlhc2VzLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvZXJyb3JVdGlsLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QvbGliL3R5cGVzLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QvbGliL2V4dGVybmFsLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QvbGliL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvYW55LmpzIiwgIm5vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL2Vycm9yTWVzc2FnZXMuanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9hcnJheS5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2JpZ2ludC5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2Jvb2xlYW4uanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9icmFuZGVkLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvY2F0Y2guanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9kYXRlLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvZGVmYXVsdC5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL2VmZmVjdHMuanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9lbnVtLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvaW50ZXJzZWN0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvbGl0ZXJhbC5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL21hcC5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL25hdGl2ZUVudW0uanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9uZXZlci5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL251bGwuanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy91bmlvbi5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL251bGxhYmxlLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvbnVtYmVyLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvb2JqZWN0LmpzIiwgIm5vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3BhcnNlcnMvb3B0aW9uYWwuanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9waXBlbGluZS5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3Byb21pc2UuanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9zdHJpbmcuanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9yZWNvcmQuanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy9zZXQuanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2Vycy90dXBsZS5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3VuZGVmaW5lZC5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9wYXJzZXJzL3Vua25vd24uanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvcGFyc2VEZWYuanMiLCAibm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9zcmMvT3B0aW9ucy5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL3NyYy9SZWZzLmpzIiwgIm5vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvc3JjL3pvZFRvSnNvblNjaGVtYS5qcyIsICJub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC91dGlsL2NodW5rLmpzIiwgIm5vZGVfbW9kdWxlcy9vYmplY3QtaGFzaC9kaXN0L29iamVjdF9oYXNoLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWNoZS9iYXNlLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jYWNoZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvbGxtcy9iYXNlLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9sbG1zL29wZW5haS1jaGF0LmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9sbG1zL29wZW5haS5qcyIsICJtYWluLnRzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9jb252ZXJzYXRpb24uanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L21lbW9yeS9idWZmZXJfbWVtb3J5LmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9tZW1vcnkvY2hhdF9tZW1vcnkuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3N0b3Jlcy9tZXNzYWdlL2luX21lbW9yeS5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2NoYXRfdmVjdG9yX2RiX2NoYWluLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvYW5hbHl6ZV9kb2N1bWVudHNfY2hhaW4uanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3RleHRfc3BsaXR0ZXIuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9zdW1tYXJpemF0aW9uL2xvYWQuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9zdW1tYXJpemF0aW9uL3N0dWZmX3Byb21wdHMuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9zdW1tYXJpemF0aW9uL3JlZmluZV9wcm9tcHRzLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvc3FsX2RiL3NxbF9kYl9wcm9tcHQuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9zcWxfZGIvc3FsX2RiX2NoYWluLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvY29udmVyc2F0aW9uYWxfcmV0cmlldmFsX2NoYWluLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvcmV0cmlldmFsX3FhLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvY29uc3RpdHV0aW9uYWxfYWkvY29uc3RpdHV0aW9uYWxfY2hhaW4uanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9jb25zdGl0dXRpb25hbF9haS9jb25zdGl0dXRpb25hbF9wcm9tcHRzLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvb3BlbmFpX21vZGVyYXRpb24uanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9yb3V0ZXIvbXVsdGlfcm91dGUuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9yb3V0ZXIvbGxtX3JvdXRlci5qcyIsICJub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3JvdXRlci9tdWx0aV9wcm9tcHQuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L291dHB1dF9wYXJzZXJzL3N0cnVjdHVyZWQuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9yb3V0ZXIvbXVsdGlfcmV0cmlldmFsX3FhLmpzIiwgIm5vZGVfbW9kdWxlcy9sYW5nY2hhaW4vbGxtcy9vcGVuYWkuanMiLCAibm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9wcm9tcHRzLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJleHBvcnQgY29uc3QgUlVOX0tFWSA9IFwiX19ydW5cIjtcbmV4cG9ydCBjbGFzcyBCYXNlQ2hhdE1lc3NhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHRleHQpIHtcbiAgICAgICAgLyoqIFRoZSB0ZXh0IG9mIHRoZSBtZXNzYWdlLiAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKiBUaGUgbmFtZSBvZiB0aGUgbWVzc2FnZSBzZW5kZXIgaW4gYSBtdWx0aS11c2VyIGNoYXQuICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdGhpcy5fZ2V0VHlwZSgpLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMudGV4dCxcbiAgICAgICAgICAgICAgICByb2xlOiBcInJvbGVcIiBpbiB0aGlzID8gdGhpcy5yb2xlIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSHVtYW5DaGF0TWVzc2FnZSBleHRlbmRzIEJhc2VDaGF0TWVzc2FnZSB7XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImh1bWFuXCI7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFJQ2hhdE1lc3NhZ2UgZXh0ZW5kcyBCYXNlQ2hhdE1lc3NhZ2Uge1xuICAgIF9nZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJhaVwiO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTeXN0ZW1DaGF0TWVzc2FnZSBleHRlbmRzIEJhc2VDaGF0TWVzc2FnZSB7XG4gICAgX2dldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInN5c3RlbVwiO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGF0TWVzc2FnZSBleHRlbmRzIEJhc2VDaGF0TWVzc2FnZSB7XG4gICAgY29uc3RydWN0b3IodGV4dCwgcm9sZSkge1xuICAgICAgICBzdXBlcih0ZXh0KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicm9sZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJvbGUgPSByb2xlO1xuICAgIH1cbiAgICBfZ2V0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiZ2VuZXJpY1wiO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBQcm9tcHRWYWx1ZSBjbGFzcy4gQWxsIHByb21wdCB2YWx1ZXMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZVByb21wdFZhbHVlIHtcbn1cbi8qKlxuICogQmFzZSBJbmRleCBjbGFzcy4gQWxsIGluZGV4ZXMgc2hvdWxkIGV4dGVuZCB0aGlzIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZVJldHJpZXZlciB7XG59XG5leHBvcnQgY2xhc3MgQmFzZUNoYXRNZXNzYWdlSGlzdG9yeSB7XG59XG5leHBvcnQgY2xhc3MgQmFzZUxpc3RDaGF0TWVzc2FnZUhpc3Rvcnkge1xuICAgIGFkZFVzZXJNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTWVzc2FnZShuZXcgSHVtYW5DaGF0TWVzc2FnZShtZXNzYWdlKSk7XG4gICAgfVxuICAgIGFkZEFJQ2hhdE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRNZXNzYWdlKG5ldyBBSUNoYXRNZXNzYWdlKG1lc3NhZ2UpKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmFzZUNhY2hlIHtcbn1cbmV4cG9ydCBjbGFzcyBCYXNlRmlsZVN0b3JlIHtcbn1cbmV4cG9ydCBjbGFzcyBCYXNlRW50aXR5U3RvcmUge1xufVxuIiwgIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxubGV0IGdldFJhbmRvbVZhbHVlcztcbmNvbnN0IHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwgImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG5jb25zdCBieXRlVG9IZXggPSBbXTtcblxuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc2xpY2UoMSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICAvLyBOb3RlOiBCZSBjYXJlZnVsIGVkaXRpbmcgdGhpcyBjb2RlISAgSXQncyBiZWVuIHR1bmVkIGZvciBwZXJmb3JtYW5jZVxuICAvLyBhbmQgd29ya3MgaW4gd2F5cyB5b3UgbWF5IG5vdCBleHBlY3QuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC80MzRcbiAgcmV0dXJuIChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICBjb25zdCB1dWlkID0gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0KTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiLCAiY29uc3QgcmFuZG9tVVVJRCA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEICYmIGNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmFuZG9tVVVJRFxufTsiLCAiaW1wb3J0IG5hdGl2ZSBmcm9tICcuL25hdGl2ZS5qcyc7XG5pbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgaWYgKG5hdGl2ZS5yYW5kb21VVUlEICYmICFidWYgJiYgIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmF0aXZlLnJhbmRvbVVVSUQoKTtcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7IiwgImV4cG9ydCB7IGRlZmF1bHQgYXMgdjEgfSBmcm9tICcuL3YxLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjMgfSBmcm9tICcuL3YzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjQgfSBmcm9tICcuL3Y0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjUgfSBmcm9tICcuL3Y1LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTklMIH0gZnJvbSAnLi9uaWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmFsaWRhdGUgfSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwYXJzZSB9IGZyb20gJy4vcGFyc2UuanMnOyIsICJpbXBvcnQgKiBhcyB1dWlkIGZyb20gXCJ1dWlkXCI7XG5jbGFzcyBCYXNlQ2FsbGJhY2tIYW5kbGVyTWV0aG9kc0NsYXNzIHtcbn1cbmV4cG9ydCBjbGFzcyBCYXNlQ2FsbGJhY2tIYW5kbGVyIGV4dGVuZHMgQmFzZUNhbGxiYWNrSGFuZGxlck1ldGhvZHNDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaWdub3JlTExNXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaWdub3JlQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZ25vcmVBZ2VudFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5pZ25vcmVMTE0gPSBpbnB1dC5pZ25vcmVMTE0gPz8gdGhpcy5pZ25vcmVMTE07XG4gICAgICAgICAgICB0aGlzLmlnbm9yZUNoYWluID0gaW5wdXQuaWdub3JlQ2hhaW4gPz8gdGhpcy5pZ25vcmVDaGFpbjtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlQWdlbnQgPSBpbnB1dC5pZ25vcmVBZ2VudCA/PyB0aGlzLmlnbm9yZUFnZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvcHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21NZXRob2RzKG1ldGhvZHMpIHtcbiAgICAgICAgY2xhc3MgSGFuZGxlciBleHRlbmRzIEJhc2VDYWxsYmFja0hhbmRsZXIge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHV1aWQudjQoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgbWV0aG9kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBIYW5kbGVyKCk7XG4gICAgfVxufVxuIiwgIid1c2Ugc3RyaWN0JztcblxuY29uc3QgQU5TSV9CQUNLR1JPVU5EX09GRlNFVCA9IDEwO1xuXG5jb25zdCB3cmFwQW5zaTI1NiA9IChvZmZzZXQgPSAwKSA9PiBjb2RlID0+IGBcXHUwMDFCWyR7MzggKyBvZmZzZXR9OzU7JHtjb2RlfW1gO1xuXG5jb25zdCB3cmFwQW5zaTE2bSA9IChvZmZzZXQgPSAwKSA9PiAocmVkLCBncmVlbiwgYmx1ZSkgPT4gYFxcdTAwMUJbJHszOCArIG9mZnNldH07Mjske3JlZH07JHtncmVlbn07JHtibHVlfW1gO1xuXG5mdW5jdGlvbiBhc3NlbWJsZVN0eWxlcygpIHtcblx0Y29uc3QgY29kZXMgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IHN0eWxlcyA9IHtcblx0XHRtb2RpZmllcjoge1xuXHRcdFx0cmVzZXQ6IFswLCAwXSxcblx0XHRcdC8vIDIxIGlzbid0IHdpZGVseSBzdXBwb3J0ZWQgYW5kIDIyIGRvZXMgdGhlIHNhbWUgdGhpbmdcblx0XHRcdGJvbGQ6IFsxLCAyMl0sXG5cdFx0XHRkaW06IFsyLCAyMl0sXG5cdFx0XHRpdGFsaWM6IFszLCAyM10sXG5cdFx0XHR1bmRlcmxpbmU6IFs0LCAyNF0sXG5cdFx0XHRvdmVybGluZTogWzUzLCA1NV0sXG5cdFx0XHRpbnZlcnNlOiBbNywgMjddLFxuXHRcdFx0aGlkZGVuOiBbOCwgMjhdLFxuXHRcdFx0c3RyaWtldGhyb3VnaDogWzksIDI5XVxuXHRcdH0sXG5cdFx0Y29sb3I6IHtcblx0XHRcdGJsYWNrOiBbMzAsIDM5XSxcblx0XHRcdHJlZDogWzMxLCAzOV0sXG5cdFx0XHRncmVlbjogWzMyLCAzOV0sXG5cdFx0XHR5ZWxsb3c6IFszMywgMzldLFxuXHRcdFx0Ymx1ZTogWzM0LCAzOV0sXG5cdFx0XHRtYWdlbnRhOiBbMzUsIDM5XSxcblx0XHRcdGN5YW46IFszNiwgMzldLFxuXHRcdFx0d2hpdGU6IFszNywgMzldLFxuXG5cdFx0XHQvLyBCcmlnaHQgY29sb3Jcblx0XHRcdGJsYWNrQnJpZ2h0OiBbOTAsIDM5XSxcblx0XHRcdHJlZEJyaWdodDogWzkxLCAzOV0sXG5cdFx0XHRncmVlbkJyaWdodDogWzkyLCAzOV0sXG5cdFx0XHR5ZWxsb3dCcmlnaHQ6IFs5MywgMzldLFxuXHRcdFx0Ymx1ZUJyaWdodDogWzk0LCAzOV0sXG5cdFx0XHRtYWdlbnRhQnJpZ2h0OiBbOTUsIDM5XSxcblx0XHRcdGN5YW5CcmlnaHQ6IFs5NiwgMzldLFxuXHRcdFx0d2hpdGVCcmlnaHQ6IFs5NywgMzldXG5cdFx0fSxcblx0XHRiZ0NvbG9yOiB7XG5cdFx0XHRiZ0JsYWNrOiBbNDAsIDQ5XSxcblx0XHRcdGJnUmVkOiBbNDEsIDQ5XSxcblx0XHRcdGJnR3JlZW46IFs0MiwgNDldLFxuXHRcdFx0YmdZZWxsb3c6IFs0MywgNDldLFxuXHRcdFx0YmdCbHVlOiBbNDQsIDQ5XSxcblx0XHRcdGJnTWFnZW50YTogWzQ1LCA0OV0sXG5cdFx0XHRiZ0N5YW46IFs0NiwgNDldLFxuXHRcdFx0YmdXaGl0ZTogWzQ3LCA0OV0sXG5cblx0XHRcdC8vIEJyaWdodCBjb2xvclxuXHRcdFx0YmdCbGFja0JyaWdodDogWzEwMCwgNDldLFxuXHRcdFx0YmdSZWRCcmlnaHQ6IFsxMDEsIDQ5XSxcblx0XHRcdGJnR3JlZW5CcmlnaHQ6IFsxMDIsIDQ5XSxcblx0XHRcdGJnWWVsbG93QnJpZ2h0OiBbMTAzLCA0OV0sXG5cdFx0XHRiZ0JsdWVCcmlnaHQ6IFsxMDQsIDQ5XSxcblx0XHRcdGJnTWFnZW50YUJyaWdodDogWzEwNSwgNDldLFxuXHRcdFx0YmdDeWFuQnJpZ2h0OiBbMTA2LCA0OV0sXG5cdFx0XHRiZ1doaXRlQnJpZ2h0OiBbMTA3LCA0OV1cblx0XHR9XG5cdH07XG5cblx0Ly8gQWxpYXMgYnJpZ2h0IGJsYWNrIGFzIGdyYXkgKGFuZCBncmV5KVxuXHRzdHlsZXMuY29sb3IuZ3JheSA9IHN0eWxlcy5jb2xvci5ibGFja0JyaWdodDtcblx0c3R5bGVzLmJnQ29sb3IuYmdHcmF5ID0gc3R5bGVzLmJnQ29sb3IuYmdCbGFja0JyaWdodDtcblx0c3R5bGVzLmNvbG9yLmdyZXkgPSBzdHlsZXMuY29sb3IuYmxhY2tCcmlnaHQ7XG5cdHN0eWxlcy5iZ0NvbG9yLmJnR3JleSA9IHN0eWxlcy5iZ0NvbG9yLmJnQmxhY2tCcmlnaHQ7XG5cblx0Zm9yIChjb25zdCBbZ3JvdXBOYW1lLCBncm91cF0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVzKSkge1xuXHRcdGZvciAoY29uc3QgW3N0eWxlTmFtZSwgc3R5bGVdIG9mIE9iamVjdC5lbnRyaWVzKGdyb3VwKSkge1xuXHRcdFx0c3R5bGVzW3N0eWxlTmFtZV0gPSB7XG5cdFx0XHRcdG9wZW46IGBcXHUwMDFCWyR7c3R5bGVbMF19bWAsXG5cdFx0XHRcdGNsb3NlOiBgXFx1MDAxQlske3N0eWxlWzFdfW1gXG5cdFx0XHR9O1xuXG5cdFx0XHRncm91cFtzdHlsZU5hbWVdID0gc3R5bGVzW3N0eWxlTmFtZV07XG5cblx0XHRcdGNvZGVzLnNldChzdHlsZVswXSwgc3R5bGVbMV0pO1xuXHRcdH1cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsIGdyb3VwTmFtZSwge1xuXHRcdFx0dmFsdWU6IGdyb3VwLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9KTtcblx0fVxuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdHlsZXMsICdjb2RlcycsIHtcblx0XHR2YWx1ZTogY29kZXMsXG5cdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0fSk7XG5cblx0c3R5bGVzLmNvbG9yLmNsb3NlID0gJ1xcdTAwMUJbMzltJztcblx0c3R5bGVzLmJnQ29sb3IuY2xvc2UgPSAnXFx1MDAxQls0OW0nO1xuXG5cdHN0eWxlcy5jb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoKTtcblx0c3R5bGVzLmNvbG9yLmFuc2kxNm0gPSB3cmFwQW5zaTE2bSgpO1xuXHRzdHlsZXMuYmdDb2xvci5hbnNpMjU2ID0gd3JhcEFuc2kyNTYoQU5TSV9CQUNLR1JPVU5EX09GRlNFVCk7XG5cdHN0eWxlcy5iZ0NvbG9yLmFuc2kxNm0gPSB3cmFwQW5zaTE2bShBTlNJX0JBQ0tHUk9VTkRfT0ZGU0VUKTtcblxuXHQvLyBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9RaXgtL2NvbG9yLWNvbnZlcnQvYmxvYi8zZjBlMGQ0ZTkyZTIzNTc5NmNjYjE3ZjZlODVjNzIwOTRhNjUxZjQ5L2NvbnZlcnNpb25zLmpzXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHN0eWxlcywge1xuXHRcdHJnYlRvQW5zaTI1Njoge1xuXHRcdFx0dmFsdWU6IChyZWQsIGdyZWVuLCBibHVlKSA9PiB7XG5cdFx0XHRcdC8vIFdlIHVzZSB0aGUgZXh0ZW5kZWQgZ3JleXNjYWxlIHBhbGV0dGUgaGVyZSwgd2l0aCB0aGUgZXhjZXB0aW9uIG9mXG5cdFx0XHRcdC8vIGJsYWNrIGFuZCB3aGl0ZS4gbm9ybWFsIHBhbGV0dGUgb25seSBoYXMgNCBncmV5c2NhbGUgc2hhZGVzLlxuXHRcdFx0XHRpZiAocmVkID09PSBncmVlbiAmJiBncmVlbiA9PT0gYmx1ZSkge1xuXHRcdFx0XHRcdGlmIChyZWQgPCA4KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gMTY7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHJlZCA+IDI0OCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIDIzMTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gTWF0aC5yb3VuZCgoKHJlZCAtIDgpIC8gMjQ3KSAqIDI0KSArIDIzMjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiAxNiArXG5cdFx0XHRcdFx0KDM2ICogTWF0aC5yb3VuZChyZWQgLyAyNTUgKiA1KSkgK1xuXHRcdFx0XHRcdCg2ICogTWF0aC5yb3VuZChncmVlbiAvIDI1NSAqIDUpKSArXG5cdFx0XHRcdFx0TWF0aC5yb3VuZChibHVlIC8gMjU1ICogNSk7XG5cdFx0XHR9LFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9LFxuXHRcdGhleFRvUmdiOiB7XG5cdFx0XHR2YWx1ZTogaGV4ID0+IHtcblx0XHRcdFx0Y29uc3QgbWF0Y2hlcyA9IC8oPzxjb2xvclN0cmluZz5bYS1mXFxkXXs2fXxbYS1mXFxkXXszfSkvaS5leGVjKGhleC50b1N0cmluZygxNikpO1xuXHRcdFx0XHRpZiAoIW1hdGNoZXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gWzAsIDAsIDBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IHtjb2xvclN0cmluZ30gPSBtYXRjaGVzLmdyb3VwcztcblxuXHRcdFx0XHRpZiAoY29sb3JTdHJpbmcubGVuZ3RoID09PSAzKSB7XG5cdFx0XHRcdFx0Y29sb3JTdHJpbmcgPSBjb2xvclN0cmluZy5zcGxpdCgnJykubWFwKGNoYXJhY3RlciA9PiBjaGFyYWN0ZXIgKyBjaGFyYWN0ZXIpLmpvaW4oJycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgaW50ZWdlciA9IE51bWJlci5wYXJzZUludChjb2xvclN0cmluZywgMTYpO1xuXG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0KGludGVnZXIgPj4gMTYpICYgMHhGRixcblx0XHRcdFx0XHQoaW50ZWdlciA+PiA4KSAmIDB4RkYsXG5cdFx0XHRcdFx0aW50ZWdlciAmIDB4RkZcblx0XHRcdFx0XTtcblx0XHRcdH0sXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZVxuXHRcdH0sXG5cdFx0aGV4VG9BbnNpMjU2OiB7XG5cdFx0XHR2YWx1ZTogaGV4ID0+IHN0eWxlcy5yZ2JUb0Fuc2kyNTYoLi4uc3R5bGVzLmhleFRvUmdiKGhleCkpLFxuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2Vcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbi8vIE1ha2UgdGhlIGV4cG9ydCBpbW11dGFibGVcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsICdleHBvcnRzJywge1xuXHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRnZXQ6IGFzc2VtYmxlU3R5bGVzXG59KTtcbiIsICJpbXBvcnQgeyBCYXNlQ2FsbGJhY2tIYW5kbGVyIH0gZnJvbSBcIi4uL2Jhc2UuanNcIjtcbmV4cG9ydCBjbGFzcyBCYXNlVHJhY2VyIGV4dGVuZHMgQmFzZUNhbGxiYWNrSGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJ1bk1hcFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IE1hcCgpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb3B5KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2FkZENoaWxkUnVuKHBhcmVudFJ1biwgY2hpbGRSdW4pIHtcbiAgICAgICAgcGFyZW50UnVuLmNoaWxkX3J1bnMucHVzaChjaGlsZFJ1bik7XG4gICAgfVxuICAgIF9zdGFydFRyYWNlKHJ1bikge1xuICAgICAgICBpZiAocnVuLnBhcmVudF9ydW5faWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50UnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bi5wYXJlbnRfcnVuX2lkKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRSdW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRDaGlsZFJ1bihwYXJlbnRSdW4sIHJ1bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ydW5NYXAuc2V0KHJ1bi5pZCwgcnVuKTtcbiAgICB9XG4gICAgYXN5bmMgX2VuZFRyYWNlKHJ1bikge1xuICAgICAgICBjb25zdCBwYXJlbnRSdW4gPSBydW4ucGFyZW50X3J1bl9pZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucnVuTWFwLmdldChydW4ucGFyZW50X3J1bl9pZCk7XG4gICAgICAgIGlmIChwYXJlbnRSdW4pIHtcbiAgICAgICAgICAgIHBhcmVudFJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIgPSBNYXRoLm1heChwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyLCBydW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGVyc2lzdFJ1bihydW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucnVuTWFwLmRlbGV0ZShydW4uaWQpO1xuICAgIH1cbiAgICBfZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50UnVuID0gcGFyZW50UnVuSWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnJ1bk1hcC5nZXQocGFyZW50UnVuSWQpO1xuICAgICAgICAvLyBJZiBhIHJ1biBoYXMgbm8gcGFyZW50IHRoZW4gZXhlY3V0aW9uIG9yZGVyIGlzIDFcbiAgICAgICAgaWYgKCFwYXJlbnRSdW4pIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyICsgMTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlTExNU3RhcnQobGxtLCBwcm9tcHRzLCBydW5JZCwgcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcbiAgICAgICAgY29uc3QgcnVuID0ge1xuICAgICAgICAgICAgaWQ6IHJ1bklkLFxuICAgICAgICAgICAgbmFtZTogbGxtLm5hbWUsXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICBzZXJpYWxpemVkOiBsbG0sXG4gICAgICAgICAgICBpbnB1dHM6IHsgcHJvbXB0cyB9LFxuICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcImxsbVwiLFxuICAgICAgICAgICAgZXh0cmE6IGV4dHJhUGFyYW1zLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zdGFydFRyYWNlKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25MTE1TdGFydD8uKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYXRNb2RlbFN0YXJ0KGxsbSwgbWVzc2FnZXMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMpIHtcbiAgICAgICAgY29uc3QgZXhlY3V0aW9uX29yZGVyID0gdGhpcy5fZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpO1xuICAgICAgICBjb25zdCBydW4gPSB7XG4gICAgICAgICAgICBpZDogcnVuSWQsXG4gICAgICAgICAgICBuYW1lOiBsbG0ubmFtZSxcbiAgICAgICAgICAgIHBhcmVudF9ydW5faWQ6IHBhcmVudFJ1bklkLFxuICAgICAgICAgICAgc3RhcnRfdGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQ6IGxsbSxcbiAgICAgICAgICAgIGlucHV0czogeyBtZXNzYWdlcyB9LFxuICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcImxsbVwiLFxuICAgICAgICAgICAgZXh0cmE6IGV4dHJhUGFyYW1zLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zdGFydFRyYWNlKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25MTE1TdGFydD8uKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUxMTUVuZChvdXRwdXQsIHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwibGxtXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIExMTSBydW4gdG8gZW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4ub3V0cHV0cyA9IG91dHB1dDtcbiAgICAgICAgYXdhaXQgdGhpcy5vbkxMTUVuZD8uKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUxMTUVycm9yKGVycm9yLCBydW5JZCkge1xuICAgICAgICBjb25zdCBydW4gPSB0aGlzLnJ1bk1hcC5nZXQocnVuSWQpO1xuICAgICAgICBpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcImxsbVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBMTE0gcnVuIHRvIGVuZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcnVuLmVycm9yID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgYXdhaXQgdGhpcy5vbkxMTUVycm9yPy4ocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlQ2hhaW5TdGFydChjaGFpbiwgaW5wdXRzLCBydW5JZCwgcGFyZW50UnVuSWQpIHtcbiAgICAgICAgY29uc3QgZXhlY3V0aW9uX29yZGVyID0gdGhpcy5fZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpO1xuICAgICAgICBjb25zdCBydW4gPSB7XG4gICAgICAgICAgICBpZDogcnVuSWQsXG4gICAgICAgICAgICBuYW1lOiBjaGFpbi5uYW1lLFxuICAgICAgICAgICAgcGFyZW50X3J1bl9pZDogcGFyZW50UnVuSWQsXG4gICAgICAgICAgICBzdGFydF90aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgc2VyaWFsaXplZDogY2hhaW4sXG4gICAgICAgICAgICBpbnB1dHMsXG4gICAgICAgICAgICBleGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcImNoYWluXCIsXG4gICAgICAgICAgICBjaGlsZF9ydW5zOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fc3RhcnRUcmFjZShydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLm9uQ2hhaW5TdGFydD8uKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRW5kKG91dHB1dHMsIHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwiY2hhaW5cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY2hhaW4gcnVuIHRvIGVuZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcnVuLmVuZF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcnVuLm91dHB1dHMgPSBvdXRwdXRzO1xuICAgICAgICBhd2FpdCB0aGlzLm9uQ2hhaW5FbmQ/LihydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDaGFpbkVycm9yKGVycm9yLCBydW5JZCkge1xuICAgICAgICBjb25zdCBydW4gPSB0aGlzLnJ1bk1hcC5nZXQocnVuSWQpO1xuICAgICAgICBpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcImNoYWluXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNoYWluIHJ1biB0byBlbmQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJ1bi5lcnJvciA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgIGF3YWl0IHRoaXMub25DaGFpbkVycm9yPy4ocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlVG9vbFN0YXJ0KHRvb2wsIGlucHV0LCBydW5JZCwgcGFyZW50UnVuSWQpIHtcbiAgICAgICAgY29uc3QgZXhlY3V0aW9uX29yZGVyID0gdGhpcy5fZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpO1xuICAgICAgICBjb25zdCBydW4gPSB7XG4gICAgICAgICAgICBpZDogcnVuSWQsXG4gICAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICBzZXJpYWxpemVkOiB0b29sLFxuICAgICAgICAgICAgaW5wdXRzOiB7IGlucHV0IH0sXG4gICAgICAgICAgICBleGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IGV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHJ1bl90eXBlOiBcInRvb2xcIixcbiAgICAgICAgICAgIGNoaWxkX3J1bnM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zdGFydFRyYWNlKHJ1bik7XG4gICAgICAgIGF3YWl0IHRoaXMub25Ub29sU3RhcnQ/LihydW4pO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUb29sRW5kKG91dHB1dCwgcnVuSWQpIHtcbiAgICAgICAgY29uc3QgcnVuID0gdGhpcy5ydW5NYXAuZ2V0KHJ1bklkKTtcbiAgICAgICAgaWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJ0b29sXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHRvb2wgcnVuIHRvIGVuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBydW4ub3V0cHV0cyA9IHsgb3V0cHV0IH07XG4gICAgICAgIGF3YWl0IHRoaXMub25Ub29sRW5kPy4ocnVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlVG9vbEVycm9yKGVycm9yLCBydW5JZCkge1xuICAgICAgICBjb25zdCBydW4gPSB0aGlzLnJ1bk1hcC5nZXQocnVuSWQpO1xuICAgICAgICBpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcInRvb2xcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdG9vbCBydW4gdG8gZW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJ1bi5lcnJvciA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgIGF3YWl0IHRoaXMub25Ub29sRXJyb3I/LihydW4pO1xuICAgICAgICBhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVBZ2VudEFjdGlvbihhY3Rpb24sIHJ1bklkKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG4gICAgICAgIGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwiY2hhaW5cIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFnZW50UnVuID0gcnVuO1xuICAgICAgICBhZ2VudFJ1bi5hY3Rpb25zID0gYWdlbnRSdW4uYWN0aW9ucyB8fCBbXTtcbiAgICAgICAgYWdlbnRSdW4uYWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgICAgIGF3YWl0IHRoaXMub25BZ2VudEFjdGlvbj8uKHJ1bik7XG4gICAgfVxufVxuIiwgImltcG9ydCBzdHlsZXMgZnJvbSBcImFuc2ktc3R5bGVzXCI7XG5pbXBvcnQgeyBCYXNlVHJhY2VyIH0gZnJvbSBcIi4vdHJhY2VyLmpzXCI7XG5mdW5jdGlvbiB3cmFwKHN0eWxlLCB0ZXh0KSB7XG4gICAgcmV0dXJuIGAke3N0eWxlLm9wZW59JHt0ZXh0fSR7c3R5bGUuY2xvc2V9YDtcbn1cbmZ1bmN0aW9uIHRyeUpzb25TdHJpbmdpZnkob2JqLCBmYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICB9XG59XG5mdW5jdGlvbiBlbGFwc2VkKHJ1bikge1xuICAgIGlmICghcnVuLmVuZF90aW1lKVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICBjb25zdCBlbGFwc2VkID0gcnVuLmVuZF90aW1lIC0gcnVuLnN0YXJ0X3RpbWU7XG4gICAgaWYgKGVsYXBzZWQgPCAxMDAwKSB7XG4gICAgICAgIHJldHVybiBgJHtlbGFwc2VkfW1zYDtcbiAgICB9XG4gICAgcmV0dXJuIGAkeyhlbGFwc2VkIC8gMTAwMCkudG9GaXhlZCgyKX1zYDtcbn1cbmNvbnN0IHsgY29sb3IgfSA9IHN0eWxlcztcbmV4cG9ydCBjbGFzcyBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyIGV4dGVuZHMgQmFzZVRyYWNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiY29uc29sZV9jYWxsYmFja19oYW5kbGVyXCJcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBlcnNpc3RSdW4oX3J1bikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIC8vIHV0aWxpdHkgbWV0aG9kc1xuICAgIGdldFBhcmVudHMocnVuKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnRSdW4gPSBydW47XG4gICAgICAgIHdoaWxlIChjdXJyZW50UnVuLnBhcmVudF9ydW5faWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucnVuTWFwLmdldChjdXJyZW50UnVuLnBhcmVudF9ydW5faWQpO1xuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRSdW4gPSBwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50cztcbiAgICB9XG4gICAgZ2V0QnJlYWRjcnVtYnMocnVuKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSB0aGlzLmdldFBhcmVudHMocnVuKS5yZXZlcnNlKCk7XG4gICAgICAgIGNvbnN0IHN0cmluZyA9IFsuLi5wYXJlbnRzLCBydW5dXG4gICAgICAgICAgICAubWFwKChwYXJlbnQsIGksIGFycikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke3BhcmVudC5leGVjdXRpb25fb3JkZXJ9OiR7cGFyZW50LnJ1bl90eXBlfToke3BhcmVudC5uYW1lfWA7XG4gICAgICAgICAgICByZXR1cm4gaSA9PT0gYXJyLmxlbmd0aCAtIDEgPyB3cmFwKHN0eWxlcy5ib2xkLCBuYW1lKSA6IG5hbWU7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbihcIiA+IFwiKTtcbiAgICAgICAgcmV0dXJuIHdyYXAoY29sb3IuZ3JleSwgc3RyaW5nKTtcbiAgICB9XG4gICAgLy8gbG9nZ2luZyBtZXRob2RzXG4gICAgb25DaGFpblN0YXJ0KHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW2NoYWluL3N0YXJ0XVwiKX0gWyR7Y3J1bWJzfV0gRW50ZXJpbmcgQ2hhaW4gcnVuIHdpdGggaW5wdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uaW5wdXRzLCBcIltpbnB1dHNdXCIpfWApO1xuICAgIH1cbiAgICBvbkNoYWluRW5kKHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuY3lhbiwgXCJbY2hhaW4vZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBDaGFpbiBydW4gd2l0aCBvdXRwdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4ub3V0cHV0cywgXCJbb3V0cHV0c11cIil9YCk7XG4gICAgfVxuICAgIG9uQ2hhaW5FcnJvcihydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbY2hhaW4vZXJyb3JdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBDaGFpbiBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG4gICAgfVxuICAgIG9uTExNU3RhcnQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0gXCJwcm9tcHRzXCIgaW4gcnVuLmlucHV0c1xuICAgICAgICAgICAgPyB7IHByb21wdHM6IHJ1bi5pbnB1dHMucHJvbXB0cy5tYXAoKHApID0+IHAudHJpbSgpKSB9XG4gICAgICAgICAgICA6IHJ1bi5pbnB1dHM7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW2xsbS9zdGFydF1cIil9IFske2NydW1ic31dIEVudGVyaW5nIExMTSBydW4gd2l0aCBpbnB1dDogJHt0cnlKc29uU3RyaW5naWZ5KGlucHV0cywgXCJbaW5wdXRzXVwiKX1gKTtcbiAgICB9XG4gICAgb25MTE1FbmQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7d3JhcChjb2xvci5jeWFuLCBcIltsbG0vZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBMTE0gcnVuIHdpdGggb3V0cHV0OiAke3RyeUpzb25TdHJpbmdpZnkocnVuLm91dHB1dHMsIFwiW3Jlc3BvbnNlXVwiKX1gKTtcbiAgICB9XG4gICAgb25MTE1FcnJvcihydW4pIHtcbiAgICAgICAgY29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLnJlZCwgXCJbbGxtL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gTExNIHJ1biBlcnJvcmVkIHdpdGggZXJyb3I6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uZXJyb3IsIFwiW2Vycm9yXVwiKX1gKTtcbiAgICB9XG4gICAgb25Ub29sU3RhcnQocnVuKSB7XG4gICAgICAgIGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7d3JhcChjb2xvci5ncmVlbiwgXCJbdG9vbC9zdGFydF1cIil9IFske2NydW1ic31dIEVudGVyaW5nIFRvb2wgcnVuIHdpdGggaW5wdXQ6IFwiJHtydW4uaW5wdXRzLmlucHV0Py50cmltKCl9XCJgKTtcbiAgICB9XG4gICAgb25Ub29sRW5kKHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuY3lhbiwgXCJbdG9vbC9lbmRdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBFeGl0aW5nIFRvb2wgcnVuIHdpdGggb3V0cHV0OiBcIiR7cnVuLm91dHB1dHM/Lm91dHB1dD8udHJpbSgpfVwiYCk7XG4gICAgfVxuICAgIG9uVG9vbEVycm9yKHJ1bikge1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IucmVkLCBcIlt0b29sL2Vycm9yXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gVG9vbCBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG4gICAgfVxuICAgIG9uQWdlbnRBY3Rpb24ocnVuKSB7XG4gICAgICAgIGNvbnN0IGFnZW50UnVuID0gcnVuO1xuICAgICAgICBjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuYmx1ZSwgXCJbYWdlbnQvYWN0aW9uXVwiKX0gWyR7Y3J1bWJzfV0gQWdlbnQgc2VsZWN0ZWQgYWN0aW9uOiAke3RyeUpzb25TdHJpbmdpZnkoYWdlbnRSdW4uYWN0aW9uc1thZ2VudFJ1bi5hY3Rpb25zLmxlbmd0aCAtIDFdLCBcIlthY3Rpb25dXCIpfWApO1xuICAgIH1cbn1cbiIsICJmdW5jdGlvbiBSZXRyeU9wZXJhdGlvbih0aW1lb3V0cywgb3B0aW9ucykge1xuICAvLyBDb21wYXRpYmlsaXR5IGZvciB0aGUgb2xkICh0aW1lb3V0cywgcmV0cnlGb3JldmVyKSBzaWduYXR1cmVcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zID0geyBmb3JldmVyOiBvcHRpb25zIH07XG4gIH1cblxuICB0aGlzLl9vcmlnaW5hbFRpbWVvdXRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aW1lb3V0cykpO1xuICB0aGlzLl90aW1lb3V0cyA9IHRpbWVvdXRzO1xuICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdGhpcy5fbWF4UmV0cnlUaW1lID0gb3B0aW9ucyAmJiBvcHRpb25zLm1heFJldHJ5VGltZSB8fCBJbmZpbml0eTtcbiAgdGhpcy5fZm4gPSBudWxsO1xuICB0aGlzLl9lcnJvcnMgPSBbXTtcbiAgdGhpcy5fYXR0ZW1wdHMgPSAxO1xuICB0aGlzLl9vcGVyYXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgdGhpcy5fb3BlcmF0aW9uVGltZW91dENiID0gbnVsbDtcbiAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gIHRoaXMuX29wZXJhdGlvblN0YXJ0ID0gbnVsbDtcbiAgdGhpcy5fdGltZXIgPSBudWxsO1xuXG4gIGlmICh0aGlzLl9vcHRpb25zLmZvcmV2ZXIpIHtcbiAgICB0aGlzLl9jYWNoZWRUaW1lb3V0cyA9IHRoaXMuX3RpbWVvdXRzLnNsaWNlKDApO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IFJldHJ5T3BlcmF0aW9uO1xuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fYXR0ZW1wdHMgPSAxO1xuICB0aGlzLl90aW1lb3V0cyA9IHRoaXMuX29yaWdpbmFsVGltZW91dHMuc2xpY2UoMCk7XG59XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICB9XG4gIGlmICh0aGlzLl90aW1lcikge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gIH1cblxuICB0aGlzLl90aW1lb3V0cyAgICAgICA9IFtdO1xuICB0aGlzLl9jYWNoZWRUaW1lb3V0cyA9IG51bGw7XG59O1xuXG5SZXRyeU9wZXJhdGlvbi5wcm90b3R5cGUucmV0cnkgPSBmdW5jdGlvbihlcnIpIHtcbiAgaWYgKHRoaXMuX3RpbWVvdXQpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gIH1cblxuICBpZiAoIWVycikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgaWYgKGVyciAmJiBjdXJyZW50VGltZSAtIHRoaXMuX29wZXJhdGlvblN0YXJ0ID49IHRoaXMuX21heFJldHJ5VGltZSkge1xuICAgIHRoaXMuX2Vycm9ycy5wdXNoKGVycik7XG4gICAgdGhpcy5fZXJyb3JzLnVuc2hpZnQobmV3IEVycm9yKCdSZXRyeU9wZXJhdGlvbiB0aW1lb3V0IG9jY3VycmVkJykpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRoaXMuX2Vycm9ycy5wdXNoKGVycik7XG5cbiAgdmFyIHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0cy5zaGlmdCgpO1xuICBpZiAodGltZW91dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlZFRpbWVvdXRzKSB7XG4gICAgICAvLyByZXRyeSBmb3JldmVyLCBvbmx5IGtlZXAgbGFzdCBlcnJvclxuICAgICAgdGhpcy5fZXJyb3JzLnNwbGljZSgwLCB0aGlzLl9lcnJvcnMubGVuZ3RoIC0gMSk7XG4gICAgICB0aW1lb3V0ID0gdGhpcy5fY2FjaGVkVGltZW91dHMuc2xpY2UoLTEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5fYXR0ZW1wdHMrKztcblxuICAgIGlmIChzZWxmLl9vcGVyYXRpb25UaW1lb3V0Q2IpIHtcbiAgICAgIHNlbGYuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLl9vcGVyYXRpb25UaW1lb3V0Q2Ioc2VsZi5fYXR0ZW1wdHMpO1xuICAgICAgfSwgc2VsZi5fb3BlcmF0aW9uVGltZW91dCk7XG5cbiAgICAgIGlmIChzZWxmLl9vcHRpb25zLnVucmVmKSB7XG4gICAgICAgICAgc2VsZi5fdGltZW91dC51bnJlZigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYuX2ZuKHNlbGYuX2F0dGVtcHRzKTtcbiAgfSwgdGltZW91dCk7XG5cbiAgaWYgKHRoaXMuX29wdGlvbnMudW5yZWYpIHtcbiAgICAgIHRoaXMuX3RpbWVyLnVucmVmKCk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5hdHRlbXB0ID0gZnVuY3Rpb24oZm4sIHRpbWVvdXRPcHMpIHtcbiAgdGhpcy5fZm4gPSBmbjtcblxuICBpZiAodGltZW91dE9wcykge1xuICAgIGlmICh0aW1lb3V0T3BzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMuX29wZXJhdGlvblRpbWVvdXQgPSB0aW1lb3V0T3BzLnRpbWVvdXQ7XG4gICAgfVxuICAgIGlmICh0aW1lb3V0T3BzLmNiKSB7XG4gICAgICB0aGlzLl9vcGVyYXRpb25UaW1lb3V0Q2IgPSB0aW1lb3V0T3BzLmNiO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKHRoaXMuX29wZXJhdGlvblRpbWVvdXRDYikge1xuICAgIHRoaXMuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5fb3BlcmF0aW9uVGltZW91dENiKCk7XG4gICAgfSwgc2VsZi5fb3BlcmF0aW9uVGltZW91dCk7XG4gIH1cblxuICB0aGlzLl9vcGVyYXRpb25TdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gIHRoaXMuX2ZuKHRoaXMuX2F0dGVtcHRzKTtcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS50cnkgPSBmdW5jdGlvbihmbikge1xuICBjb25zb2xlLmxvZygnVXNpbmcgUmV0cnlPcGVyYXRpb24udHJ5KCkgaXMgZGVwcmVjYXRlZCcpO1xuICB0aGlzLmF0dGVtcHQoZm4pO1xufTtcblxuUmV0cnlPcGVyYXRpb24ucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oZm4pIHtcbiAgY29uc29sZS5sb2coJ1VzaW5nIFJldHJ5T3BlcmF0aW9uLnN0YXJ0KCkgaXMgZGVwcmVjYXRlZCcpO1xuICB0aGlzLmF0dGVtcHQoZm4pO1xufTtcblxuUmV0cnlPcGVyYXRpb24ucHJvdG90eXBlLnN0YXJ0ID0gUmV0cnlPcGVyYXRpb24ucHJvdG90eXBlLnRyeTtcblxuUmV0cnlPcGVyYXRpb24ucHJvdG90eXBlLmVycm9ycyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fZXJyb3JzO1xufTtcblxuUmV0cnlPcGVyYXRpb24ucHJvdG90eXBlLmF0dGVtcHRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9hdHRlbXB0cztcbn07XG5cblJldHJ5T3BlcmF0aW9uLnByb3RvdHlwZS5tYWluRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuX2Vycm9ycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBjb3VudHMgPSB7fTtcbiAgdmFyIG1haW5FcnJvciA9IG51bGw7XG4gIHZhciBtYWluRXJyb3JDb3VudCA9IDA7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9lcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZXJyb3IgPSB0aGlzLl9lcnJvcnNbaV07XG4gICAgdmFyIG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgIHZhciBjb3VudCA9IChjb3VudHNbbWVzc2FnZV0gfHwgMCkgKyAxO1xuXG4gICAgY291bnRzW21lc3NhZ2VdID0gY291bnQ7XG5cbiAgICBpZiAoY291bnQgPj0gbWFpbkVycm9yQ291bnQpIHtcbiAgICAgIG1haW5FcnJvciA9IGVycm9yO1xuICAgICAgbWFpbkVycm9yQ291bnQgPSBjb3VudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWFpbkVycm9yO1xufTtcbiIsICJ2YXIgUmV0cnlPcGVyYXRpb24gPSByZXF1aXJlKCcuL3JldHJ5X29wZXJhdGlvbicpO1xuXG5leHBvcnRzLm9wZXJhdGlvbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdmFyIHRpbWVvdXRzID0gZXhwb3J0cy50aW1lb3V0cyhvcHRpb25zKTtcbiAgcmV0dXJuIG5ldyBSZXRyeU9wZXJhdGlvbih0aW1lb3V0cywge1xuICAgICAgZm9yZXZlcjogb3B0aW9ucyAmJiAob3B0aW9ucy5mb3JldmVyIHx8IG9wdGlvbnMucmV0cmllcyA9PT0gSW5maW5pdHkpLFxuICAgICAgdW5yZWY6IG9wdGlvbnMgJiYgb3B0aW9ucy51bnJlZixcbiAgICAgIG1heFJldHJ5VGltZTogb3B0aW9ucyAmJiBvcHRpb25zLm1heFJldHJ5VGltZVxuICB9KTtcbn07XG5cbmV4cG9ydHMudGltZW91dHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICByZXR1cm4gW10uY29uY2F0KG9wdGlvbnMpO1xuICB9XG5cbiAgdmFyIG9wdHMgPSB7XG4gICAgcmV0cmllczogMTAsXG4gICAgZmFjdG9yOiAyLFxuICAgIG1pblRpbWVvdXQ6IDEgKiAxMDAwLFxuICAgIG1heFRpbWVvdXQ6IEluZmluaXR5LFxuICAgIHJhbmRvbWl6ZTogZmFsc2VcbiAgfTtcbiAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHtcbiAgICBvcHRzW2tleV0gPSBvcHRpb25zW2tleV07XG4gIH1cblxuICBpZiAob3B0cy5taW5UaW1lb3V0ID4gb3B0cy5tYXhUaW1lb3V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtaW5UaW1lb3V0IGlzIGdyZWF0ZXIgdGhhbiBtYXhUaW1lb3V0Jyk7XG4gIH1cblxuICB2YXIgdGltZW91dHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRzLnJldHJpZXM7IGkrKykge1xuICAgIHRpbWVvdXRzLnB1c2godGhpcy5jcmVhdGVUaW1lb3V0KGksIG9wdHMpKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZm9yZXZlciAmJiAhdGltZW91dHMubGVuZ3RoKSB7XG4gICAgdGltZW91dHMucHVzaCh0aGlzLmNyZWF0ZVRpbWVvdXQoaSwgb3B0cykpO1xuICB9XG5cbiAgLy8gc29ydCB0aGUgYXJyYXkgbnVtZXJpY2FsbHkgYXNjZW5kaW5nXG4gIHRpbWVvdXRzLnNvcnQoZnVuY3Rpb24oYSxiKSB7XG4gICAgcmV0dXJuIGEgLSBiO1xuICB9KTtcblxuICByZXR1cm4gdGltZW91dHM7XG59O1xuXG5leHBvcnRzLmNyZWF0ZVRpbWVvdXQgPSBmdW5jdGlvbihhdHRlbXB0LCBvcHRzKSB7XG4gIHZhciByYW5kb20gPSAob3B0cy5yYW5kb21pemUpXG4gICAgPyAoTWF0aC5yYW5kb20oKSArIDEpXG4gICAgOiAxO1xuXG4gIHZhciB0aW1lb3V0ID0gTWF0aC5yb3VuZChyYW5kb20gKiBNYXRoLm1heChvcHRzLm1pblRpbWVvdXQsIDEpICogTWF0aC5wb3cob3B0cy5mYWN0b3IsIGF0dGVtcHQpKTtcbiAgdGltZW91dCA9IE1hdGgubWluKHRpbWVvdXQsIG9wdHMubWF4VGltZW91dCk7XG5cbiAgcmV0dXJuIHRpbWVvdXQ7XG59O1xuXG5leHBvcnRzLndyYXAgPSBmdW5jdGlvbihvYmosIG9wdGlvbnMsIG1ldGhvZHMpIHtcbiAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIG1ldGhvZHMgPSBvcHRpb25zO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG5cbiAgaWYgKCFtZXRob2RzKSB7XG4gICAgbWV0aG9kcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbWV0aG9kcy5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG1ldGhvZCAgID0gbWV0aG9kc1tpXTtcbiAgICB2YXIgb3JpZ2luYWwgPSBvYmpbbWV0aG9kXTtcblxuICAgIG9ialttZXRob2RdID0gZnVuY3Rpb24gcmV0cnlXcmFwcGVyKG9yaWdpbmFsKSB7XG4gICAgICB2YXIgb3AgICAgICAgPSBleHBvcnRzLm9wZXJhdGlvbihvcHRpb25zKTtcbiAgICAgIHZhciBhcmdzICAgICA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuXG4gICAgICBhcmdzLnB1c2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChvcC5yZXRyeShlcnIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBhcmd1bWVudHNbMF0gPSBvcC5tYWluRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSk7XG5cbiAgICAgIG9wLmF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIG9yaWdpbmFsLmFwcGx5KG9iaiwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9LmJpbmQob2JqLCBvcmlnaW5hbCk7XG4gICAgb2JqW21ldGhvZF0ub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbn07XG4iLCAibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9yZXRyeScpOyIsICIndXNlIHN0cmljdCc7XG5jb25zdCByZXRyeSA9IHJlcXVpcmUoJ3JldHJ5Jyk7XG5cbmNvbnN0IG5ldHdvcmtFcnJvck1zZ3MgPSBbXG5cdCdGYWlsZWQgdG8gZmV0Y2gnLCAvLyBDaHJvbWVcblx0J05ldHdvcmtFcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gZmV0Y2ggcmVzb3VyY2UuJywgLy8gRmlyZWZveFxuXHQnVGhlIEludGVybmV0IGNvbm5lY3Rpb24gYXBwZWFycyB0byBiZSBvZmZsaW5lLicsIC8vIFNhZmFyaVxuXHQnTmV0d29yayByZXF1ZXN0IGZhaWxlZCcgLy8gYGNyb3NzLWZldGNoYFxuXTtcblxuY2xhc3MgQWJvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSkge1xuXHRcdHN1cGVyKCk7XG5cblx0XHRpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHR0aGlzLm9yaWdpbmFsRXJyb3IgPSBtZXNzYWdlO1xuXHRcdFx0KHttZXNzYWdlfSA9IG1lc3NhZ2UpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm9yaWdpbmFsRXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdFx0XHR0aGlzLm9yaWdpbmFsRXJyb3Iuc3RhY2sgPSB0aGlzLnN0YWNrO1xuXHRcdH1cblxuXHRcdHRoaXMubmFtZSA9ICdBYm9ydEVycm9yJztcblx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHR9XG59XG5cbmNvbnN0IGRlY29yYXRlRXJyb3JXaXRoQ291bnRzID0gKGVycm9yLCBhdHRlbXB0TnVtYmVyLCBvcHRpb25zKSA9PiB7XG5cdC8vIE1pbnVzIDEgZnJvbSBhdHRlbXB0TnVtYmVyIGJlY2F1c2UgdGhlIGZpcnN0IGF0dGVtcHQgZG9lcyBub3QgY291bnQgYXMgYSByZXRyeVxuXHRjb25zdCByZXRyaWVzTGVmdCA9IG9wdGlvbnMucmV0cmllcyAtIChhdHRlbXB0TnVtYmVyIC0gMSk7XG5cblx0ZXJyb3IuYXR0ZW1wdE51bWJlciA9IGF0dGVtcHROdW1iZXI7XG5cdGVycm9yLnJldHJpZXNMZWZ0ID0gcmV0cmllc0xlZnQ7XG5cdHJldHVybiBlcnJvcjtcbn07XG5cbmNvbnN0IGlzTmV0d29ya0Vycm9yID0gZXJyb3JNZXNzYWdlID0+IG5ldHdvcmtFcnJvck1zZ3MuaW5jbHVkZXMoZXJyb3JNZXNzYWdlKTtcblxuY29uc3QgcFJldHJ5ID0gKGlucHV0LCBvcHRpb25zKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdG9wdGlvbnMgPSB7XG5cdFx0b25GYWlsZWRBdHRlbXB0OiAoKSA9PiB7fSxcblx0XHRyZXRyaWVzOiAxMCxcblx0XHQuLi5vcHRpb25zXG5cdH07XG5cblx0Y29uc3Qgb3BlcmF0aW9uID0gcmV0cnkub3BlcmF0aW9uKG9wdGlvbnMpO1xuXG5cdG9wZXJhdGlvbi5hdHRlbXB0KGFzeW5jIGF0dGVtcHROdW1iZXIgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXNvbHZlKGF3YWl0IGlucHV0KGF0dGVtcHROdW1iZXIpKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0aWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikpIHtcblx0XHRcdFx0cmVqZWN0KG5ldyBUeXBlRXJyb3IoYE5vbi1lcnJvciB3YXMgdGhyb3duOiBcIiR7ZXJyb3J9XCIuIFlvdSBzaG91bGQgb25seSB0aHJvdyBlcnJvcnMuYCkpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIEFib3J0RXJyb3IpIHtcblx0XHRcdFx0b3BlcmF0aW9uLnN0b3AoKTtcblx0XHRcdFx0cmVqZWN0KGVycm9yLm9yaWdpbmFsRXJyb3IpO1xuXHRcdFx0fSBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvciAmJiAhaXNOZXR3b3JrRXJyb3IoZXJyb3IubWVzc2FnZSkpIHtcblx0XHRcdFx0b3BlcmF0aW9uLnN0b3AoKTtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlY29yYXRlRXJyb3JXaXRoQ291bnRzKGVycm9yLCBhdHRlbXB0TnVtYmVyLCBvcHRpb25zKTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGF3YWl0IG9wdGlvbnMub25GYWlsZWRBdHRlbXB0KGVycm9yKTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghb3BlcmF0aW9uLnJldHJ5KGVycm9yKSkge1xuXHRcdFx0XHRcdHJlamVjdChvcGVyYXRpb24ubWFpbkVycm9yKCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBSZXRyeTtcbi8vIFRPRE86IHJlbW92ZSB0aGlzIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBwUmV0cnk7XG5cbm1vZHVsZS5leHBvcnRzLkFib3J0RXJyb3IgPSBBYm9ydEVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsICIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IChwcm9taXNlLCBvbkZpbmFsbHkpID0+IHtcblx0b25GaW5hbGx5ID0gb25GaW5hbGx5IHx8ICgoKSA9PiB7fSk7XG5cblx0cmV0dXJuIHByb21pc2UudGhlbihcblx0XHR2YWwgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0XHRyZXNvbHZlKG9uRmluYWxseSgpKTtcblx0XHR9KS50aGVuKCgpID0+IHZhbCksXG5cdFx0ZXJyID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuXHRcdFx0cmVzb2x2ZShvbkZpbmFsbHkoKSk7XG5cdFx0fSkudGhlbigoKSA9PiB7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fSlcblx0KTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwRmluYWxseSA9IHJlcXVpcmUoJ3AtZmluYWxseScpO1xuXG5jbGFzcyBUaW1lb3V0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcblx0XHRzdXBlcihtZXNzYWdlKTtcblx0XHR0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcblx0fVxufVxuXG5jb25zdCBwVGltZW91dCA9IChwcm9taXNlLCBtaWxsaXNlY29uZHMsIGZhbGxiYWNrKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdGlmICh0eXBlb2YgbWlsbGlzZWNvbmRzICE9PSAnbnVtYmVyJyB8fCBtaWxsaXNlY29uZHMgPCAwKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYG1pbGxpc2Vjb25kc2AgdG8gYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcblx0fVxuXG5cdGlmIChtaWxsaXNlY29uZHMgPT09IEluZmluaXR5KSB7XG5cdFx0cmVzb2x2ZShwcm9taXNlKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdGlmICh0eXBlb2YgZmFsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJlc29sdmUoZmFsbGJhY2soKSk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWVzc2FnZSA9IHR5cGVvZiBmYWxsYmFjayA9PT0gJ3N0cmluZycgPyBmYWxsYmFjayA6IGBQcm9taXNlIHRpbWVkIG91dCBhZnRlciAke21pbGxpc2Vjb25kc30gbWlsbGlzZWNvbmRzYDtcblx0XHRjb25zdCB0aW1lb3V0RXJyb3IgPSBmYWxsYmFjayBpbnN0YW5jZW9mIEVycm9yID8gZmFsbGJhY2sgOiBuZXcgVGltZW91dEVycm9yKG1lc3NhZ2UpO1xuXG5cdFx0aWYgKHR5cGVvZiBwcm9taXNlLmNhbmNlbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0cHJvbWlzZS5jYW5jZWwoKTtcblx0XHR9XG5cblx0XHRyZWplY3QodGltZW91dEVycm9yKTtcblx0fSwgbWlsbGlzZWNvbmRzKTtcblxuXHQvLyBUT0RPOiBVc2UgbmF0aXZlIGBmaW5hbGx5YCBrZXl3b3JkIHdoZW4gdGFyZ2V0aW5nIE5vZGUuanMgMTBcblx0cEZpbmFsbHkoXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvcHJlZmVyLWF3YWl0LXRvLXRoZW5cblx0XHRwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KSxcblx0XHQoKSA9PiB7XG5cdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdH1cblx0KTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBUaW1lb3V0O1xuLy8gVE9ETzogUmVtb3ZlIHRoaXMgZm9yIHRoZSBuZXh0IG1ham9yIHJlbGVhc2Vcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBwVGltZW91dDtcblxubW9kdWxlLmV4cG9ydHMuVGltZW91dEVycm9yID0gVGltZW91dEVycm9yO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gUG9ydCBvZiBsb3dlcl9ib3VuZCBmcm9tIGh0dHBzOi8vZW4uY3BwcmVmZXJlbmNlLmNvbS93L2NwcC9hbGdvcml0aG0vbG93ZXJfYm91bmRcbi8vIFVzZWQgdG8gY29tcHV0ZSBpbnNlcnRpb24gaW5kZXggdG8ga2VlcCBxdWV1ZSBzb3J0ZWQgYWZ0ZXIgaW5zZXJ0aW9uXG5mdW5jdGlvbiBsb3dlckJvdW5kKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIGxldCBmaXJzdCA9IDA7XG4gICAgbGV0IGNvdW50ID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChjb3VudCA+IDApIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IChjb3VudCAvIDIpIHwgMDtcbiAgICAgICAgbGV0IGl0ID0gZmlyc3QgKyBzdGVwO1xuICAgICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpdF0sIHZhbHVlKSA8PSAwKSB7XG4gICAgICAgICAgICBmaXJzdCA9ICsraXQ7XG4gICAgICAgICAgICBjb3VudCAtPSBzdGVwICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ID0gc3RlcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmlyc3Q7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBsb3dlckJvdW5kO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbG93ZXJfYm91bmRfMSA9IHJlcXVpcmUoXCIuL2xvd2VyLWJvdW5kXCIpO1xuY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgfVxuICAgIGVucXVldWUocnVuLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgcHJpb3JpdHk6IDAgfSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB7XG4gICAgICAgICAgICBwcmlvcml0eTogb3B0aW9ucy5wcmlvcml0eSxcbiAgICAgICAgICAgIHJ1blxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5zaXplICYmIHRoaXMuX3F1ZXVlW3RoaXMuc2l6ZSAtIDFdLnByaW9yaXR5ID49IG9wdGlvbnMucHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBsb3dlcl9ib3VuZF8xLmRlZmF1bHQodGhpcy5fcXVldWUsIGVsZW1lbnQsIChhLCBiKSA9PiBiLnByaW9yaXR5IC0gYS5wcmlvcml0eSk7XG4gICAgICAgIHRoaXMuX3F1ZXVlLnNwbGljZShpbmRleCwgMCwgZWxlbWVudCk7XG4gICAgfVxuICAgIGRlcXVldWUoKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9xdWV1ZS5zaGlmdCgpO1xuICAgICAgICByZXR1cm4gaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLnJ1bjtcbiAgICB9XG4gICAgZmlsdGVyKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXVlLmZpbHRlcigoZWxlbWVudCkgPT4gZWxlbWVudC5wcmlvcml0eSA9PT0gb3B0aW9ucy5wcmlvcml0eSkubWFwKChlbGVtZW50KSA9PiBlbGVtZW50LnJ1bik7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUubGVuZ3RoO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFByaW9yaXR5UXVldWU7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKTtcbmNvbnN0IHBfdGltZW91dF8xID0gcmVxdWlyZShcInAtdGltZW91dFwiKTtcbmNvbnN0IHByaW9yaXR5X3F1ZXVlXzEgPSByZXF1aXJlKFwiLi9wcmlvcml0eS1xdWV1ZVwiKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbmNvbnN0IGVtcHR5ID0gKCkgPT4geyB9O1xuY29uc3QgdGltZW91dEVycm9yID0gbmV3IHBfdGltZW91dF8xLlRpbWVvdXRFcnJvcigpO1xuLyoqXG5Qcm9taXNlIHF1ZXVlIHdpdGggY29uY3VycmVuY3kgY29udHJvbC5cbiovXG5jbGFzcyBQUXVldWUgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9pbnRlcnZhbENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxFbmQgPSAwO1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQgPSAwO1xuICAgICAgICB0aGlzLl9yZXNvbHZlRW1wdHkgPSBlbXB0eTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUlkbGUgPSBlbXB0eTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtYXNzZXJ0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGNhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQ6IGZhbHNlLCBpbnRlcnZhbENhcDogSW5maW5pdHksIGludGVydmFsOiAwLCBjb25jdXJyZW5jeTogSW5maW5pdHksIGF1dG9TdGFydDogdHJ1ZSwgcXVldWVDbGFzczogcHJpb3JpdHlfcXVldWVfMS5kZWZhdWx0IH0sIG9wdGlvbnMpO1xuICAgICAgICBpZiAoISh0eXBlb2Ygb3B0aW9ucy5pbnRlcnZhbENhcCA9PT0gJ251bWJlcicgJiYgb3B0aW9ucy5pbnRlcnZhbENhcCA+PSAxKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgaW50ZXJ2YWxDYXBcXGAgdG8gYmUgYSBudW1iZXIgZnJvbSAxIGFuZCB1cCwgZ290IFxcYCR7KF9iID0gKF9hID0gb3B0aW9ucy5pbnRlcnZhbENhcCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvU3RyaW5nKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnfVxcYCAoJHt0eXBlb2Ygb3B0aW9ucy5pbnRlcnZhbENhcH0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJ2YWwgPT09IHVuZGVmaW5lZCB8fCAhKE51bWJlci5pc0Zpbml0ZShvcHRpb25zLmludGVydmFsKSAmJiBvcHRpb25zLmludGVydmFsID49IDApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBcXGBpbnRlcnZhbFxcYCB0byBiZSBhIGZpbml0ZSBudW1iZXIgPj0gMCwgZ290IFxcYCR7KF9kID0gKF9jID0gb3B0aW9ucy5pbnRlcnZhbCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvU3RyaW5nKCkpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6ICcnfVxcYCAoJHt0eXBlb2Ygb3B0aW9ucy5pbnRlcnZhbH0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FycnlvdmVyQ29uY3VycmVuY3lDb3VudCA9IG9wdGlvbnMuY2FycnlvdmVyQ29uY3VycmVuY3lDb3VudDtcbiAgICAgICAgdGhpcy5faXNJbnRlcnZhbElnbm9yZWQgPSBvcHRpb25zLmludGVydmFsQ2FwID09PSBJbmZpbml0eSB8fCBvcHRpb25zLmludGVydmFsID09PSAwO1xuICAgICAgICB0aGlzLl9pbnRlcnZhbENhcCA9IG9wdGlvbnMuaW50ZXJ2YWxDYXA7XG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gb3B0aW9ucy5pbnRlcnZhbDtcbiAgICAgICAgdGhpcy5fcXVldWUgPSBuZXcgb3B0aW9ucy5xdWV1ZUNsYXNzKCk7XG4gICAgICAgIHRoaXMuX3F1ZXVlQ2xhc3MgPSBvcHRpb25zLnF1ZXVlQ2xhc3M7XG4gICAgICAgIHRoaXMuY29uY3VycmVuY3kgPSBvcHRpb25zLmNvbmN1cnJlbmN5O1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0O1xuICAgICAgICB0aGlzLl90aHJvd09uVGltZW91dCA9IG9wdGlvbnMudGhyb3dPblRpbWVvdXQgPT09IHRydWU7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gb3B0aW9ucy5hdXRvU3RhcnQgPT09IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgX2RvZXNJbnRlcnZhbEFsbG93QW5vdGhlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzSW50ZXJ2YWxJZ25vcmVkIHx8IHRoaXMuX2ludGVydmFsQ291bnQgPCB0aGlzLl9pbnRlcnZhbENhcDtcbiAgICB9XG4gICAgZ2V0IF9kb2VzQ29uY3VycmVudEFsbG93QW5vdGhlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudCA8IHRoaXMuX2NvbmN1cnJlbmN5O1xuICAgIH1cbiAgICBfbmV4dCgpIHtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50LS07XG4gICAgICAgIHRoaXMuX3RyeVRvU3RhcnRBbm90aGVyKCk7XG4gICAgICAgIHRoaXMuZW1pdCgnbmV4dCcpO1xuICAgIH1cbiAgICBfcmVzb2x2ZVByb21pc2VzKCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlRW1wdHkoKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUVtcHR5ID0gZW1wdHk7XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVJZGxlKCk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlSWRsZSA9IGVtcHR5O1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdpZGxlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX29uUmVzdW1lSW50ZXJ2YWwoKSB7XG4gICAgICAgIHRoaXMuX29uSW50ZXJ2YWwoKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZUludGVydmFsSWZOZWVkZWQoKTtcbiAgICAgICAgdGhpcy5fdGltZW91dElkID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBfaXNJbnRlcnZhbFBhdXNlZCgpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLl9pbnRlcnZhbEVuZCAtIG5vdztcbiAgICAgICAgICAgIGlmIChkZWxheSA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBBY3QgYXMgdGhlIGludGVydmFsIHdhcyBkb25lXG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byByZXN1bWUgaXQgaGVyZSBiZWNhdXNlIGl0IHdpbGwgYmUgcmVzdW1lZCBvbiBsaW5lIDE2MFxuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVydmFsQ291bnQgPSAodGhpcy5fY2FycnlvdmVyQ29uY3VycmVuY3lDb3VudCkgPyB0aGlzLl9wZW5kaW5nQ291bnQgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQWN0IGFzIHRoZSBpbnRlcnZhbCBpcyBwZW5kaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RpbWVvdXRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25SZXN1bWVJbnRlcnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgX3RyeVRvU3RhcnRBbm90aGVyKCkge1xuICAgICAgICBpZiAodGhpcy5fcXVldWUuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gV2UgY2FuIGNsZWFyIHRoZSBpbnRlcnZhbCAoXCJwYXVzZVwiKVxuICAgICAgICAgICAgLy8gQmVjYXVzZSB3ZSBjYW4gcmVkbyBpdCBsYXRlciAoXCJyZXN1bWVcIilcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbElkKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlUHJvbWlzZXMoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICAgICAgICBjb25zdCBjYW5Jbml0aWFsaXplSW50ZXJ2YWwgPSAhdGhpcy5faXNJbnRlcnZhbFBhdXNlZCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RvZXNJbnRlcnZhbEFsbG93QW5vdGhlciAmJiB0aGlzLl9kb2VzQ29uY3VycmVudEFsbG93QW5vdGhlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvYiA9IHRoaXMuX3F1ZXVlLmRlcXVldWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWpvYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgam9iKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNhbkluaXRpYWxpemVJbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplSW50ZXJ2YWxJZk5lZWRlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF9pbml0aWFsaXplSW50ZXJ2YWxJZk5lZWRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzSW50ZXJ2YWxJZ25vcmVkIHx8IHRoaXMuX2ludGVydmFsSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkludGVydmFsKCk7XG4gICAgICAgIH0sIHRoaXMuX2ludGVydmFsKTtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWxFbmQgPSBEYXRlLm5vdygpICsgdGhpcy5faW50ZXJ2YWw7XG4gICAgfVxuICAgIF9vbkludGVydmFsKCkge1xuICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWxDb3VudCA9PT0gMCAmJiB0aGlzLl9wZW5kaW5nQ291bnQgPT09IDAgJiYgdGhpcy5faW50ZXJ2YWxJZCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbElkKTtcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW50ZXJ2YWxDb3VudCA9IHRoaXMuX2NhcnJ5b3ZlckNvbmN1cnJlbmN5Q291bnQgPyB0aGlzLl9wZW5kaW5nQ291bnQgOiAwO1xuICAgICAgICB0aGlzLl9wcm9jZXNzUXVldWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRXhlY3V0ZXMgYWxsIHF1ZXVlZCBmdW5jdGlvbnMgdW50aWwgaXQgcmVhY2hlcyB0aGUgbGltaXQuXG4gICAgKi9cbiAgICBfcHJvY2Vzc1F1ZXVlKCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICAgICAgd2hpbGUgKHRoaXMuX3RyeVRvU3RhcnRBbm90aGVyKCkpIHsgfVxuICAgIH1cbiAgICBnZXQgY29uY3VycmVuY3koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25jdXJyZW5jeTtcbiAgICB9XG4gICAgc2V0IGNvbmN1cnJlbmN5KG5ld0NvbmN1cnJlbmN5KSB7XG4gICAgICAgIGlmICghKHR5cGVvZiBuZXdDb25jdXJyZW5jeSA9PT0gJ251bWJlcicgJiYgbmV3Q29uY3VycmVuY3kgPj0gMSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYGNvbmN1cnJlbmN5XFxgIHRvIGJlIGEgbnVtYmVyIGZyb20gMSBhbmQgdXAsIGdvdCBcXGAke25ld0NvbmN1cnJlbmN5fVxcYCAoJHt0eXBlb2YgbmV3Q29uY3VycmVuY3l9KWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbmN1cnJlbmN5ID0gbmV3Q29uY3VycmVuY3k7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NRdWV1ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICBBZGRzIGEgc3luYyBvciBhc3luYyB0YXNrIHRvIHRoZSBxdWV1ZS4gQWx3YXlzIHJldHVybnMgYSBwcm9taXNlLlxuICAgICovXG4gICAgYXN5bmMgYWRkKGZuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJ1biA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQrKztcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcnZhbENvdW50Kys7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gKHRoaXMuX3RpbWVvdXQgPT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnRpbWVvdXQgPT09IHVuZGVmaW5lZCkgPyBmbigpIDogcF90aW1lb3V0XzEuZGVmYXVsdChQcm9taXNlLnJlc29sdmUoZm4oKSksIChvcHRpb25zLnRpbWVvdXQgPT09IHVuZGVmaW5lZCA/IHRoaXMuX3RpbWVvdXQgOiBvcHRpb25zLnRpbWVvdXQpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50aHJvd09uVGltZW91dCA9PT0gdW5kZWZpbmVkID8gdGhpcy5fdGhyb3dPblRpbWVvdXQgOiBvcHRpb25zLnRocm93T25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRpbWVvdXRFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShhd2FpdCBvcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLmVucXVldWUocnVuLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuX3RyeVRvU3RhcnRBbm90aGVyKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2FkZCcpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgU2FtZSBhcyBgLmFkZCgpYCwgYnV0IGFjY2VwdHMgYW4gYXJyYXkgb2Ygc3luYyBvciBhc3luYyBmdW5jdGlvbnMuXG5cbiAgICBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCBmdW5jdGlvbnMgYXJlIHJlc29sdmVkLlxuICAgICovXG4gICAgYXN5bmMgYWRkQWxsKGZ1bmN0aW9ucywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZnVuY3Rpb25zLm1hcChhc3luYyAoZnVuY3Rpb25fKSA9PiB0aGlzLmFkZChmdW5jdGlvbl8sIG9wdGlvbnMpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFN0YXJ0IChvciByZXN1bWUpIGV4ZWN1dGluZyBlbnF1ZXVlZCB0YXNrcyB3aXRoaW4gY29uY3VycmVuY3kgbGltaXQuIE5vIG5lZWQgdG8gY2FsbCB0aGlzIGlmIHF1ZXVlIGlzIG5vdCBwYXVzZWQgKHZpYSBgb3B0aW9ucy5hdXRvU3RhcnQgPSBmYWxzZWAgb3IgYnkgYC5wYXVzZSgpYCBtZXRob2QuKVxuICAgICovXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNQYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NRdWV1ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgUHV0IHF1ZXVlIGV4ZWN1dGlvbiBvbiBob2xkLlxuICAgICovXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ2xlYXIgdGhlIHF1ZXVlLlxuICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gbmV3IHRoaXMuX3F1ZXVlQ2xhc3MoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy4gVXNlZnVsIGlmIHlvdSBmb3IgZXhhbXBsZSBhZGQgYWRkaXRpb25hbCBpdGVtcyBhdCBhIGxhdGVyIHRpbWUuXG5cbiAgICBAcmV0dXJucyBBIHByb21pc2UgdGhhdCBzZXR0bGVzIHdoZW4gdGhlIHF1ZXVlIGJlY29tZXMgZW1wdHkuXG4gICAgKi9cbiAgICBhc3luYyBvbkVtcHR5KCkge1xuICAgICAgICAvLyBJbnN0YW50bHkgcmVzb2x2ZSBpZiB0aGUgcXVldWUgaXMgZW1wdHlcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1Jlc29sdmUgPSB0aGlzLl9yZXNvbHZlRW1wdHk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlRW1wdHkgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdSZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBkaWZmZXJlbmNlIHdpdGggYC5vbkVtcHR5YCBpcyB0aGF0IGAub25JZGxlYCBndWFyYW50ZWVzIHRoYXQgYWxsIHdvcmsgZnJvbSB0aGUgcXVldWUgaGFzIGZpbmlzaGVkLiBgLm9uRW1wdHlgIG1lcmVseSBzaWduYWxzIHRoYXQgdGhlIHF1ZXVlIGlzIGVtcHR5LCBidXQgaXQgY291bGQgbWVhbiB0aGF0IHNvbWUgcHJvbWlzZXMgaGF2ZW4ndCBjb21wbGV0ZWQgeWV0LlxuXG4gICAgQHJldHVybnMgQSBwcm9taXNlIHRoYXQgc2V0dGxlcyB3aGVuIHRoZSBxdWV1ZSBiZWNvbWVzIGVtcHR5LCBhbmQgYWxsIHByb21pc2VzIGhhdmUgY29tcGxldGVkOyBgcXVldWUuc2l6ZSA9PT0gMCAmJiBxdWV1ZS5wZW5kaW5nID09PSAwYC5cbiAgICAqL1xuICAgIGFzeW5jIG9uSWRsZSgpIHtcbiAgICAgICAgLy8gSW5zdGFudGx5IHJlc29sdmUgaWYgbm9uZSBwZW5kaW5nIGFuZCBpZiBub3RoaW5nIGVsc2UgaXMgcXVldWVkXG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nQ291bnQgPT09IDAgJiYgdGhpcy5fcXVldWUuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nUmVzb2x2ZSA9IHRoaXMuX3Jlc29sdmVJZGxlO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUlkbGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdSZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFNpemUgb2YgdGhlIHF1ZXVlLlxuICAgICovXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5zaXplO1xuICAgIH1cbiAgICAvKipcbiAgICBTaXplIG9mIHRoZSBxdWV1ZSwgZmlsdGVyZWQgYnkgdGhlIGdpdmVuIG9wdGlvbnMuXG5cbiAgICBGb3IgZXhhbXBsZSwgdGhpcyBjYW4gYmUgdXNlZCB0byBmaW5kIHRoZSBudW1iZXIgb2YgaXRlbXMgcmVtYWluaW5nIGluIHRoZSBxdWV1ZSB3aXRoIGEgc3BlY2lmaWMgcHJpb3JpdHkgbGV2ZWwuXG4gICAgKi9cbiAgICBzaXplQnkob3B0aW9ucykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby1mbi1yZWZlcmVuY2UtaW4taXRlcmF0b3JcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXVlLmZpbHRlcihvcHRpb25zKS5sZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgIE51bWJlciBvZiBwZW5kaW5nIHByb21pc2VzLlxuICAgICovXG4gICAgZ2V0IHBlbmRpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhlIHF1ZXVlIGlzIGN1cnJlbnRseSBwYXVzZWQuXG4gICAgKi9cbiAgICBnZXQgaXNQYXVzZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1BhdXNlZDtcbiAgICB9XG4gICAgZ2V0IHRpbWVvdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICBTZXQgdGhlIHRpbWVvdXQgZm9yIGZ1dHVyZSBvcGVyYXRpb25zLlxuICAgICovXG4gICAgc2V0IHRpbWVvdXQobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBtaWxsaXNlY29uZHM7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gUFF1ZXVlO1xuIiwgImltcG9ydCBwUmV0cnkgZnJvbSBcInAtcmV0cnlcIjtcbmltcG9ydCBQUXVldWVNb2QgZnJvbSBcInAtcXVldWVcIjtcbmNvbnN0IFNUQVRVU19OT19SRVRSWSA9IFtcbiAgICA0MDAsXG4gICAgNDAxLFxuICAgIDQwMyxcbiAgICA0MDQsXG4gICAgNDA1LFxuICAgIDQwNixcbiAgICA0MDcsXG4gICAgNDA4LFxuICAgIDQwOSwgLy8gQ29uZmxpY3Rcbl07XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBjYW4gYmUgdXNlZCB0byBtYWtlIGFzeW5jIGNhbGxzIHdpdGggY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBtYWtpbmcgY2FsbHMgdG8gYW55IGtpbmQgb2YgXCJleHBlbnNpdmVcIiBleHRlcm5hbCByZXNvdXJjZSxcbiAqIGJlIGl0IGJlY2F1c2UgaXQncyByYXRlLWxpbWl0ZWQsIHN1YmplY3QgdG8gbmV0d29yayBpc3N1ZXMsIGV0Yy5cbiAqXG4gKiBDb25jdXJyZW50IGNhbGxzIGFyZSBsaW1pdGVkIGJ5IHRoZSBgbWF4Q29uY3VycmVuY3lgIHBhcmFtZXRlciwgd2hpY2ggZGVmYXVsdHNcbiAqIHRvIGBJbmZpbml0eWAuIFRoaXMgbWVhbnMgdGhhdCBieSBkZWZhdWx0LCBhbGwgY2FsbHMgd2lsbCBiZSBtYWRlIGluIHBhcmFsbGVsLlxuICpcbiAqIFJldHJpZXMgYXJlIGxpbWl0ZWQgYnkgdGhlIGBtYXhSZXRyaWVzYCBwYXJhbWV0ZXIsIHdoaWNoIGRlZmF1bHRzIHRvIDYuIFRoaXNcbiAqIG1lYW5zIHRoYXQgYnkgZGVmYXVsdCwgZWFjaCBjYWxsIHdpbGwgYmUgcmV0cmllZCB1cCB0byA2IHRpbWVzLCB3aXRoIGFuXG4gKiBleHBvbmVudGlhbCBiYWNrb2ZmIGJldHdlZW4gZWFjaCBhdHRlbXB0LlxuICovXG5leHBvcnQgY2xhc3MgQXN5bmNDYWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhDb25jdXJyZW5jeVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhSZXRyaWVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInF1ZXVlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWF4Q29uY3VycmVuY3kgPSBwYXJhbXMubWF4Q29uY3VycmVuY3kgPz8gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4UmV0cmllcyA9IHBhcmFtcy5tYXhSZXRyaWVzID8/IDY7XG4gICAgICAgIGNvbnN0IFBRdWV1ZSA9IFwiZGVmYXVsdFwiIGluIFBRdWV1ZU1vZCA/IFBRdWV1ZU1vZC5kZWZhdWx0IDogUFF1ZXVlTW9kO1xuICAgICAgICB0aGlzLnF1ZXVlID0gbmV3IFBRdWV1ZSh7IGNvbmN1cnJlbmN5OiB0aGlzLm1heENvbmN1cnJlbmN5IH0pO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNhbGwoY2FsbGFibGUsIC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVldWUuYWRkKCgpID0+IHBSZXRyeSgoKSA9PiBjYWxsYWJsZSguLi5hcmdzKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwge1xuICAgICAgICAgICAgb25GYWlsZWRBdHRlbXB0KGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIkNhbmNlbFwiKSB8fFxuICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJUaW1lb3V0RXJyb3JcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZS5zdGFydHNXaXRoKFwiQWJvcnRFcnJvclwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3I/LmNvZGUgPT09IFwiRUNPTk5BQk9SVEVEXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gZXJyb3I/LnJlc3BvbnNlPy5zdGF0dXM7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyAmJiBTVEFUVVNfTk9fUkVUUlkuaW5jbHVkZXMoK3N0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJldHJpZXM6IHRoaXMubWF4UmV0cmllcyxcbiAgICAgICAgICAgIHJhbmRvbWl6ZTogdHJ1ZSxcbiAgICAgICAgICAgIC8vIElmIG5lZWRlZCB3ZSBjYW4gY2hhbmdlIHNvbWUgb2YgdGhlIGRlZmF1bHRzIGhlcmUsXG4gICAgICAgICAgICAvLyBidXQgdGhleSdyZSBxdWl0ZSBzZW5zaWJsZS5cbiAgICAgICAgfSksIHsgdGhyb3dPblRpbWVvdXQ6IHRydWUgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY2FsbFdpdGhPcHRpb25zKG9wdGlvbnMsIGNhbGxhYmxlLCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIE5vdGUgdGhpcyBkb2Vzbid0IGNhbmNlbCB0aGUgdW5kZXJseWluZyByZXF1ZXN0LFxuICAgICAgICAvLyB3aGVuIGF2YWlsYWJsZSBwcmVmZXIgdG8gdXNlIHRoZSBzaWduYWwgb3B0aW9uIG9mIHRoZSB1bmRlcmx5aW5nIGNhbGxcbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGwoY2FsbGFibGUsIC4uLmFyZ3MpLFxuICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChjYWxsYWJsZSwgLi4uYXJncyk7XG4gICAgfVxuICAgIGZldGNoKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgoKSA9PiBmZXRjaCguLi5hcmdzKS50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMgOiBQcm9taXNlLnJlamVjdChyZXMpKSkpO1xuICAgIH1cbn1cbiIsICJleHBvcnQgY29uc3QgaXNCcm93c2VyID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuZXhwb3J0IGNvbnN0IGlzV2ViV29ya2VyID0gKCkgPT4gdHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiZcbiAgICBnbG9iYWxUaGlzLmNvbnN0cnVjdG9yICYmXG4gICAgZ2xvYmFsVGhpcy5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkRlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXCI7XG5leHBvcnQgY29uc3QgaXNKc0RvbSA9ICgpID0+ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYW1lID09PSBcIm5vZGVqc1wiKSB8fFxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIChuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiTm9kZS5qc1wiKSB8fFxuICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcImpzZG9tXCIpKSk7XG4vLyBTdXBhYmFzZSBFZGdlIEZ1bmN0aW9uIHByb3ZpZGVzIGEgYERlbm9gIGdsb2JhbCBvYmplY3Rcbi8vIHdpdGhvdXQgYHZlcnNpb25gIHByb3BlcnR5XG5leHBvcnQgY29uc3QgaXNEZW5vID0gKCkgPT4gdHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCI7XG4vLyBNYXJrIG5vdC1hcy1ub2RlIGlmIGluIFN1cGFiYXNlIEVkZ2UgRnVuY3Rpb25cbmV4cG9ydCBjb25zdCBpc05vZGUgPSAoKSA9PiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICFpc0Rlbm8oKTtcbmV4cG9ydCBjb25zdCBnZXRFbnYgPSAoKSA9PiB7XG4gICAgbGV0IGVudjtcbiAgICBpZiAoaXNCcm93c2VyKCkpIHtcbiAgICAgICAgZW52ID0gXCJicm93c2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTm9kZSgpKSB7XG4gICAgICAgIGVudiA9IFwibm9kZVwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1dlYldvcmtlcigpKSB7XG4gICAgICAgIGVudiA9IFwid2Vid29ya2VyXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSnNEb20oKSkge1xuICAgICAgICBlbnYgPSBcImpzZG9tXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRGVubygpKSB7XG4gICAgICAgIGVudiA9IFwiZGVub1wiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW52ID0gXCJvdGhlclwiO1xuICAgIH1cbiAgICByZXR1cm4gZW52O1xufTtcbmxldCBydW50aW1lRW52aXJvbm1lbnQ7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UnVudGltZUVudmlyb25tZW50KCkge1xuICAgIGlmIChydW50aW1lRW52aXJvbm1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbnYgPSBnZXRFbnYoKTtcbiAgICAgICAgcnVudGltZUVudmlyb25tZW50ID0ge1xuICAgICAgICAgICAgbGlicmFyeTogXCJsYW5nY2hhaW4tanNcIixcbiAgICAgICAgICAgIHJ1bnRpbWU6IGVudixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bnRpbWVFbnZpcm9ubWVudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKG5hbWUpIHtcbiAgICAvLyBDZXJ0YWluIERlbm8gc2V0dXBzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgeW91IHRyeSB0byBhY2Nlc3MgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2h3Y2hhc2UxNy9sYW5nY2hhaW5qcy9pc3N1ZXMvMTQxMlxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudj8uW25hbWVdXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQXN5bmNDYWxsZXIgfSBmcm9tIFwiLi4vLi4vdXRpbC9hc3luY19jYWxsZXIuanNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUsIGdldFJ1bnRpbWVFbnZpcm9ubWVudCwgfSBmcm9tIFwiLi4vLi4vdXRpbC9lbnYuanNcIjtcbmltcG9ydCB7IEJhc2VUcmFjZXIgfSBmcm9tIFwiLi90cmFjZXIuanNcIjtcbmV4cG9ydCBjbGFzcyBMYW5nQ2hhaW5UcmFjZXIgZXh0ZW5kcyBCYXNlVHJhY2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGV4YW1wbGVJZCwgc2Vzc2lvbk5hbWUsIGNhbGxlclBhcmFtcywgdGltZW91dCwgfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwibGFuZ2NoYWluX3RyYWNlclwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlbmRwb2ludFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9FTkRQT0lOVFwiKSB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MTk4NFwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJoZWFkZXJzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXNzaW9uTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGFtcGxlSWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FsbGVyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRpbWVvdXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDUwMDBcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGFwaUtleSA9IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKGFwaUtleSkge1xuICAgICAgICAgICAgdGhpcy5oZWFkZXJzW1wieC1hcGkta2V5XCJdID0gYXBpS2V5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2Vzc2lvbk5hbWUgPVxuICAgICAgICAgICAgc2Vzc2lvbk5hbWUgPz8gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9TRVNTSU9OXCIpO1xuICAgICAgICB0aGlzLmV4YW1wbGVJZCA9IGV4YW1wbGVJZDtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gdGltZW91dCA/PyB0aGlzLnRpbWVvdXQ7XG4gICAgICAgIHRoaXMuY2FsbGVyID0gbmV3IEFzeW5jQ2FsbGVyKGNhbGxlclBhcmFtcyA/PyB7IG1heFJldHJpZXM6IDIgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9jb252ZXJ0VG9DcmVhdGUocnVuLCBleGFtcGxlX2lkID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHJ1bkV4dHJhID0gcnVuLmV4dHJhID8/IHt9O1xuICAgICAgICBydW5FeHRyYS5ydW50aW1lID0gYXdhaXQgZ2V0UnVudGltZUVudmlyb25tZW50KCk7XG4gICAgICAgIGNvbnN0IHBlcnNpc3RlZFJ1biA9IHtcbiAgICAgICAgICAgIGlkOiBydW4uaWQsXG4gICAgICAgICAgICBuYW1lOiBydW4ubmFtZSxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWU6IHJ1bi5zdGFydF90aW1lLFxuICAgICAgICAgICAgZW5kX3RpbWU6IHJ1bi5lbmRfdGltZSxcbiAgICAgICAgICAgIHJ1bl90eXBlOiBydW4ucnVuX3R5cGUsXG4gICAgICAgICAgICAvLyBleGFtcGxlX2lkIGlzIG9ubHkgc2V0IGZvciB0aGUgcm9vdCBydW5cbiAgICAgICAgICAgIHJlZmVyZW5jZV9leGFtcGxlX2lkOiBydW4ucGFyZW50X3J1bl9pZCA/IHVuZGVmaW5lZCA6IGV4YW1wbGVfaWQsXG4gICAgICAgICAgICBleHRyYTogcnVuRXh0cmEsXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBydW4ucGFyZW50X3J1bl9pZCxcbiAgICAgICAgICAgIGV4ZWN1dGlvbl9vcmRlcjogcnVuLmV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQ6IHJ1bi5zZXJpYWxpemVkLFxuICAgICAgICAgICAgZXJyb3I6IHJ1bi5lcnJvcixcbiAgICAgICAgICAgIGlucHV0czogcnVuLmlucHV0cyxcbiAgICAgICAgICAgIG91dHB1dHM6IHJ1bi5vdXRwdXRzID8/IHt9LFxuICAgICAgICAgICAgc2Vzc2lvbl9uYW1lOiB0aGlzLnNlc3Npb25OYW1lLFxuICAgICAgICAgICAgY2hpbGRfcnVuczogW10sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBwZXJzaXN0ZWRSdW47XG4gICAgfVxuICAgIGFzeW5jIHBlcnNpc3RSdW4oX3J1bikgeyB9XG4gICAgYXN5bmMgX3BlcnNpc3RSdW5TaW5nbGUocnVuKSB7XG4gICAgICAgIGNvbnN0IHBlcnNpc3RlZFJ1biA9IGF3YWl0IHRoaXMuX2NvbnZlcnRUb0NyZWF0ZShydW4sIHRoaXMuZXhhbXBsZUlkKTtcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLmVuZHBvaW50fS9ydW5zYDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxlci5jYWxsKGZldGNoLCBlbmRwb2ludCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBlcnNpc3RlZFJ1biksXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0KSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNvbnN1bWUgdGhlIHJlc3BvbnNlIGJvZHkgdG8gcmVsZWFzZSB0aGUgY29ubmVjdGlvblxuICAgICAgICAvLyBodHRwczovL3VuZGljaS5ub2RlanMub3JnLyMvP2lkPWdhcmJhZ2UtY29sbGVjdGlvblxuICAgICAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwZXJzaXN0IHJ1bjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0gJHtib2R5fWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF91cGRhdGVSdW5TaW5nbGUocnVuKSB7XG4gICAgICAgIGNvbnN0IHJ1blVwZGF0ZSA9IHtcbiAgICAgICAgICAgIGVuZF90aW1lOiBydW4uZW5kX3RpbWUsXG4gICAgICAgICAgICBlcnJvcjogcnVuLmVycm9yLFxuICAgICAgICAgICAgb3V0cHV0czogcnVuLm91dHB1dHMsXG4gICAgICAgICAgICBwYXJlbnRfcnVuX2lkOiBydW4ucGFyZW50X3J1bl9pZCxcbiAgICAgICAgICAgIHJlZmVyZW5jZV9leGFtcGxlX2lkOiBydW4ucmVmZXJlbmNlX2V4YW1wbGVfaWQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dGhpcy5lbmRwb2ludH0vcnVucy8ke3J1bi5pZH1gO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2FsbGVyLmNhbGwoZmV0Y2gsIGVuZHBvaW50LCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJ1blVwZGF0ZSksXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy50aW1lb3V0KSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNvbnN1bWUgdGhlIHJlc3BvbnNlIGJvZHkgdG8gcmVsZWFzZSB0aGUgY29ubmVjdGlvblxuICAgICAgICAvLyBodHRwczovL3VuZGljaS5ub2RlanMub3JnLyMvP2lkPWdhcmJhZ2UtY29sbGVjdGlvblxuICAgICAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgcnVuOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fSAke2JvZHl9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgb25MTE1TdGFydChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fcGVyc2lzdFJ1blNpbmdsZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBvbkxMTUVuZChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uTExNRXJyb3IocnVuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVJ1blNpbmdsZShydW4pO1xuICAgIH1cbiAgICBhc3luYyBvbkNoYWluU3RhcnQocnVuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3BlcnNpc3RSdW5TaW5nbGUocnVuKTtcbiAgICB9XG4gICAgYXN5bmMgb25DaGFpbkVuZChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uQ2hhaW5FcnJvcihydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uVG9vbFN0YXJ0KHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl9wZXJzaXN0UnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uVG9vbEVuZChydW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUnVuU2luZ2xlKHJ1bik7XG4gICAgfVxuICAgIGFzeW5jIG9uVG9vbEVycm9yKHJ1bikge1xuICAgICAgICBhd2FpdCB0aGlzLl91cGRhdGVSdW5TaW5nbGUocnVuKTtcbiAgICB9XG59XG4iLCAiZXhwb3J0IGNsYXNzIEJhc2VNZW1vcnkge1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYnkgbWVtb3J5IGNsYXNzZXMgdG8gc2VsZWN0IHRoZSBpbnB1dCB2YWx1ZVxuICogdG8gdXNlIGZvciB0aGUgbWVtb3J5LiBJZiB0aGVyZSBpcyBvbmx5IG9uZSBpbnB1dCB2YWx1ZSwgaXQgaXMgdXNlZC5cbiAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBpbnB1dCB2YWx1ZXMsIHRoZSBpbnB1dEtleSBtdXN0IGJlIHNwZWNpZmllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldElucHV0VmFsdWUgPSAoaW5wdXRWYWx1ZXMsIGlucHV0S2V5KSA9PiB7XG4gICAgaWYgKGlucHV0S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0VmFsdWVzW2lucHV0S2V5XTtcbiAgICB9XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGlucHV0VmFsdWVzKTtcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0VmFsdWVzW2tleXNbMF1dO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYGlucHV0IHZhbHVlcyBoYXZlICR7a2V5cy5sZW5ndGh9IGtleXMsIHlvdSBtdXN0IHNwZWNpZnkgYW4gaW5wdXQga2V5IG9yIHBhc3Mgb25seSAxIGtleSBhcyBpbnB1dGApO1xufTtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGJ5IG1lbW9yeSBjbGFzc2VzIHRvIGdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvblxuICogb2YgdGhlIGNoYXQgbWVzc2FnZSBoaXN0b3J5LCBiYXNlZCBvbiB0aGUgbWVzc2FnZSBjb250ZW50IGFuZCByb2xlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QnVmZmVyU3RyaW5nKG1lc3NhZ2VzLCBodW1hblByZWZpeCA9IFwiSHVtYW5cIiwgYWlQcmVmaXggPSBcIkFJXCIpIHtcbiAgICBjb25zdCBzdHJpbmdfbWVzc2FnZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG0gb2YgbWVzc2FnZXMpIHtcbiAgICAgICAgbGV0IHJvbGU7XG4gICAgICAgIGlmIChtLl9nZXRUeXBlKCkgPT09IFwiaHVtYW5cIikge1xuICAgICAgICAgICAgcm9sZSA9IGh1bWFuUHJlZml4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG0uX2dldFR5cGUoKSA9PT0gXCJhaVwiKSB7XG4gICAgICAgICAgICByb2xlID0gYWlQcmVmaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobS5fZ2V0VHlwZSgpID09PSBcInN5c3RlbVwiKSB7XG4gICAgICAgICAgICByb2xlID0gXCJTeXN0ZW1cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtLl9nZXRUeXBlKCkgPT09IFwiZ2VuZXJpY1wiKSB7XG4gICAgICAgICAgICByb2xlID0gbS5yb2xlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBHb3QgdW5zdXBwb3J0ZWQgbWVzc2FnZSB0eXBlOiAke219YCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5nX21lc3NhZ2VzLnB1c2goYCR7cm9sZX06ICR7bS50ZXh0fWApO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaW5nX21lc3NhZ2VzLmpvaW4oXCJcXG5cIik7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvbXB0SW5wdXRLZXkoaW5wdXRzLCBtZW1vcnlWYXJpYWJsZXMpIHtcbiAgICBjb25zdCBwcm9tcHRJbnB1dEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dHMpLmZpbHRlcigoa2V5KSA9PiAhbWVtb3J5VmFyaWFibGVzLmluY2x1ZGVzKGtleSkgJiYga2V5ICE9PSBcInN0b3BcIik7XG4gICAgaWYgKHByb21wdElucHV0S2V5cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPbmUgaW5wdXQga2V5IGV4cGVjdGVkLCBidXQgZ290ICR7cHJvbXB0SW5wdXRLZXlzLmxlbmd0aH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21wdElucHV0S2V5c1swXTtcbn1cbiIsICJpbXBvcnQgeyBnZXRCdWZmZXJTdHJpbmcgfSBmcm9tIFwiLi4vLi4vbWVtb3J5L2Jhc2UuanNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vLi4vdXRpbC9lbnYuanNcIjtcbmltcG9ydCB7IEJhc2VUcmFjZXIgfSBmcm9tIFwiLi90cmFjZXIuanNcIjtcbmV4cG9ydCBjbGFzcyBMYW5nQ2hhaW5UcmFjZXJWMSBleHRlbmRzIEJhc2VUcmFjZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImxhbmdjaGFpbl90cmFjZXJcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZW5kcG9pbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fRU5EUE9JTlRcIikgfHwgXCJodHRwOi8vbG9jYWxob3N0OjE5ODRcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVhZGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2Vzc2lvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhcGlLZXkgPSBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX0FQSV9LRVlcIik7XG4gICAgICAgIGlmIChhcGlLZXkpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1tcIngtYXBpLWtleVwiXSA9IGFwaUtleTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBuZXdTZXNzaW9uKHNlc3Npb25OYW1lKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb25DcmVhdGUgPSB7XG4gICAgICAgICAgICBzdGFydF90aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgbmFtZTogc2Vzc2lvbk5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLnBlcnNpc3RTZXNzaW9uKHNlc3Npb25DcmVhdGUpO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICB9XG4gICAgYXN5bmMgbG9hZFNlc3Npb24oc2Vzc2lvbk5hbWUpIHtcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLmVuZHBvaW50fS9zZXNzaW9ucz9uYW1lPSR7c2Vzc2lvbk5hbWV9YDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVNlc3Npb25SZXNwb25zZShlbmRwb2ludCk7XG4gICAgfVxuICAgIGFzeW5jIGxvYWREZWZhdWx0U2Vzc2lvbigpIHtcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLmVuZHBvaW50fS9zZXNzaW9ucz9uYW1lPWRlZmF1bHRgO1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlU2Vzc2lvblJlc3BvbnNlKGVuZHBvaW50KTtcbiAgICB9XG4gICAgYXN5bmMgY29udmVydFYyUnVuVG9SdW4ocnVuKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSB0aGlzLnNlc3Npb24gPz8gKGF3YWl0IHRoaXMubG9hZERlZmF1bHRTZXNzaW9uKCkpO1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkID0gcnVuLnNlcmlhbGl6ZWQ7XG4gICAgICAgIGxldCBydW5SZXN1bHQ7XG4gICAgICAgIGlmIChydW4ucnVuX3R5cGUgPT09IFwibGxtXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdHMgPSBydW4uaW5wdXRzLnByb21wdHNcbiAgICAgICAgICAgICAgICA/IHJ1bi5pbnB1dHMucHJvbXB0c1xuICAgICAgICAgICAgICAgIDogcnVuLmlucHV0cy5tZXNzYWdlcy5tYXAoKHgpID0+IGdldEJ1ZmZlclN0cmluZyh4KSk7XG4gICAgICAgICAgICBjb25zdCBsbG1SdW4gPSB7XG4gICAgICAgICAgICAgICAgdXVpZDogcnVuLmlkLFxuICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWU6IHJ1bi5zdGFydF90aW1lLFxuICAgICAgICAgICAgICAgIGVuZF90aW1lOiBydW4uZW5kX3RpbWUsXG4gICAgICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyOiBydW4uZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgICAgIGNoaWxkX2V4ZWN1dGlvbl9vcmRlcjogcnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJ1bi5ydW5fdHlwZSxcbiAgICAgICAgICAgICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uLmlkLFxuICAgICAgICAgICAgICAgIHByb21wdHMsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IHJ1bi5vdXRwdXRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJ1blJlc3VsdCA9IGxsbVJ1bjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChydW4ucnVuX3R5cGUgPT09IFwiY2hhaW5cIikge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRfcnVucyA9IGF3YWl0IFByb21pc2UuYWxsKHJ1bi5jaGlsZF9ydW5zLm1hcCgoY2hpbGRfcnVuKSA9PiB0aGlzLmNvbnZlcnRWMlJ1blRvUnVuKGNoaWxkX3J1bikpKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYWluUnVuID0ge1xuICAgICAgICAgICAgICAgIHV1aWQ6IHJ1bi5pZCxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiBydW4uc3RhcnRfdGltZSxcbiAgICAgICAgICAgICAgICBlbmRfdGltZTogcnVuLmVuZF90aW1lLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGlvbl9vcmRlcjogcnVuLmV4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgICAgICBjaGlsZF9leGVjdXRpb25fb3JkZXI6IHJ1bi5jaGlsZF9leGVjdXRpb25fb3JkZXIsXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBydW4ucnVuX3R5cGUsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICBpbnB1dHM6IHJ1bi5pbnB1dHMsXG4gICAgICAgICAgICAgICAgb3V0cHV0czogcnVuLm91dHB1dHMsXG4gICAgICAgICAgICAgICAgY2hpbGRfbGxtX3J1bnM6IGNoaWxkX3J1bnMuZmlsdGVyKChjaGlsZF9ydW4pID0+IGNoaWxkX3J1bi50eXBlID09PSBcImxsbVwiKSxcbiAgICAgICAgICAgICAgICBjaGlsZF9jaGFpbl9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJjaGFpblwiKSxcbiAgICAgICAgICAgICAgICBjaGlsZF90b29sX3J1bnM6IGNoaWxkX3J1bnMuZmlsdGVyKChjaGlsZF9ydW4pID0+IGNoaWxkX3J1bi50eXBlID09PSBcInRvb2xcIiksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcnVuUmVzdWx0ID0gY2hhaW5SdW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocnVuLnJ1bl90eXBlID09PSBcInRvb2xcIikge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRfcnVucyA9IGF3YWl0IFByb21pc2UuYWxsKHJ1bi5jaGlsZF9ydW5zLm1hcCgoY2hpbGRfcnVuKSA9PiB0aGlzLmNvbnZlcnRWMlJ1blRvUnVuKGNoaWxkX3J1bikpKTtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xSdW4gPSB7XG4gICAgICAgICAgICAgICAgdXVpZDogcnVuLmlkLFxuICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWU6IHJ1bi5zdGFydF90aW1lLFxuICAgICAgICAgICAgICAgIGVuZF90aW1lOiBydW4uZW5kX3RpbWUsXG4gICAgICAgICAgICAgICAgZXhlY3V0aW9uX29yZGVyOiBydW4uZXhlY3V0aW9uX29yZGVyLFxuICAgICAgICAgICAgICAgIGNoaWxkX2V4ZWN1dGlvbl9vcmRlcjogcnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlcixcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJ1bi5ydW5fdHlwZSxcbiAgICAgICAgICAgICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uLmlkLFxuICAgICAgICAgICAgICAgIHRvb2xfaW5wdXQ6IHJ1bi5pbnB1dHMuaW5wdXQsXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBydW4ub3V0cHV0cz8ub3V0cHV0LFxuICAgICAgICAgICAgICAgIGFjdGlvbjogSlNPTi5zdHJpbmdpZnkoc2VyaWFsaXplZCksXG4gICAgICAgICAgICAgICAgY2hpbGRfbGxtX3J1bnM6IGNoaWxkX3J1bnMuZmlsdGVyKChjaGlsZF9ydW4pID0+IGNoaWxkX3J1bi50eXBlID09PSBcImxsbVwiKSxcbiAgICAgICAgICAgICAgICBjaGlsZF9jaGFpbl9ydW5zOiBjaGlsZF9ydW5zLmZpbHRlcigoY2hpbGRfcnVuKSA9PiBjaGlsZF9ydW4udHlwZSA9PT0gXCJjaGFpblwiKSxcbiAgICAgICAgICAgICAgICBjaGlsZF90b29sX3J1bnM6IGNoaWxkX3J1bnMuZmlsdGVyKChjaGlsZF9ydW4pID0+IGNoaWxkX3J1bi50eXBlID09PSBcInRvb2xcIiksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcnVuUmVzdWx0ID0gdG9vbFJ1bjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBydW4gdHlwZTogJHtydW4ucnVuX3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1blJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgcGVyc2lzdFJ1bihydW4pIHtcbiAgICAgICAgbGV0IGVuZHBvaW50O1xuICAgICAgICBsZXQgdjFSdW47XG4gICAgICAgIGlmIChydW4ucnVuX3R5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdjFSdW4gPSBhd2FpdCB0aGlzLmNvbnZlcnRWMlJ1blRvUnVuKHJ1bik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2MVJ1biA9IHJ1bjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodjFSdW4udHlwZSA9PT0gXCJsbG1cIikge1xuICAgICAgICAgICAgZW5kcG9pbnQgPSBgJHt0aGlzLmVuZHBvaW50fS9sbG0tcnVuc2A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodjFSdW4udHlwZSA9PT0gXCJjaGFpblwiKSB7XG4gICAgICAgICAgICBlbmRwb2ludCA9IGAke3RoaXMuZW5kcG9pbnR9L2NoYWluLXJ1bnNgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW5kcG9pbnQgPSBgJHt0aGlzLmVuZHBvaW50fS90b29sLXJ1bnNgO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh2MVJ1biksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcGVyc2lzdCBydW46ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcGVyc2lzdFNlc3Npb24oc2Vzc2lvbkNyZWF0ZSkge1xuICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMuZW5kcG9pbnR9L3Nlc3Npb25zYDtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChlbmRwb2ludCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNlc3Npb25DcmVhdGUpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBlcnNpc3Qgc2Vzc2lvbjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0sIHVzaW5nIGRlZmF1bHQgc2Vzc2lvbi5gKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICAgICAgLi4uc2Vzc2lvbkNyZWF0ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiAoYXdhaXQgcmVzcG9uc2UuanNvbigpKS5pZCxcbiAgICAgICAgICAgIC4uLnNlc3Npb25DcmVhdGUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIF9oYW5kbGVTZXNzaW9uUmVzcG9uc2UoZW5kcG9pbnQpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChlbmRwb2ludCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHRyYWNlclNlc3Npb247XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIHNlc3Npb246ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICB0cmFjZXJTZXNzaW9uID0ge1xuICAgICAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gdHJhY2VyU2Vzc2lvbjtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZXJTZXNzaW9uO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3AgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgaWYgKHJlc3AubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0cmFjZXJTZXNzaW9uID0ge1xuICAgICAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gdHJhY2VyU2Vzc2lvbjtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZXJTZXNzaW9uO1xuICAgICAgICB9XG4gICAgICAgIFt0cmFjZXJTZXNzaW9uXSA9IHJlc3A7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHRyYWNlclNlc3Npb247XG4gICAgICAgIHJldHVybiB0cmFjZXJTZXNzaW9uO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBMYW5nQ2hhaW5UcmFjZXIgfSBmcm9tIFwiLi90cmFjZXJfbGFuZ2NoYWluLmpzXCI7XG5pbXBvcnQgeyBMYW5nQ2hhaW5UcmFjZXJWMSB9IGZyb20gXCIuL3RyYWNlcl9sYW5nY2hhaW5fdjEuanNcIjtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUcmFjaW5nQ2FsbGJhY2tIYW5kbGVyKHNlc3Npb24pIHtcbiAgICBjb25zdCB0cmFjZXIgPSBuZXcgTGFuZ0NoYWluVHJhY2VyVjEoKTtcbiAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICBhd2FpdCB0cmFjZXIubG9hZFNlc3Npb24oc2Vzc2lvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhd2FpdCB0cmFjZXIubG9hZERlZmF1bHRTZXNzaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiB0cmFjZXI7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VHJhY2luZ1YyQ2FsbGJhY2tIYW5kbGVyKCkge1xuICAgIHJldHVybiBuZXcgTGFuZ0NoYWluVHJhY2VyKCk7XG59XG4iLCAiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IEJhc2VDYWxsYmFja0hhbmRsZXIgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyIH0gZnJvbSBcIi4vaGFuZGxlcnMvY29uc29sZS5qc1wiO1xuaW1wb3J0IHsgZ2V0VHJhY2luZ0NhbGxiYWNrSGFuZGxlciwgZ2V0VHJhY2luZ1YyQ2FsbGJhY2tIYW5kbGVyLCB9IGZyb20gXCIuL2hhbmRsZXJzL2luaXRpYWxpemUuanNcIjtcbmltcG9ydCB7IGdldEJ1ZmZlclN0cmluZyB9IGZyb20gXCIuLi9tZW1vcnkvYmFzZS5qc1wiO1xuaW1wb3J0IHsgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZSB9IGZyb20gXCIuLi91dGlsL2Vudi5qc1wiO1xuZXhwb3J0IGNsYXNzIEJhc2VDYWxsYmFja01hbmFnZXIge1xuICAgIHNldEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRIYW5kbGVycyhbaGFuZGxlcl0pO1xuICAgIH1cbn1cbmNsYXNzIEJhc2VSdW5NYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihydW5JZCwgaGFuZGxlcnMsIGluaGVyaXRhYmxlSGFuZGxlcnMsIF9wYXJlbnRSdW5JZCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJydW5JZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogcnVuSWRcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhhbmRsZXJzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBoYW5kbGVyc1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5oZXJpdGFibGVIYW5kbGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogaW5oZXJpdGFibGVIYW5kbGVyc1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhcmVudFJ1bklkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBfcGFyZW50UnVuSWRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRleHQodGV4dCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcChhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZVRleHQ/Lih0ZXh0LCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVRleHQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhbGxiYWNrTWFuYWdlckZvckxMTVJ1biBleHRlbmRzIEJhc2VSdW5NYW5hZ2VyIHtcbiAgICBhc3luYyBoYW5kbGVMTE1OZXdUb2tlbih0b2tlbikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcChhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZUxMTSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlTExNTmV3VG9rZW4/Lih0b2tlbiwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1OZXdUb2tlbjogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUxMTUVycm9yKGVycikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcChhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZUxMTSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlTExNRXJyb3I/LihlcnIsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlTExNRXJyb3I6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVMTE1FbmQob3V0cHV0KSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlTExNKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVMTE1FbmQ/LihvdXRwdXQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlTExNRW5kOiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2FsbGJhY2tNYW5hZ2VyRm9yQ2hhaW5SdW4gZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG4gICAgZ2V0Q2hpbGQoKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIodGhpcy5ydW5JZCk7XG4gICAgICAgIG1hbmFnZXIuc2V0SGFuZGxlcnModGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzKTtcbiAgICAgICAgcmV0dXJuIG1hbmFnZXI7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRXJyb3IoZXJyKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluRXJyb3I/LihlcnIsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlQ2hhaW5FcnJvcjogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYWluRW5kKG91dHB1dCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcChhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZUNoYWluKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVDaGFpbkVuZD8uKG91dHB1dCwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDaGFpbkVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50QWN0aW9uKGFjdGlvbikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcChhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZUFnZW50KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVBZ2VudEFjdGlvbj8uKGFjdGlvbiwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVBZ2VudEFjdGlvbjogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUFnZW50RW5kKGFjdGlvbikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcChhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZUFnZW50KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVBZ2VudEVuZD8uKGFjdGlvbiwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVBZ2VudEVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhbGxiYWNrTWFuYWdlckZvclRvb2xSdW4gZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG4gICAgZ2V0Q2hpbGQoKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIodGhpcy5ydW5JZCk7XG4gICAgICAgIG1hbmFnZXIuc2V0SGFuZGxlcnModGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzKTtcbiAgICAgICAgcmV0dXJuIG1hbmFnZXI7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRvb2xFcnJvcihlcnIpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoYXN5bmMgKGhhbmRsZXIpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlVG9vbEVycm9yPy4oZXJyLCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVRvb2xFcnJvcjogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRvb2xFbmQob3V0cHV0KSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQWdlbnQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZVRvb2xFbmQ/LihvdXRwdXQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlVG9vbEVuZDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhbGxiYWNrTWFuYWdlciBleHRlbmRzIEJhc2VDYWxsYmFja01hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudFJ1bklkKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhhbmRsZXJzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaGVyaXRhYmxlSGFuZGxlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJjYWxsYmFja19tYW5hZ2VyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9wYXJlbnRSdW5JZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLl9wYXJlbnRSdW5JZCA9IHBhcmVudFJ1bklkO1xuICAgIH1cbiAgICBhc3luYyBoYW5kbGVMTE1TdGFydChsbG0sIHByb21wdHMsIHJ1bklkID0gdXVpZHY0KCksIF9wYXJlbnRSdW5JZCA9IHVuZGVmaW5lZCwgZXh0cmFQYXJhbXMgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoYXN5bmMgKGhhbmRsZXIpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlci5pZ25vcmVMTE0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUxMTVN0YXJ0Py4obGxtLCBwcm9tcHRzLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlTExNU3RhcnQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYXRNb2RlbFN0YXJ0KGxsbSwgbWVzc2FnZXMsIHJ1bklkID0gdXVpZHY0KCksIF9wYXJlbnRSdW5JZCA9IHVuZGVmaW5lZCwgZXh0cmFQYXJhbXMgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2VTdHJpbmdzO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcChhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZUxMTSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyLmhhbmRsZUNoYXRNb2RlbFN0YXJ0KVxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVDaGF0TW9kZWxTdGFydD8uKGxsbSwgbWVzc2FnZXMsIHJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChoYW5kbGVyLmhhbmRsZUxMTVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlU3RyaW5ncyA9IG1lc3NhZ2VzLm1hcCgoeCkgPT4gZ2V0QnVmZmVyU3RyaW5nKHgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIuaGFuZGxlTExNU3RhcnQ/LihsbG0sIG1lc3NhZ2VTdHJpbmdzLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1TdGFydDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBuZXcgQ2FsbGJhY2tNYW5hZ2VyRm9yTExNUnVuKHJ1bklkLCB0aGlzLmhhbmRsZXJzLCB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlQ2hhaW5TdGFydChjaGFpbiwgaW5wdXRzLCBydW5JZCA9IHV1aWR2NCgpKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIuaWdub3JlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluU3RhcnQ/LihjaGFpbiwgaW5wdXRzLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDaGFpblN0YXJ0OiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDYWxsYmFja01hbmFnZXJGb3JDaGFpblJ1bihydW5JZCwgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVRvb2xTdGFydCh0b29sLCBpbnB1dCwgcnVuSWQgPSB1dWlkdjQoKSkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcChhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyLmlnbm9yZUFnZW50KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlci5oYW5kbGVUb29sU3RhcnQ/Lih0b29sLCBpbnB1dCwgcnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlVG9vbFN0YXJ0OiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDYWxsYmFja01hbmFnZXJGb3JUb29sUnVuKHJ1bklkLCB0aGlzLmhhbmRsZXJzLCB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMsIHRoaXMuX3BhcmVudFJ1bklkKTtcbiAgICB9XG4gICAgYWRkSGFuZGxlcihoYW5kbGVyLCBpbmhlcml0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmIChpbmhlcml0KSB7XG4gICAgICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKChfaGFuZGxlcikgPT4gX2hhbmRsZXIgIT09IGhhbmRsZXIpO1xuICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMgPSB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMuZmlsdGVyKChfaGFuZGxlcikgPT4gX2hhbmRsZXIgIT09IGhhbmRsZXIpO1xuICAgIH1cbiAgICBzZXRIYW5kbGVycyhoYW5kbGVycywgaW5oZXJpdCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIGhhbmRsZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEhhbmRsZXIoaGFuZGxlciwgaW5oZXJpdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29weShhZGRpdGlvbmFsSGFuZGxlcnMgPSBbXSwgaW5oZXJpdCA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIodGhpcy5fcGFyZW50UnVuSWQpO1xuICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5oYW5kbGVycykge1xuICAgICAgICAgICAgY29uc3QgaW5oZXJpdGFibGUgPSB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMuaW5jbHVkZXMoaGFuZGxlcik7XG4gICAgICAgICAgICBtYW5hZ2VyLmFkZEhhbmRsZXIoaGFuZGxlciwgaW5oZXJpdGFibGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiBhZGRpdGlvbmFsSGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC8vIFByZXZlbnQgbXVsdGlwbGUgY29waWVzIG9mIGNvbnNvbGVfY2FsbGJhY2tfaGFuZGxlclxuICAgICAgICAgICAgbWFuYWdlci5oYW5kbGVyc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGgpID0+IGgubmFtZSA9PT0gXCJjb25zb2xlX2NhbGxiYWNrX2hhbmRsZXJcIilcbiAgICAgICAgICAgICAgICAuc29tZSgoaCkgPT4gaC5uYW1lID09PSBoYW5kbGVyLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYW5hZ2VyLmFkZEhhbmRsZXIoaGFuZGxlciwgaW5oZXJpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hbmFnZXI7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tSGFuZGxlcnMoaGFuZGxlcnMpIHtcbiAgICAgICAgY2xhc3MgSGFuZGxlciBleHRlbmRzIEJhc2VDYWxsYmFja0hhbmRsZXIge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHV1aWR2NCgpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBoYW5kbGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWFuYWdlciA9IG5ldyB0aGlzKCk7XG4gICAgICAgIG1hbmFnZXIuYWRkSGFuZGxlcihuZXcgSGFuZGxlcigpKTtcbiAgICAgICAgcmV0dXJuIG1hbmFnZXI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBjb25maWd1cmUoaW5oZXJpdGFibGVIYW5kbGVycywgbG9jYWxIYW5kbGVycywgb3B0aW9ucykge1xuICAgICAgICBsZXQgY2FsbGJhY2tNYW5hZ2VyO1xuICAgICAgICBpZiAoaW5oZXJpdGFibGVIYW5kbGVycyB8fCBsb2NhbEhhbmRsZXJzKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbmhlcml0YWJsZUhhbmRsZXJzKSB8fCAhaW5oZXJpdGFibGVIYW5kbGVycykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIoKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFja01hbmFnZXIuc2V0SGFuZGxlcnMoaW5oZXJpdGFibGVIYW5kbGVycz8ubWFwKGVuc3VyZUhhbmRsZXIpID8/IFtdLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlciA9IGluaGVyaXRhYmxlSGFuZGxlcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsYmFja01hbmFnZXIgPSBjYWxsYmFja01hbmFnZXIuY29weShBcnJheS5pc0FycmF5KGxvY2FsSGFuZGxlcnMpXG4gICAgICAgICAgICAgICAgPyBsb2NhbEhhbmRsZXJzLm1hcChlbnN1cmVIYW5kbGVyKVxuICAgICAgICAgICAgICAgIDogbG9jYWxIYW5kbGVycz8uaGFuZGxlcnMsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ZXJib3NlRW5hYmxlZCA9IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fVkVSQk9TRVwiKSB8fCBvcHRpb25zPy52ZXJib3NlO1xuICAgICAgICBjb25zdCB0cmFjaW5nVjJFbmFibGVkID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9UUkFDSU5HX1YyXCIpID8/IGZhbHNlO1xuICAgICAgICBjb25zdCB0cmFjaW5nRW5hYmxlZCA9IHRyYWNpbmdWMkVuYWJsZWQgfHxcbiAgICAgICAgICAgIChnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1RSQUNJTkdcIikgPz8gZmFsc2UpO1xuICAgICAgICBpZiAodmVyYm9zZUVuYWJsZWQgfHwgdHJhY2luZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmICghY2FsbGJhY2tNYW5hZ2VyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tNYW5hZ2VyID0gbmV3IENhbGxiYWNrTWFuYWdlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZlcmJvc2VFbmFibGVkICYmXG4gICAgICAgICAgICAgICAgIWNhbGxiYWNrTWFuYWdlci5oYW5kbGVycy5zb21lKChoYW5kbGVyKSA9PiBoYW5kbGVyLm5hbWUgPT09IENvbnNvbGVDYWxsYmFja0hhbmRsZXIucHJvdG90eXBlLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uc29sZUhhbmRsZXIgPSBuZXcgQ29uc29sZUNhbGxiYWNrSGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKGNvbnNvbGVIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFjaW5nRW5hYmxlZCAmJlxuICAgICAgICAgICAgICAgICFjYWxsYmFja01hbmFnZXIuaGFuZGxlcnMuc29tZSgoaGFuZGxlcikgPT4gaGFuZGxlci5uYW1lID09PSBcImxhbmdjaGFpbl90cmFjZXJcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2luZ1YyRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja01hbmFnZXIuYWRkSGFuZGxlcihhd2FpdCBnZXRUcmFjaW5nVjJDYWxsYmFja0hhbmRsZXIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9TRVNTSU9OXCIpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja01hbmFnZXIuYWRkSGFuZGxlcihhd2FpdCBnZXRUcmFjaW5nQ2FsbGJhY2tIYW5kbGVyKHNlc3Npb24pLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrTWFuYWdlcjtcbiAgICB9XG59XG5mdW5jdGlvbiBlbnN1cmVIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICBpZiAoXCJuYW1lXCIgaW4gaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gaGFuZGxlcjtcbiAgICB9XG4gICAgcmV0dXJuIEJhc2VDYWxsYmFja0hhbmRsZXIuZnJvbU1ldGhvZHMoaGFuZGxlcik7XG59XG4iLCAidmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ge1xuICBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG5leHBvcnQgeyBfX3B1YmxpY0ZpZWxkIH07XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aCkpKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCAiaW1wb3J0IHsgX19wdWJsaWNGaWVsZCB9IGZyb20gJy4vY2h1bmstWFhQR1pIV1ouanMnO1xuaW1wb3J0IGJhc2U2NCBmcm9tICdiYXNlNjQtanMnO1xuXG4vLyBzcmMvdXRpbHMudHNcbmZ1bmN0aW9uIG5ldmVyKF8pIHtcbn1cbmZ1bmN0aW9uIGJ5dGVQYWlyTWVyZ2UocGllY2UsIHJhbmtzKSB7XG4gIGxldCBwYXJ0cyA9IEFycmF5LmZyb20oXG4gICAgeyBsZW5ndGg6IHBpZWNlLmxlbmd0aCB9LFxuICAgIChfLCBpKSA9PiAoeyBzdGFydDogaSwgZW5kOiBpICsgMSB9KVxuICApO1xuICB3aGlsZSAocGFydHMubGVuZ3RoID4gMSkge1xuICAgIGxldCBtaW5SYW5rID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY29uc3Qgc2xpY2UgPSBwaWVjZS5zbGljZShwYXJ0c1tpXS5zdGFydCwgcGFydHNbaSArIDFdLmVuZCk7XG4gICAgICBjb25zdCByYW5rID0gcmFua3MuZ2V0KHNsaWNlLmpvaW4oXCIsXCIpKTtcbiAgICAgIGlmIChyYW5rID09IG51bGwpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgaWYgKG1pblJhbmsgPT0gbnVsbCB8fCByYW5rIDwgbWluUmFua1swXSkge1xuICAgICAgICBtaW5SYW5rID0gW3JhbmssIGldO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWluUmFuayAhPSBudWxsKSB7XG4gICAgICBjb25zdCBpID0gbWluUmFua1sxXTtcbiAgICAgIHBhcnRzW2ldID0geyBzdGFydDogcGFydHNbaV0uc3RhcnQsIGVuZDogcGFydHNbaSArIDFdLmVuZCB9O1xuICAgICAgcGFydHMuc3BsaWNlKGkgKyAxLCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIGJ5dGVQYWlyRW5jb2RlKHBpZWNlLCByYW5rcykge1xuICBpZiAocGllY2UubGVuZ3RoID09PSAxKVxuICAgIHJldHVybiBbcmFua3MuZ2V0KHBpZWNlLmpvaW4oXCIsXCIpKV07XG4gIHJldHVybiBieXRlUGFpck1lcmdlKHBpZWNlLCByYW5rcykubWFwKChwKSA9PiByYW5rcy5nZXQocGllY2Uuc2xpY2UocC5zdGFydCwgcC5lbmQpLmpvaW4oXCIsXCIpKSkuZmlsdGVyKCh4KSA9PiB4ICE9IG51bGwpO1xufVxuZnVuY3Rpb24gZXNjYXBlUmVnZXgoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcXFxeJCorPy4oKXxbXFxde31dL2csIFwiXFxcXCQmXCIpO1xufVxudmFyIF9UaWt0b2tlbiA9IGNsYXNzIHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzcGVjaWFsVG9rZW5zO1xuICAvKiogQGludGVybmFsICovXG4gIGludmVyc2VTcGVjaWFsVG9rZW5zO1xuICAvKiogQGludGVybmFsICovXG4gIHBhdFN0cjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAvKiogQGludGVybmFsICovXG4gIHRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIik7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcmFua01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgdGV4dE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0cnVjdG9yKHJhbmtzLCBleHRlbmRlZFNwZWNpYWxUb2tlbnMpIHtcbiAgICB0aGlzLnBhdFN0ciA9IHJhbmtzLnBhdF9zdHI7XG4gICAgY29uc3QgdW5jb21wcmVzc2VkID0gcmFua3MuYnBlX3JhbmtzLnNwbGl0KFwiXFxuXCIpLmZpbHRlcihCb29sZWFuKS5yZWR1Y2UoKG1lbW8sIHgpID0+IHtcbiAgICAgIGNvbnN0IFtfLCBvZmZzZXRTdHIsIC4uLnRva2Vuc10gPSB4LnNwbGl0KFwiIFwiKTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IE51bWJlci5wYXJzZUludChvZmZzZXRTdHIsIDEwKTtcbiAgICAgIHRva2Vucy5mb3JFYWNoKCh0b2tlbiwgaSkgPT4gbWVtb1t0b2tlbl0gPSBvZmZzZXQgKyBpKTtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIHt9KTtcbiAgICBmb3IgKGNvbnN0IFt0b2tlbiwgcmFua10gb2YgT2JqZWN0LmVudHJpZXModW5jb21wcmVzc2VkKSkge1xuICAgICAgY29uc3QgYnl0ZXMgPSBiYXNlNjQudG9CeXRlQXJyYXkodG9rZW4pO1xuICAgICAgdGhpcy5yYW5rTWFwLnNldChieXRlcy5qb2luKFwiLFwiKSwgcmFuayk7XG4gICAgICB0aGlzLnRleHRNYXAuc2V0KHJhbmssIGJ5dGVzKTtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWFsVG9rZW5zID0geyAuLi5yYW5rcy5zcGVjaWFsX3Rva2VucywgLi4uZXh0ZW5kZWRTcGVjaWFsVG9rZW5zIH07XG4gICAgdGhpcy5pbnZlcnNlU3BlY2lhbFRva2VucyA9IE9iamVjdC5lbnRyaWVzKHRoaXMuc3BlY2lhbFRva2VucykucmVkdWNlKChtZW1vLCBbdGV4dCwgcmFua10pID0+IHtcbiAgICAgIG1lbW9bcmFua10gPSB0aGlzLnRleHRFbmNvZGVyLmVuY29kZSh0ZXh0KTtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIHt9KTtcbiAgfVxuICBlbmNvZGUodGV4dCwgYWxsb3dlZFNwZWNpYWwgPSBbXSwgZGlzYWxsb3dlZFNwZWNpYWwgPSBcImFsbFwiKSB7XG4gICAgY29uc3QgcmVnZXhlcyA9IG5ldyBSZWdFeHAodGhpcy5wYXRTdHIsIFwidWdcIik7XG4gICAgY29uc3Qgc3BlY2lhbFJlZ2V4ID0gX1Rpa3Rva2VuLnNwZWNpYWxUb2tlblJlZ2V4KFxuICAgICAgT2JqZWN0LmtleXModGhpcy5zcGVjaWFsVG9rZW5zKVxuICAgICk7XG4gICAgY29uc3QgcmV0ID0gW107XG4gICAgY29uc3QgYWxsb3dlZFNwZWNpYWxTZXQgPSBuZXcgU2V0KFxuICAgICAgYWxsb3dlZFNwZWNpYWwgPT09IFwiYWxsXCIgPyBPYmplY3Qua2V5cyh0aGlzLnNwZWNpYWxUb2tlbnMpIDogYWxsb3dlZFNwZWNpYWxcbiAgICApO1xuICAgIGNvbnN0IGRpc2FsbG93ZWRTcGVjaWFsU2V0ID0gbmV3IFNldChcbiAgICAgIGRpc2FsbG93ZWRTcGVjaWFsID09PSBcImFsbFwiID8gT2JqZWN0LmtleXModGhpcy5zcGVjaWFsVG9rZW5zKS5maWx0ZXIoXG4gICAgICAgICh4KSA9PiAhYWxsb3dlZFNwZWNpYWxTZXQuaGFzKHgpXG4gICAgICApIDogZGlzYWxsb3dlZFNwZWNpYWxcbiAgICApO1xuICAgIGlmIChkaXNhbGxvd2VkU3BlY2lhbFNldC5zaXplID4gMCkge1xuICAgICAgY29uc3QgZGlzYWxsb3dlZFNwZWNpYWxSZWdleCA9IF9UaWt0b2tlbi5zcGVjaWFsVG9rZW5SZWdleChbXG4gICAgICAgIC4uLmRpc2FsbG93ZWRTcGVjaWFsU2V0XG4gICAgICBdKTtcbiAgICAgIGNvbnN0IHNwZWNpYWxNYXRjaCA9IHRleHQubWF0Y2goZGlzYWxsb3dlZFNwZWNpYWxSZWdleCk7XG4gICAgICBpZiAoc3BlY2lhbE1hdGNoICE9IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBUaGUgdGV4dCBjb250YWlucyBhIHNwZWNpYWwgdG9rZW4gdGhhdCBpcyBub3QgYWxsb3dlZDogJHtzcGVjaWFsTWF0Y2hbMF19YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgbmV4dFNwZWNpYWwgPSBudWxsO1xuICAgICAgbGV0IHN0YXJ0RmluZCA9IHN0YXJ0O1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgc3BlY2lhbFJlZ2V4Lmxhc3RJbmRleCA9IHN0YXJ0RmluZDtcbiAgICAgICAgbmV4dFNwZWNpYWwgPSBzcGVjaWFsUmVnZXguZXhlYyh0ZXh0KTtcbiAgICAgICAgaWYgKG5leHRTcGVjaWFsID09IG51bGwgfHwgYWxsb3dlZFNwZWNpYWxTZXQuaGFzKG5leHRTcGVjaWFsWzBdKSlcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgc3RhcnRGaW5kID0gbmV4dFNwZWNpYWwuaW5kZXggKyAxO1xuICAgICAgfVxuICAgICAgY29uc3QgZW5kID0gbmV4dFNwZWNpYWw/LmluZGV4ID8/IHRleHQubGVuZ3RoO1xuICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiB0ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKS5tYXRjaEFsbChyZWdleGVzKSkge1xuICAgICAgICBjb25zdCBwaWVjZSA9IHRoaXMudGV4dEVuY29kZXIuZW5jb2RlKG1hdGNoWzBdKTtcbiAgICAgICAgY29uc3QgdG9rZW4yID0gdGhpcy5yYW5rTWFwLmdldChwaWVjZS5qb2luKFwiLFwiKSk7XG4gICAgICAgIGlmICh0b2tlbjIgIT0gbnVsbCkge1xuICAgICAgICAgIHJldC5wdXNoKHRva2VuMik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0LnB1c2goLi4uYnl0ZVBhaXJFbmNvZGUocGllY2UsIHRoaXMucmFua01hcCkpO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRTcGVjaWFsID09IG51bGwpXG4gICAgICAgIGJyZWFrO1xuICAgICAgbGV0IHRva2VuID0gdGhpcy5zcGVjaWFsVG9rZW5zW25leHRTcGVjaWFsWzBdXTtcbiAgICAgIHJldC5wdXNoKHRva2VuKTtcbiAgICAgIHN0YXJ0ID0gbmV4dFNwZWNpYWwuaW5kZXggKyBuZXh0U3BlY2lhbFswXS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgZGVjb2RlKHRva2Vucykge1xuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIGxldCBsZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCB0b2tlbnMubGVuZ3RoOyArK2kyKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1tpMl07XG4gICAgICBjb25zdCBieXRlcyA9IHRoaXMudGV4dE1hcC5nZXQodG9rZW4pID8/IHRoaXMuaW52ZXJzZVNwZWNpYWxUb2tlbnNbdG9rZW5dO1xuICAgICAgaWYgKGJ5dGVzICE9IG51bGwpIHtcbiAgICAgICAgcmVzLnB1c2goYnl0ZXMpO1xuICAgICAgICBsZW5ndGggKz0gYnl0ZXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBtZXJnZWRBcnJheSA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgYnl0ZXMgb2YgcmVzKSB7XG4gICAgICBtZXJnZWRBcnJheS5zZXQoYnl0ZXMsIGkpO1xuICAgICAgaSArPSBieXRlcy5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRleHREZWNvZGVyLmRlY29kZShtZXJnZWRBcnJheSk7XG4gIH1cbn07XG52YXIgVGlrdG9rZW4gPSBfVGlrdG9rZW47XG5fX3B1YmxpY0ZpZWxkKFRpa3Rva2VuLCBcInNwZWNpYWxUb2tlblJlZ2V4XCIsICh0b2tlbnMpID0+IHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAodG9rZW5zLm1hcCgoaSkgPT4gZXNjYXBlUmVnZXgoaSkpLmpvaW4oXCJ8XCIpLCBcImdcIik7XG59KTtcbmZ1bmN0aW9uIGdldEVuY29kaW5nTmFtZUZvck1vZGVsKG1vZGVsKSB7XG4gIHN3aXRjaCAobW9kZWwpIHtcbiAgICBjYXNlIFwiZ3B0MlwiOiB7XG4gICAgICByZXR1cm4gXCJncHQyXCI7XG4gICAgfVxuICAgIGNhc2UgXCJjb2RlLWN1c2htYW4tMDAxXCI6XG4gICAgY2FzZSBcImNvZGUtY3VzaG1hbi0wMDJcIjpcbiAgICBjYXNlIFwiY29kZS1kYXZpbmNpLTAwMVwiOlxuICAgIGNhc2UgXCJjb2RlLWRhdmluY2ktMDAyXCI6XG4gICAgY2FzZSBcImN1c2htYW4tY29kZXhcIjpcbiAgICBjYXNlIFwiZGF2aW5jaS1jb2RleFwiOlxuICAgIGNhc2UgXCJ0ZXh0LWRhdmluY2ktMDAyXCI6XG4gICAgY2FzZSBcInRleHQtZGF2aW5jaS0wMDNcIjoge1xuICAgICAgcmV0dXJuIFwicDUwa19iYXNlXCI7XG4gICAgfVxuICAgIGNhc2UgXCJjb2RlLWRhdmluY2ktZWRpdC0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1kYXZpbmNpLWVkaXQtMDAxXCI6IHtcbiAgICAgIHJldHVybiBcInA1MGtfZWRpdFwiO1xuICAgIH1cbiAgICBjYXNlIFwiYWRhXCI6XG4gICAgY2FzZSBcImJhYmJhZ2VcIjpcbiAgICBjYXNlIFwiY29kZS1zZWFyY2gtYWRhLWNvZGUtMDAxXCI6XG4gICAgY2FzZSBcImNvZGUtc2VhcmNoLWJhYmJhZ2UtY29kZS0wMDFcIjpcbiAgICBjYXNlIFwiY3VyaWVcIjpcbiAgICBjYXNlIFwiZGF2aW5jaVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWFkYS0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1iYWJiYWdlLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWN1cmllLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LWRhdmluY2ktMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWFkYS1kb2MtMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWJhYmJhZ2UtZG9jLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNlYXJjaC1jdXJpZS1kb2MtMDAxXCI6XG4gICAgY2FzZSBcInRleHQtc2VhcmNoLWRhdmluY2ktZG9jLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktYWRhLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktYmFiYmFnZS0wMDFcIjpcbiAgICBjYXNlIFwidGV4dC1zaW1pbGFyaXR5LWN1cmllLTAwMVwiOlxuICAgIGNhc2UgXCJ0ZXh0LXNpbWlsYXJpdHktZGF2aW5jaS0wMDFcIjoge1xuICAgICAgcmV0dXJuIFwicjUwa19iYXNlXCI7XG4gICAgfVxuICAgIGNhc2UgXCJncHQtMy41LXR1cmJvLTAzMDFcIjpcbiAgICBjYXNlIFwiZ3B0LTMuNS10dXJib1wiOlxuICAgIGNhc2UgXCJncHQtNC0wMzE0XCI6XG4gICAgY2FzZSBcImdwdC00LTMyay0wMzE0XCI6XG4gICAgY2FzZSBcImdwdC00LTMya1wiOlxuICAgIGNhc2UgXCJncHQtNFwiOlxuICAgIGNhc2UgXCJ0ZXh0LWVtYmVkZGluZy1hZGEtMDAyXCI6IHtcbiAgICAgIHJldHVybiBcImNsMTAwa19iYXNlXCI7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG1vZGVsXCIpO1xuICB9XG59XG5cbmV4cG9ydCB7IFRpa3Rva2VuLCBnZXRFbmNvZGluZ05hbWVGb3JNb2RlbCwgbmV2ZXIgfTtcbiIsICJleHBvcnQgeyBUaWt0b2tlbiwgZ2V0RW5jb2RpbmdOYW1lRm9yTW9kZWwgfSBmcm9tICcuL2NodW5rLUhPUk9ERDVQLmpzJztcbmltcG9ydCAnLi9jaHVuay1YWFBHWkhXWi5qcyc7XG4iLCAiaW1wb3J0IHsgVGlrdG9rZW4sIGdldEVuY29kaW5nTmFtZUZvck1vZGVsLCB9IGZyb20gXCJqcy10aWt0b2tlbi9saXRlXCI7XG5pbXBvcnQgeyBBc3luY0NhbGxlciB9IGZyb20gXCIuL2FzeW5jX2NhbGxlci5qc1wiO1xuY29uc3QgY2FjaGUgPSB7fTtcbmNvbnN0IGNhbGxlciA9IC8qICNfX1BVUkVfXyAqLyBuZXcgQXN5bmNDYWxsZXIoe30pO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEVuY29kaW5nKGVuY29kaW5nLCBvcHRpb25zKSB7XG4gICAgaWYgKCEoZW5jb2RpbmcgaW4gY2FjaGUpKSB7XG4gICAgICAgIGNhY2hlW2VuY29kaW5nXSA9IGNhbGxlclxuICAgICAgICAgICAgLmZldGNoKGBodHRwczovL3Rpa3Rva2VuLnBhZ2VzLmRldi9qcy8ke2VuY29kaW5nfS5qc29uYCwge1xuICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zPy5zaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgY2FjaGVbZW5jb2RpbmddO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVGlrdG9rZW4oYXdhaXQgY2FjaGVbZW5jb2RpbmddLCBvcHRpb25zPy5leHRlbmRlZFNwZWNpYWxUb2tlbnMpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY29kaW5nRm9yTW9kZWwobW9kZWwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZ2V0RW5jb2RpbmcoZ2V0RW5jb2RpbmdOYW1lRm9yTW9kZWwobW9kZWwpLCBvcHRpb25zKTtcbn1cbiIsICJpbXBvcnQgeyBlbmNvZGluZ0Zvck1vZGVsIH0gZnJvbSBcIi4uL3V0aWwvdGlrdG9rZW4uanNcIjtcbi8vIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2pzLXRpa3Rva2VuXG5leHBvcnQgY29uc3QgZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4gPSAobW9kZWxOYW1lKSA9PiB7XG4gICAgaWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKFwiZ3B0LTMuNS10dXJiby1cIikpIHtcbiAgICAgICAgcmV0dXJuIFwiZ3B0LTMuNS10dXJib1wiO1xuICAgIH1cbiAgICBpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtNC0zMmstXCIpKSB7XG4gICAgICAgIHJldHVybiBcImdwdC00LTMya1wiO1xuICAgIH1cbiAgICBpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtNC1cIikpIHtcbiAgICAgICAgcmV0dXJuIFwiZ3B0LTRcIjtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGVsTmFtZTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RW1iZWRkaW5nQ29udGV4dFNpemUgPSAobW9kZWxOYW1lKSA9PiB7XG4gICAgc3dpdGNoIChtb2RlbE5hbWUpIHtcbiAgICAgICAgY2FzZSBcInRleHQtZW1iZWRkaW5nLWFkYS0wMDJcIjpcbiAgICAgICAgICAgIHJldHVybiA4MTkxO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIDIwNDY7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBnZXRNb2RlbENvbnRleHRTaXplID0gKG1vZGVsTmFtZSkgPT4ge1xuICAgIHN3aXRjaCAoZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4obW9kZWxOYW1lKSkge1xuICAgICAgICBjYXNlIFwiZ3B0LTMuNS10dXJib1wiOlxuICAgICAgICAgICAgcmV0dXJuIDQwOTY7XG4gICAgICAgIGNhc2UgXCJncHQtNC0zMmtcIjpcbiAgICAgICAgICAgIHJldHVybiAzMjc2ODtcbiAgICAgICAgY2FzZSBcImdwdC00XCI6XG4gICAgICAgICAgICByZXR1cm4gODE5MjtcbiAgICAgICAgY2FzZSBcInRleHQtZGF2aW5jaS0wMDNcIjpcbiAgICAgICAgICAgIHJldHVybiA0MDk3O1xuICAgICAgICBjYXNlIFwidGV4dC1jdXJpZS0wMDFcIjpcbiAgICAgICAgICAgIHJldHVybiAyMDQ4O1xuICAgICAgICBjYXNlIFwidGV4dC1iYWJiYWdlLTAwMVwiOlxuICAgICAgICAgICAgcmV0dXJuIDIwNDg7XG4gICAgICAgIGNhc2UgXCJ0ZXh0LWFkYS0wMDFcIjpcbiAgICAgICAgICAgIHJldHVybiAyMDQ4O1xuICAgICAgICBjYXNlIFwiY29kZS1kYXZpbmNpLTAwMlwiOlxuICAgICAgICAgICAgcmV0dXJuIDgwMDA7XG4gICAgICAgIGNhc2UgXCJjb2RlLWN1c2htYW4tMDAxXCI6XG4gICAgICAgICAgICByZXR1cm4gMjA0ODtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiA0MDk3O1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgY2FsY3VsYXRlTWF4VG9rZW5zID0gYXN5bmMgKHsgcHJvbXB0LCBtb2RlbE5hbWUsIH0pID0+IHtcbiAgICAvLyBmYWxsYmFjayB0byBhcHByb3hpbWF0ZSBjYWxjdWxhdGlvbiBpZiB0aWt0b2tlbiBpcyBub3QgYXZhaWxhYmxlXG4gICAgbGV0IG51bVRva2VucyA9IE1hdGguY2VpbChwcm9tcHQubGVuZ3RoIC8gNCk7XG4gICAgdHJ5IHtcbiAgICAgICAgbnVtVG9rZW5zID0gKGF3YWl0IGVuY29kaW5nRm9yTW9kZWwobW9kZWxOYW1lKSkuZW5jb2RlKHByb21wdCkubGVuZ3RoO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNhbGN1bGF0ZSBudW1iZXIgb2YgdG9rZW5zLCBmYWxsaW5nIGJhY2sgdG8gYXBwcm94aW1hdGUgY291bnRcIik7XG4gICAgfVxuICAgIGNvbnN0IG1heFRva2VucyA9IGdldE1vZGVsQ29udGV4dFNpemUobW9kZWxOYW1lKTtcbiAgICByZXR1cm4gbWF4VG9rZW5zIC0gbnVtVG9rZW5zO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQnVmZmVyKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwpICYmIHZhbC5jb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsLmNvbnN0cnVjdG9yKVxuICAgICYmIHR5cGVvZiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRm9ybURhdGFdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAoaXNBcnJheUJ1ZmZlcih2YWwuYnVmZmVyKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbCkge1xuICBpZiAodG9TdHJpbmcuY2FsbCh2YWwpICE9PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsKTtcbiAgcmV0dXJuIHByb3RvdHlwZSA9PT0gbnVsbCB8fCBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGU7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IFVSTFNlYXJjaFBhcmFtc10nO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIudHJpbSA/IHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqL1xuZnVuY3Rpb24gaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAobmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05hdGl2ZVNjcmlwdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05TJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAoaXNQbGFpbk9iamVjdChyZXN1bHRba2V5XSkgJiYgaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHt9LCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbC5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5mdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGE7XG59XG5cbi8qKlxuICogUmVtb3ZlIGJ5dGUgb3JkZXIgbWFya2VyLiBUaGlzIGNhdGNoZXMgRUYgQkIgQkYgKHRoZSBVVEYtOCBCT00pXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgd2l0aCBCT01cbiAqIEByZXR1cm4ge3N0cmluZ30gY29udGVudCB2YWx1ZSB3aXRob3V0IEJPTVxuICovXG5mdW5jdGlvbiBzdHJpcEJPTShjb250ZW50KSB7XG4gIGlmIChjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiBjb250ZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzUGxhaW5PYmplY3Q6IGlzUGxhaW5PYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbSxcbiAgc3RyaXBCT006IHN0cmlwQk9NXG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcbiAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IFt2YWxdO1xuICAgICAgfVxuXG4gICAgICB1dGlscy5mb3JFYWNoKHZhbCwgZnVuY3Rpb24gcGFyc2VWYWx1ZSh2KSB7XG4gICAgICAgIGlmICh1dGlscy5pc0RhdGUodikpIHtcbiAgICAgICAgICB2ID0gdi50b0lTT1N0cmluZygpO1xuICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgdiA9IEpTT04uc3RyaW5naWZ5KHYpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRzLnB1c2goZW5jb2RlKGtleSkgKyAnPScgKyBlbmNvZGUodikpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFydHMuam9pbignJicpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICB2YXIgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG4gICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG4gICAgfVxuXG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCwgb3B0aW9ucykge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZCxcbiAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICBydW5XaGVuOiBvcHRpb25zID8gb3B0aW9ucy5ydW5XaGVuIDogbnVsbFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuXG4gIGVycm9yLnJlcXVlc3QgPSByZXF1ZXN0O1xuICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICBlcnJvci5pc0F4aW9zRXJyb3IgPSB0cnVlO1xuXG4gIGVycm9yLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gU3RhbmRhcmRcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIC8vIE1pY3Jvc29mdFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuICAgICAgLy8gTW96aWxsYVxuICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG4gICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICAvLyBBeGlvc1xuICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgIHN0YXR1czogdGhpcy5yZXNwb25zZSAmJiB0aGlzLnJlc3BvbnNlLnN0YXR1cyA/IHRoaXMucmVzcG9uc2Uuc3RhdHVzIDogbnVsbFxuICAgIH07XG4gIH07XG4gIHJldHVybiBlcnJvcjtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2lsZW50SlNPTlBhcnNpbmc6IHRydWUsXG4gIGZvcmNlZEpTT05QYXJzaW5nOiB0cnVlLFxuICBjbGFyaWZ5VGltZW91dEVycm9yOiBmYWxzZVxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi9jcmVhdGVFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgICB2YXIgY29va2llID0gW107XG4gICAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwnKTtcbnZhciBjb21iaW5lVVJMcyA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvY29tYmluZVVSTHMnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBmdWxsIHBhdGhcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZEZ1bGxQYXRoKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCkge1xuICBpZiAoYmFzZVVSTCAmJiAhaXNBYnNvbHV0ZVVSTChyZXF1ZXN0ZWRVUkwpKSB7XG4gICAgcmV0dXJuIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCk7XG4gIH1cbiAgcmV0dXJuIHJlcXVlc3RlZFVSTDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuICAvLyB3aGV0aGVyIHRoZSByZXF1ZXN0IFVSTCBpcyBvZiB0aGUgc2FtZSBvcmlnaW4gYXMgY3VycmVudCBsb2NhdGlvbi5cbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgdmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgdmFyIG9yaWdpblVSTDtcblxuICAgICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICAgIH1cblxuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihyZXF1ZXN0VVJMKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4oKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIGBDYW5jZWxgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsKG1lc3NhZ2UpIHtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuQ2FuY2VsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gJ0NhbmNlbCcgKyAodGhpcy5tZXNzYWdlID8gJzogJyArIHRoaXMubWVzc2FnZSA6ICcnKTtcbn07XG5cbkNhbmNlbC5wcm90b3R5cGUuX19DQU5DRUxfXyA9IHRydWU7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIGJ1aWxkRnVsbFBhdGggPSByZXF1aXJlKCcuLi9jb3JlL2J1aWxkRnVsbFBhdGgnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi4vY29yZS9jcmVhdGVFcnJvcicpO1xudmFyIHRyYW5zaXRpb25hbERlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMvdHJhbnNpdGlvbmFsJyk7XG52YXIgQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL0NhbmNlbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhockFkYXB0ZXIoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG4gICAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG4gICAgdmFyIHJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgdmFyIG9uQ2FuY2VsZWQ7XG4gICAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgICAgY29uZmlnLmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29uZmlnLnNpZ25hbCkge1xuICAgICAgICBjb25maWcuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEocmVxdWVzdERhdGEpKSB7XG4gICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgPyB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoY29uZmlnLmF1dGgucGFzc3dvcmQpKSA6ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICBmdW5jdGlvbiBvbmxvYWRlbmQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8ICByZXNwb25zZVR5cGUgPT09ICdqc29uJyA/XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShmdW5jdGlvbiBfcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gX3JlamVjdChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCdvbmxvYWRlbmQnIGluIHJlcXVlc3QpIHtcbiAgICAgIC8vIFVzZSBvbmxvYWRlbmQgaWYgYXZhaWxhYmxlXG4gICAgICByZXF1ZXN0Lm9ubG9hZGVuZCA9IG9ubG9hZGVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZSB0byBlbXVsYXRlIG9ubG9hZGVuZFxuICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlYWR5c3RhdGUgaGFuZGxlciBpcyBjYWxsaW5nIGJlZm9yZSBvbmVycm9yIG9yIG9udGltZW91dCBoYW5kbGVycyxcbiAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGNhbGwgb25sb2FkZW5kIG9uIHRoZSBuZXh0ICd0aWNrJ1xuICAgICAgICBzZXRUaW1lb3V0KG9ubG9hZGVuZCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICB2YXIgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0ID8gJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyA6ICd0aW1lb3V0IGV4Y2VlZGVkJztcbiAgICAgIHZhciB0cmFuc2l0aW9uYWwgPSBjb25maWcudHJhbnNpdGlvbmFsIHx8IHRyYW5zaXRpb25hbERlZmF1bHRzO1xuICAgICAgaWYgKGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRpbWVvdXRFcnJvck1lc3NhZ2UgPSBjb25maWcudGltZW91dEVycm9yTWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcihcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICB0cmFuc2l0aW9uYWwuY2xhcmlmeVRpbWVvdXRFcnJvciA/ICdFVElNRURPVVQnIDogJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgdmFyIHhzcmZWYWx1ZSA9IChjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihmdWxsUGF0aCkpICYmIGNvbmZpZy54c3JmQ29va2llTmFtZSA/XG4gICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcbiAgICAgICAgdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIHJlcXVlc3RIZWFkZXJzW2NvbmZpZy54c3JmSGVhZGVyTmFtZV0gPSB4c3JmVmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMsIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0RGF0YSA9PT0gJ3VuZGVmaW5lZCcgJiYga2V5LnRvTG93ZXJDYXNlKCkgPT09ICdjb250ZW50LXR5cGUnKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1trZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE90aGVyd2lzZSBhZGQgaGVhZGVyIHRvIHRoZSByZXF1ZXN0XG4gICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gISFjb25maWcud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAocmVzcG9uc2VUeXBlICYmIHJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25VcGxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbiB8fCBjb25maWcuc2lnbmFsKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgb25DYW5jZWxlZCA9IGZ1bmN0aW9uKGNhbmNlbCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0KCFjYW5jZWwgfHwgKGNhbmNlbCAmJiBjYW5jZWwudHlwZSkgPyBuZXcgQ2FuY2VsKCdjYW5jZWxlZCcpIDogY2FuY2VsKTtcbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbiAmJiBjb25maWcuY2FuY2VsVG9rZW4uc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuICAgICAgaWYgKGNvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgY29uZmlnLnNpZ25hbC5hYm9ydGVkID8gb25DYW5jZWxlZCgpIDogY29uZmlnLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcmVxdWVzdERhdGEpIHtcbiAgICAgIHJlcXVlc3REYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbiAgfSk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcbnZhciBub3JtYWxpemVIZWFkZXJOYW1lID0gcmVxdWlyZSgnLi4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG52YXIgZW5oYW5jZUVycm9yID0gcmVxdWlyZSgnLi4vY29yZS9lbmhhbmNlRXJyb3InKTtcbnZhciB0cmFuc2l0aW9uYWxEZWZhdWx0cyA9IHJlcXVpcmUoJy4vdHJhbnNpdGlvbmFsJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4uL2FkYXB0ZXJzL3hocicpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi4vYWRhcHRlcnMvaHR0cCcpO1xuICB9XG4gIHJldHVybiBhZGFwdGVyO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnlTYWZlbHkocmF3VmFsdWUsIHBhcnNlciwgZW5jb2Rlcikge1xuICBpZiAodXRpbHMuaXNTdHJpbmcocmF3VmFsdWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIChwYXJzZXIgfHwgSlNPTi5wYXJzZSkocmF3VmFsdWUpO1xuICAgICAgcmV0dXJuIHV0aWxzLnRyaW0ocmF3VmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgIT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gKGVuY29kZXIgfHwgSlNPTi5zdHJpbmdpZnkpKHJhd1ZhbHVlKTtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuXG4gIHRyYW5zaXRpb25hbDogdHJhbnNpdGlvbmFsRGVmYXVsdHMsXG5cbiAgYWRhcHRlcjogZ2V0RGVmYXVsdEFkYXB0ZXIoKSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQWNjZXB0Jyk7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSB8fCAoaGVhZGVycyAmJiBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICByZXR1cm4gc3RyaW5naWZ5U2FmZWx5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgdmFyIHRyYW5zaXRpb25hbCA9IHRoaXMudHJhbnNpdGlvbmFsIHx8IGRlZmF1bHRzLnRyYW5zaXRpb25hbDtcbiAgICB2YXIgc2lsZW50SlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLnNpbGVudEpTT05QYXJzaW5nO1xuICAgIHZhciBmb3JjZWRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuZm9yY2VkSlNPTlBhcnNpbmc7XG4gICAgdmFyIHN0cmljdEpTT05QYXJzaW5nID0gIXNpbGVudEpTT05QYXJzaW5nICYmIHRoaXMucmVzcG9uc2VUeXBlID09PSAnanNvbic7XG5cbiAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcgfHwgKGZvcmNlZEpTT05QYXJzaW5nICYmIHV0aWxzLmlzU3RyaW5nKGRhdGEpICYmIGRhdGEubGVuZ3RoKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChzdHJpY3RKU09OUGFyc2luZykge1xuICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgICAgIHRocm93IGVuaGFuY2VFcnJvcihlLCB0aGlzLCAnRV9KU09OX1BBUlNFJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG4gIG1heEJvZHlMZW5ndGg6IC0xLFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH0sXG5cbiAgaGVhZGVyczoge1xuICAgIGNvbW1vbjoge1xuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gICAgfVxuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRzO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG4gKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG4gIHZhciBjb250ZXh0ID0gdGhpcyB8fCBkZWZhdWx0cztcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4uY2FsbChjb250ZXh0LCBkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuLi9jYW5jZWwvQ2FuY2VsJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cblxuICBpZiAoY29uZmlnLnNpZ25hbCAmJiBjb25maWcuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICB0aHJvdyBuZXcgQ2FuY2VsKCdjYW5jZWxlZCcpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICBjb25maWcsXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNcbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgIGNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldE1lcmdlZFZhbHVlKHRhcmdldCwgc291cmNlKSB7XG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QodGFyZ2V0KSAmJiB1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZSh0YXJnZXQsIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZSh7fSwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMocHJvcCkge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnMltwcm9wXSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcxW3Byb3BdKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgY29uZmlnMVtwcm9wXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIocHJvcCkge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnMltwcm9wXSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGNvbmZpZzJbcHJvcF0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBkZWZhdWx0VG9Db25maWcyKHByb3ApIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZzJbcHJvcF0pKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBjb25maWcyW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcxW3Byb3BdKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgY29uZmlnMVtwcm9wXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGlyZWN0S2V5cyhwcm9wKSB7XG4gICAgaWYgKHByb3AgaW4gY29uZmlnMikge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAocHJvcCBpbiBjb25maWcxKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBjb25maWcxW3Byb3BdKTtcbiAgICB9XG4gIH1cblxuICB2YXIgbWVyZ2VNYXAgPSB7XG4gICAgJ3VybCc6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgJ21ldGhvZCc6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgJ2RhdGEnOiB2YWx1ZUZyb21Db25maWcyLFxuICAgICdiYXNlVVJMJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAndHJhbnNmb3JtUmVxdWVzdCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3RyYW5zZm9ybVJlc3BvbnNlJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAncGFyYW1zU2VyaWFsaXplcic6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3RpbWVvdXQnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd0aW1lb3V0TWVzc2FnZSc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3dpdGhDcmVkZW50aWFscyc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ2FkYXB0ZXInOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdyZXNwb25zZVR5cGUnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICd4c3JmQ29va2llTmFtZSc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3hzcmZIZWFkZXJOYW1lJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnb25VcGxvYWRQcm9ncmVzcyc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ29uRG93bmxvYWRQcm9ncmVzcyc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ2RlY29tcHJlc3MnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdtYXhDb250ZW50TGVuZ3RoJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAnbWF4Qm9keUxlbmd0aCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3RyYW5zcG9ydCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ2h0dHBBZ2VudCc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ2h0dHBzQWdlbnQnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdjYW5jZWxUb2tlbic6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgJ3NvY2tldFBhdGgnOiBkZWZhdWx0VG9Db25maWcyLFxuICAgICdyZXNwb25zZUVuY29kaW5nJzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICAndmFsaWRhdGVTdGF0dXMnOiBtZXJnZURpcmVjdEtleXNcbiAgfTtcblxuICB1dGlscy5mb3JFYWNoKE9iamVjdC5rZXlzKGNvbmZpZzEpLmNvbmNhdChPYmplY3Qua2V5cyhjb25maWcyKSksIGZ1bmN0aW9uIGNvbXB1dGVDb25maWdWYWx1ZShwcm9wKSB7XG4gICAgdmFyIG1lcmdlID0gbWVyZ2VNYXBbcHJvcF0gfHwgbWVyZ2VEZWVwUHJvcGVydGllcztcbiAgICB2YXIgY29uZmlnVmFsdWUgPSBtZXJnZShwcm9wKTtcbiAgICAodXRpbHMuaXNVbmRlZmluZWQoY29uZmlnVmFsdWUpICYmIG1lcmdlICE9PSBtZXJnZURpcmVjdEtleXMpIHx8IChjb25maWdbcHJvcF0gPSBjb25maWdWYWx1ZSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb25maWc7XG59O1xuIiwgIm1vZHVsZS5leHBvcnRzID0ge1xuICBcInZlcnNpb25cIjogXCIwLjI2LjFcIlxufTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVkVSU0lPTiA9IHJlcXVpcmUoJy4uL2Vudi9kYXRhJykudmVyc2lvbjtcblxudmFyIHZhbGlkYXRvcnMgPSB7fTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblsnb2JqZWN0JywgJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ2Z1bmN0aW9uJywgJ3N0cmluZycsICdzeW1ib2wnXS5mb3JFYWNoKGZ1bmN0aW9uKHR5cGUsIGkpIHtcbiAgdmFsaWRhdG9yc1t0eXBlXSA9IGZ1bmN0aW9uIHZhbGlkYXRvcih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IHR5cGUgfHwgJ2EnICsgKGkgPCAxID8gJ24gJyA6ICcgJykgKyB0eXBlO1xuICB9O1xufSk7XG5cbnZhciBkZXByZWNhdGVkV2FybmluZ3MgPSB7fTtcblxuLyoqXG4gKiBUcmFuc2l0aW9uYWwgb3B0aW9uIHZhbGlkYXRvclxuICogQHBhcmFtIHtmdW5jdGlvbnxib29sZWFuP30gdmFsaWRhdG9yIC0gc2V0IHRvIGZhbHNlIGlmIHRoZSB0cmFuc2l0aW9uYWwgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWRcbiAqIEBwYXJhbSB7c3RyaW5nP30gdmVyc2lvbiAtIGRlcHJlY2F0ZWQgdmVyc2lvbiAvIHJlbW92ZWQgc2luY2UgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmc/fSBtZXNzYWdlIC0gc29tZSBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBpbmZvXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbnZhbGlkYXRvcnMudHJhbnNpdGlvbmFsID0gZnVuY3Rpb24gdHJhbnNpdGlvbmFsKHZhbGlkYXRvciwgdmVyc2lvbiwgbWVzc2FnZSkge1xuICBmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG9wdCwgZGVzYykge1xuICAgIHJldHVybiAnW0F4aW9zIHYnICsgVkVSU0lPTiArICddIFRyYW5zaXRpb25hbCBvcHRpb24gXFwnJyArIG9wdCArICdcXCcnICsgZGVzYyArIChtZXNzYWdlID8gJy4gJyArIG1lc3NhZ2UgOiAnJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG9wdCwgb3B0cykge1xuICAgIGlmICh2YWxpZGF0b3IgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZm9ybWF0TWVzc2FnZShvcHQsICcgaGFzIGJlZW4gcmVtb3ZlZCcgKyAodmVyc2lvbiA/ICcgaW4gJyArIHZlcnNpb24gOiAnJykpKTtcbiAgICB9XG5cbiAgICBpZiAodmVyc2lvbiAmJiAhZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0pIHtcbiAgICAgIGRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgb3B0LFxuICAgICAgICAgICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2JyArIHZlcnNpb24gKyAnIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0cykgOiB0cnVlO1xuICB9O1xufTtcblxuLyoqXG4gKiBBc3NlcnQgb2JqZWN0J3MgcHJvcGVydGllcyB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IHNjaGVtYVxuICogQHBhcmFtIHtib29sZWFuP30gYWxsb3dVbmtub3duXG4gKi9cblxuZnVuY3Rpb24gYXNzZXJ0T3B0aW9ucyhvcHRpb25zLCBzY2hlbWEsIGFsbG93VW5rbm93bikge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgdmFyIG9wdCA9IGtleXNbaV07XG4gICAgdmFyIHZhbGlkYXRvciA9IHNjaGVtYVtvcHRdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIHZhciB2YWx1ZSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRpb25zKTtcbiAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uICcgKyBvcHQgKyAnIG11c3QgYmUgJyArIHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGFsbG93VW5rbm93biAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1Vua25vd24gb3B0aW9uICcgKyBvcHQpO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXNzZXJ0T3B0aW9uczogYXNzZXJ0T3B0aW9ucyxcbiAgdmFsaWRhdG9yczogdmFsaWRhdG9yc1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL21lcmdlQ29uZmlnJyk7XG52YXIgdmFsaWRhdG9yID0gcmVxdWlyZSgnLi4vaGVscGVycy92YWxpZGF0b3InKTtcblxudmFyIHZhbGlkYXRvcnMgPSB2YWxpZGF0b3IudmFsaWRhdG9ycztcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgaWYgKHR5cGVvZiBjb25maWdPclVybCA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gICAgY29uZmlnLnVybCA9IGNvbmZpZ09yVXJsO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IGNvbmZpZ09yVXJsIHx8IHt9O1xuICB9XG5cbiAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcblxuICAvLyBTZXQgY29uZmlnLm1ldGhvZFxuICBpZiAoY29uZmlnLm1ldGhvZCkge1xuICAgIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG4gIH0gZWxzZSBpZiAodGhpcy5kZWZhdWx0cy5tZXRob2QpIHtcbiAgICBjb25maWcubWV0aG9kID0gdGhpcy5kZWZhdWx0cy5tZXRob2QudG9Mb3dlckNhc2UoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25maWcubWV0aG9kID0gJ2dldCc7XG4gIH1cblxuICB2YXIgdHJhbnNpdGlvbmFsID0gY29uZmlnLnRyYW5zaXRpb25hbDtcblxuICBpZiAodHJhbnNpdGlvbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyh0cmFuc2l0aW9uYWwsIHtcbiAgICAgIHNpbGVudEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgZm9yY2VkSlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICBjbGFyaWZ5VGltZW91dEVycm9yOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pXG4gICAgfSwgZmFsc2UpO1xuICB9XG5cbiAgLy8gZmlsdGVyIG91dCBza2lwcGVkIGludGVyY2VwdG9yc1xuICB2YXIgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgdmFyIHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHRydWU7XG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGlmICh0eXBlb2YgaW50ZXJjZXB0b3IucnVuV2hlbiA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnRlcmNlcHRvci5ydW5XaGVuKGNvbmZpZykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzICYmIGludGVyY2VwdG9yLnN5bmNocm9ub3VzO1xuXG4gICAgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgdmFyIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB2YXIgcHJvbWlzZTtcblxuICBpZiAoIXN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycykge1xuICAgIHZhciBjaGFpbiA9IFtkaXNwYXRjaFJlcXVlc3QsIHVuZGVmaW5lZF07XG5cbiAgICBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjaGFpbiwgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4pO1xuICAgIGNoYWluID0gY2hhaW4uY29uY2F0KHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbik7XG5cbiAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG4gICAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihjaGFpbi5zaGlmdCgpLCBjaGFpbi5zaGlmdCgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG5cbiAgdmFyIG5ld0NvbmZpZyA9IGNvbmZpZztcbiAgd2hpbGUgKHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLmxlbmd0aCkge1xuICAgIHZhciBvbkZ1bGZpbGxlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLnNoaWZ0KCk7XG4gICAgdmFyIG9uUmVqZWN0ZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5zaGlmdCgpO1xuICAgIHRyeSB7XG4gICAgICBuZXdDb25maWcgPSBvbkZ1bGZpbGxlZChuZXdDb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBvblJlamVjdGVkKGVycm9yKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgcHJvbWlzZSA9IGRpc3BhdGNoUmVxdWVzdChuZXdDb25maWcpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gIH1cblxuICB3aGlsZSAocmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4ocmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLnNoaWZ0KCksIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5zaGlmdCgpKTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlO1xufTtcblxuQXhpb3MucHJvdG90eXBlLmdldFVyaSA9IGZ1bmN0aW9uIGdldFVyaShjb25maWcpIHtcbiAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgcmV0dXJuIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKS5yZXBsYWNlKC9eXFw/LywgJycpO1xufTtcblxuLy8gUHJvdmlkZSBhbGlhc2VzIGZvciBzdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2RzXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ29wdGlvbnMnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogKGNvbmZpZyB8fCB7fSkuZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2FuY2VsID0gcmVxdWlyZSgnLi9DYW5jZWwnKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIHJlc29sdmVQcm9taXNlO1xuXG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHRoaXMucHJvbWlzZS50aGVuKGZ1bmN0aW9uKGNhbmNlbCkge1xuICAgIGlmICghdG9rZW4uX2xpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgdmFyIGk7XG4gICAgdmFyIGwgPSB0b2tlbi5fbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHRva2VuLl9saXN0ZW5lcnNbaV0oY2FuY2VsKTtcbiAgICB9XG4gICAgdG9rZW4uX2xpc3RlbmVycyA9IG51bGw7XG4gIH0pO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHRoaXMucHJvbWlzZS50aGVuID0gZnVuY3Rpb24ob25mdWxmaWxsZWQpIHtcbiAgICB2YXIgX3Jlc29sdmU7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIHRva2VuLnN1YnNjcmliZShyZXNvbHZlKTtcbiAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9KS50aGVuKG9uZnVsZmlsbGVkKTtcblxuICAgIHByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgdG9rZW4udW5zdWJzY3JpYmUoX3Jlc29sdmUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcblxuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWwobWVzc2FnZSk7XG4gICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQgPSBmdW5jdGlvbiB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgfVxufTtcblxuLyoqXG4gKiBTdWJzY3JpYmUgdG8gdGhlIGNhbmNlbCBzaWduYWxcbiAqL1xuXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIGxpc3RlbmVyKHRoaXMucmVhc29uKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2xpc3RlbmVycyA9IFtsaXN0ZW5lcl07XG4gIH1cbn07XG5cbi8qKlxuICogVW5zdWJzY3JpYmUgZnJvbSB0aGUgY2FuY2VsIHNpZ25hbFxuICovXG5cbkNhbmNlbFRva2VuLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gIGlmICghdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBpbmRleCA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHRoaXMuX2xpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3NcbiAqXG4gKiBAcGFyYW0geyp9IHBheWxvYWQgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvcywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBeGlvc0Vycm9yKHBheWxvYWQpIHtcbiAgcmV0dXJuIHV0aWxzLmlzT2JqZWN0KHBheWxvYWQpICYmIChwYXlsb2FkLmlzQXhpb3NFcnJvciA9PT0gdHJ1ZSk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL2NvcmUvbWVyZ2VDb25maWcnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG52YXIgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcbmF4aW9zLlZFUlNJT04gPSByZXF1aXJlKCcuL2Vudi9kYXRhJykudmVyc2lvbjtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxuLy8gRXhwb3NlIGlzQXhpb3NFcnJvclxuYXhpb3MuaXNBeGlvc0Vycm9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL2lzQXhpb3NFcnJvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiIsICJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2F4aW9zJyk7IiwgIlwidXNlIHN0cmljdFwiO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIE9wZW5BSSBBUElcbiAqIEFQSXMgZm9yIHNhbXBsaW5nIGZyb20gYW5kIGZpbmUtdHVuaW5nIGxhbmd1YWdlIG1vZGVsc1xuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAxLjIuMFxuICpcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVxdWlyZWRFcnJvciA9IGV4cG9ydHMuQmFzZUFQSSA9IGV4cG9ydHMuQ09MTEVDVElPTl9GT1JNQVRTID0gZXhwb3J0cy5CQVNFX1BBVEggPSB2b2lkIDA7XG5jb25zdCBheGlvc18xID0gcmVxdWlyZShcImF4aW9zXCIpO1xuZXhwb3J0cy5CQVNFX1BBVEggPSBcImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjFcIi5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpO1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICovXG5leHBvcnRzLkNPTExFQ1RJT05fRk9STUFUUyA9IHtcbiAgICBjc3Y6IFwiLFwiLFxuICAgIHNzdjogXCIgXCIsXG4gICAgdHN2OiBcIlxcdFwiLFxuICAgIHBpcGVzOiBcInxcIixcbn07XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgQmFzZUFQSVxuICovXG5jbGFzcyBCYXNlQVBJIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uLCBiYXNlUGF0aCA9IGV4cG9ydHMuQkFTRV9QQVRILCBheGlvcyA9IGF4aW9zXzEuZGVmYXVsdCkge1xuICAgICAgICB0aGlzLmJhc2VQYXRoID0gYmFzZVBhdGg7XG4gICAgICAgIHRoaXMuYXhpb3MgPSBheGlvcztcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gY29uZmlndXJhdGlvbi5iYXNlUGF0aCB8fCB0aGlzLmJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5CYXNlQVBJID0gQmFzZUFQSTtcbjtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBSZXF1aXJlZEVycm9yXG4gKiBAZXh0ZW5kcyB7RXJyb3J9XG4gKi9cbmNsYXNzIFJlcXVpcmVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoZmllbGQsIG1zZykge1xuICAgICAgICBzdXBlcihtc2cpO1xuICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVxdWlyZWRFcnJvclwiO1xuICAgIH1cbn1cbmV4cG9ydHMuUmVxdWlyZWRFcnJvciA9IFJlcXVpcmVkRXJyb3I7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogT3BlbkFJIEFQSVxuICogQVBJcyBmb3Igc2FtcGxpbmcgZnJvbSBhbmQgZmluZS10dW5pbmcgbGFuZ3VhZ2UgbW9kZWxzXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDEuMi4wXG4gKlxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbiA9IGV4cG9ydHMudG9QYXRoU3RyaW5nID0gZXhwb3J0cy5zZXJpYWxpemVEYXRhSWZOZWVkZWQgPSBleHBvcnRzLnNldFNlYXJjaFBhcmFtcyA9IGV4cG9ydHMuc2V0T0F1dGhUb09iamVjdCA9IGV4cG9ydHMuc2V0QmVhcmVyQXV0aFRvT2JqZWN0ID0gZXhwb3J0cy5zZXRCYXNpY0F1dGhUb09iamVjdCA9IGV4cG9ydHMuc2V0QXBpS2V5VG9PYmplY3QgPSBleHBvcnRzLmFzc2VydFBhcmFtRXhpc3RzID0gZXhwb3J0cy5EVU1NWV9CQVNFX1VSTCA9IHZvaWQgMDtcbmNvbnN0IGJhc2VfMSA9IHJlcXVpcmUoXCIuL2Jhc2VcIik7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydHMuRFVNTVlfQkFTRV9VUkwgPSAnaHR0cHM6Ly9leGFtcGxlLmNvbSc7XG4vKipcbiAqXG4gKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICogQGV4cG9ydFxuICovXG5leHBvcnRzLmFzc2VydFBhcmFtRXhpc3RzID0gZnVuY3Rpb24gKGZ1bmN0aW9uTmFtZSwgcGFyYW1OYW1lLCBwYXJhbVZhbHVlKSB7XG4gICAgaWYgKHBhcmFtVmFsdWUgPT09IG51bGwgfHwgcGFyYW1WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBiYXNlXzEuUmVxdWlyZWRFcnJvcihwYXJhbU5hbWUsIGBSZXF1aXJlZCBwYXJhbWV0ZXIgJHtwYXJhbU5hbWV9IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgJHtmdW5jdGlvbk5hbWV9LmApO1xuICAgIH1cbn07XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydHMuc2V0QXBpS2V5VG9PYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXlQYXJhbU5hbWUsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbiAmJiBjb25maWd1cmF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBcGlLZXlWYWx1ZSA9IHR5cGVvZiBjb25maWd1cmF0aW9uLmFwaUtleSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8geWllbGQgY29uZmlndXJhdGlvbi5hcGlLZXkoa2V5UGFyYW1OYW1lKVxuICAgICAgICAgICAgICAgIDogeWllbGQgY29uZmlndXJhdGlvbi5hcGlLZXk7XG4gICAgICAgICAgICBvYmplY3Rba2V5UGFyYW1OYW1lXSA9IGxvY2FsVmFyQXBpS2V5VmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydHMuc2V0QmFzaWNBdXRoVG9PYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0LCBjb25maWd1cmF0aW9uKSB7XG4gICAgaWYgKGNvbmZpZ3VyYXRpb24gJiYgKGNvbmZpZ3VyYXRpb24udXNlcm5hbWUgfHwgY29uZmlndXJhdGlvbi5wYXNzd29yZCkpIHtcbiAgICAgICAgb2JqZWN0W1wiYXV0aFwiXSA9IHsgdXNlcm5hbWU6IGNvbmZpZ3VyYXRpb24udXNlcm5hbWUsIHBhc3N3b3JkOiBjb25maWd1cmF0aW9uLnBhc3N3b3JkIH07XG4gICAgfVxufTtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0cy5zZXRCZWFyZXJBdXRoVG9PYmplY3QgPSBmdW5jdGlvbiAob2JqZWN0LCBjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24gJiYgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0eXBlb2YgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8geWllbGQgY29uZmlndXJhdGlvbi5hY2Nlc3NUb2tlbigpXG4gICAgICAgICAgICAgICAgOiB5aWVsZCBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuO1xuICAgICAgICAgICAgb2JqZWN0W1wiQXV0aG9yaXphdGlvblwiXSA9IFwiQmVhcmVyIFwiICsgYWNjZXNzVG9rZW47XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydHMuc2V0T0F1dGhUb09iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIHNjb3BlcywgY29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQWNjZXNzVG9rZW5WYWx1ZSA9IHR5cGVvZiBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyB5aWVsZCBjb25maWd1cmF0aW9uLmFjY2Vzc1Rva2VuKG5hbWUsIHNjb3BlcylcbiAgICAgICAgICAgICAgICA6IHlpZWxkIGNvbmZpZ3VyYXRpb24uYWNjZXNzVG9rZW47XG4gICAgICAgICAgICBvYmplY3RbXCJBdXRob3JpemF0aW9uXCJdID0gXCJCZWFyZXIgXCIgKyBsb2NhbFZhckFjY2Vzc1Rva2VuVmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5mdW5jdGlvbiBzZXRGbGF0dGVuZWRRdWVyeVBhcmFtcyh1cmxTZWFyY2hQYXJhbXMsIHBhcmFtZXRlciwga2V5ID0gXCJcIikge1xuICAgIGlmIChwYXJhbWV0ZXIgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgcGFyYW1ldGVyID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtZXRlcikpIHtcbiAgICAgICAgICAgIHBhcmFtZXRlci5mb3JFYWNoKGl0ZW0gPT4gc2V0RmxhdHRlbmVkUXVlcnlQYXJhbXModXJsU2VhcmNoUGFyYW1zLCBpdGVtLCBrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhcmFtZXRlcikuZm9yRWFjaChjdXJyZW50S2V5ID0+IHNldEZsYXR0ZW5lZFF1ZXJ5UGFyYW1zKHVybFNlYXJjaFBhcmFtcywgcGFyYW1ldGVyW2N1cnJlbnRLZXldLCBgJHtrZXl9JHtrZXkgIT09ICcnID8gJy4nIDogJyd9JHtjdXJyZW50S2V5fWApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHVybFNlYXJjaFBhcmFtcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdXJsU2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHBhcmFtZXRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1cmxTZWFyY2hQYXJhbXMuc2V0KGtleSwgcGFyYW1ldGVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0cy5zZXRTZWFyY2hQYXJhbXMgPSBmdW5jdGlvbiAodXJsLCAuLi5vYmplY3RzKSB7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoKTtcbiAgICBzZXRGbGF0dGVuZWRRdWVyeVBhcmFtcyhzZWFyY2hQYXJhbXMsIG9iamVjdHMpO1xuICAgIHVybC5zZWFyY2ggPSBzZWFyY2hQYXJhbXMudG9TdHJpbmcoKTtcbn07XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydHMuc2VyaWFsaXplRGF0YUlmTmVlZGVkID0gZnVuY3Rpb24gKHZhbHVlLCByZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbikge1xuICAgIGNvbnN0IG5vblN0cmluZyA9IHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZyc7XG4gICAgY29uc3QgbmVlZHNTZXJpYWxpemF0aW9uID0gbm9uU3RyaW5nICYmIGNvbmZpZ3VyYXRpb24gJiYgY29uZmlndXJhdGlvbi5pc0pzb25NaW1lXG4gICAgICAgID8gY29uZmlndXJhdGlvbi5pc0pzb25NaW1lKHJlcXVlc3RPcHRpb25zLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddKVxuICAgICAgICA6IG5vblN0cmluZztcbiAgICByZXR1cm4gbmVlZHNTZXJpYWxpemF0aW9uXG4gICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoge30pXG4gICAgICAgIDogKHZhbHVlIHx8IFwiXCIpO1xufTtcbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0cy50b1BhdGhTdHJpbmcgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgcmV0dXJuIHVybC5wYXRobmFtZSArIHVybC5zZWFyY2ggKyB1cmwuaGFzaDtcbn07XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydHMuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uID0gZnVuY3Rpb24gKGF4aW9zQXJncywgZ2xvYmFsQXhpb3MsIEJBU0VfUEFUSCwgY29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiAoYXhpb3MgPSBnbG9iYWxBeGlvcywgYmFzZVBhdGggPSBCQVNFX1BBVEgpID0+IHtcbiAgICAgICAgY29uc3QgYXhpb3NSZXF1ZXN0QXJncyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYXhpb3NBcmdzLm9wdGlvbnMpLCB7IHVybDogKChjb25maWd1cmF0aW9uID09PSBudWxsIHx8IGNvbmZpZ3VyYXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGgpIHx8IGJhc2VQYXRoKSArIGF4aW9zQXJncy51cmwgfSk7XG4gICAgICAgIHJldHVybiBheGlvcy5yZXF1ZXN0KGF4aW9zUmVxdWVzdEFyZ3MpO1xuICAgIH07XG59O1xuIiwgIlwidXNlIHN0cmljdFwiO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIE9wZW5BSSBBUElcbiAqIEFQSXMgZm9yIHNhbXBsaW5nIGZyb20gYW5kIGZpbmUtdHVuaW5nIGxhbmd1YWdlIG1vZGVsc1xuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAxLjIuMFxuICpcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PcGVuQUlBcGkgPSBleHBvcnRzLk9wZW5BSUFwaUZhY3RvcnkgPSBleHBvcnRzLk9wZW5BSUFwaUZwID0gZXhwb3J0cy5PcGVuQUlBcGlBeGlvc1BhcmFtQ3JlYXRvciA9IGV4cG9ydHMuQ3JlYXRlSW1hZ2VSZXF1ZXN0UmVzcG9uc2VGb3JtYXRFbnVtID0gZXhwb3J0cy5DcmVhdGVJbWFnZVJlcXVlc3RTaXplRW51bSA9IGV4cG9ydHMuQ2hhdENvbXBsZXRpb25SZXNwb25zZU1lc3NhZ2VSb2xlRW51bSA9IGV4cG9ydHMuQ2hhdENvbXBsZXRpb25SZXF1ZXN0TWVzc2FnZVJvbGVFbnVtID0gdm9pZCAwO1xuY29uc3QgYXhpb3NfMSA9IHJlcXVpcmUoXCJheGlvc1wiKTtcbi8vIFNvbWUgaW1wb3J0cyBub3QgdXNlZCBkZXBlbmRpbmcgb24gdGVtcGxhdGUgY29uZGl0aW9uc1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiLi9jb21tb25cIik7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBiYXNlXzEgPSByZXF1aXJlKFwiLi9iYXNlXCIpO1xuZXhwb3J0cy5DaGF0Q29tcGxldGlvblJlcXVlc3RNZXNzYWdlUm9sZUVudW0gPSB7XG4gICAgU3lzdGVtOiAnc3lzdGVtJyxcbiAgICBVc2VyOiAndXNlcicsXG4gICAgQXNzaXN0YW50OiAnYXNzaXN0YW50J1xufTtcbmV4cG9ydHMuQ2hhdENvbXBsZXRpb25SZXNwb25zZU1lc3NhZ2VSb2xlRW51bSA9IHtcbiAgICBTeXN0ZW06ICdzeXN0ZW0nLFxuICAgIFVzZXI6ICd1c2VyJyxcbiAgICBBc3Npc3RhbnQ6ICdhc3Npc3RhbnQnXG59O1xuZXhwb3J0cy5DcmVhdGVJbWFnZVJlcXVlc3RTaXplRW51bSA9IHtcbiAgICBfMjU2eDI1NjogJzI1NngyNTYnLFxuICAgIF81MTJ4NTEyOiAnNTEyeDUxMicsXG4gICAgXzEwMjR4MTAyNDogJzEwMjR4MTAyNCdcbn07XG5leHBvcnRzLkNyZWF0ZUltYWdlUmVxdWVzdFJlc3BvbnNlRm9ybWF0RW51bSA9IHtcbiAgICBVcmw6ICd1cmwnLFxuICAgIEI2NEpzb246ICdiNjRfanNvbidcbn07XG4vKipcbiAqIE9wZW5BSUFwaSAtIGF4aW9zIHBhcmFtZXRlciBjcmVhdG9yXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydHMuT3BlbkFJQXBpQXhpb3NQYXJhbUNyZWF0b3IgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBJbW1lZGlhdGVseSBjYW5jZWwgYSBmaW5lLXR1bmUgam9iLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmluZVR1bmVJZCBUaGUgSUQgb2YgdGhlIGZpbmUtdHVuZSBqb2IgdG8gY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjYW5jZWxGaW5lVHVuZTogKGZpbmVUdW5lSWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmluZVR1bmVJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY2FuY2VsRmluZVR1bmUnLCAnZmluZVR1bmVJZCcsIGZpbmVUdW5lSWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9maW5lLXR1bmVzL3tmaW5lX3R1bmVfaWR9L2NhbmNlbGBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJmaW5lX3R1bmVfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhmaW5lVHVuZUlkKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQT1NUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlcik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEFuc3dlcnMgdGhlIHNwZWNpZmllZCBxdWVzdGlvbiB1c2luZyB0aGUgcHJvdmlkZWQgZG9jdW1lbnRzIGFuZCBleGFtcGxlcy4gIFRoZSBlbmRwb2ludCBmaXJzdCBbc2VhcmNoZXNdKC9kb2NzL2FwaS1yZWZlcmVuY2Uvc2VhcmNoZXMpIG92ZXIgcHJvdmlkZWQgZG9jdW1lbnRzIG9yIGZpbGVzIHRvIGZpbmQgcmVsZXZhbnQgY29udGV4dC4gVGhlIHJlbGV2YW50IGNvbnRleHQgaXMgY29tYmluZWQgd2l0aCB0aGUgcHJvdmlkZWQgZXhhbXBsZXMgYW5kIHF1ZXN0aW9uIHRvIGNyZWF0ZSB0aGUgcHJvbXB0IGZvciBbY29tcGxldGlvbl0oL2RvY3MvYXBpLXJlZmVyZW5jZS9jb21wbGV0aW9ucykuXG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlQW5zd2VyUmVxdWVzdH0gY3JlYXRlQW5zd2VyUmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQW5zd2VyOiAoY3JlYXRlQW5zd2VyUmVxdWVzdCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjcmVhdGVBbnN3ZXJSZXF1ZXN0JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVBbnN3ZXInLCAnY3JlYXRlQW5zd2VyUmVxdWVzdCcsIGNyZWF0ZUFuc3dlclJlcXVlc3QpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hbnN3ZXJzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBsb2NhbFZhckhlYWRlclBhcmFtZXRlclsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmRhdGEgPSBjb21tb25fMS5zZXJpYWxpemVEYXRhSWZOZWVkZWQoY3JlYXRlQW5zd2VyUmVxdWVzdCwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgY29tcGxldGlvbiBmb3IgdGhlIGNoYXQgbWVzc2FnZVxuICAgICAgICAgKiBAcGFyYW0ge0NyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdH0gY3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDaGF0Q29tcGxldGlvbjogKGNyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUNoYXRDb21wbGV0aW9uJywgJ2NyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdCcsIGNyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2NoYXQvY29tcGxldGlvbnNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQT1NUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlcik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuZGF0YSA9IGNvbW1vbl8xLnNlcmlhbGl6ZURhdGFJZk5lZWRlZChjcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3QsIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ2xhc3NpZmllcyB0aGUgc3BlY2lmaWVkIGBxdWVyeWAgdXNpbmcgcHJvdmlkZWQgZXhhbXBsZXMuICBUaGUgZW5kcG9pbnQgZmlyc3QgW3NlYXJjaGVzXSgvZG9jcy9hcGktcmVmZXJlbmNlL3NlYXJjaGVzKSBvdmVyIHRoZSBsYWJlbGVkIGV4YW1wbGVzIHRvIHNlbGVjdCB0aGUgb25lcyBtb3N0IHJlbGV2YW50IGZvciB0aGUgcGFydGljdWxhciBxdWVyeS4gVGhlbiwgdGhlIHJlbGV2YW50IGV4YW1wbGVzIGFyZSBjb21iaW5lZCB3aXRoIHRoZSBxdWVyeSB0byBjb25zdHJ1Y3QgYSBwcm9tcHQgdG8gcHJvZHVjZSB0aGUgZmluYWwgbGFiZWwgdmlhIHRoZSBbY29tcGxldGlvbnNdKC9kb2NzL2FwaS1yZWZlcmVuY2UvY29tcGxldGlvbnMpIGVuZHBvaW50LiAgTGFiZWxlZCBleGFtcGxlcyBjYW4gYmUgcHJvdmlkZWQgdmlhIGFuIHVwbG9hZGVkIGBmaWxlYCwgb3IgZXhwbGljaXRseSBsaXN0ZWQgaW4gdGhlIHJlcXVlc3QgdXNpbmcgdGhlIGBleGFtcGxlc2AgcGFyYW1ldGVyIGZvciBxdWljayB0ZXN0cyBhbmQgc21hbGwgc2NhbGUgdXNlIGNhc2VzLlxuICAgICAgICAgKiBAcGFyYW0ge0NyZWF0ZUNsYXNzaWZpY2F0aW9uUmVxdWVzdH0gY3JlYXRlQ2xhc3NpZmljYXRpb25SZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDbGFzc2lmaWNhdGlvbjogKGNyZWF0ZUNsYXNzaWZpY2F0aW9uUmVxdWVzdCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdjcmVhdGVDbGFzc2lmaWNhdGlvblJlcXVlc3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUNsYXNzaWZpY2F0aW9uJywgJ2NyZWF0ZUNsYXNzaWZpY2F0aW9uUmVxdWVzdCcsIGNyZWF0ZUNsYXNzaWZpY2F0aW9uUmVxdWVzdCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2NsYXNzaWZpY2F0aW9uc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyKTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKGNyZWF0ZUNsYXNzaWZpY2F0aW9uUmVxdWVzdCwgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucywgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgY29tcGxldGlvbiBmb3IgdGhlIHByb3ZpZGVkIHByb21wdCBhbmQgcGFyYW1ldGVyc1xuICAgICAgICAgKiBAcGFyYW0ge0NyZWF0ZUNvbXBsZXRpb25SZXF1ZXN0fSBjcmVhdGVDb21wbGV0aW9uUmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQ29tcGxldGlvbjogKGNyZWF0ZUNvbXBsZXRpb25SZXF1ZXN0LCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2NyZWF0ZUNvbXBsZXRpb25SZXF1ZXN0JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVDb21wbGV0aW9uJywgJ2NyZWF0ZUNvbXBsZXRpb25SZXF1ZXN0JywgY3JlYXRlQ29tcGxldGlvblJlcXVlc3QpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9jb21wbGV0aW9uc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyKTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKGNyZWF0ZUNvbXBsZXRpb25SZXF1ZXN0LCBsb2NhbFZhclJlcXVlc3RPcHRpb25zLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYSBuZXcgZWRpdCBmb3IgdGhlIHByb3ZpZGVkIGlucHV0LCBpbnN0cnVjdGlvbiwgYW5kIHBhcmFtZXRlcnMuXG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlRWRpdFJlcXVlc3R9IGNyZWF0ZUVkaXRSZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVFZGl0OiAoY3JlYXRlRWRpdFJlcXVlc3QsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY3JlYXRlRWRpdFJlcXVlc3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUVkaXQnLCAnY3JlYXRlRWRpdFJlcXVlc3QnLCBjcmVhdGVFZGl0UmVxdWVzdCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2VkaXRzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBsb2NhbFZhckhlYWRlclBhcmFtZXRlclsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmRhdGEgPSBjb21tb25fMS5zZXJpYWxpemVEYXRhSWZOZWVkZWQoY3JlYXRlRWRpdFJlcXVlc3QsIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhbiBlbWJlZGRpbmcgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgaW5wdXQgdGV4dC5cbiAgICAgICAgICogQHBhcmFtIHtDcmVhdGVFbWJlZGRpbmdSZXF1ZXN0fSBjcmVhdGVFbWJlZGRpbmdSZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVFbWJlZGRpbmc6IChjcmVhdGVFbWJlZGRpbmdSZXF1ZXN0LCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2NyZWF0ZUVtYmVkZGluZ1JlcXVlc3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUVtYmVkZGluZycsICdjcmVhdGVFbWJlZGRpbmdSZXF1ZXN0JywgY3JlYXRlRW1iZWRkaW5nUmVxdWVzdCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2VtYmVkZGluZ3NgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdQT1NUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlcik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuZGF0YSA9IGNvbW1vbl8xLnNlcmlhbGl6ZURhdGFJZk5lZWRlZChjcmVhdGVFbWJlZGRpbmdSZXF1ZXN0LCBsb2NhbFZhclJlcXVlc3RPcHRpb25zLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFVwbG9hZCBhIGZpbGUgdGhhdCBjb250YWlucyBkb2N1bWVudChzKSB0byBiZSB1c2VkIGFjcm9zcyB2YXJpb3VzIGVuZHBvaW50cy9mZWF0dXJlcy4gQ3VycmVudGx5LCB0aGUgc2l6ZSBvZiBhbGwgdGhlIGZpbGVzIHVwbG9hZGVkIGJ5IG9uZSBvcmdhbml6YXRpb24gY2FuIGJlIHVwIHRvIDEgR0IuIFBsZWFzZSBjb250YWN0IHVzIGlmIHlvdSBuZWVkIHRvIGluY3JlYXNlIHRoZSBzdG9yYWdlIGxpbWl0LlxuICAgICAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgTmFtZSBvZiB0aGUgW0pTT04gTGluZXNdKGh0dHBzOi8vanNvbmxpbmVzLnJlYWR0aGVkb2NzLmlvL2VuL2xhdGVzdC8pIGZpbGUgdG8gYmUgdXBsb2FkZWQuICBJZiB0aGUgJiN4NjA7cHVycG9zZSYjeDYwOyBpcyBzZXQgdG8gXFxcXFxcJnF1b3Q7ZmluZS10dW5lXFxcXFxcJnF1b3Q7LCBlYWNoIGxpbmUgaXMgYSBKU09OIHJlY29yZCB3aXRoIFxcXFxcXCZxdW90O3Byb21wdFxcXFxcXCZxdW90OyBhbmQgXFxcXFxcJnF1b3Q7Y29tcGxldGlvblxcXFxcXCZxdW90OyBmaWVsZHMgcmVwcmVzZW50aW5nIHlvdXIgW3RyYWluaW5nIGV4YW1wbGVzXSgvZG9jcy9ndWlkZXMvZmluZS10dW5pbmcvcHJlcGFyZS10cmFpbmluZy1kYXRhKS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHB1cnBvc2UgVGhlIGludGVuZGVkIHB1cnBvc2Ugb2YgdGhlIHVwbG9hZGVkIGRvY3VtZW50cy4gIFVzZSBcXFxcXFwmcXVvdDtmaW5lLXR1bmVcXFxcXFwmcXVvdDsgZm9yIFtGaW5lLXR1bmluZ10oL2RvY3MvYXBpLXJlZmVyZW5jZS9maW5lLXR1bmVzKS4gVGhpcyBhbGxvd3MgdXMgdG8gdmFsaWRhdGUgdGhlIGZvcm1hdCBvZiB0aGUgdXBsb2FkZWQgZmlsZS5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUZpbGU6IChmaWxlLCBwdXJwb3NlLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZUZpbGUnLCAnZmlsZScsIGZpbGUpO1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncHVycG9zZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlRmlsZScsICdwdXJwb3NlJywgcHVycG9zZSk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2ZpbGVzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckZvcm1QYXJhbXMgPSBuZXcgKChjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uZm9ybURhdGFDdG9yKSB8fCBGb3JtRGF0YSkoKTtcbiAgICAgICAgICAgIGlmIChmaWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhckZvcm1QYXJhbXMuYXBwZW5kKCdmaWxlJywgZmlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHVycG9zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgncHVycG9zZScsIHB1cnBvc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyKTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgbG9jYWxWYXJGb3JtUGFyYW1zLmdldEhlYWRlcnMoKSksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gbG9jYWxWYXJGb3JtUGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIGpvYiB0aGF0IGZpbmUtdHVuZXMgYSBzcGVjaWZpZWQgbW9kZWwgZnJvbSBhIGdpdmVuIGRhdGFzZXQuICBSZXNwb25zZSBpbmNsdWRlcyBkZXRhaWxzIG9mIHRoZSBlbnF1ZXVlZCBqb2IgaW5jbHVkaW5nIGpvYiBzdGF0dXMgYW5kIHRoZSBuYW1lIG9mIHRoZSBmaW5lLXR1bmVkIG1vZGVscyBvbmNlIGNvbXBsZXRlLiAgW0xlYXJuIG1vcmUgYWJvdXQgRmluZS10dW5pbmddKC9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICAgICAgICogQHBhcmFtIHtDcmVhdGVGaW5lVHVuZVJlcXVlc3R9IGNyZWF0ZUZpbmVUdW5lUmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlRmluZVR1bmU6IChjcmVhdGVGaW5lVHVuZVJlcXVlc3QsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY3JlYXRlRmluZVR1bmVSZXF1ZXN0JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVGaW5lVHVuZScsICdjcmVhdGVGaW5lVHVuZVJlcXVlc3QnLCBjcmVhdGVGaW5lVHVuZVJlcXVlc3QpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9maW5lLXR1bmVzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBsb2NhbFZhckhlYWRlclBhcmFtZXRlclsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmRhdGEgPSBjb21tb25fMS5zZXJpYWxpemVEYXRhSWZOZWVkZWQoY3JlYXRlRmluZVR1bmVSZXF1ZXN0LCBsb2NhbFZhclJlcXVlc3RPcHRpb25zLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYW4gaW1hZ2UgZ2l2ZW4gYSBwcm9tcHQuXG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlSW1hZ2VSZXF1ZXN0fSBjcmVhdGVJbWFnZVJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUltYWdlOiAoY3JlYXRlSW1hZ2VSZXF1ZXN0LCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2NyZWF0ZUltYWdlUmVxdWVzdCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlSW1hZ2UnLCAnY3JlYXRlSW1hZ2VSZXF1ZXN0JywgY3JlYXRlSW1hZ2VSZXF1ZXN0KTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvaW1hZ2VzL2dlbmVyYXRpb25zYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBsb2NhbFZhckhlYWRlclBhcmFtZXRlclsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmRhdGEgPSBjb21tb25fMS5zZXJpYWxpemVEYXRhSWZOZWVkZWQoY3JlYXRlSW1hZ2VSZXF1ZXN0LCBsb2NhbFZhclJlcXVlc3RPcHRpb25zLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYW4gZWRpdGVkIG9yIGV4dGVuZGVkIGltYWdlIGdpdmVuIGFuIG9yaWdpbmFsIGltYWdlIGFuZCBhIHByb21wdC5cbiAgICAgICAgICogQHBhcmFtIHtGaWxlfSBpbWFnZSBUaGUgaW1hZ2UgdG8gZWRpdC4gTXVzdCBiZSBhIHZhbGlkIFBORyBmaWxlLCBsZXNzIHRoYW4gNE1CLCBhbmQgc3F1YXJlLiBJZiBtYXNrIGlzIG5vdCBwcm92aWRlZCwgaW1hZ2UgbXVzdCBoYXZlIHRyYW5zcGFyZW5jeSwgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIHRoZSBtYXNrLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvbXB0IEEgdGV4dCBkZXNjcmlwdGlvbiBvZiB0aGUgZGVzaXJlZCBpbWFnZShzKS4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDEwMDAgY2hhcmFjdGVycy5cbiAgICAgICAgICogQHBhcmFtIHtGaWxlfSBbbWFza10gQW4gYWRkaXRpb25hbCBpbWFnZSB3aG9zZSBmdWxseSB0cmFuc3BhcmVudCBhcmVhcyAoZS5nLiB3aGVyZSBhbHBoYSBpcyB6ZXJvKSBpbmRpY2F0ZSB3aGVyZSAmI3g2MDtpbWFnZSYjeDYwOyBzaG91bGQgYmUgZWRpdGVkLiBNdXN0IGJlIGEgdmFsaWQgUE5HIGZpbGUsIGxlc3MgdGhhbiA0TUIsIGFuZCBoYXZlIHRoZSBzYW1lIGRpbWVuc2lvbnMgYXMgJiN4NjA7aW1hZ2UmI3g2MDsuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbl0gVGhlIG51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBUaGUgc2l6ZSBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlcy4gTXVzdCBiZSBvbmUgb2YgJiN4NjA7MjU2eDI1NiYjeDYwOywgJiN4NjA7NTEyeDUxMiYjeDYwOywgb3IgJiN4NjA7MTAyNHgxMDI0JiN4NjA7LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc3BvbnNlRm9ybWF0XSBUaGUgZm9ybWF0IGluIHdoaWNoIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzIGFyZSByZXR1cm5lZC4gTXVzdCBiZSBvbmUgb2YgJiN4NjA7dXJsJiN4NjA7IG9yICYjeDYwO2I2NF9qc29uJiN4NjA7LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJdIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yIGFuZCBkZXRlY3QgYWJ1c2UuIFtMZWFybiBtb3JlXSgvZG9jcy9ndWlkZXMvc2FmZXR5LWJlc3QtcHJhY3RpY2VzL2VuZC11c2VyLWlkcykuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVJbWFnZUVkaXQ6IChpbWFnZSwgcHJvbXB0LCBtYXNrLCBuLCBzaXplLCByZXNwb25zZUZvcm1hdCwgdXNlciwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpbWFnZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlSW1hZ2VFZGl0JywgJ2ltYWdlJywgaW1hZ2UpO1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAncHJvbXB0JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVJbWFnZUVkaXQnLCAncHJvbXB0JywgcHJvbXB0KTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvaW1hZ2VzL2VkaXRzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckZvcm1QYXJhbXMgPSBuZXcgKChjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uZm9ybURhdGFDdG9yKSB8fCBGb3JtRGF0YSkoKTtcbiAgICAgICAgICAgIGlmIChpbWFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgnaW1hZ2UnLCBpbWFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgnbWFzaycsIG1hc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb21wdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgncHJvbXB0JywgcHJvbXB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhckZvcm1QYXJhbXMuYXBwZW5kKCduJywgbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgnc2l6ZScsIHNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlRm9ybWF0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhckZvcm1QYXJhbXMuYXBwZW5kKCdyZXNwb25zZV9mb3JtYXQnLCByZXNwb25zZUZvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgndXNlcicsIHVzZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyKTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgbG9jYWxWYXJGb3JtUGFyYW1zLmdldEhlYWRlcnMoKSksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gbG9jYWxWYXJGb3JtUGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHZhcmlhdGlvbiBvZiBhIGdpdmVuIGltYWdlLlxuICAgICAgICAgKiBAcGFyYW0ge0ZpbGV9IGltYWdlIFRoZSBpbWFnZSB0byB1c2UgYXMgdGhlIGJhc2lzIGZvciB0aGUgdmFyaWF0aW9uKHMpLiBNdXN0IGJlIGEgdmFsaWQgUE5HIGZpbGUsIGxlc3MgdGhhbiA0TUIsIGFuZCBzcXVhcmUuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbl0gVGhlIG51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBUaGUgc2l6ZSBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlcy4gTXVzdCBiZSBvbmUgb2YgJiN4NjA7MjU2eDI1NiYjeDYwOywgJiN4NjA7NTEyeDUxMiYjeDYwOywgb3IgJiN4NjA7MTAyNHgxMDI0JiN4NjA7LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc3BvbnNlRm9ybWF0XSBUaGUgZm9ybWF0IGluIHdoaWNoIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzIGFyZSByZXR1cm5lZC4gTXVzdCBiZSBvbmUgb2YgJiN4NjA7dXJsJiN4NjA7IG9yICYjeDYwO2I2NF9qc29uJiN4NjA7LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJdIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yIGFuZCBkZXRlY3QgYWJ1c2UuIFtMZWFybiBtb3JlXSgvZG9jcy9ndWlkZXMvc2FmZXR5LWJlc3QtcHJhY3RpY2VzL2VuZC11c2VyLWlkcykuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVJbWFnZVZhcmlhdGlvbjogKGltYWdlLCBuLCBzaXplLCByZXNwb25zZUZvcm1hdCwgdXNlciwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdpbWFnZScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlSW1hZ2VWYXJpYXRpb24nLCAnaW1hZ2UnLCBpbWFnZSk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2ltYWdlcy92YXJpYXRpb25zYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckZvcm1QYXJhbXMgPSBuZXcgKChjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uZm9ybURhdGFDdG9yKSB8fCBGb3JtRGF0YSkoKTtcbiAgICAgICAgICAgIGlmIChpbWFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgnaW1hZ2UnLCBpbWFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgnbicsIG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyRm9ybVBhcmFtcy5hcHBlbmQoJ3NpemUnLCBzaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNwb25zZUZvcm1hdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgncmVzcG9uc2VfZm9ybWF0JywgcmVzcG9uc2VGb3JtYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyRm9ybVBhcmFtcy5hcHBlbmQoJ3VzZXInLCB1c2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyWydDb250ZW50LVR5cGUnXSA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJztcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlcik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGxvY2FsVmFyRm9ybVBhcmFtcy5nZXRIZWFkZXJzKCkpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuZGF0YSA9IGxvY2FsVmFyRm9ybVBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENsYXNzaWZpZXMgaWYgdGV4dCB2aW9sYXRlcyBPcGVuQUlcXCdzIENvbnRlbnQgUG9saWN5XG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlTW9kZXJhdGlvblJlcXVlc3R9IGNyZWF0ZU1vZGVyYXRpb25SZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVNb2RlcmF0aW9uOiAoY3JlYXRlTW9kZXJhdGlvblJlcXVlc3QsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY3JlYXRlTW9kZXJhdGlvblJlcXVlc3QnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZU1vZGVyYXRpb24nLCAnY3JlYXRlTW9kZXJhdGlvblJlcXVlc3QnLCBjcmVhdGVNb2RlcmF0aW9uUmVxdWVzdCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL21vZGVyYXRpb25zYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBsb2NhbFZhckhlYWRlclBhcmFtZXRlclsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmRhdGEgPSBjb21tb25fMS5zZXJpYWxpemVEYXRhSWZOZWVkZWQoY3JlYXRlTW9kZXJhdGlvblJlcXVlc3QsIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgVGhlIHNlYXJjaCBlbmRwb2ludCBjb21wdXRlcyBzaW1pbGFyaXR5IHNjb3JlcyBiZXR3ZWVuIHByb3ZpZGVkIHF1ZXJ5IGFuZCBkb2N1bWVudHMuIERvY3VtZW50cyBjYW4gYmUgcGFzc2VkIGRpcmVjdGx5IHRvIHRoZSBBUEkgaWYgdGhlcmUgYXJlIG5vIG1vcmUgdGhhbiAyMDAgb2YgdGhlbS4gIFRvIGdvIGJleW9uZCB0aGUgMjAwIGRvY3VtZW50IGxpbWl0LCBkb2N1bWVudHMgY2FuIGJlIHByb2Nlc3NlZCBvZmZsaW5lIGFuZCB0aGVuIHVzZWQgZm9yIGVmZmljaWVudCByZXRyaWV2YWwgYXQgcXVlcnkgdGltZS4gV2hlbiBgZmlsZWAgaXMgc2V0LCB0aGUgc2VhcmNoIGVuZHBvaW50IHNlYXJjaGVzIG92ZXIgYWxsIHRoZSBkb2N1bWVudHMgaW4gdGhlIGdpdmVuIGZpbGUgYW5kIHJldHVybnMgdXAgdG8gdGhlIGBtYXhfcmVyYW5rYCBudW1iZXIgb2YgZG9jdW1lbnRzLiBUaGVzZSBkb2N1bWVudHMgd2lsbCBiZSByZXR1cm5lZCBhbG9uZyB3aXRoIHRoZWlyIHNlYXJjaCBzY29yZXMuICBUaGUgc2ltaWxhcml0eSBzY29yZSBpcyBhIHBvc2l0aXZlIHNjb3JlIHRoYXQgdXN1YWxseSByYW5nZXMgZnJvbSAwIHRvIDMwMCAoYnV0IGNhbiBzb21ldGltZXMgZ28gaGlnaGVyKSwgd2hlcmUgYSBzY29yZSBhYm92ZSAyMDAgdXN1YWxseSBtZWFucyB0aGUgZG9jdW1lbnQgaXMgc2VtYW50aWNhbGx5IHNpbWlsYXIgdG8gdGhlIHF1ZXJ5LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZW5naW5lSWQgVGhlIElEIG9mIHRoZSBlbmdpbmUgdG8gdXNlIGZvciB0aGlzIHJlcXVlc3QuICBZb3UgY2FuIHNlbGVjdCBvbmUgb2YgJiN4NjA7YWRhJiN4NjA7LCAmI3g2MDtiYWJiYWdlJiN4NjA7LCAmI3g2MDtjdXJpZSYjeDYwOywgb3IgJiN4NjA7ZGF2aW5jaSYjeDYwOy5cbiAgICAgICAgICogQHBhcmFtIHtDcmVhdGVTZWFyY2hSZXF1ZXN0fSBjcmVhdGVTZWFyY2hSZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVTZWFyY2g6IChlbmdpbmVJZCwgY3JlYXRlU2VhcmNoUmVxdWVzdCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdlbmdpbmVJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlU2VhcmNoJywgJ2VuZ2luZUlkJywgZW5naW5lSWQpO1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnY3JlYXRlU2VhcmNoUmVxdWVzdCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnY3JlYXRlU2VhcmNoJywgJ2NyZWF0ZVNlYXJjaFJlcXVlc3QnLCBjcmVhdGVTZWFyY2hSZXF1ZXN0KTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvZW5naW5lcy97ZW5naW5lX2lkfS9zZWFyY2hgXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiZW5naW5lX2lkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoZW5naW5lSWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyKTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gY29tbW9uXzEuc2VyaWFsaXplRGF0YUlmTmVlZGVkKGNyZWF0ZVNlYXJjaFJlcXVlc3QsIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgVHJhbnNjcmliZXMgYXVkaW8gaW50byB0aGUgaW5wdXQgbGFuZ3VhZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7RmlsZX0gZmlsZSBUaGUgYXVkaW8gZmlsZSB0byB0cmFuc2NyaWJlLCBpbiBvbmUgb2YgdGhlc2UgZm9ybWF0czogbXAzLCBtcDQsIG1wZWcsIG1wZ2EsIG00YSwgd2F2LCBvciB3ZWJtLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZWwgSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gT25seSAmI3g2MDt3aGlzcGVyLTEmI3g2MDsgaXMgY3VycmVudGx5IGF2YWlsYWJsZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcm9tcHRdIEFuIG9wdGlvbmFsIHRleHQgdG8gZ3VpZGUgdGhlIG1vZGVsXFxcXFxcJiMzOTtzIHN0eWxlIG9yIGNvbnRpbnVlIGEgcHJldmlvdXMgYXVkaW8gc2VnbWVudC4gVGhlIFtwcm9tcHRdKC9kb2NzL2d1aWRlcy9zcGVlY2gtdG8tdGV4dC9wcm9tcHRpbmcpIHNob3VsZCBtYXRjaCB0aGUgYXVkaW8gbGFuZ3VhZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcmVzcG9uc2VGb3JtYXRdIFRoZSBmb3JtYXQgb2YgdGhlIHRyYW5zY3JpcHQgb3V0cHV0LCBpbiBvbmUgb2YgdGhlc2Ugb3B0aW9uczoganNvbiwgdGV4dCwgc3J0LCB2ZXJib3NlX2pzb24sIG9yIHZ0dC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFt0ZW1wZXJhdHVyZV0gVGhlIHNhbXBsaW5nIHRlbXBlcmF0dXJlLCBiZXR3ZWVuIDAgYW5kIDEuIEhpZ2hlciB2YWx1ZXMgbGlrZSAwLjggd2lsbCBtYWtlIHRoZSBvdXRwdXQgbW9yZSByYW5kb20sIHdoaWxlIGxvd2VyIHZhbHVlcyBsaWtlIDAuMiB3aWxsIG1ha2UgaXQgbW9yZSBmb2N1c2VkIGFuZCBkZXRlcm1pbmlzdGljLiBJZiBzZXQgdG8gMCwgdGhlIG1vZGVsIHdpbGwgdXNlIFtsb2cgcHJvYmFiaWxpdHldKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xvZ19wcm9iYWJpbGl0eSkgdG8gYXV0b21hdGljYWxseSBpbmNyZWFzZSB0aGUgdGVtcGVyYXR1cmUgdW50aWwgY2VydGFpbiB0aHJlc2hvbGRzIGFyZSBoaXQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbGFuZ3VhZ2VdIFRoZSBsYW5ndWFnZSBvZiB0aGUgaW5wdXQgYXVkaW8uIFN1cHBseWluZyB0aGUgaW5wdXQgbGFuZ3VhZ2UgaW4gW0lTTy02MzktMV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9JU09fNjM5LTFfY29kZXMpIGZvcm1hdCB3aWxsIGltcHJvdmUgYWNjdXJhY3kgYW5kIGxhdGVuY3kuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVUcmFuc2NyaXB0aW9uOiAoZmlsZSwgbW9kZWwsIHByb21wdCwgcmVzcG9uc2VGb3JtYXQsIHRlbXBlcmF0dXJlLCBsYW5ndWFnZSwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdmaWxlJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVUcmFuc2NyaXB0aW9uJywgJ2ZpbGUnLCBmaWxlKTtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ21vZGVsJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVUcmFuc2NyaXB0aW9uJywgJ21vZGVsJywgbW9kZWwpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9hdWRpby90cmFuc2NyaXB0aW9uc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ1BPU1QnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJGb3JtUGFyYW1zID0gbmV3ICgoY29uZmlndXJhdGlvbiAmJiBjb25maWd1cmF0aW9uLmZvcm1EYXRhQ3RvcikgfHwgRm9ybURhdGEpKCk7XG4gICAgICAgICAgICBpZiAoZmlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vZGVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhckZvcm1QYXJhbXMuYXBwZW5kKCdtb2RlbCcsIG1vZGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9tcHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyRm9ybVBhcmFtcy5hcHBlbmQoJ3Byb21wdCcsIHByb21wdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzcG9uc2VGb3JtYXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyRm9ybVBhcmFtcy5hcHBlbmQoJ3Jlc3BvbnNlX2Zvcm1hdCcsIHJlc3BvbnNlRm9ybWF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0ZW1wZXJhdHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgndGVtcGVyYXR1cmUnLCB0ZW1wZXJhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFuZ3VhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyRm9ybVBhcmFtcy5hcHBlbmQoJ2xhbmd1YWdlJywgbGFuZ3VhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXJbJ0NvbnRlbnQtVHlwZSddID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyKTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgbG9jYWxWYXJGb3JtUGFyYW1zLmdldEhlYWRlcnMoKSksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5kYXRhID0gbG9jYWxWYXJGb3JtUGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgVHJhbnNsYXRlcyBhdWRpbyBpbnRvIGludG8gRW5nbGlzaC5cbiAgICAgICAgICogQHBhcmFtIHtGaWxlfSBmaWxlIFRoZSBhdWRpbyBmaWxlIHRvIHRyYW5zbGF0ZSwgaW4gb25lIG9mIHRoZXNlIGZvcm1hdHM6IG1wMywgbXA0LCBtcGVnLCBtcGdhLCBtNGEsIHdhdiwgb3Igd2VibS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGVsIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIE9ubHkgJiN4NjA7d2hpc3Blci0xJiN4NjA7IGlzIGN1cnJlbnRseSBhdmFpbGFibGUuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvbXB0XSBBbiBvcHRpb25hbCB0ZXh0IHRvIGd1aWRlIHRoZSBtb2RlbFxcXFxcXCYjMzk7cyBzdHlsZSBvciBjb250aW51ZSBhIHByZXZpb3VzIGF1ZGlvIHNlZ21lbnQuIFRoZSBbcHJvbXB0XSgvZG9jcy9ndWlkZXMvc3BlZWNoLXRvLXRleHQvcHJvbXB0aW5nKSBzaG91bGQgYmUgaW4gRW5nbGlzaC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNwb25zZUZvcm1hdF0gVGhlIGZvcm1hdCBvZiB0aGUgdHJhbnNjcmlwdCBvdXRwdXQsIGluIG9uZSBvZiB0aGVzZSBvcHRpb25zOiBqc29uLCB0ZXh0LCBzcnQsIHZlcmJvc2VfanNvbiwgb3IgdnR0LlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RlbXBlcmF0dXJlXSBUaGUgc2FtcGxpbmcgdGVtcGVyYXR1cmUsIGJldHdlZW4gMCBhbmQgMS4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuIElmIHNldCB0byAwLCB0aGUgbW9kZWwgd2lsbCB1c2UgW2xvZyBwcm9iYWJpbGl0eV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9nX3Byb2JhYmlsaXR5KSB0byBhdXRvbWF0aWNhbGx5IGluY3JlYXNlIHRoZSB0ZW1wZXJhdHVyZSB1bnRpbCBjZXJ0YWluIHRocmVzaG9sZHMgYXJlIGhpdC5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVRyYW5zbGF0aW9uOiAoZmlsZSwgbW9kZWwsIHByb21wdCwgcmVzcG9uc2VGb3JtYXQsIHRlbXBlcmF0dXJlLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbGUnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ2NyZWF0ZVRyYW5zbGF0aW9uJywgJ2ZpbGUnLCBmaWxlKTtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ21vZGVsJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdjcmVhdGVUcmFuc2xhdGlvbicsICdtb2RlbCcsIG1vZGVsKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvYXVkaW8vdHJhbnNsYXRpb25zYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnUE9TVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckZvcm1QYXJhbXMgPSBuZXcgKChjb25maWd1cmF0aW9uICYmIGNvbmZpZ3VyYXRpb24uZm9ybURhdGFDdG9yKSB8fCBGb3JtRGF0YSkoKTtcbiAgICAgICAgICAgIGlmIChmaWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhckZvcm1QYXJhbXMuYXBwZW5kKCdmaWxlJywgZmlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9kZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyRm9ybVBhcmFtcy5hcHBlbmQoJ21vZGVsJywgbW9kZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb21wdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgncHJvbXB0JywgcHJvbXB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNwb25zZUZvcm1hdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxWYXJGb3JtUGFyYW1zLmFwcGVuZCgncmVzcG9uc2VfZm9ybWF0JywgcmVzcG9uc2VGb3JtYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRlbXBlcmF0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZhckZvcm1QYXJhbXMuYXBwZW5kKCd0ZW1wZXJhdHVyZScsIHRlbXBlcmF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyWydDb250ZW50LVR5cGUnXSA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJztcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlcik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGxvY2FsVmFyRm9ybVBhcmFtcy5nZXRIZWFkZXJzKCkpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuZGF0YSA9IGxvY2FsVmFyRm9ybVBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGZpbGUuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlSWQgVGhlIElEIG9mIHRoZSBmaWxlIHRvIHVzZSBmb3IgdGhpcyByZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVGaWxlOiAoZmlsZUlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbGVJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZGVsZXRlRmlsZScsICdmaWxlSWQnLCBmaWxlSWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9maWxlcy97ZmlsZV9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiZmlsZV9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGZpbGVJZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnREVMRVRFJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlcik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGZpbmUtdHVuZWQgbW9kZWwuIFlvdSBtdXN0IGhhdmUgdGhlIE93bmVyIHJvbGUgaW4geW91ciBvcmdhbml6YXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlbCBUaGUgbW9kZWwgdG8gZGVsZXRlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVNb2RlbDogKG1vZGVsLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ21vZGVsJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdkZWxldGVNb2RlbCcsICdtb2RlbCcsIG1vZGVsKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvbW9kZWxzL3ttb2RlbH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wibW9kZWxcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhtb2RlbCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnREVMRVRFJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlcik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBzcGVjaWZpZWQgZmlsZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZUlkIFRoZSBJRCBvZiB0aGUgZmlsZSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZG93bmxvYWRGaWxlOiAoZmlsZUlkLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2ZpbGVJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnZG93bmxvYWRGaWxlJywgJ2ZpbGVJZCcsIGZpbGVJZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2ZpbGVzL3tmaWxlX2lkfS9jb250ZW50YFxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKGB7JHtcImZpbGVfaWRcIn19YCwgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhmaWxlSWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBMaXN0cyB0aGUgY3VycmVudGx5IGF2YWlsYWJsZSAobm9uLWZpbmV0dW5lZCkgbW9kZWxzLCBhbmQgcHJvdmlkZXMgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgZWFjaCBvbmUgc3VjaCBhcyB0aGUgb3duZXIgYW5kIGF2YWlsYWJpbGl0eS5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQGRlcHJlY2F0ZWRcbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RFbmdpbmVzOiAob3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2VuZ2luZXNgO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyKTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0dXJucyBhIGxpc3Qgb2YgZmlsZXMgdGhhdCBiZWxvbmcgdG8gdGhlIHVzZXJcXCdzIG9yZ2FuaXphdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RGaWxlczogKG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9maWxlc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgZmluZS1ncmFpbmVkIHN0YXR1cyB1cGRhdGVzIGZvciBhIGZpbmUtdHVuZSBqb2IuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaW5lVHVuZUlkIFRoZSBJRCBvZiB0aGUgZmluZS10dW5lIGpvYiB0byBnZXQgZXZlbnRzIGZvci5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbc3RyZWFtXSBXaGV0aGVyIHRvIHN0cmVhbSBldmVudHMgZm9yIHRoZSBmaW5lLXR1bmUgam9iLiBJZiBzZXQgdG8gdHJ1ZSwgZXZlbnRzIHdpbGwgYmUgc2VudCBhcyBkYXRhLW9ubHkgW3NlcnZlci1zZW50IGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHMjRXZlbnRfc3RyZWFtX2Zvcm1hdCkgYXMgdGhleSBiZWNvbWUgYXZhaWxhYmxlLiBUaGUgc3RyZWFtIHdpbGwgdGVybWluYXRlIHdpdGggYSAmI3g2MDtkYXRhOiBbRE9ORV0mI3g2MDsgbWVzc2FnZSB3aGVuIHRoZSBqb2IgaXMgZmluaXNoZWQgKHN1Y2NlZWRlZCwgY2FuY2VsbGVkLCBvciBmYWlsZWQpLiAgSWYgc2V0IHRvIGZhbHNlLCBvbmx5IGV2ZW50cyBnZW5lcmF0ZWQgc28gZmFyIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0RmluZVR1bmVFdmVudHM6IChmaW5lVHVuZUlkLCBzdHJlYW0sIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmluZVR1bmVJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygnbGlzdEZpbmVUdW5lRXZlbnRzJywgJ2ZpbmVUdW5lSWQnLCBmaW5lVHVuZUlkKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUGF0aCA9IGAvZmluZS10dW5lcy97ZmluZV90dW5lX2lkfS9ldmVudHNgXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiZmluZV90dW5lX2lkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoZmluZVR1bmVJZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGlmIChzdHJlYW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXJbJ3N0cmVhbSddID0gc3RyZWFtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyKTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgTGlzdCB5b3VyIG9yZ2FuaXphdGlvblxcJ3MgZmluZS10dW5pbmcgam9ic1xuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdEZpbmVUdW5lczogKG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9maW5lLXR1bmVzYDtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlcik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IExpc3RzIHRoZSBjdXJyZW50bHkgYXZhaWxhYmxlIG1vZGVscywgYW5kIHByb3ZpZGVzIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IGVhY2ggb25lIHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBhdmFpbGFiaWxpdHkuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0TW9kZWxzOiAob3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL21vZGVsc2A7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXRyaWV2ZXMgYSBtb2RlbCBpbnN0YW5jZSwgcHJvdmlkaW5nIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IGl0IHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBhdmFpbGFiaWxpdHkuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbmdpbmVJZCBUaGUgSUQgb2YgdGhlIGVuZ2luZSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0cmlldmVFbmdpbmU6IChlbmdpbmVJZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdlbmdpbmVJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygncmV0cmlldmVFbmdpbmUnLCAnZW5naW5lSWQnLCBlbmdpbmVJZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2VuZ2luZXMve2VuZ2luZV9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiZW5naW5lX2lkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoZW5naW5lSWQpKSk7XG4gICAgICAgICAgICAvLyB1c2UgZHVtbXkgYmFzZSBVUkwgc3RyaW5nIGJlY2F1c2UgdGhlIFVSTCBjb25zdHJ1Y3RvciBvbmx5IGFjY2VwdHMgYWJzb2x1dGUgVVJMcy5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyVXJsT2JqID0gbmV3IFVSTChsb2NhbFZhclBhdGgsIGNvbW1vbl8xLkRVTU1ZX0JBU0VfVVJMKTtcbiAgICAgICAgICAgIGxldCBiYXNlT3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmFzZU9wdGlvbnMgPSBjb25maWd1cmF0aW9uLmJhc2VPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG1ldGhvZDogJ0dFVCcgfSwgYmFzZU9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyID0ge307XG4gICAgICAgICAgICBjb21tb25fMS5zZXRTZWFyY2hQYXJhbXMobG9jYWxWYXJVcmxPYmosIGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMgPSBiYXNlT3B0aW9ucyAmJiBiYXNlT3B0aW9ucy5oZWFkZXJzID8gYmFzZU9wdGlvbnMuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxvY2FsVmFySGVhZGVyUGFyYW1ldGVyKSwgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVybDogY29tbW9uXzEudG9QYXRoU3RyaW5nKGxvY2FsVmFyVXJsT2JqKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBsb2NhbFZhclJlcXVlc3RPcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IGEgc3BlY2lmaWMgZmlsZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVJZCBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gdXNlIGZvciB0aGlzIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIHJldHJpZXZlRmlsZTogKGZpbGVJZCwgb3B0aW9ucyA9IHt9KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdmaWxlSWQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgY29tbW9uXzEuYXNzZXJ0UGFyYW1FeGlzdHMoJ3JldHJpZXZlRmlsZScsICdmaWxlSWQnLCBmaWxlSWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9maWxlcy97ZmlsZV9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiZmlsZV9pZFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGZpbGVJZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlcik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldHMgaW5mbyBhYm91dCB0aGUgZmluZS10dW5lIGpvYi4gIFtMZWFybiBtb3JlIGFib3V0IEZpbmUtdHVuaW5nXSgvZG9jcy9ndWlkZXMvZmluZS10dW5pbmcpXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaW5lVHVuZUlkIFRoZSBJRCBvZiB0aGUgZmluZS10dW5lIGpvYlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0cmlldmVGaW5lVHVuZTogKGZpbmVUdW5lSWQsIG9wdGlvbnMgPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnZmluZVR1bmVJZCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBjb21tb25fMS5hc3NlcnRQYXJhbUV4aXN0cygncmV0cmlldmVGaW5lVHVuZScsICdmaW5lVHVuZUlkJywgZmluZVR1bmVJZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclBhdGggPSBgL2ZpbmUtdHVuZXMve2ZpbmVfdHVuZV9pZH1gXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoYHske1wiZmluZV90dW5lX2lkXCJ9fWAsIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoZmluZVR1bmVJZCkpKTtcbiAgICAgICAgICAgIC8vIHVzZSBkdW1teSBiYXNlIFVSTCBzdHJpbmcgYmVjYXVzZSB0aGUgVVJMIGNvbnN0cnVjdG9yIG9ubHkgYWNjZXB0cyBhYnNvbHV0ZSBVUkxzLlxuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJVcmxPYmogPSBuZXcgVVJMKGxvY2FsVmFyUGF0aCwgY29tbW9uXzEuRFVNTVlfQkFTRV9VUkwpO1xuICAgICAgICAgICAgbGV0IGJhc2VPcHRpb25zO1xuICAgICAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9ucyA9IGNvbmZpZ3VyYXRpb24uYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclJlcXVlc3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWV0aG9kOiAnR0VUJyB9LCBiYXNlT3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUXVlcnlQYXJhbWV0ZXIgPSB7fTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnNldFNlYXJjaFBhcmFtcyhsb2NhbFZhclVybE9iaiwgbG9jYWxWYXJRdWVyeVBhcmFtZXRlcik7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc0Zyb21CYXNlT3B0aW9ucyA9IGJhc2VPcHRpb25zICYmIGJhc2VPcHRpb25zLmhlYWRlcnMgPyBiYXNlT3B0aW9ucy5oZWFkZXJzIDoge307XG4gICAgICAgICAgICBsb2NhbFZhclJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbG9jYWxWYXJIZWFkZXJQYXJhbWV0ZXIpLCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zKSwgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXJsOiBjb21tb25fMS50b1BhdGhTdHJpbmcobG9jYWxWYXJVcmxPYmopLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHJpZXZlcyBhIG1vZGVsIGluc3RhbmNlLCBwcm92aWRpbmcgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1vZGVsIHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBwZXJtaXNzaW9uaW5nLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZWwgVGhlIElEIG9mIHRoZSBtb2RlbCB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0cmlldmVNb2RlbDogKG1vZGVsLCBvcHRpb25zID0ge30pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ21vZGVsJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbW1vbl8xLmFzc2VydFBhcmFtRXhpc3RzKCdyZXRyaWV2ZU1vZGVsJywgJ21vZGVsJywgbW9kZWwpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJQYXRoID0gYC9tb2RlbHMve21vZGVsfWBcbiAgICAgICAgICAgICAgICAucmVwbGFjZShgeyR7XCJtb2RlbFwifX1gLCBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG1vZGVsKSkpO1xuICAgICAgICAgICAgLy8gdXNlIGR1bW15IGJhc2UgVVJMIHN0cmluZyBiZWNhdXNlIHRoZSBVUkwgY29uc3RydWN0b3Igb25seSBhY2NlcHRzIGFic29sdXRlIFVSTHMuXG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhclVybE9iaiA9IG5ldyBVUkwobG9jYWxWYXJQYXRoLCBjb21tb25fMS5EVU1NWV9CQVNFX1VSTCk7XG4gICAgICAgICAgICBsZXQgYmFzZU9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zID0gY29uZmlndXJhdGlvbi5iYXNlT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6ICdHRVQnIH0sIGJhc2VPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJRdWVyeVBhcmFtZXRlciA9IHt9O1xuICAgICAgICAgICAgY29tbW9uXzEuc2V0U2VhcmNoUGFyYW1zKGxvY2FsVmFyVXJsT2JqLCBsb2NhbFZhclF1ZXJ5UGFyYW1ldGVyKTtcbiAgICAgICAgICAgIGxldCBoZWFkZXJzRnJvbUJhc2VPcHRpb25zID0gYmFzZU9wdGlvbnMgJiYgYmFzZU9wdGlvbnMuaGVhZGVycyA/IGJhc2VPcHRpb25zLmhlYWRlcnMgOiB7fTtcbiAgICAgICAgICAgIGxvY2FsVmFyUmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsb2NhbFZhckhlYWRlclBhcmFtZXRlciksIGhlYWRlcnNGcm9tQmFzZU9wdGlvbnMpLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cmw6IGNvbW1vbl8xLnRvUGF0aFN0cmluZyhsb2NhbFZhclVybE9iaiksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogbG9jYWxWYXJSZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgIH07XG59O1xuLyoqXG4gKiBPcGVuQUlBcGkgLSBmdW5jdGlvbmFsIHByb2dyYW1taW5nIGludGVyZmFjZVxuICogQGV4cG9ydFxuICovXG5leHBvcnRzLk9wZW5BSUFwaUZwID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25zdCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yID0gZXhwb3J0cy5PcGVuQUlBcGlBeGlvc1BhcmFtQ3JlYXRvcihjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgSW1tZWRpYXRlbHkgY2FuY2VsIGEgZmluZS10dW5lIGpvYi5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbmVUdW5lSWQgVGhlIElEIG9mIHRoZSBmaW5lLXR1bmUgam9iIHRvIGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY2FuY2VsRmluZVR1bmUoZmluZVR1bmVJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuY2FuY2VsRmluZVR1bmUoZmluZVR1bmVJZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQW5zd2VycyB0aGUgc3BlY2lmaWVkIHF1ZXN0aW9uIHVzaW5nIHRoZSBwcm92aWRlZCBkb2N1bWVudHMgYW5kIGV4YW1wbGVzLiAgVGhlIGVuZHBvaW50IGZpcnN0IFtzZWFyY2hlc10oL2RvY3MvYXBpLXJlZmVyZW5jZS9zZWFyY2hlcykgb3ZlciBwcm92aWRlZCBkb2N1bWVudHMgb3IgZmlsZXMgdG8gZmluZCByZWxldmFudCBjb250ZXh0LiBUaGUgcmVsZXZhbnQgY29udGV4dCBpcyBjb21iaW5lZCB3aXRoIHRoZSBwcm92aWRlZCBleGFtcGxlcyBhbmQgcXVlc3Rpb24gdG8gY3JlYXRlIHRoZSBwcm9tcHQgZm9yIFtjb21wbGV0aW9uXSgvZG9jcy9hcGktcmVmZXJlbmNlL2NvbXBsZXRpb25zKS5cbiAgICAgICAgICogQHBhcmFtIHtDcmVhdGVBbnN3ZXJSZXF1ZXN0fSBjcmVhdGVBbnN3ZXJSZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVBbnN3ZXIoY3JlYXRlQW5zd2VyUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuY3JlYXRlQW5zd2VyKGNyZWF0ZUFuc3dlclJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYSBjb21wbGV0aW9uIGZvciB0aGUgY2hhdCBtZXNzYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0fSBjcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUNoYXRDb21wbGV0aW9uKGNyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuY3JlYXRlQ2hhdENvbXBsZXRpb24oY3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDbGFzc2lmaWVzIHRoZSBzcGVjaWZpZWQgYHF1ZXJ5YCB1c2luZyBwcm92aWRlZCBleGFtcGxlcy4gIFRoZSBlbmRwb2ludCBmaXJzdCBbc2VhcmNoZXNdKC9kb2NzL2FwaS1yZWZlcmVuY2Uvc2VhcmNoZXMpIG92ZXIgdGhlIGxhYmVsZWQgZXhhbXBsZXMgdG8gc2VsZWN0IHRoZSBvbmVzIG1vc3QgcmVsZXZhbnQgZm9yIHRoZSBwYXJ0aWN1bGFyIHF1ZXJ5LiBUaGVuLCB0aGUgcmVsZXZhbnQgZXhhbXBsZXMgYXJlIGNvbWJpbmVkIHdpdGggdGhlIHF1ZXJ5IHRvIGNvbnN0cnVjdCBhIHByb21wdCB0byBwcm9kdWNlIHRoZSBmaW5hbCBsYWJlbCB2aWEgdGhlIFtjb21wbGV0aW9uc10oL2RvY3MvYXBpLXJlZmVyZW5jZS9jb21wbGV0aW9ucykgZW5kcG9pbnQuICBMYWJlbGVkIGV4YW1wbGVzIGNhbiBiZSBwcm92aWRlZCB2aWEgYW4gdXBsb2FkZWQgYGZpbGVgLCBvciBleHBsaWNpdGx5IGxpc3RlZCBpbiB0aGUgcmVxdWVzdCB1c2luZyB0aGUgYGV4YW1wbGVzYCBwYXJhbWV0ZXIgZm9yIHF1aWNrIHRlc3RzIGFuZCBzbWFsbCBzY2FsZSB1c2UgY2FzZXMuXG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlQ2xhc3NpZmljYXRpb25SZXF1ZXN0fSBjcmVhdGVDbGFzc2lmaWNhdGlvblJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQGRlcHJlY2F0ZWRcbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUNsYXNzaWZpY2F0aW9uKGNyZWF0ZUNsYXNzaWZpY2F0aW9uUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuY3JlYXRlQ2xhc3NpZmljYXRpb24oY3JlYXRlQ2xhc3NpZmljYXRpb25SZXF1ZXN0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgY29tcGxldGlvbiBmb3IgdGhlIHByb3ZpZGVkIHByb21wdCBhbmQgcGFyYW1ldGVyc1xuICAgICAgICAgKiBAcGFyYW0ge0NyZWF0ZUNvbXBsZXRpb25SZXF1ZXN0fSBjcmVhdGVDb21wbGV0aW9uUmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQ29tcGxldGlvbihjcmVhdGVDb21wbGV0aW9uUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuY3JlYXRlQ29tcGxldGlvbihjcmVhdGVDb21wbGV0aW9uUmVxdWVzdCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIG5ldyBlZGl0IGZvciB0aGUgcHJvdmlkZWQgaW5wdXQsIGluc3RydWN0aW9uLCBhbmQgcGFyYW1ldGVycy5cbiAgICAgICAgICogQHBhcmFtIHtDcmVhdGVFZGl0UmVxdWVzdH0gY3JlYXRlRWRpdFJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUVkaXQoY3JlYXRlRWRpdFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmNyZWF0ZUVkaXQoY3JlYXRlRWRpdFJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYW4gZW1iZWRkaW5nIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGlucHV0IHRleHQuXG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlRW1iZWRkaW5nUmVxdWVzdH0gY3JlYXRlRW1iZWRkaW5nUmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlRW1iZWRkaW5nKGNyZWF0ZUVtYmVkZGluZ1JlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmNyZWF0ZUVtYmVkZGluZyhjcmVhdGVFbWJlZGRpbmdSZXF1ZXN0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBVcGxvYWQgYSBmaWxlIHRoYXQgY29udGFpbnMgZG9jdW1lbnQocykgdG8gYmUgdXNlZCBhY3Jvc3MgdmFyaW91cyBlbmRwb2ludHMvZmVhdHVyZXMuIEN1cnJlbnRseSwgdGhlIHNpemUgb2YgYWxsIHRoZSBmaWxlcyB1cGxvYWRlZCBieSBvbmUgb3JnYW5pemF0aW9uIGNhbiBiZSB1cCB0byAxIEdCLiBQbGVhc2UgY29udGFjdCB1cyBpZiB5b3UgbmVlZCB0byBpbmNyZWFzZSB0aGUgc3RvcmFnZSBsaW1pdC5cbiAgICAgICAgICogQHBhcmFtIHtGaWxlfSBmaWxlIE5hbWUgb2YgdGhlIFtKU09OIExpbmVzXShodHRwczovL2pzb25saW5lcy5yZWFkdGhlZG9jcy5pby9lbi9sYXRlc3QvKSBmaWxlIHRvIGJlIHVwbG9hZGVkLiAgSWYgdGhlICYjeDYwO3B1cnBvc2UmI3g2MDsgaXMgc2V0IHRvIFxcXFxcXCZxdW90O2ZpbmUtdHVuZVxcXFxcXCZxdW90OywgZWFjaCBsaW5lIGlzIGEgSlNPTiByZWNvcmQgd2l0aCBcXFxcXFwmcXVvdDtwcm9tcHRcXFxcXFwmcXVvdDsgYW5kIFxcXFxcXCZxdW90O2NvbXBsZXRpb25cXFxcXFwmcXVvdDsgZmllbGRzIHJlcHJlc2VudGluZyB5b3VyIFt0cmFpbmluZyBleGFtcGxlc10oL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nL3ByZXBhcmUtdHJhaW5pbmctZGF0YSkuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwdXJwb3NlIFRoZSBpbnRlbmRlZCBwdXJwb3NlIG9mIHRoZSB1cGxvYWRlZCBkb2N1bWVudHMuICBVc2UgXFxcXFxcJnF1b3Q7ZmluZS10dW5lXFxcXFxcJnF1b3Q7IGZvciBbRmluZS10dW5pbmddKC9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5lcykuIFRoaXMgYWxsb3dzIHVzIHRvIHZhbGlkYXRlIHRoZSBmb3JtYXQgb2YgdGhlIHVwbG9hZGVkIGZpbGUuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVGaWxlKGZpbGUsIHB1cnBvc2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmNyZWF0ZUZpbGUoZmlsZSwgcHVycG9zZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIGpvYiB0aGF0IGZpbmUtdHVuZXMgYSBzcGVjaWZpZWQgbW9kZWwgZnJvbSBhIGdpdmVuIGRhdGFzZXQuICBSZXNwb25zZSBpbmNsdWRlcyBkZXRhaWxzIG9mIHRoZSBlbnF1ZXVlZCBqb2IgaW5jbHVkaW5nIGpvYiBzdGF0dXMgYW5kIHRoZSBuYW1lIG9mIHRoZSBmaW5lLXR1bmVkIG1vZGVscyBvbmNlIGNvbXBsZXRlLiAgW0xlYXJuIG1vcmUgYWJvdXQgRmluZS10dW5pbmddKC9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICAgICAgICogQHBhcmFtIHtDcmVhdGVGaW5lVHVuZVJlcXVlc3R9IGNyZWF0ZUZpbmVUdW5lUmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlRmluZVR1bmUoY3JlYXRlRmluZVR1bmVSZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5jcmVhdGVGaW5lVHVuZShjcmVhdGVGaW5lVHVuZVJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYW4gaW1hZ2UgZ2l2ZW4gYSBwcm9tcHQuXG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlSW1hZ2VSZXF1ZXN0fSBjcmVhdGVJbWFnZVJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUltYWdlKGNyZWF0ZUltYWdlUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuY3JlYXRlSW1hZ2UoY3JlYXRlSW1hZ2VSZXF1ZXN0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGFuIGVkaXRlZCBvciBleHRlbmRlZCBpbWFnZSBnaXZlbiBhbiBvcmlnaW5hbCBpbWFnZSBhbmQgYSBwcm9tcHQuXG4gICAgICAgICAqIEBwYXJhbSB7RmlsZX0gaW1hZ2UgVGhlIGltYWdlIHRvIGVkaXQuIE11c3QgYmUgYSB2YWxpZCBQTkcgZmlsZSwgbGVzcyB0aGFuIDRNQiwgYW5kIHNxdWFyZS4gSWYgbWFzayBpcyBub3QgcHJvdmlkZWQsIGltYWdlIG11c3QgaGF2ZSB0cmFuc3BhcmVuY3ksIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyB0aGUgbWFzay5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb21wdCBBIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIGRlc2lyZWQgaW1hZ2UocykuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyAxMDAwIGNoYXJhY3RlcnMuXG4gICAgICAgICAqIEBwYXJhbSB7RmlsZX0gW21hc2tdIEFuIGFkZGl0aW9uYWwgaW1hZ2Ugd2hvc2UgZnVsbHkgdHJhbnNwYXJlbnQgYXJlYXMgKGUuZy4gd2hlcmUgYWxwaGEgaXMgemVybykgaW5kaWNhdGUgd2hlcmUgJiN4NjA7aW1hZ2UmI3g2MDsgc2hvdWxkIGJlIGVkaXRlZC4gTXVzdCBiZSBhIHZhbGlkIFBORyBmaWxlLCBsZXNzIHRoYW4gNE1CLCBhbmQgaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb25zIGFzICYjeDYwO2ltYWdlJiN4NjA7LlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW25dIFRoZSBudW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gVGhlIHNpemUgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIE11c3QgYmUgb25lIG9mICYjeDYwOzI1NngyNTYmI3g2MDssICYjeDYwOzUxMng1MTImI3g2MDssIG9yICYjeDYwOzEwMjR4MTAyNCYjeDYwOy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNwb25zZUZvcm1hdF0gVGhlIGZvcm1hdCBpbiB3aGljaCB0aGUgZ2VuZXJhdGVkIGltYWdlcyBhcmUgcmV0dXJuZWQuIE11c3QgYmUgb25lIG9mICYjeDYwO3VybCYjeDYwOyBvciAmI3g2MDtiNjRfanNvbiYjeDYwOy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyXSBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvciBhbmQgZGV0ZWN0IGFidXNlLiBbTGVhcm4gbW9yZV0oL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcy9lbmQtdXNlci1pZHMpLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlSW1hZ2VFZGl0KGltYWdlLCBwcm9tcHQsIG1hc2ssIG4sIHNpemUsIHJlc3BvbnNlRm9ybWF0LCB1c2VyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5jcmVhdGVJbWFnZUVkaXQoaW1hZ2UsIHByb21wdCwgbWFzaywgbiwgc2l6ZSwgcmVzcG9uc2VGb3JtYXQsIHVzZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYSB2YXJpYXRpb24gb2YgYSBnaXZlbiBpbWFnZS5cbiAgICAgICAgICogQHBhcmFtIHtGaWxlfSBpbWFnZSBUaGUgaW1hZ2UgdG8gdXNlIGFzIHRoZSBiYXNpcyBmb3IgdGhlIHZhcmlhdGlvbihzKS4gTXVzdCBiZSBhIHZhbGlkIFBORyBmaWxlLCBsZXNzIHRoYW4gNE1CLCBhbmQgc3F1YXJlLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW25dIFRoZSBudW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gVGhlIHNpemUgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIE11c3QgYmUgb25lIG9mICYjeDYwOzI1NngyNTYmI3g2MDssICYjeDYwOzUxMng1MTImI3g2MDssIG9yICYjeDYwOzEwMjR4MTAyNCYjeDYwOy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNwb25zZUZvcm1hdF0gVGhlIGZvcm1hdCBpbiB3aGljaCB0aGUgZ2VuZXJhdGVkIGltYWdlcyBhcmUgcmV0dXJuZWQuIE11c3QgYmUgb25lIG9mICYjeDYwO3VybCYjeDYwOyBvciAmI3g2MDtiNjRfanNvbiYjeDYwOy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyXSBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvciBhbmQgZGV0ZWN0IGFidXNlLiBbTGVhcm4gbW9yZV0oL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcy9lbmQtdXNlci1pZHMpLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlSW1hZ2VWYXJpYXRpb24oaW1hZ2UsIG4sIHNpemUsIHJlc3BvbnNlRm9ybWF0LCB1c2VyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5jcmVhdGVJbWFnZVZhcmlhdGlvbihpbWFnZSwgbiwgc2l6ZSwgcmVzcG9uc2VGb3JtYXQsIHVzZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENsYXNzaWZpZXMgaWYgdGV4dCB2aW9sYXRlcyBPcGVuQUlcXCdzIENvbnRlbnQgUG9saWN5XG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlTW9kZXJhdGlvblJlcXVlc3R9IGNyZWF0ZU1vZGVyYXRpb25SZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVNb2RlcmF0aW9uKGNyZWF0ZU1vZGVyYXRpb25SZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5jcmVhdGVNb2RlcmF0aW9uKGNyZWF0ZU1vZGVyYXRpb25SZXF1ZXN0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBUaGUgc2VhcmNoIGVuZHBvaW50IGNvbXB1dGVzIHNpbWlsYXJpdHkgc2NvcmVzIGJldHdlZW4gcHJvdmlkZWQgcXVlcnkgYW5kIGRvY3VtZW50cy4gRG9jdW1lbnRzIGNhbiBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gdGhlIEFQSSBpZiB0aGVyZSBhcmUgbm8gbW9yZSB0aGFuIDIwMCBvZiB0aGVtLiAgVG8gZ28gYmV5b25kIHRoZSAyMDAgZG9jdW1lbnQgbGltaXQsIGRvY3VtZW50cyBjYW4gYmUgcHJvY2Vzc2VkIG9mZmxpbmUgYW5kIHRoZW4gdXNlZCBmb3IgZWZmaWNpZW50IHJldHJpZXZhbCBhdCBxdWVyeSB0aW1lLiBXaGVuIGBmaWxlYCBpcyBzZXQsIHRoZSBzZWFyY2ggZW5kcG9pbnQgc2VhcmNoZXMgb3ZlciBhbGwgdGhlIGRvY3VtZW50cyBpbiB0aGUgZ2l2ZW4gZmlsZSBhbmQgcmV0dXJucyB1cCB0byB0aGUgYG1heF9yZXJhbmtgIG51bWJlciBvZiBkb2N1bWVudHMuIFRoZXNlIGRvY3VtZW50cyB3aWxsIGJlIHJldHVybmVkIGFsb25nIHdpdGggdGhlaXIgc2VhcmNoIHNjb3Jlcy4gIFRoZSBzaW1pbGFyaXR5IHNjb3JlIGlzIGEgcG9zaXRpdmUgc2NvcmUgdGhhdCB1c3VhbGx5IHJhbmdlcyBmcm9tIDAgdG8gMzAwIChidXQgY2FuIHNvbWV0aW1lcyBnbyBoaWdoZXIpLCB3aGVyZSBhIHNjb3JlIGFib3ZlIDIwMCB1c3VhbGx5IG1lYW5zIHRoZSBkb2N1bWVudCBpcyBzZW1hbnRpY2FsbHkgc2ltaWxhciB0byB0aGUgcXVlcnkuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbmdpbmVJZCBUaGUgSUQgb2YgdGhlIGVuZ2luZSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdC4gIFlvdSBjYW4gc2VsZWN0IG9uZSBvZiAmI3g2MDthZGEmI3g2MDssICYjeDYwO2JhYmJhZ2UmI3g2MDssICYjeDYwO2N1cmllJiN4NjA7LCBvciAmI3g2MDtkYXZpbmNpJiN4NjA7LlxuICAgICAgICAgKiBAcGFyYW0ge0NyZWF0ZVNlYXJjaFJlcXVlc3R9IGNyZWF0ZVNlYXJjaFJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQGRlcHJlY2F0ZWRcbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVNlYXJjaChlbmdpbmVJZCwgY3JlYXRlU2VhcmNoUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuY3JlYXRlU2VhcmNoKGVuZ2luZUlkLCBjcmVhdGVTZWFyY2hSZXF1ZXN0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBUcmFuc2NyaWJlcyBhdWRpbyBpbnRvIHRoZSBpbnB1dCBsYW5ndWFnZS5cbiAgICAgICAgICogQHBhcmFtIHtGaWxlfSBmaWxlIFRoZSBhdWRpbyBmaWxlIHRvIHRyYW5zY3JpYmUsIGluIG9uZSBvZiB0aGVzZSBmb3JtYXRzOiBtcDMsIG1wNCwgbXBlZywgbXBnYSwgbTRhLCB3YXYsIG9yIHdlYm0uXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlbCBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBPbmx5ICYjeDYwO3doaXNwZXItMSYjeDYwOyBpcyBjdXJyZW50bHkgYXZhaWxhYmxlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Byb21wdF0gQW4gb3B0aW9uYWwgdGV4dCB0byBndWlkZSB0aGUgbW9kZWxcXFxcXFwmIzM5O3Mgc3R5bGUgb3IgY29udGludWUgYSBwcmV2aW91cyBhdWRpbyBzZWdtZW50LiBUaGUgW3Byb21wdF0oL2RvY3MvZ3VpZGVzL3NwZWVjaC10by10ZXh0L3Byb21wdGluZykgc2hvdWxkIG1hdGNoIHRoZSBhdWRpbyBsYW5ndWFnZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNwb25zZUZvcm1hdF0gVGhlIGZvcm1hdCBvZiB0aGUgdHJhbnNjcmlwdCBvdXRwdXQsIGluIG9uZSBvZiB0aGVzZSBvcHRpb25zOiBqc29uLCB0ZXh0LCBzcnQsIHZlcmJvc2VfanNvbiwgb3IgdnR0LlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RlbXBlcmF0dXJlXSBUaGUgc2FtcGxpbmcgdGVtcGVyYXR1cmUsIGJldHdlZW4gMCBhbmQgMS4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuIElmIHNldCB0byAwLCB0aGUgbW9kZWwgd2lsbCB1c2UgW2xvZyBwcm9iYWJpbGl0eV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9nX3Byb2JhYmlsaXR5KSB0byBhdXRvbWF0aWNhbGx5IGluY3JlYXNlIHRoZSB0ZW1wZXJhdHVyZSB1bnRpbCBjZXJ0YWluIHRocmVzaG9sZHMgYXJlIGhpdC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtsYW5ndWFnZV0gVGhlIGxhbmd1YWdlIG9mIHRoZSBpbnB1dCBhdWRpby4gU3VwcGx5aW5nIHRoZSBpbnB1dCBsYW5ndWFnZSBpbiBbSVNPLTYzOS0xXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX0lTT182MzktMV9jb2RlcykgZm9ybWF0IHdpbGwgaW1wcm92ZSBhY2N1cmFjeSBhbmQgbGF0ZW5jeS5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVRyYW5zY3JpcHRpb24oZmlsZSwgbW9kZWwsIHByb21wdCwgcmVzcG9uc2VGb3JtYXQsIHRlbXBlcmF0dXJlLCBsYW5ndWFnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuY3JlYXRlVHJhbnNjcmlwdGlvbihmaWxlLCBtb2RlbCwgcHJvbXB0LCByZXNwb25zZUZvcm1hdCwgdGVtcGVyYXR1cmUsIGxhbmd1YWdlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBUcmFuc2xhdGVzIGF1ZGlvIGludG8gaW50byBFbmdsaXNoLlxuICAgICAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgVGhlIGF1ZGlvIGZpbGUgdG8gdHJhbnNsYXRlLCBpbiBvbmUgb2YgdGhlc2UgZm9ybWF0czogbXAzLCBtcDQsIG1wZWcsIG1wZ2EsIG00YSwgd2F2LCBvciB3ZWJtLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZWwgSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gT25seSAmI3g2MDt3aGlzcGVyLTEmI3g2MDsgaXMgY3VycmVudGx5IGF2YWlsYWJsZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcm9tcHRdIEFuIG9wdGlvbmFsIHRleHQgdG8gZ3VpZGUgdGhlIG1vZGVsXFxcXFxcJiMzOTtzIHN0eWxlIG9yIGNvbnRpbnVlIGEgcHJldmlvdXMgYXVkaW8gc2VnbWVudC4gVGhlIFtwcm9tcHRdKC9kb2NzL2d1aWRlcy9zcGVlY2gtdG8tdGV4dC9wcm9tcHRpbmcpIHNob3VsZCBiZSBpbiBFbmdsaXNoLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc3BvbnNlRm9ybWF0XSBUaGUgZm9ybWF0IG9mIHRoZSB0cmFuc2NyaXB0IG91dHB1dCwgaW4gb25lIG9mIHRoZXNlIG9wdGlvbnM6IGpzb24sIHRleHQsIHNydCwgdmVyYm9zZV9qc29uLCBvciB2dHQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGVtcGVyYXR1cmVdIFRoZSBzYW1wbGluZyB0ZW1wZXJhdHVyZSwgYmV0d2VlbiAwIGFuZCAxLiBIaWdoZXIgdmFsdWVzIGxpa2UgMC44IHdpbGwgbWFrZSB0aGUgb3V0cHV0IG1vcmUgcmFuZG9tLCB3aGlsZSBsb3dlciB2YWx1ZXMgbGlrZSAwLjIgd2lsbCBtYWtlIGl0IG1vcmUgZm9jdXNlZCBhbmQgZGV0ZXJtaW5pc3RpYy4gSWYgc2V0IHRvIDAsIHRoZSBtb2RlbCB3aWxsIHVzZSBbbG9nIHByb2JhYmlsaXR5XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Mb2dfcHJvYmFiaWxpdHkpIHRvIGF1dG9tYXRpY2FsbHkgaW5jcmVhc2UgdGhlIHRlbXBlcmF0dXJlIHVudGlsIGNlcnRhaW4gdGhyZXNob2xkcyBhcmUgaGl0LlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlVHJhbnNsYXRpb24oZmlsZSwgbW9kZWwsIHByb21wdCwgcmVzcG9uc2VGb3JtYXQsIHRlbXBlcmF0dXJlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5jcmVhdGVUcmFuc2xhdGlvbihmaWxlLCBtb2RlbCwgcHJvbXB0LCByZXNwb25zZUZvcm1hdCwgdGVtcGVyYXR1cmUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGZpbGUuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlSWQgVGhlIElEIG9mIHRoZSBmaWxlIHRvIHVzZSBmb3IgdGhpcyByZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVGaWxlKGZpbGVJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZGVsZXRlRmlsZShmaWxlSWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGZpbmUtdHVuZWQgbW9kZWwuIFlvdSBtdXN0IGhhdmUgdGhlIE93bmVyIHJvbGUgaW4geW91ciBvcmdhbml6YXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlbCBUaGUgbW9kZWwgdG8gZGVsZXRlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVNb2RlbChtb2RlbCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZGVsZXRlTW9kZWwobW9kZWwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBzcGVjaWZpZWQgZmlsZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZUlkIFRoZSBJRCBvZiB0aGUgZmlsZSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgZG93bmxvYWRGaWxlKGZpbGVJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IuZG93bmxvYWRGaWxlKGZpbGVJZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgTGlzdHMgdGhlIGN1cnJlbnRseSBhdmFpbGFibGUgKG5vbi1maW5ldHVuZWQpIG1vZGVscywgYW5kIHByb3ZpZGVzIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IGVhY2ggb25lIHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBhdmFpbGFiaWxpdHkuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0RW5naW5lcyhvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5saXN0RW5naW5lcyhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBmaWxlcyB0aGF0IGJlbG9uZyB0byB0aGUgdXNlclxcJ3Mgb3JnYW5pemF0aW9uLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdEZpbGVzKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmxpc3RGaWxlcyhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBHZXQgZmluZS1ncmFpbmVkIHN0YXR1cyB1cGRhdGVzIGZvciBhIGZpbmUtdHVuZSBqb2IuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaW5lVHVuZUlkIFRoZSBJRCBvZiB0aGUgZmluZS10dW5lIGpvYiB0byBnZXQgZXZlbnRzIGZvci5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbc3RyZWFtXSBXaGV0aGVyIHRvIHN0cmVhbSBldmVudHMgZm9yIHRoZSBmaW5lLXR1bmUgam9iLiBJZiBzZXQgdG8gdHJ1ZSwgZXZlbnRzIHdpbGwgYmUgc2VudCBhcyBkYXRhLW9ubHkgW3NlcnZlci1zZW50IGV2ZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZlci1zZW50X2V2ZW50cy9Vc2luZ19zZXJ2ZXItc2VudF9ldmVudHMjRXZlbnRfc3RyZWFtX2Zvcm1hdCkgYXMgdGhleSBiZWNvbWUgYXZhaWxhYmxlLiBUaGUgc3RyZWFtIHdpbGwgdGVybWluYXRlIHdpdGggYSAmI3g2MDtkYXRhOiBbRE9ORV0mI3g2MDsgbWVzc2FnZSB3aGVuIHRoZSBqb2IgaXMgZmluaXNoZWQgKHN1Y2NlZWRlZCwgY2FuY2VsbGVkLCBvciBmYWlsZWQpLiAgSWYgc2V0IHRvIGZhbHNlLCBvbmx5IGV2ZW50cyBnZW5lcmF0ZWQgc28gZmFyIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0RmluZVR1bmVFdmVudHMoZmluZVR1bmVJZCwgc3RyZWFtLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5saXN0RmluZVR1bmVFdmVudHMoZmluZVR1bmVJZCwgc3RyZWFtLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBMaXN0IHlvdXIgb3JnYW5pemF0aW9uXFwncyBmaW5lLXR1bmluZyBqb2JzXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0RmluZVR1bmVzKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLmxpc3RGaW5lVHVuZXMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgTGlzdHMgdGhlIGN1cnJlbnRseSBhdmFpbGFibGUgbW9kZWxzLCBhbmQgcHJvdmlkZXMgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgZWFjaCBvbmUgc3VjaCBhcyB0aGUgb3duZXIgYW5kIGF2YWlsYWJpbGl0eS5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RNb2RlbHMob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IubGlzdE1vZGVscyhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXRyaWV2ZXMgYSBtb2RlbCBpbnN0YW5jZSwgcHJvdmlkaW5nIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IGl0IHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBhdmFpbGFiaWxpdHkuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbmdpbmVJZCBUaGUgSUQgb2YgdGhlIGVuZ2luZSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0cmlldmVFbmdpbmUoZW5naW5lSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLnJldHJpZXZlRW5naW5lKGVuZ2luZUlkLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuY3JlYXRlUmVxdWVzdEZ1bmN0aW9uKGxvY2FsVmFyQXhpb3NBcmdzLCBheGlvc18xLmRlZmF1bHQsIGJhc2VfMS5CQVNFX1BBVEgsIGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IGEgc3BlY2lmaWMgZmlsZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVJZCBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gdXNlIGZvciB0aGlzIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIHJldHJpZXZlRmlsZShmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxWYXJBeGlvc0FyZ3MgPSB5aWVsZCBsb2NhbFZhckF4aW9zUGFyYW1DcmVhdG9yLnJldHJpZXZlRmlsZShmaWxlSWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldHMgaW5mbyBhYm91dCB0aGUgZmluZS10dW5lIGpvYi4gIFtMZWFybiBtb3JlIGFib3V0IEZpbmUtdHVuaW5nXSgvZG9jcy9ndWlkZXMvZmluZS10dW5pbmcpXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaW5lVHVuZUlkIFRoZSBJRCBvZiB0aGUgZmluZS10dW5lIGpvYlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0cmlldmVGaW5lVHVuZShmaW5lVHVuZUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsVmFyQXhpb3NBcmdzID0geWllbGQgbG9jYWxWYXJBeGlvc1BhcmFtQ3JlYXRvci5yZXRyaWV2ZUZpbmVUdW5lKGZpbmVUdW5lSWQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5jcmVhdGVSZXF1ZXN0RnVuY3Rpb24obG9jYWxWYXJBeGlvc0FyZ3MsIGF4aW9zXzEuZGVmYXVsdCwgYmFzZV8xLkJBU0VfUEFUSCwgY29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHJpZXZlcyBhIG1vZGVsIGluc3RhbmNlLCBwcm92aWRpbmcgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1vZGVsIHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBwZXJtaXNzaW9uaW5nLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZWwgVGhlIElEIG9mIHRoZSBtb2RlbCB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0cmlldmVNb2RlbChtb2RlbCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFZhckF4aW9zQXJncyA9IHlpZWxkIGxvY2FsVmFyQXhpb3NQYXJhbUNyZWF0b3IucmV0cmlldmVNb2RlbChtb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmNyZWF0ZVJlcXVlc3RGdW5jdGlvbihsb2NhbFZhckF4aW9zQXJncywgYXhpb3NfMS5kZWZhdWx0LCBiYXNlXzEuQkFTRV9QQVRILCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuLyoqXG4gKiBPcGVuQUlBcGkgLSBmYWN0b3J5IGludGVyZmFjZVxuICogQGV4cG9ydFxuICovXG5leHBvcnRzLk9wZW5BSUFwaUZhY3RvcnkgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbiwgYmFzZVBhdGgsIGF4aW9zKSB7XG4gICAgY29uc3QgbG9jYWxWYXJGcCA9IGV4cG9ydHMuT3BlbkFJQXBpRnAoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEltbWVkaWF0ZWx5IGNhbmNlbCBhIGZpbmUtdHVuZSBqb2IuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaW5lVHVuZUlkIFRoZSBJRCBvZiB0aGUgZmluZS10dW5lIGpvYiB0byBjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNhbmNlbEZpbmVUdW5lKGZpbmVUdW5lSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNhbmNlbEZpbmVUdW5lKGZpbmVUdW5lSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBBbnN3ZXJzIHRoZSBzcGVjaWZpZWQgcXVlc3Rpb24gdXNpbmcgdGhlIHByb3ZpZGVkIGRvY3VtZW50cyBhbmQgZXhhbXBsZXMuICBUaGUgZW5kcG9pbnQgZmlyc3QgW3NlYXJjaGVzXSgvZG9jcy9hcGktcmVmZXJlbmNlL3NlYXJjaGVzKSBvdmVyIHByb3ZpZGVkIGRvY3VtZW50cyBvciBmaWxlcyB0byBmaW5kIHJlbGV2YW50IGNvbnRleHQuIFRoZSByZWxldmFudCBjb250ZXh0IGlzIGNvbWJpbmVkIHdpdGggdGhlIHByb3ZpZGVkIGV4YW1wbGVzIGFuZCBxdWVzdGlvbiB0byBjcmVhdGUgdGhlIHByb21wdCBmb3IgW2NvbXBsZXRpb25dKC9kb2NzL2FwaS1yZWZlcmVuY2UvY29tcGxldGlvbnMpLlxuICAgICAgICAgKiBAcGFyYW0ge0NyZWF0ZUFuc3dlclJlcXVlc3R9IGNyZWF0ZUFuc3dlclJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQGRlcHJlY2F0ZWRcbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUFuc3dlcihjcmVhdGVBbnN3ZXJSZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5jcmVhdGVBbnN3ZXIoY3JlYXRlQW5zd2VyUmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYSBjb21wbGV0aW9uIGZvciB0aGUgY2hhdCBtZXNzYWdlXG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0fSBjcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUNoYXRDb21wbGV0aW9uKGNyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuY3JlYXRlQ2hhdENvbXBsZXRpb24oY3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0LCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ2xhc3NpZmllcyB0aGUgc3BlY2lmaWVkIGBxdWVyeWAgdXNpbmcgcHJvdmlkZWQgZXhhbXBsZXMuICBUaGUgZW5kcG9pbnQgZmlyc3QgW3NlYXJjaGVzXSgvZG9jcy9hcGktcmVmZXJlbmNlL3NlYXJjaGVzKSBvdmVyIHRoZSBsYWJlbGVkIGV4YW1wbGVzIHRvIHNlbGVjdCB0aGUgb25lcyBtb3N0IHJlbGV2YW50IGZvciB0aGUgcGFydGljdWxhciBxdWVyeS4gVGhlbiwgdGhlIHJlbGV2YW50IGV4YW1wbGVzIGFyZSBjb21iaW5lZCB3aXRoIHRoZSBxdWVyeSB0byBjb25zdHJ1Y3QgYSBwcm9tcHQgdG8gcHJvZHVjZSB0aGUgZmluYWwgbGFiZWwgdmlhIHRoZSBbY29tcGxldGlvbnNdKC9kb2NzL2FwaS1yZWZlcmVuY2UvY29tcGxldGlvbnMpIGVuZHBvaW50LiAgTGFiZWxlZCBleGFtcGxlcyBjYW4gYmUgcHJvdmlkZWQgdmlhIGFuIHVwbG9hZGVkIGBmaWxlYCwgb3IgZXhwbGljaXRseSBsaXN0ZWQgaW4gdGhlIHJlcXVlc3QgdXNpbmcgdGhlIGBleGFtcGxlc2AgcGFyYW1ldGVyIGZvciBxdWljayB0ZXN0cyBhbmQgc21hbGwgc2NhbGUgdXNlIGNhc2VzLlxuICAgICAgICAgKiBAcGFyYW0ge0NyZWF0ZUNsYXNzaWZpY2F0aW9uUmVxdWVzdH0gY3JlYXRlQ2xhc3NpZmljYXRpb25SZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDbGFzc2lmaWNhdGlvbihjcmVhdGVDbGFzc2lmaWNhdGlvblJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNyZWF0ZUNsYXNzaWZpY2F0aW9uKGNyZWF0ZUNsYXNzaWZpY2F0aW9uUmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYSBjb21wbGV0aW9uIGZvciB0aGUgcHJvdmlkZWQgcHJvbXB0IGFuZCBwYXJhbWV0ZXJzXG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlQ29tcGxldGlvblJlcXVlc3R9IGNyZWF0ZUNvbXBsZXRpb25SZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDb21wbGV0aW9uKGNyZWF0ZUNvbXBsZXRpb25SZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5jcmVhdGVDb21wbGV0aW9uKGNyZWF0ZUNvbXBsZXRpb25SZXF1ZXN0LCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIG5ldyBlZGl0IGZvciB0aGUgcHJvdmlkZWQgaW5wdXQsIGluc3RydWN0aW9uLCBhbmQgcGFyYW1ldGVycy5cbiAgICAgICAgICogQHBhcmFtIHtDcmVhdGVFZGl0UmVxdWVzdH0gY3JlYXRlRWRpdFJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUVkaXQoY3JlYXRlRWRpdFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNyZWF0ZUVkaXQoY3JlYXRlRWRpdFJlcXVlc3QsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGFuIGVtYmVkZGluZyB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBpbnB1dCB0ZXh0LlxuICAgICAgICAgKiBAcGFyYW0ge0NyZWF0ZUVtYmVkZGluZ1JlcXVlc3R9IGNyZWF0ZUVtYmVkZGluZ1JlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUVtYmVkZGluZyhjcmVhdGVFbWJlZGRpbmdSZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5jcmVhdGVFbWJlZGRpbmcoY3JlYXRlRW1iZWRkaW5nUmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFVwbG9hZCBhIGZpbGUgdGhhdCBjb250YWlucyBkb2N1bWVudChzKSB0byBiZSB1c2VkIGFjcm9zcyB2YXJpb3VzIGVuZHBvaW50cy9mZWF0dXJlcy4gQ3VycmVudGx5LCB0aGUgc2l6ZSBvZiBhbGwgdGhlIGZpbGVzIHVwbG9hZGVkIGJ5IG9uZSBvcmdhbml6YXRpb24gY2FuIGJlIHVwIHRvIDEgR0IuIFBsZWFzZSBjb250YWN0IHVzIGlmIHlvdSBuZWVkIHRvIGluY3JlYXNlIHRoZSBzdG9yYWdlIGxpbWl0LlxuICAgICAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgTmFtZSBvZiB0aGUgW0pTT04gTGluZXNdKGh0dHBzOi8vanNvbmxpbmVzLnJlYWR0aGVkb2NzLmlvL2VuL2xhdGVzdC8pIGZpbGUgdG8gYmUgdXBsb2FkZWQuICBJZiB0aGUgJiN4NjA7cHVycG9zZSYjeDYwOyBpcyBzZXQgdG8gXFxcXFxcJnF1b3Q7ZmluZS10dW5lXFxcXFxcJnF1b3Q7LCBlYWNoIGxpbmUgaXMgYSBKU09OIHJlY29yZCB3aXRoIFxcXFxcXCZxdW90O3Byb21wdFxcXFxcXCZxdW90OyBhbmQgXFxcXFxcJnF1b3Q7Y29tcGxldGlvblxcXFxcXCZxdW90OyBmaWVsZHMgcmVwcmVzZW50aW5nIHlvdXIgW3RyYWluaW5nIGV4YW1wbGVzXSgvZG9jcy9ndWlkZXMvZmluZS10dW5pbmcvcHJlcGFyZS10cmFpbmluZy1kYXRhKS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHB1cnBvc2UgVGhlIGludGVuZGVkIHB1cnBvc2Ugb2YgdGhlIHVwbG9hZGVkIGRvY3VtZW50cy4gIFVzZSBcXFxcXFwmcXVvdDtmaW5lLXR1bmVcXFxcXFwmcXVvdDsgZm9yIFtGaW5lLXR1bmluZ10oL2RvY3MvYXBpLXJlZmVyZW5jZS9maW5lLXR1bmVzKS4gVGhpcyBhbGxvd3MgdXMgdG8gdmFsaWRhdGUgdGhlIGZvcm1hdCBvZiB0aGUgdXBsb2FkZWQgZmlsZS5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUZpbGUoZmlsZSwgcHVycG9zZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuY3JlYXRlRmlsZShmaWxlLCBwdXJwb3NlLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIGpvYiB0aGF0IGZpbmUtdHVuZXMgYSBzcGVjaWZpZWQgbW9kZWwgZnJvbSBhIGdpdmVuIGRhdGFzZXQuICBSZXNwb25zZSBpbmNsdWRlcyBkZXRhaWxzIG9mIHRoZSBlbnF1ZXVlZCBqb2IgaW5jbHVkaW5nIGpvYiBzdGF0dXMgYW5kIHRoZSBuYW1lIG9mIHRoZSBmaW5lLXR1bmVkIG1vZGVscyBvbmNlIGNvbXBsZXRlLiAgW0xlYXJuIG1vcmUgYWJvdXQgRmluZS10dW5pbmddKC9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICAgICAgICogQHBhcmFtIHtDcmVhdGVGaW5lVHVuZVJlcXVlc3R9IGNyZWF0ZUZpbmVUdW5lUmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlRmluZVR1bmUoY3JlYXRlRmluZVR1bmVSZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5jcmVhdGVGaW5lVHVuZShjcmVhdGVGaW5lVHVuZVJlcXVlc3QsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGFuIGltYWdlIGdpdmVuIGEgcHJvbXB0LlxuICAgICAgICAgKiBAcGFyYW0ge0NyZWF0ZUltYWdlUmVxdWVzdH0gY3JlYXRlSW1hZ2VSZXF1ZXN0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVJbWFnZShjcmVhdGVJbWFnZVJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNyZWF0ZUltYWdlKGNyZWF0ZUltYWdlUmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYW4gZWRpdGVkIG9yIGV4dGVuZGVkIGltYWdlIGdpdmVuIGFuIG9yaWdpbmFsIGltYWdlIGFuZCBhIHByb21wdC5cbiAgICAgICAgICogQHBhcmFtIHtGaWxlfSBpbWFnZSBUaGUgaW1hZ2UgdG8gZWRpdC4gTXVzdCBiZSBhIHZhbGlkIFBORyBmaWxlLCBsZXNzIHRoYW4gNE1CLCBhbmQgc3F1YXJlLiBJZiBtYXNrIGlzIG5vdCBwcm92aWRlZCwgaW1hZ2UgbXVzdCBoYXZlIHRyYW5zcGFyZW5jeSwgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIHRoZSBtYXNrLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvbXB0IEEgdGV4dCBkZXNjcmlwdGlvbiBvZiB0aGUgZGVzaXJlZCBpbWFnZShzKS4gVGhlIG1heGltdW0gbGVuZ3RoIGlzIDEwMDAgY2hhcmFjdGVycy5cbiAgICAgICAgICogQHBhcmFtIHtGaWxlfSBbbWFza10gQW4gYWRkaXRpb25hbCBpbWFnZSB3aG9zZSBmdWxseSB0cmFuc3BhcmVudCBhcmVhcyAoZS5nLiB3aGVyZSBhbHBoYSBpcyB6ZXJvKSBpbmRpY2F0ZSB3aGVyZSAmI3g2MDtpbWFnZSYjeDYwOyBzaG91bGQgYmUgZWRpdGVkLiBNdXN0IGJlIGEgdmFsaWQgUE5HIGZpbGUsIGxlc3MgdGhhbiA0TUIsIGFuZCBoYXZlIHRoZSBzYW1lIGRpbWVuc2lvbnMgYXMgJiN4NjA7aW1hZ2UmI3g2MDsuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbl0gVGhlIG51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBUaGUgc2l6ZSBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlcy4gTXVzdCBiZSBvbmUgb2YgJiN4NjA7MjU2eDI1NiYjeDYwOywgJiN4NjA7NTEyeDUxMiYjeDYwOywgb3IgJiN4NjA7MTAyNHgxMDI0JiN4NjA7LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc3BvbnNlRm9ybWF0XSBUaGUgZm9ybWF0IGluIHdoaWNoIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzIGFyZSByZXR1cm5lZC4gTXVzdCBiZSBvbmUgb2YgJiN4NjA7dXJsJiN4NjA7IG9yICYjeDYwO2I2NF9qc29uJiN4NjA7LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJdIEEgdW5pcXVlIGlkZW50aWZpZXIgcmVwcmVzZW50aW5nIHlvdXIgZW5kLXVzZXIsIHdoaWNoIGNhbiBoZWxwIE9wZW5BSSB0byBtb25pdG9yIGFuZCBkZXRlY3QgYWJ1c2UuIFtMZWFybiBtb3JlXSgvZG9jcy9ndWlkZXMvc2FmZXR5LWJlc3QtcHJhY3RpY2VzL2VuZC11c2VyLWlkcykuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVJbWFnZUVkaXQoaW1hZ2UsIHByb21wdCwgbWFzaywgbiwgc2l6ZSwgcmVzcG9uc2VGb3JtYXQsIHVzZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmNyZWF0ZUltYWdlRWRpdChpbWFnZSwgcHJvbXB0LCBtYXNrLCBuLCBzaXplLCByZXNwb25zZUZvcm1hdCwgdXNlciwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYSB2YXJpYXRpb24gb2YgYSBnaXZlbiBpbWFnZS5cbiAgICAgICAgICogQHBhcmFtIHtGaWxlfSBpbWFnZSBUaGUgaW1hZ2UgdG8gdXNlIGFzIHRoZSBiYXNpcyBmb3IgdGhlIHZhcmlhdGlvbihzKS4gTXVzdCBiZSBhIHZhbGlkIFBORyBmaWxlLCBsZXNzIHRoYW4gNE1CLCBhbmQgc3F1YXJlLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW25dIFRoZSBudW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gVGhlIHNpemUgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIE11c3QgYmUgb25lIG9mICYjeDYwOzI1NngyNTYmI3g2MDssICYjeDYwOzUxMng1MTImI3g2MDssIG9yICYjeDYwOzEwMjR4MTAyNCYjeDYwOy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNwb25zZUZvcm1hdF0gVGhlIGZvcm1hdCBpbiB3aGljaCB0aGUgZ2VuZXJhdGVkIGltYWdlcyBhcmUgcmV0dXJuZWQuIE11c3QgYmUgb25lIG9mICYjeDYwO3VybCYjeDYwOyBvciAmI3g2MDtiNjRfanNvbiYjeDYwOy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyXSBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvciBhbmQgZGV0ZWN0IGFidXNlLiBbTGVhcm4gbW9yZV0oL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcy9lbmQtdXNlci1pZHMpLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlSW1hZ2VWYXJpYXRpb24oaW1hZ2UsIG4sIHNpemUsIHJlc3BvbnNlRm9ybWF0LCB1c2VyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5jcmVhdGVJbWFnZVZhcmlhdGlvbihpbWFnZSwgbiwgc2l6ZSwgcmVzcG9uc2VGb3JtYXQsIHVzZXIsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBDbGFzc2lmaWVzIGlmIHRleHQgdmlvbGF0ZXMgT3BlbkFJXFwncyBDb250ZW50IFBvbGljeVxuICAgICAgICAgKiBAcGFyYW0ge0NyZWF0ZU1vZGVyYXRpb25SZXF1ZXN0fSBjcmVhdGVNb2RlcmF0aW9uUmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlTW9kZXJhdGlvbihjcmVhdGVNb2RlcmF0aW9uUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuY3JlYXRlTW9kZXJhdGlvbihjcmVhdGVNb2RlcmF0aW9uUmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFRoZSBzZWFyY2ggZW5kcG9pbnQgY29tcHV0ZXMgc2ltaWxhcml0eSBzY29yZXMgYmV0d2VlbiBwcm92aWRlZCBxdWVyeSBhbmQgZG9jdW1lbnRzLiBEb2N1bWVudHMgY2FuIGJlIHBhc3NlZCBkaXJlY3RseSB0byB0aGUgQVBJIGlmIHRoZXJlIGFyZSBubyBtb3JlIHRoYW4gMjAwIG9mIHRoZW0uICBUbyBnbyBiZXlvbmQgdGhlIDIwMCBkb2N1bWVudCBsaW1pdCwgZG9jdW1lbnRzIGNhbiBiZSBwcm9jZXNzZWQgb2ZmbGluZSBhbmQgdGhlbiB1c2VkIGZvciBlZmZpY2llbnQgcmV0cmlldmFsIGF0IHF1ZXJ5IHRpbWUuIFdoZW4gYGZpbGVgIGlzIHNldCwgdGhlIHNlYXJjaCBlbmRwb2ludCBzZWFyY2hlcyBvdmVyIGFsbCB0aGUgZG9jdW1lbnRzIGluIHRoZSBnaXZlbiBmaWxlIGFuZCByZXR1cm5zIHVwIHRvIHRoZSBgbWF4X3JlcmFua2AgbnVtYmVyIG9mIGRvY3VtZW50cy4gVGhlc2UgZG9jdW1lbnRzIHdpbGwgYmUgcmV0dXJuZWQgYWxvbmcgd2l0aCB0aGVpciBzZWFyY2ggc2NvcmVzLiAgVGhlIHNpbWlsYXJpdHkgc2NvcmUgaXMgYSBwb3NpdGl2ZSBzY29yZSB0aGF0IHVzdWFsbHkgcmFuZ2VzIGZyb20gMCB0byAzMDAgKGJ1dCBjYW4gc29tZXRpbWVzIGdvIGhpZ2hlciksIHdoZXJlIGEgc2NvcmUgYWJvdmUgMjAwIHVzdWFsbHkgbWVhbnMgdGhlIGRvY3VtZW50IGlzIHNlbWFudGljYWxseSBzaW1pbGFyIHRvIHRoZSBxdWVyeS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGVuZ2luZUlkIFRoZSBJRCBvZiB0aGUgZW5naW5lIHRvIHVzZSBmb3IgdGhpcyByZXF1ZXN0LiAgWW91IGNhbiBzZWxlY3Qgb25lIG9mICYjeDYwO2FkYSYjeDYwOywgJiN4NjA7YmFiYmFnZSYjeDYwOywgJiN4NjA7Y3VyaWUmI3g2MDssIG9yICYjeDYwO2RhdmluY2kmI3g2MDsuXG4gICAgICAgICAqIEBwYXJhbSB7Q3JlYXRlU2VhcmNoUmVxdWVzdH0gY3JlYXRlU2VhcmNoUmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlU2VhcmNoKGVuZ2luZUlkLCBjcmVhdGVTZWFyY2hSZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5jcmVhdGVTZWFyY2goZW5naW5lSWQsIGNyZWF0ZVNlYXJjaFJlcXVlc3QsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBUcmFuc2NyaWJlcyBhdWRpbyBpbnRvIHRoZSBpbnB1dCBsYW5ndWFnZS5cbiAgICAgICAgICogQHBhcmFtIHtGaWxlfSBmaWxlIFRoZSBhdWRpbyBmaWxlIHRvIHRyYW5zY3JpYmUsIGluIG9uZSBvZiB0aGVzZSBmb3JtYXRzOiBtcDMsIG1wNCwgbXBlZywgbXBnYSwgbTRhLCB3YXYsIG9yIHdlYm0uXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlbCBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBPbmx5ICYjeDYwO3doaXNwZXItMSYjeDYwOyBpcyBjdXJyZW50bHkgYXZhaWxhYmxlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Byb21wdF0gQW4gb3B0aW9uYWwgdGV4dCB0byBndWlkZSB0aGUgbW9kZWxcXFxcXFwmIzM5O3Mgc3R5bGUgb3IgY29udGludWUgYSBwcmV2aW91cyBhdWRpbyBzZWdtZW50LiBUaGUgW3Byb21wdF0oL2RvY3MvZ3VpZGVzL3NwZWVjaC10by10ZXh0L3Byb21wdGluZykgc2hvdWxkIG1hdGNoIHRoZSBhdWRpbyBsYW5ndWFnZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNwb25zZUZvcm1hdF0gVGhlIGZvcm1hdCBvZiB0aGUgdHJhbnNjcmlwdCBvdXRwdXQsIGluIG9uZSBvZiB0aGVzZSBvcHRpb25zOiBqc29uLCB0ZXh0LCBzcnQsIHZlcmJvc2VfanNvbiwgb3IgdnR0LlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RlbXBlcmF0dXJlXSBUaGUgc2FtcGxpbmcgdGVtcGVyYXR1cmUsIGJldHdlZW4gMCBhbmQgMS4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuIElmIHNldCB0byAwLCB0aGUgbW9kZWwgd2lsbCB1c2UgW2xvZyBwcm9iYWJpbGl0eV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9nX3Byb2JhYmlsaXR5KSB0byBhdXRvbWF0aWNhbGx5IGluY3JlYXNlIHRoZSB0ZW1wZXJhdHVyZSB1bnRpbCBjZXJ0YWluIHRocmVzaG9sZHMgYXJlIGhpdC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtsYW5ndWFnZV0gVGhlIGxhbmd1YWdlIG9mIHRoZSBpbnB1dCBhdWRpby4gU3VwcGx5aW5nIHRoZSBpbnB1dCBsYW5ndWFnZSBpbiBbSVNPLTYzOS0xXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX0lTT182MzktMV9jb2RlcykgZm9ybWF0IHdpbGwgaW1wcm92ZSBhY2N1cmFjeSBhbmQgbGF0ZW5jeS5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVRyYW5zY3JpcHRpb24oZmlsZSwgbW9kZWwsIHByb21wdCwgcmVzcG9uc2VGb3JtYXQsIHRlbXBlcmF0dXJlLCBsYW5ndWFnZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuY3JlYXRlVHJhbnNjcmlwdGlvbihmaWxlLCBtb2RlbCwgcHJvbXB0LCByZXNwb25zZUZvcm1hdCwgdGVtcGVyYXR1cmUsIGxhbmd1YWdlLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgVHJhbnNsYXRlcyBhdWRpbyBpbnRvIGludG8gRW5nbGlzaC5cbiAgICAgICAgICogQHBhcmFtIHtGaWxlfSBmaWxlIFRoZSBhdWRpbyBmaWxlIHRvIHRyYW5zbGF0ZSwgaW4gb25lIG9mIHRoZXNlIGZvcm1hdHM6IG1wMywgbXA0LCBtcGVnLCBtcGdhLCBtNGEsIHdhdiwgb3Igd2VibS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGVsIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIE9ubHkgJiN4NjA7d2hpc3Blci0xJiN4NjA7IGlzIGN1cnJlbnRseSBhdmFpbGFibGUuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvbXB0XSBBbiBvcHRpb25hbCB0ZXh0IHRvIGd1aWRlIHRoZSBtb2RlbFxcXFxcXCYjMzk7cyBzdHlsZSBvciBjb250aW51ZSBhIHByZXZpb3VzIGF1ZGlvIHNlZ21lbnQuIFRoZSBbcHJvbXB0XSgvZG9jcy9ndWlkZXMvc3BlZWNoLXRvLXRleHQvcHJvbXB0aW5nKSBzaG91bGQgYmUgaW4gRW5nbGlzaC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNwb25zZUZvcm1hdF0gVGhlIGZvcm1hdCBvZiB0aGUgdHJhbnNjcmlwdCBvdXRwdXQsIGluIG9uZSBvZiB0aGVzZSBvcHRpb25zOiBqc29uLCB0ZXh0LCBzcnQsIHZlcmJvc2VfanNvbiwgb3IgdnR0LlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RlbXBlcmF0dXJlXSBUaGUgc2FtcGxpbmcgdGVtcGVyYXR1cmUsIGJldHdlZW4gMCBhbmQgMS4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuIElmIHNldCB0byAwLCB0aGUgbW9kZWwgd2lsbCB1c2UgW2xvZyBwcm9iYWJpbGl0eV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9nX3Byb2JhYmlsaXR5KSB0byBhdXRvbWF0aWNhbGx5IGluY3JlYXNlIHRoZSB0ZW1wZXJhdHVyZSB1bnRpbCBjZXJ0YWluIHRocmVzaG9sZHMgYXJlIGhpdC5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVRyYW5zbGF0aW9uKGZpbGUsIG1vZGVsLCBwcm9tcHQsIHJlc3BvbnNlRm9ybWF0LCB0ZW1wZXJhdHVyZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuY3JlYXRlVHJhbnNsYXRpb24oZmlsZSwgbW9kZWwsIHByb21wdCwgcmVzcG9uc2VGb3JtYXQsIHRlbXBlcmF0dXJlLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgRGVsZXRlIGEgZmlsZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVJZCBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gdXNlIGZvciB0aGlzIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUZpbGUoZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5kZWxldGVGaWxlKGZpbGVJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBhIGZpbmUtdHVuZWQgbW9kZWwuIFlvdSBtdXN0IGhhdmUgdGhlIE93bmVyIHJvbGUgaW4geW91ciBvcmdhbml6YXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlbCBUaGUgbW9kZWwgdG8gZGVsZXRlXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVNb2RlbChtb2RlbCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAuZGVsZXRlTW9kZWwobW9kZWwsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIHRoZSBjb250ZW50cyBvZiB0aGUgc3BlY2lmaWVkIGZpbGVcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVJZCBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gdXNlIGZvciB0aGlzIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGRvd25sb2FkRmlsZShmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmRvd25sb2FkRmlsZShmaWxlSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBMaXN0cyB0aGUgY3VycmVudGx5IGF2YWlsYWJsZSAobm9uLWZpbmV0dW5lZCkgbW9kZWxzLCBhbmQgcHJvdmlkZXMgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgZWFjaCBvbmUgc3VjaCBhcyB0aGUgb3duZXIgYW5kIGF2YWlsYWJpbGl0eS5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQGRlcHJlY2F0ZWRcbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RFbmdpbmVzKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmxpc3RFbmdpbmVzKG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGEgbGlzdCBvZiBmaWxlcyB0aGF0IGJlbG9uZyB0byB0aGUgdXNlclxcJ3Mgb3JnYW5pemF0aW9uLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdEZpbGVzKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLmxpc3RGaWxlcyhvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgR2V0IGZpbmUtZ3JhaW5lZCBzdGF0dXMgdXBkYXRlcyBmb3IgYSBmaW5lLXR1bmUgam9iLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmluZVR1bmVJZCBUaGUgSUQgb2YgdGhlIGZpbmUtdHVuZSBqb2IgdG8gZ2V0IGV2ZW50cyBmb3IuXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmVhbV0gV2hldGhlciB0byBzdHJlYW0gZXZlbnRzIGZvciB0aGUgZmluZS10dW5lIGpvYi4gSWYgc2V0IHRvIHRydWUsIGV2ZW50cyB3aWxsIGJlIHNlbnQgYXMgZGF0YS1vbmx5IFtzZXJ2ZXItc2VudCBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TZXJ2ZXItc2VudF9ldmVudHMvVXNpbmdfc2VydmVyLXNlbnRfZXZlbnRzI0V2ZW50X3N0cmVhbV9mb3JtYXQpIGFzIHRoZXkgYmVjb21lIGF2YWlsYWJsZS4gVGhlIHN0cmVhbSB3aWxsIHRlcm1pbmF0ZSB3aXRoIGEgJiN4NjA7ZGF0YTogW0RPTkVdJiN4NjA7IG1lc3NhZ2Ugd2hlbiB0aGUgam9iIGlzIGZpbmlzaGVkIChzdWNjZWVkZWQsIGNhbmNlbGxlZCwgb3IgZmFpbGVkKS4gIElmIHNldCB0byBmYWxzZSwgb25seSBldmVudHMgZ2VuZXJhdGVkIHNvIGZhciB3aWxsIGJlIHJldHVybmVkLlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdEZpbmVUdW5lRXZlbnRzKGZpbmVUdW5lSWQsIHN0cmVhbSwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAubGlzdEZpbmVUdW5lRXZlbnRzKGZpbmVUdW5lSWQsIHN0cmVhbSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IExpc3QgeW91ciBvcmdhbml6YXRpb25cXCdzIGZpbmUtdHVuaW5nIGpvYnNcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RGaW5lVHVuZXMob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAubGlzdEZpbmVUdW5lcyhvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgTGlzdHMgdGhlIGN1cnJlbnRseSBhdmFpbGFibGUgbW9kZWxzLCBhbmQgcHJvdmlkZXMgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgZWFjaCBvbmUgc3VjaCBhcyB0aGUgb3duZXIgYW5kIGF2YWlsYWJpbGl0eS5cbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RNb2RlbHMob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAubGlzdE1vZGVscyhvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KGF4aW9zLCBiYXNlUGF0aCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHN1bW1hcnkgUmV0cmlldmVzIGEgbW9kZWwgaW5zdGFuY2UsIHByb3ZpZGluZyBiYXNpYyBpbmZvcm1hdGlvbiBhYm91dCBpdCBzdWNoIGFzIHRoZSBvd25lciBhbmQgYXZhaWxhYmlsaXR5LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZW5naW5lSWQgVGhlIElEIG9mIHRoZSBlbmdpbmUgdG8gdXNlIGZvciB0aGlzIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQGRlcHJlY2F0ZWRcbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIHJldHJpZXZlRW5naW5lKGVuZ2luZUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5yZXRyaWV2ZUVuZ2luZShlbmdpbmVJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IFJldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgYSBzcGVjaWZpYyBmaWxlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZUlkIFRoZSBJRCBvZiB0aGUgZmlsZSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0cmlldmVGaWxlKGZpbGVJZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVmFyRnAucmV0cmlldmVGaWxlKGZpbGVJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdChheGlvcywgYmFzZVBhdGgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdW1tYXJ5IEdldHMgaW5mbyBhYm91dCB0aGUgZmluZS10dW5lIGpvYi4gIFtMZWFybiBtb3JlIGFib3V0IEZpbmUtdHVuaW5nXSgvZG9jcy9ndWlkZXMvZmluZS10dW5pbmcpXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaW5lVHVuZUlkIFRoZSBJRCBvZiB0aGUgZmluZS10dW5lIGpvYlxuICAgICAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0cmlldmVGaW5lVHVuZShmaW5lVHVuZUlkLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxWYXJGcC5yZXRyaWV2ZUZpbmVUdW5lKGZpbmVUdW5lSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3VtbWFyeSBSZXRyaWV2ZXMgYSBtb2RlbCBpbnN0YW5jZSwgcHJvdmlkaW5nIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtb2RlbCBzdWNoIGFzIHRoZSBvd25lciBhbmQgcGVybWlzc2lvbmluZy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGVsIFRoZSBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlIGZvciB0aGlzIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIHJldHJpZXZlTW9kZWwobW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFZhckZwLnJldHJpZXZlTW9kZWwobW9kZWwsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QoYXhpb3MsIGJhc2VQYXRoKSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG4vKipcbiAqIE9wZW5BSUFwaSAtIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2VcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBPcGVuQUlBcGlcbiAqIEBleHRlbmRzIHtCYXNlQVBJfVxuICovXG5jbGFzcyBPcGVuQUlBcGkgZXh0ZW5kcyBiYXNlXzEuQmFzZUFQSSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBJbW1lZGlhdGVseSBjYW5jZWwgYSBmaW5lLXR1bmUgam9iLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaW5lVHVuZUlkIFRoZSBJRCBvZiB0aGUgZmluZS10dW5lIGpvYiB0byBjYW5jZWxcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIE9wZW5BSUFwaVxuICAgICAqL1xuICAgIGNhbmNlbEZpbmVUdW5lKGZpbmVUdW5lSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuT3BlbkFJQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jYW5jZWxGaW5lVHVuZShmaW5lVHVuZUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBBbnN3ZXJzIHRoZSBzcGVjaWZpZWQgcXVlc3Rpb24gdXNpbmcgdGhlIHByb3ZpZGVkIGRvY3VtZW50cyBhbmQgZXhhbXBsZXMuICBUaGUgZW5kcG9pbnQgZmlyc3QgW3NlYXJjaGVzXSgvZG9jcy9hcGktcmVmZXJlbmNlL3NlYXJjaGVzKSBvdmVyIHByb3ZpZGVkIGRvY3VtZW50cyBvciBmaWxlcyB0byBmaW5kIHJlbGV2YW50IGNvbnRleHQuIFRoZSByZWxldmFudCBjb250ZXh0IGlzIGNvbWJpbmVkIHdpdGggdGhlIHByb3ZpZGVkIGV4YW1wbGVzIGFuZCBxdWVzdGlvbiB0byBjcmVhdGUgdGhlIHByb21wdCBmb3IgW2NvbXBsZXRpb25dKC9kb2NzL2FwaS1yZWZlcmVuY2UvY29tcGxldGlvbnMpLlxuICAgICAqIEBwYXJhbSB7Q3JlYXRlQW5zd2VyUmVxdWVzdH0gY3JlYXRlQW5zd2VyUmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBPcGVuQUlBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVBbnN3ZXIoY3JlYXRlQW5zd2VyUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmNyZWF0ZUFuc3dlcihjcmVhdGVBbnN3ZXJSZXF1ZXN0LCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgY29tcGxldGlvbiBmb3IgdGhlIGNoYXQgbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7Q3JlYXRlQ2hhdENvbXBsZXRpb25SZXF1ZXN0fSBjcmVhdGVDaGF0Q29tcGxldGlvblJlcXVlc3RcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIE9wZW5BSUFwaVxuICAgICAqL1xuICAgIGNyZWF0ZUNoYXRDb21wbGV0aW9uKGNyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmNyZWF0ZUNoYXRDb21wbGV0aW9uKGNyZWF0ZUNoYXRDb21wbGV0aW9uUmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgQ2xhc3NpZmllcyB0aGUgc3BlY2lmaWVkIGBxdWVyeWAgdXNpbmcgcHJvdmlkZWQgZXhhbXBsZXMuICBUaGUgZW5kcG9pbnQgZmlyc3QgW3NlYXJjaGVzXSgvZG9jcy9hcGktcmVmZXJlbmNlL3NlYXJjaGVzKSBvdmVyIHRoZSBsYWJlbGVkIGV4YW1wbGVzIHRvIHNlbGVjdCB0aGUgb25lcyBtb3N0IHJlbGV2YW50IGZvciB0aGUgcGFydGljdWxhciBxdWVyeS4gVGhlbiwgdGhlIHJlbGV2YW50IGV4YW1wbGVzIGFyZSBjb21iaW5lZCB3aXRoIHRoZSBxdWVyeSB0byBjb25zdHJ1Y3QgYSBwcm9tcHQgdG8gcHJvZHVjZSB0aGUgZmluYWwgbGFiZWwgdmlhIHRoZSBbY29tcGxldGlvbnNdKC9kb2NzL2FwaS1yZWZlcmVuY2UvY29tcGxldGlvbnMpIGVuZHBvaW50LiAgTGFiZWxlZCBleGFtcGxlcyBjYW4gYmUgcHJvdmlkZWQgdmlhIGFuIHVwbG9hZGVkIGBmaWxlYCwgb3IgZXhwbGljaXRseSBsaXN0ZWQgaW4gdGhlIHJlcXVlc3QgdXNpbmcgdGhlIGBleGFtcGxlc2AgcGFyYW1ldGVyIGZvciBxdWljayB0ZXN0cyBhbmQgc21hbGwgc2NhbGUgdXNlIGNhc2VzLlxuICAgICAqIEBwYXJhbSB7Q3JlYXRlQ2xhc3NpZmljYXRpb25SZXF1ZXN0fSBjcmVhdGVDbGFzc2lmaWNhdGlvblJlcXVlc3RcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgT3BlbkFJQXBpXG4gICAgICovXG4gICAgY3JlYXRlQ2xhc3NpZmljYXRpb24oY3JlYXRlQ2xhc3NpZmljYXRpb25SZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLk9wZW5BSUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuY3JlYXRlQ2xhc3NpZmljYXRpb24oY3JlYXRlQ2xhc3NpZmljYXRpb25SZXF1ZXN0LCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgY29tcGxldGlvbiBmb3IgdGhlIHByb3ZpZGVkIHByb21wdCBhbmQgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7Q3JlYXRlQ29tcGxldGlvblJlcXVlc3R9IGNyZWF0ZUNvbXBsZXRpb25SZXF1ZXN0XG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBPcGVuQUlBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVDb21wbGV0aW9uKGNyZWF0ZUNvbXBsZXRpb25SZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLk9wZW5BSUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuY3JlYXRlQ29tcGxldGlvbihjcmVhdGVDb21wbGV0aW9uUmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIG5ldyBlZGl0IGZvciB0aGUgcHJvdmlkZWQgaW5wdXQsIGluc3RydWN0aW9uLCBhbmQgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge0NyZWF0ZUVkaXRSZXF1ZXN0fSBjcmVhdGVFZGl0UmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgT3BlbkFJQXBpXG4gICAgICovXG4gICAgY3JlYXRlRWRpdChjcmVhdGVFZGl0UmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmNyZWF0ZUVkaXQoY3JlYXRlRWRpdFJlcXVlc3QsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYW4gZW1iZWRkaW5nIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGlucHV0IHRleHQuXG4gICAgICogQHBhcmFtIHtDcmVhdGVFbWJlZGRpbmdSZXF1ZXN0fSBjcmVhdGVFbWJlZGRpbmdSZXF1ZXN0XG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBPcGVuQUlBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVFbWJlZGRpbmcoY3JlYXRlRW1iZWRkaW5nUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmNyZWF0ZUVtYmVkZGluZyhjcmVhdGVFbWJlZGRpbmdSZXF1ZXN0LCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBVcGxvYWQgYSBmaWxlIHRoYXQgY29udGFpbnMgZG9jdW1lbnQocykgdG8gYmUgdXNlZCBhY3Jvc3MgdmFyaW91cyBlbmRwb2ludHMvZmVhdHVyZXMuIEN1cnJlbnRseSwgdGhlIHNpemUgb2YgYWxsIHRoZSBmaWxlcyB1cGxvYWRlZCBieSBvbmUgb3JnYW5pemF0aW9uIGNhbiBiZSB1cCB0byAxIEdCLiBQbGVhc2UgY29udGFjdCB1cyBpZiB5b3UgbmVlZCB0byBpbmNyZWFzZSB0aGUgc3RvcmFnZSBsaW1pdC5cbiAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgTmFtZSBvZiB0aGUgW0pTT04gTGluZXNdKGh0dHBzOi8vanNvbmxpbmVzLnJlYWR0aGVkb2NzLmlvL2VuL2xhdGVzdC8pIGZpbGUgdG8gYmUgdXBsb2FkZWQuICBJZiB0aGUgJiN4NjA7cHVycG9zZSYjeDYwOyBpcyBzZXQgdG8gXFxcXFxcJnF1b3Q7ZmluZS10dW5lXFxcXFxcJnF1b3Q7LCBlYWNoIGxpbmUgaXMgYSBKU09OIHJlY29yZCB3aXRoIFxcXFxcXCZxdW90O3Byb21wdFxcXFxcXCZxdW90OyBhbmQgXFxcXFxcJnF1b3Q7Y29tcGxldGlvblxcXFxcXCZxdW90OyBmaWVsZHMgcmVwcmVzZW50aW5nIHlvdXIgW3RyYWluaW5nIGV4YW1wbGVzXSgvZG9jcy9ndWlkZXMvZmluZS10dW5pbmcvcHJlcGFyZS10cmFpbmluZy1kYXRhKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHVycG9zZSBUaGUgaW50ZW5kZWQgcHVycG9zZSBvZiB0aGUgdXBsb2FkZWQgZG9jdW1lbnRzLiAgVXNlIFxcXFxcXCZxdW90O2ZpbmUtdHVuZVxcXFxcXCZxdW90OyBmb3IgW0ZpbmUtdHVuaW5nXSgvZG9jcy9hcGktcmVmZXJlbmNlL2ZpbmUtdHVuZXMpLiBUaGlzIGFsbG93cyB1cyB0byB2YWxpZGF0ZSB0aGUgZm9ybWF0IG9mIHRoZSB1cGxvYWRlZCBmaWxlLlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgT3BlbkFJQXBpXG4gICAgICovXG4gICAgY3JlYXRlRmlsZShmaWxlLCBwdXJwb3NlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLk9wZW5BSUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuY3JlYXRlRmlsZShmaWxlLCBwdXJwb3NlLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBDcmVhdGVzIGEgam9iIHRoYXQgZmluZS10dW5lcyBhIHNwZWNpZmllZCBtb2RlbCBmcm9tIGEgZ2l2ZW4gZGF0YXNldC4gIFJlc3BvbnNlIGluY2x1ZGVzIGRldGFpbHMgb2YgdGhlIGVucXVldWVkIGpvYiBpbmNsdWRpbmcgam9iIHN0YXR1cyBhbmQgdGhlIG5hbWUgb2YgdGhlIGZpbmUtdHVuZWQgbW9kZWxzIG9uY2UgY29tcGxldGUuICBbTGVhcm4gbW9yZSBhYm91dCBGaW5lLXR1bmluZ10oL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKVxuICAgICAqIEBwYXJhbSB7Q3JlYXRlRmluZVR1bmVSZXF1ZXN0fSBjcmVhdGVGaW5lVHVuZVJlcXVlc3RcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIE9wZW5BSUFwaVxuICAgICAqL1xuICAgIGNyZWF0ZUZpbmVUdW5lKGNyZWF0ZUZpbmVUdW5lUmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmNyZWF0ZUZpbmVUdW5lKGNyZWF0ZUZpbmVUdW5lUmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhbiBpbWFnZSBnaXZlbiBhIHByb21wdC5cbiAgICAgKiBAcGFyYW0ge0NyZWF0ZUltYWdlUmVxdWVzdH0gY3JlYXRlSW1hZ2VSZXF1ZXN0XG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBPcGVuQUlBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVJbWFnZShjcmVhdGVJbWFnZVJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuT3BlbkFJQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVJbWFnZShjcmVhdGVJbWFnZVJlcXVlc3QsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IENyZWF0ZXMgYW4gZWRpdGVkIG9yIGV4dGVuZGVkIGltYWdlIGdpdmVuIGFuIG9yaWdpbmFsIGltYWdlIGFuZCBhIHByb21wdC5cbiAgICAgKiBAcGFyYW0ge0ZpbGV9IGltYWdlIFRoZSBpbWFnZSB0byBlZGl0LiBNdXN0IGJlIGEgdmFsaWQgUE5HIGZpbGUsIGxlc3MgdGhhbiA0TUIsIGFuZCBzcXVhcmUuIElmIG1hc2sgaXMgbm90IHByb3ZpZGVkLCBpbWFnZSBtdXN0IGhhdmUgdHJhbnNwYXJlbmN5LCB3aGljaCB3aWxsIGJlIHVzZWQgYXMgdGhlIG1hc2suXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb21wdCBBIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIGRlc2lyZWQgaW1hZ2UocykuIFRoZSBtYXhpbXVtIGxlbmd0aCBpcyAxMDAwIGNoYXJhY3RlcnMuXG4gICAgICogQHBhcmFtIHtGaWxlfSBbbWFza10gQW4gYWRkaXRpb25hbCBpbWFnZSB3aG9zZSBmdWxseSB0cmFuc3BhcmVudCBhcmVhcyAoZS5nLiB3aGVyZSBhbHBoYSBpcyB6ZXJvKSBpbmRpY2F0ZSB3aGVyZSAmI3g2MDtpbWFnZSYjeDYwOyBzaG91bGQgYmUgZWRpdGVkLiBNdXN0IGJlIGEgdmFsaWQgUE5HIGZpbGUsIGxlc3MgdGhhbiA0TUIsIGFuZCBoYXZlIHRoZSBzYW1lIGRpbWVuc2lvbnMgYXMgJiN4NjA7aW1hZ2UmI3g2MDsuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuXSBUaGUgbnVtYmVyIG9mIGltYWdlcyB0byBnZW5lcmF0ZS4gTXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDEwLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2l6ZV0gVGhlIHNpemUgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIE11c3QgYmUgb25lIG9mICYjeDYwOzI1NngyNTYmI3g2MDssICYjeDYwOzUxMng1MTImI3g2MDssIG9yICYjeDYwOzEwMjR4MTAyNCYjeDYwOy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc3BvbnNlRm9ybWF0XSBUaGUgZm9ybWF0IGluIHdoaWNoIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzIGFyZSByZXR1cm5lZC4gTXVzdCBiZSBvbmUgb2YgJiN4NjA7dXJsJiN4NjA7IG9yICYjeDYwO2I2NF9qc29uJiN4NjA7LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcl0gQSB1bmlxdWUgaWRlbnRpZmllciByZXByZXNlbnRpbmcgeW91ciBlbmQtdXNlciwgd2hpY2ggY2FuIGhlbHAgT3BlbkFJIHRvIG1vbml0b3IgYW5kIGRldGVjdCBhYnVzZS4gW0xlYXJuIG1vcmVdKC9kb2NzL2d1aWRlcy9zYWZldHktYmVzdC1wcmFjdGljZXMvZW5kLXVzZXItaWRzKS5cbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIE9wZW5BSUFwaVxuICAgICAqL1xuICAgIGNyZWF0ZUltYWdlRWRpdChpbWFnZSwgcHJvbXB0LCBtYXNrLCBuLCBzaXplLCByZXNwb25zZUZvcm1hdCwgdXNlciwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmNyZWF0ZUltYWdlRWRpdChpbWFnZSwgcHJvbXB0LCBtYXNrLCBuLCBzaXplLCByZXNwb25zZUZvcm1hdCwgdXNlciwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgQ3JlYXRlcyBhIHZhcmlhdGlvbiBvZiBhIGdpdmVuIGltYWdlLlxuICAgICAqIEBwYXJhbSB7RmlsZX0gaW1hZ2UgVGhlIGltYWdlIHRvIHVzZSBhcyB0aGUgYmFzaXMgZm9yIHRoZSB2YXJpYXRpb24ocykuIE11c3QgYmUgYSB2YWxpZCBQTkcgZmlsZSwgbGVzcyB0aGFuIDRNQiwgYW5kIHNxdWFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW25dIFRoZSBudW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzaXplXSBUaGUgc2l6ZSBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlcy4gTXVzdCBiZSBvbmUgb2YgJiN4NjA7MjU2eDI1NiYjeDYwOywgJiN4NjA7NTEyeDUxMiYjeDYwOywgb3IgJiN4NjA7MTAyNHgxMDI0JiN4NjA7LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcmVzcG9uc2VGb3JtYXRdIFRoZSBmb3JtYXQgaW4gd2hpY2ggdGhlIGdlbmVyYXRlZCBpbWFnZXMgYXJlIHJldHVybmVkLiBNdXN0IGJlIG9uZSBvZiAmI3g2MDt1cmwmI3g2MDsgb3IgJiN4NjA7YjY0X2pzb24mI3g2MDsuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyXSBBIHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB5b3VyIGVuZC11c2VyLCB3aGljaCBjYW4gaGVscCBPcGVuQUkgdG8gbW9uaXRvciBhbmQgZGV0ZWN0IGFidXNlLiBbTGVhcm4gbW9yZV0oL2RvY3MvZ3VpZGVzL3NhZmV0eS1iZXN0LXByYWN0aWNlcy9lbmQtdXNlci1pZHMpLlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgT3BlbkFJQXBpXG4gICAgICovXG4gICAgY3JlYXRlSW1hZ2VWYXJpYXRpb24oaW1hZ2UsIG4sIHNpemUsIHJlc3BvbnNlRm9ybWF0LCB1c2VyLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLk9wZW5BSUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuY3JlYXRlSW1hZ2VWYXJpYXRpb24oaW1hZ2UsIG4sIHNpemUsIHJlc3BvbnNlRm9ybWF0LCB1c2VyLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBDbGFzc2lmaWVzIGlmIHRleHQgdmlvbGF0ZXMgT3BlbkFJXFwncyBDb250ZW50IFBvbGljeVxuICAgICAqIEBwYXJhbSB7Q3JlYXRlTW9kZXJhdGlvblJlcXVlc3R9IGNyZWF0ZU1vZGVyYXRpb25SZXF1ZXN0XG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBPcGVuQUlBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVNb2RlcmF0aW9uKGNyZWF0ZU1vZGVyYXRpb25SZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLk9wZW5BSUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuY3JlYXRlTW9kZXJhdGlvbihjcmVhdGVNb2RlcmF0aW9uUmVxdWVzdCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgVGhlIHNlYXJjaCBlbmRwb2ludCBjb21wdXRlcyBzaW1pbGFyaXR5IHNjb3JlcyBiZXR3ZWVuIHByb3ZpZGVkIHF1ZXJ5IGFuZCBkb2N1bWVudHMuIERvY3VtZW50cyBjYW4gYmUgcGFzc2VkIGRpcmVjdGx5IHRvIHRoZSBBUEkgaWYgdGhlcmUgYXJlIG5vIG1vcmUgdGhhbiAyMDAgb2YgdGhlbS4gIFRvIGdvIGJleW9uZCB0aGUgMjAwIGRvY3VtZW50IGxpbWl0LCBkb2N1bWVudHMgY2FuIGJlIHByb2Nlc3NlZCBvZmZsaW5lIGFuZCB0aGVuIHVzZWQgZm9yIGVmZmljaWVudCByZXRyaWV2YWwgYXQgcXVlcnkgdGltZS4gV2hlbiBgZmlsZWAgaXMgc2V0LCB0aGUgc2VhcmNoIGVuZHBvaW50IHNlYXJjaGVzIG92ZXIgYWxsIHRoZSBkb2N1bWVudHMgaW4gdGhlIGdpdmVuIGZpbGUgYW5kIHJldHVybnMgdXAgdG8gdGhlIGBtYXhfcmVyYW5rYCBudW1iZXIgb2YgZG9jdW1lbnRzLiBUaGVzZSBkb2N1bWVudHMgd2lsbCBiZSByZXR1cm5lZCBhbG9uZyB3aXRoIHRoZWlyIHNlYXJjaCBzY29yZXMuICBUaGUgc2ltaWxhcml0eSBzY29yZSBpcyBhIHBvc2l0aXZlIHNjb3JlIHRoYXQgdXN1YWxseSByYW5nZXMgZnJvbSAwIHRvIDMwMCAoYnV0IGNhbiBzb21ldGltZXMgZ28gaGlnaGVyKSwgd2hlcmUgYSBzY29yZSBhYm92ZSAyMDAgdXN1YWxseSBtZWFucyB0aGUgZG9jdW1lbnQgaXMgc2VtYW50aWNhbGx5IHNpbWlsYXIgdG8gdGhlIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbmdpbmVJZCBUaGUgSUQgb2YgdGhlIGVuZ2luZSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdC4gIFlvdSBjYW4gc2VsZWN0IG9uZSBvZiAmI3g2MDthZGEmI3g2MDssICYjeDYwO2JhYmJhZ2UmI3g2MDssICYjeDYwO2N1cmllJiN4NjA7LCBvciAmI3g2MDtkYXZpbmNpJiN4NjA7LlxuICAgICAqIEBwYXJhbSB7Q3JlYXRlU2VhcmNoUmVxdWVzdH0gY3JlYXRlU2VhcmNoUmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBPcGVuQUlBcGlcbiAgICAgKi9cbiAgICBjcmVhdGVTZWFyY2goZW5naW5lSWQsIGNyZWF0ZVNlYXJjaFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuT3BlbkFJQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5jcmVhdGVTZWFyY2goZW5naW5lSWQsIGNyZWF0ZVNlYXJjaFJlcXVlc3QsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFRyYW5zY3JpYmVzIGF1ZGlvIGludG8gdGhlIGlucHV0IGxhbmd1YWdlLlxuICAgICAqIEBwYXJhbSB7RmlsZX0gZmlsZSBUaGUgYXVkaW8gZmlsZSB0byB0cmFuc2NyaWJlLCBpbiBvbmUgb2YgdGhlc2UgZm9ybWF0czogbXAzLCBtcDQsIG1wZWcsIG1wZ2EsIG00YSwgd2F2LCBvciB3ZWJtLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlbCBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBPbmx5ICYjeDYwO3doaXNwZXItMSYjeDYwOyBpcyBjdXJyZW50bHkgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvbXB0XSBBbiBvcHRpb25hbCB0ZXh0IHRvIGd1aWRlIHRoZSBtb2RlbFxcXFxcXCYjMzk7cyBzdHlsZSBvciBjb250aW51ZSBhIHByZXZpb3VzIGF1ZGlvIHNlZ21lbnQuIFRoZSBbcHJvbXB0XSgvZG9jcy9ndWlkZXMvc3BlZWNoLXRvLXRleHQvcHJvbXB0aW5nKSBzaG91bGQgbWF0Y2ggdGhlIGF1ZGlvIGxhbmd1YWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcmVzcG9uc2VGb3JtYXRdIFRoZSBmb3JtYXQgb2YgdGhlIHRyYW5zY3JpcHQgb3V0cHV0LCBpbiBvbmUgb2YgdGhlc2Ugb3B0aW9uczoganNvbiwgdGV4dCwgc3J0LCB2ZXJib3NlX2pzb24sIG9yIHZ0dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RlbXBlcmF0dXJlXSBUaGUgc2FtcGxpbmcgdGVtcGVyYXR1cmUsIGJldHdlZW4gMCBhbmQgMS4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuIElmIHNldCB0byAwLCB0aGUgbW9kZWwgd2lsbCB1c2UgW2xvZyBwcm9iYWJpbGl0eV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9nX3Byb2JhYmlsaXR5KSB0byBhdXRvbWF0aWNhbGx5IGluY3JlYXNlIHRoZSB0ZW1wZXJhdHVyZSB1bnRpbCBjZXJ0YWluIHRocmVzaG9sZHMgYXJlIGhpdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xhbmd1YWdlXSBUaGUgbGFuZ3VhZ2Ugb2YgdGhlIGlucHV0IGF1ZGlvLiBTdXBwbHlpbmcgdGhlIGlucHV0IGxhbmd1YWdlIGluIFtJU08tNjM5LTFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfSVNPXzYzOS0xX2NvZGVzKSBmb3JtYXQgd2lsbCBpbXByb3ZlIGFjY3VyYWN5IGFuZCBsYXRlbmN5LlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgT3BlbkFJQXBpXG4gICAgICovXG4gICAgY3JlYXRlVHJhbnNjcmlwdGlvbihmaWxlLCBtb2RlbCwgcHJvbXB0LCByZXNwb25zZUZvcm1hdCwgdGVtcGVyYXR1cmUsIGxhbmd1YWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLk9wZW5BSUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikuY3JlYXRlVHJhbnNjcmlwdGlvbihmaWxlLCBtb2RlbCwgcHJvbXB0LCByZXNwb25zZUZvcm1hdCwgdGVtcGVyYXR1cmUsIGxhbmd1YWdlLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBUcmFuc2xhdGVzIGF1ZGlvIGludG8gaW50byBFbmdsaXNoLlxuICAgICAqIEBwYXJhbSB7RmlsZX0gZmlsZSBUaGUgYXVkaW8gZmlsZSB0byB0cmFuc2xhdGUsIGluIG9uZSBvZiB0aGVzZSBmb3JtYXRzOiBtcDMsIG1wNCwgbXBlZywgbXBnYSwgbTRhLCB3YXYsIG9yIHdlYm0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGVsIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIE9ubHkgJiN4NjA7d2hpc3Blci0xJiN4NjA7IGlzIGN1cnJlbnRseSBhdmFpbGFibGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcm9tcHRdIEFuIG9wdGlvbmFsIHRleHQgdG8gZ3VpZGUgdGhlIG1vZGVsXFxcXFxcJiMzOTtzIHN0eWxlIG9yIGNvbnRpbnVlIGEgcHJldmlvdXMgYXVkaW8gc2VnbWVudC4gVGhlIFtwcm9tcHRdKC9kb2NzL2d1aWRlcy9zcGVlY2gtdG8tdGV4dC9wcm9tcHRpbmcpIHNob3VsZCBiZSBpbiBFbmdsaXNoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcmVzcG9uc2VGb3JtYXRdIFRoZSBmb3JtYXQgb2YgdGhlIHRyYW5zY3JpcHQgb3V0cHV0LCBpbiBvbmUgb2YgdGhlc2Ugb3B0aW9uczoganNvbiwgdGV4dCwgc3J0LCB2ZXJib3NlX2pzb24sIG9yIHZ0dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RlbXBlcmF0dXJlXSBUaGUgc2FtcGxpbmcgdGVtcGVyYXR1cmUsIGJldHdlZW4gMCBhbmQgMS4gSGlnaGVyIHZhbHVlcyBsaWtlIDAuOCB3aWxsIG1ha2UgdGhlIG91dHB1dCBtb3JlIHJhbmRvbSwgd2hpbGUgbG93ZXIgdmFsdWVzIGxpa2UgMC4yIHdpbGwgbWFrZSBpdCBtb3JlIGZvY3VzZWQgYW5kIGRldGVybWluaXN0aWMuIElmIHNldCB0byAwLCB0aGUgbW9kZWwgd2lsbCB1c2UgW2xvZyBwcm9iYWJpbGl0eV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9nX3Byb2JhYmlsaXR5KSB0byBhdXRvbWF0aWNhbGx5IGluY3JlYXNlIHRoZSB0ZW1wZXJhdHVyZSB1bnRpbCBjZXJ0YWluIHRocmVzaG9sZHMgYXJlIGhpdC5cbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIE9wZW5BSUFwaVxuICAgICAqL1xuICAgIGNyZWF0ZVRyYW5zbGF0aW9uKGZpbGUsIG1vZGVsLCBwcm9tcHQsIHJlc3BvbnNlRm9ybWF0LCB0ZW1wZXJhdHVyZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmNyZWF0ZVRyYW5zbGF0aW9uKGZpbGUsIG1vZGVsLCBwcm9tcHQsIHJlc3BvbnNlRm9ybWF0LCB0ZW1wZXJhdHVyZSwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgRGVsZXRlIGEgZmlsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZUlkIFRoZSBJRCBvZiB0aGUgZmlsZSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgT3BlbkFJQXBpXG4gICAgICovXG4gICAgZGVsZXRlRmlsZShmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuT3BlbkFJQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5kZWxldGVGaWxlKGZpbGVJZCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgRGVsZXRlIGEgZmluZS10dW5lZCBtb2RlbC4gWW91IG11c3QgaGF2ZSB0aGUgT3duZXIgcm9sZSBpbiB5b3VyIG9yZ2FuaXphdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZWwgVGhlIG1vZGVsIHRvIGRlbGV0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgT3BlbkFJQXBpXG4gICAgICovXG4gICAgZGVsZXRlTW9kZWwobW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuT3BlbkFJQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5kZWxldGVNb2RlbChtb2RlbCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0dXJucyB0aGUgY29udGVudHMgb2YgdGhlIHNwZWNpZmllZCBmaWxlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVJZCBUaGUgSUQgb2YgdGhlIGZpbGUgdG8gdXNlIGZvciB0aGlzIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIE9wZW5BSUFwaVxuICAgICAqL1xuICAgIGRvd25sb2FkRmlsZShmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuT3BlbkFJQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5kb3dubG9hZEZpbGUoZmlsZUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBMaXN0cyB0aGUgY3VycmVudGx5IGF2YWlsYWJsZSAobm9uLWZpbmV0dW5lZCkgbW9kZWxzLCBhbmQgcHJvdmlkZXMgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgZWFjaCBvbmUgc3VjaCBhcyB0aGUgb3duZXIgYW5kIGF2YWlsYWJpbGl0eS5cbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgT3BlbkFJQXBpXG4gICAgICovXG4gICAgbGlzdEVuZ2luZXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmxpc3RFbmdpbmVzKG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHVybnMgYSBsaXN0IG9mIGZpbGVzIHRoYXQgYmVsb25nIHRvIHRoZSB1c2VyXFwncyBvcmdhbml6YXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBPcGVuQUlBcGlcbiAgICAgKi9cbiAgICBsaXN0RmlsZXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmxpc3RGaWxlcyhvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBHZXQgZmluZS1ncmFpbmVkIHN0YXR1cyB1cGRhdGVzIGZvciBhIGZpbmUtdHVuZSBqb2IuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbmVUdW5lSWQgVGhlIElEIG9mIHRoZSBmaW5lLXR1bmUgam9iIHRvIGdldCBldmVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmVhbV0gV2hldGhlciB0byBzdHJlYW0gZXZlbnRzIGZvciB0aGUgZmluZS10dW5lIGpvYi4gSWYgc2V0IHRvIHRydWUsIGV2ZW50cyB3aWxsIGJlIHNlbnQgYXMgZGF0YS1vbmx5IFtzZXJ2ZXItc2VudCBldmVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TZXJ2ZXItc2VudF9ldmVudHMvVXNpbmdfc2VydmVyLXNlbnRfZXZlbnRzI0V2ZW50X3N0cmVhbV9mb3JtYXQpIGFzIHRoZXkgYmVjb21lIGF2YWlsYWJsZS4gVGhlIHN0cmVhbSB3aWxsIHRlcm1pbmF0ZSB3aXRoIGEgJiN4NjA7ZGF0YTogW0RPTkVdJiN4NjA7IG1lc3NhZ2Ugd2hlbiB0aGUgam9iIGlzIGZpbmlzaGVkIChzdWNjZWVkZWQsIGNhbmNlbGxlZCwgb3IgZmFpbGVkKS4gIElmIHNldCB0byBmYWxzZSwgb25seSBldmVudHMgZ2VuZXJhdGVkIHNvIGZhciB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgT3BlbkFJQXBpXG4gICAgICovXG4gICAgbGlzdEZpbmVUdW5lRXZlbnRzKGZpbmVUdW5lSWQsIHN0cmVhbSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmxpc3RGaW5lVHVuZUV2ZW50cyhmaW5lVHVuZUlkLCBzdHJlYW0sIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IExpc3QgeW91ciBvcmdhbml6YXRpb25cXCdzIGZpbmUtdHVuaW5nIGpvYnNcbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIE9wZW5BSUFwaVxuICAgICAqL1xuICAgIGxpc3RGaW5lVHVuZXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmxpc3RGaW5lVHVuZXMob3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgTGlzdHMgdGhlIGN1cnJlbnRseSBhdmFpbGFibGUgbW9kZWxzLCBhbmQgcHJvdmlkZXMgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgZWFjaCBvbmUgc3VjaCBhcyB0aGUgb3duZXIgYW5kIGF2YWlsYWJpbGl0eS5cbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zXSBPdmVycmlkZSBodHRwIHJlcXVlc3Qgb3B0aW9uLlxuICAgICAqIEB0aHJvd3Mge1JlcXVpcmVkRXJyb3J9XG4gICAgICogQG1lbWJlcm9mIE9wZW5BSUFwaVxuICAgICAqL1xuICAgIGxpc3RNb2RlbHMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLmxpc3RNb2RlbHMob3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHN1bW1hcnkgUmV0cmlldmVzIGEgbW9kZWwgaW5zdGFuY2UsIHByb3ZpZGluZyBiYXNpYyBpbmZvcm1hdGlvbiBhYm91dCBpdCBzdWNoIGFzIHRoZSBvd25lciBhbmQgYXZhaWxhYmlsaXR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbmdpbmVJZCBUaGUgSUQgb2YgdGhlIGVuZ2luZSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBPcGVuQUlBcGlcbiAgICAgKi9cbiAgICByZXRyaWV2ZUVuZ2luZShlbmdpbmVJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLnJldHJpZXZlRW5naW5lKGVuZ2luZUlkLCBvcHRpb25zKS50aGVuKChyZXF1ZXN0KSA9PiByZXF1ZXN0KHRoaXMuYXhpb3MsIHRoaXMuYmFzZVBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc3VtbWFyeSBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IGEgc3BlY2lmaWMgZmlsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZUlkIFRoZSBJRCBvZiB0aGUgZmlsZSB0byB1c2UgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gW29wdGlvbnNdIE92ZXJyaWRlIGh0dHAgcmVxdWVzdCBvcHRpb24uXG4gICAgICogQHRocm93cyB7UmVxdWlyZWRFcnJvcn1cbiAgICAgKiBAbWVtYmVyb2YgT3BlbkFJQXBpXG4gICAgICovXG4gICAgcmV0cmlldmVGaWxlKGZpbGVJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PcGVuQUlBcGlGcCh0aGlzLmNvbmZpZ3VyYXRpb24pLnJldHJpZXZlRmlsZShmaWxlSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IEdldHMgaW5mbyBhYm91dCB0aGUgZmluZS10dW5lIGpvYi4gIFtMZWFybiBtb3JlIGFib3V0IEZpbmUtdHVuaW5nXSgvZG9jcy9ndWlkZXMvZmluZS10dW5pbmcpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbmVUdW5lSWQgVGhlIElEIG9mIHRoZSBmaW5lLXR1bmUgam9iXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBPcGVuQUlBcGlcbiAgICAgKi9cbiAgICByZXRyaWV2ZUZpbmVUdW5lKGZpbmVUdW5lSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuT3BlbkFJQXBpRnAodGhpcy5jb25maWd1cmF0aW9uKS5yZXRyaWV2ZUZpbmVUdW5lKGZpbmVUdW5lSWQsIG9wdGlvbnMpLnRoZW4oKHJlcXVlc3QpID0+IHJlcXVlc3QodGhpcy5heGlvcywgdGhpcy5iYXNlUGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBzdW1tYXJ5IFJldHJpZXZlcyBhIG1vZGVsIGluc3RhbmNlLCBwcm92aWRpbmcgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1vZGVsIHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBwZXJtaXNzaW9uaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlbCBUaGUgSUQgb2YgdGhlIG1vZGVsIHRvIHVzZSBmb3IgdGhpcyByZXF1ZXN0XG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9uc10gT3ZlcnJpZGUgaHR0cCByZXF1ZXN0IG9wdGlvbi5cbiAgICAgKiBAdGhyb3dzIHtSZXF1aXJlZEVycm9yfVxuICAgICAqIEBtZW1iZXJvZiBPcGVuQUlBcGlcbiAgICAgKi9cbiAgICByZXRyaWV2ZU1vZGVsKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLk9wZW5BSUFwaUZwKHRoaXMuY29uZmlndXJhdGlvbikucmV0cmlldmVNb2RlbChtb2RlbCwgb3B0aW9ucykudGhlbigocmVxdWVzdCkgPT4gcmVxdWVzdCh0aGlzLmF4aW9zLCB0aGlzLmJhc2VQYXRoKSk7XG4gICAgfVxufVxuZXhwb3J0cy5PcGVuQUlBcGkgPSBPcGVuQUlBcGk7XG4iLCAie1xuICBcIm5hbWVcIjogXCJvcGVuYWlcIixcbiAgXCJ2ZXJzaW9uXCI6IFwiMy4yLjFcIixcbiAgXCJkZXNjcmlwdGlvblwiOiBcIk5vZGUuanMgbGlicmFyeSBmb3IgdGhlIE9wZW5BSSBBUElcIixcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImdpdEBnaXRodWIuY29tOm9wZW5haS9vcGVuYWktbm9kZS5naXRcIlxuICB9LFxuICBcImtleXdvcmRzXCI6IFtcbiAgICBcIm9wZW5haVwiLFxuICAgIFwib3BlblwiLFxuICAgIFwiYWlcIixcbiAgICBcImdwdC0zXCIsXG4gICAgXCJncHQzXCJcbiAgXSxcbiAgXCJhdXRob3JcIjogXCJPcGVuQUlcIixcbiAgXCJsaWNlbnNlXCI6IFwiTUlUXCIsXG4gIFwibWFpblwiOiBcIi4vZGlzdC9pbmRleC5qc1wiLFxuICBcInR5cGVzXCI6IFwiLi9kaXN0L2luZGV4LmQudHNcIixcbiAgXCJzY3JpcHRzXCI6IHtcbiAgICBcImJ1aWxkXCI6IFwidHNjIC0tb3V0RGlyIGRpc3QvXCJcbiAgfSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiYXhpb3NcIjogXCJeMC4yNi4wXCIsXG4gICAgXCJmb3JtLWRhdGFcIjogXCJeNC4wLjBcIlxuICB9LFxuICBcImRldkRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJAdHlwZXMvbm9kZVwiOiBcIl4xMi4xMS41XCIsXG4gICAgXCJ0eXBlc2NyaXB0XCI6IFwiXjMuNi40XCJcbiAgfVxufVxuIiwgIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xubW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyA/IHNlbGYuRm9ybURhdGEgOiB3aW5kb3cuRm9ybURhdGE7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogT3BlbkFJIEFQSVxuICogQVBJcyBmb3Igc2FtcGxpbmcgZnJvbSBhbmQgZmluZS10dW5pbmcgbGFuZ3VhZ2UgbW9kZWxzXG4gKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIE9wZW5BUEkgZG9jdW1lbnQ6IDEuMi4wXG4gKlxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgT3BlbkFQSSBHZW5lcmF0b3IgKGh0dHBzOi8vb3BlbmFwaS1nZW5lcmF0b3IudGVjaCkuXG4gKiBodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2hcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db25maWd1cmF0aW9uID0gdm9pZCAwO1xuY29uc3QgcGFja2FnZUpzb24gPSByZXF1aXJlKFwiLi4vcGFja2FnZS5qc29uXCIpO1xuY2xhc3MgQ29uZmlndXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IocGFyYW0gPSB7fSkge1xuICAgICAgICB0aGlzLmFwaUtleSA9IHBhcmFtLmFwaUtleTtcbiAgICAgICAgdGhpcy5vcmdhbml6YXRpb24gPSBwYXJhbS5vcmdhbml6YXRpb247XG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSBwYXJhbS51c2VybmFtZTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhcmFtLnBhc3N3b3JkO1xuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gcGFyYW0uYWNjZXNzVG9rZW47XG4gICAgICAgIHRoaXMuYmFzZVBhdGggPSBwYXJhbS5iYXNlUGF0aDtcbiAgICAgICAgdGhpcy5iYXNlT3B0aW9ucyA9IHBhcmFtLmJhc2VPcHRpb25zO1xuICAgICAgICB0aGlzLmZvcm1EYXRhQ3RvciA9IHBhcmFtLmZvcm1EYXRhQ3RvcjtcbiAgICAgICAgaWYgKCF0aGlzLmJhc2VPcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VPcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYXNlT3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbih7ICdVc2VyLUFnZW50JzogYE9wZW5BSS9Ob2RlSlMvJHtwYWNrYWdlSnNvbi52ZXJzaW9ufWAsICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAgfSwgdGhpcy5iYXNlT3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgaWYgKHRoaXMub3JnYW5pemF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VPcHRpb25zLmhlYWRlcnNbJ09wZW5BSS1Pcmdhbml6YXRpb24nXSA9IHRoaXMub3JnYW5pemF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5mb3JtRGF0YUN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybURhdGFDdG9yID0gcmVxdWlyZShcImZvcm0tZGF0YVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gTUlNRSBpcyBhIEpTT04gTUlNRS5cbiAgICAgKiBKU09OIE1JTUUgZXhhbXBsZXM6XG4gICAgICogICBhcHBsaWNhdGlvbi9qc29uXG4gICAgICogICBhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURjhcbiAgICAgKiAgIEFQUExJQ0FUSU9OL0pTT05cbiAgICAgKiAgIGFwcGxpY2F0aW9uL3ZuZC5jb21wYW55K2pzb25cbiAgICAgKiBAcGFyYW0gbWltZSAtIE1JTUUgKE11bHRpcHVycG9zZSBJbnRlcm5ldCBNYWlsIEV4dGVuc2lvbnMpXG4gICAgICogQHJldHVybiBUcnVlIGlmIHRoZSBnaXZlbiBNSU1FIGlzIEpTT04sIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBpc0pzb25NaW1lKG1pbWUpIHtcbiAgICAgICAgY29uc3QganNvbk1pbWUgPSBuZXcgUmVnRXhwKCdeKGFwcGxpY2F0aW9uXFwvanNvbnxbXjsvIFxcdF0rXFwvW147LyBcXHRdK1srXWpzb24pWyBcXHRdKig7LiopPyQnLCAnaScpO1xuICAgICAgICByZXR1cm4gbWltZSAhPT0gbnVsbCAmJiAoanNvbk1pbWUudGVzdChtaW1lKSB8fCBtaW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhcHBsaWNhdGlvbi9qc29uLXBhdGNoK2pzb24nKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbmZpZ3VyYXRpb24gPSBDb25maWd1cmF0aW9uO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIE9wZW5BSSBBUElcbiAqIEFQSXMgZm9yIHNhbXBsaW5nIGZyb20gYW5kIGZpbmUtdHVuaW5nIGxhbmd1YWdlIG1vZGVsc1xuICpcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBPcGVuQVBJIGRvY3VtZW50OiAxLjIuMFxuICpcbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IE9wZW5BUEkgR2VuZXJhdG9yIChodHRwczovL29wZW5hcGktZ2VuZXJhdG9yLnRlY2gpLlxuICogaHR0cHM6Ly9vcGVuYXBpLWdlbmVyYXRvci50ZWNoXG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9hcGlcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbmZpZ3VyYXRpb25cIiksIGV4cG9ydHMpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci10ZW1wbGF0ZSAqL1xuLyogZXNsaW50LWRpc2FibGUgZGVmYXVsdC1jYXNlICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wbHVzcGx1cyAqL1xuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nZm9ydGFpbmUvZmV0Y2gtZXZlbnQtc291cmNlL2Jsb2IvbWFpbi9zcmMvcGFyc2UudHNcbi8vIGR1ZSB0byBhIHBhY2thZ2luZyBpc3N1ZSBpbiB0aGUgb3JpZ2luYWwuXG4vLyBNSVQgTGljZW5zZVxuZXhwb3J0IGNvbnN0IEV2ZW50U3RyZWFtQ29udGVudFR5cGUgPSBcInRleHQvZXZlbnQtc3RyZWFtXCI7XG4vKipcbiAqIENvbnZlcnRzIGEgUmVhZGFibGVTdHJlYW0gaW50byBhIGNhbGxiYWNrIHBhdHRlcm4uXG4gKiBAcGFyYW0gc3RyZWFtIFRoZSBpbnB1dCBSZWFkYWJsZVN0cmVhbS5cbiAqIEBwYXJhbSBvbkNodW5rIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIG5ldyBieXRlIGNodW5rIGluIHRoZSBzdHJlYW0uXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gQSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSBzdHJlYW0gY2xvc2VzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Qnl0ZXMoc3RyZWFtLCBvbkNodW5rKSB7XG4gICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgIC8vIENIQU5HRUQ6IEludHJvZHVjZWQgYSBcImZsdXNoXCIgbWVjaGFuaXNtIHRvIHByb2Nlc3MgcG90ZW50aWFsIHBlbmRpbmcgbWVzc2FnZXMgd2hlbiB0aGUgc3RyZWFtIGVuZHMuXG4gICAgLy8gICAgICAgICAgVGhpcyBjaGFuZ2UgaXMgZXNzZW50aWFsIHRvIGVuc3VyZSB0aGF0IHdlIGNhcHR1cmUgZXZlcnkgbGFzdCBwaWVjZSBvZiBpbmZvcm1hdGlvbiBmcm9tIHN0cmVhbXMsXG4gICAgLy8gICAgICAgICAgc3VjaCBhcyB0aG9zZSBmcm9tIEF6dXJlIE9wZW5BSSwgd2hpY2ggbWF5IG5vdCB0ZXJtaW5hdGUgd2l0aCBhIGJsYW5rIGxpbmUuIFdpdGhvdXQgdGhpc1xuICAgIC8vICAgICAgICAgIG1lY2hhbmlzbSwgd2UgcmlzayBpZ25vcmluZyBhIHBvc3NpYmx5IHNpZ25pZmljYW50IGxhc3QgbWVzc2FnZS5cbiAgICAvLyAgICAgICAgICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2h3Y2hhc2UxNy9sYW5nY2hhaW5qcy9pc3N1ZXMvMTI5OSBmb3IgZGV0YWlscy5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICBvbkNodW5rKG5ldyBVaW50OEFycmF5KCksIHRydWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb25DaHVuayhyZXN1bHQudmFsdWUpO1xuICAgIH1cbn1cbi8qKlxuICogUGFyc2VzIGFyYml0YXJ5IGJ5dGUgY2h1bmtzIGludG8gRXZlbnRTb3VyY2UgbGluZSBidWZmZXJzLlxuICogRWFjaCBsaW5lIHNob3VsZCBiZSBvZiB0aGUgZm9ybWF0IFwiZmllbGQ6IHZhbHVlXCIgYW5kIGVuZHMgd2l0aCBcXHIsIFxcbiwgb3IgXFxyXFxuLlxuICogQHBhcmFtIG9uTGluZSBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCBuZXcgRXZlbnRTb3VyY2UgbGluZS5cbiAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkIGZvciBlYWNoIGluY29taW5nIGJ5dGUgY2h1bmsuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaW5lcyhvbkxpbmUpIHtcbiAgICBsZXQgYnVmZmVyO1xuICAgIGxldCBwb3NpdGlvbjsgLy8gY3VycmVudCByZWFkIHBvc2l0aW9uXG4gICAgbGV0IGZpZWxkTGVuZ3RoOyAvLyBsZW5ndGggb2YgdGhlIGBmaWVsZGAgcG9ydGlvbiBvZiB0aGUgbGluZVxuICAgIGxldCBkaXNjYXJkVHJhaWxpbmdOZXdsaW5lID0gZmFsc2U7XG4gICAgLy8gcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCBjYW4gcHJvY2VzcyBlYWNoIGluY29taW5nIGJ5dGUgY2h1bms6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uQ2h1bmsoYXJyLCBmbHVzaCkge1xuICAgICAgICBpZiAoZmx1c2gpIHtcbiAgICAgICAgICAgIG9uTGluZShhcnIsIDAsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWZmZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYnVmZmVyID0gYXJyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgZmllbGRMZW5ndGggPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHdlJ3JlIHN0aWxsIHBhcnNpbmcgdGhlIG9sZCBsaW5lLiBBcHBlbmQgdGhlIG5ldyBieXRlcyBpbnRvIGJ1ZmZlcjpcbiAgICAgICAgICAgIGJ1ZmZlciA9IGNvbmNhdChidWZmZXIsIGFycik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnVmTGVuZ3RoID0gYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgbGV0IGxpbmVTdGFydCA9IDA7IC8vIGluZGV4IHdoZXJlIHRoZSBjdXJyZW50IGxpbmUgc3RhcnRzXG4gICAgICAgIHdoaWxlIChwb3NpdGlvbiA8IGJ1Zkxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGRpc2NhcmRUcmFpbGluZ05ld2xpbmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyW3Bvc2l0aW9uXSA9PT0gMTAgLyogQ29udHJvbENoYXJzLk5ld0xpbmUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVN0YXJ0ID0gKytwb3NpdGlvbjsgLy8gc2tpcCB0byBuZXh0IGNoYXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlzY2FyZFRyYWlsaW5nTmV3bGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc3RhcnQgbG9va2luZyBmb3J3YXJkIHRpbGwgdGhlIGVuZCBvZiBsaW5lOlxuICAgICAgICAgICAgbGV0IGxpbmVFbmQgPSAtMTsgLy8gaW5kZXggb2YgdGhlIFxcciBvciBcXG4gY2hhclxuICAgICAgICAgICAgZm9yICg7IHBvc2l0aW9uIDwgYnVmTGVuZ3RoICYmIGxpbmVFbmQgPT09IC0xOyArK3Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChidWZmZXJbcG9zaXRpb25dKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTggLyogQ29udHJvbENoYXJzLkNvbG9uICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkTGVuZ3RoID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpcnN0IGNvbG9uIGluIGxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZExlbmd0aCA9IHBvc2l0aW9uIC0gbGluZVN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTo3MDI5IFxcciBjYXNlIGJlbG93IHNob3VsZCBmYWxsdGhyb3VnaCB0byBcXG46XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTMgLyogQ29udHJvbENoYXJzLkNhcnJpYWdlUmV0dXJuICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY2FyZFRyYWlsaW5nTmV3bGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwIC8qIENvbnRyb2xDaGFycy5OZXdMaW5lICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUVuZCA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpbmVFbmQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBidWZmZXIgYnV0IHRoZSBsaW5lIGhhc24ndCBlbmRlZC5cbiAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgbmV4dCBhcnIgYW5kIHRoZW4gY29udGludWUgcGFyc2luZzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdlJ3ZlIHJlYWNoZWQgdGhlIGxpbmUgZW5kLCBzZW5kIGl0IG91dDpcbiAgICAgICAgICAgIG9uTGluZShidWZmZXIuc3ViYXJyYXkobGluZVN0YXJ0LCBsaW5lRW5kKSwgZmllbGRMZW5ndGgpO1xuICAgICAgICAgICAgbGluZVN0YXJ0ID0gcG9zaXRpb247IC8vIHdlJ3JlIG5vdyBvbiB0aGUgbmV4dCBsaW5lXG4gICAgICAgICAgICBmaWVsZExlbmd0aCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5lU3RhcnQgPT09IGJ1Zkxlbmd0aCkge1xuICAgICAgICAgICAgYnVmZmVyID0gdW5kZWZpbmVkOyAvLyB3ZSd2ZSBmaW5pc2hlZCByZWFkaW5nIGl0XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGluZVN0YXJ0ICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgdmlldyBpbnRvIGJ1ZmZlciBiZWdpbm5pbmcgYXQgbGluZVN0YXJ0IHNvIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBuZWVkIHRvIGNvcHkgb3ZlciB0aGUgcHJldmlvdXMgbGluZXMgd2hlbiB3ZSBnZXQgdGhlIG5ldyBhcnI6XG4gICAgICAgICAgICBidWZmZXIgPSBidWZmZXIuc3ViYXJyYXkobGluZVN0YXJ0KTtcbiAgICAgICAgICAgIHBvc2l0aW9uIC09IGxpbmVTdGFydDtcbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbiAqIFBhcnNlcyBsaW5lIGJ1ZmZlcnMgaW50byBFdmVudFNvdXJjZU1lc3NhZ2VzLlxuICogQHBhcmFtIG9uSWQgQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggYGlkYCBmaWVsZC5cbiAqIEBwYXJhbSBvblJldHJ5IEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGByZXRyeWAgZmllbGQuXG4gKiBAcGFyYW0gb25NZXNzYWdlIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCBmb3IgZWFjaCBpbmNvbWluZyBsaW5lIGJ1ZmZlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1lc3NhZ2VzKG9uTWVzc2FnZSwgb25JZCwgb25SZXRyeSkge1xuICAgIGxldCBtZXNzYWdlID0gbmV3TWVzc2FnZSgpO1xuICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICAvLyByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IGNhbiBwcm9jZXNzIGVhY2ggaW5jb21pbmcgbGluZSBidWZmZXI6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uTGluZShsaW5lLCBmaWVsZExlbmd0aCwgZmx1c2gpIHtcbiAgICAgICAgaWYgKGZsdXNoKSB7XG4gICAgICAgICAgICBpZiAoIWlzRW1wdHkobWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICBvbk1lc3NhZ2U/LihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gbmV3TWVzc2FnZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gZW1wdHkgbGluZSBkZW5vdGVzIGVuZCBvZiBtZXNzYWdlLiBUcmlnZ2VyIHRoZSBjYWxsYmFjayBhbmQgc3RhcnQgYSBuZXcgbWVzc2FnZTpcbiAgICAgICAgICAgIG9uTWVzc2FnZT8uKG1lc3NhZ2UpO1xuICAgICAgICAgICAgbWVzc2FnZSA9IG5ld01lc3NhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWVsZExlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIGV4Y2x1ZGUgY29tbWVudHMgYW5kIGxpbmVzIHdpdGggbm8gdmFsdWVzXG4gICAgICAgICAgICAvLyBsaW5lIGlzIG9mIGZvcm1hdCBcIjxmaWVsZD46PHZhbHVlPlwiIG9yIFwiPGZpZWxkPjogPHZhbHVlPlwiXG4gICAgICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zZXJ2ZXItc2VudC1ldmVudHMuaHRtbCNldmVudC1zdHJlYW0taW50ZXJwcmV0YXRpb25cbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gZGVjb2Rlci5kZWNvZGUobGluZS5zdWJhcnJheSgwLCBmaWVsZExlbmd0aCkpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVPZmZzZXQgPSBmaWVsZExlbmd0aCArIChsaW5lW2ZpZWxkTGVuZ3RoICsgMV0gPT09IDMyIC8qIENvbnRyb2xDaGFycy5TcGFjZSAqLyA/IDIgOiAxKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZGVjb2Rlci5kZWNvZGUobGluZS5zdWJhcnJheSh2YWx1ZU9mZnNldCkpO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRhXCI6XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgbWVzc2FnZSBhbHJlYWR5IGhhcyBkYXRhLCBhcHBlbmQgdGhlIG5ldyB2YWx1ZSB0byB0aGUgb2xkLlxuICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIGp1c3Qgc2V0IHRvIHRoZSBuZXcgdmFsdWU6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YSA9IG1lc3NhZ2UuZGF0YSA/IG1lc3NhZ2UuZGF0YSArIFwiXFxuXCIgKyB2YWx1ZSA6IHZhbHVlOyAvLyBvdGhlcndpc2UsXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJldmVudFwiOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV2ZW50ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJpZFwiOlxuICAgICAgICAgICAgICAgICAgICBvbklkPy4oKG1lc3NhZ2UuaWQgPSB2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicmV0cnlcIjoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRyeSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzTmFOKHJldHJ5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGVyIHNwZWMsIGlnbm9yZSBub24taW50ZWdlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmV0cnk/LigobWVzc2FnZS5yZXRyeSA9IHJldHJ5KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbmNhdChhLCBiKSB7XG4gICAgY29uc3QgcmVzID0gbmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGggKyBiLmxlbmd0aCk7XG4gICAgcmVzLnNldChhKTtcbiAgICByZXMuc2V0KGIsIGEubGVuZ3RoKTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbmV3TWVzc2FnZSgpIHtcbiAgICAvLyBkYXRhLCBldmVudCwgYW5kIGlkIG11c3QgYmUgaW5pdGlhbGl6ZWQgdG8gZW1wdHkgc3RyaW5nczpcbiAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zZXJ2ZXItc2VudC1ldmVudHMuaHRtbCNldmVudC1zdHJlYW0taW50ZXJwcmV0YXRpb25cbiAgICAvLyByZXRyeSBzaG91bGQgYmUgaW5pdGlhbGl6ZWQgdG8gdW5kZWZpbmVkIHNvIHdlIHJldHVybiBhIGNvbnNpc3RlbnQgc2hhcGVcbiAgICAvLyB0byB0aGUganMgZW5naW5lIGFsbCB0aGUgdGltZTogaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL3NoYXBlcy1pY3MjdGFrZWF3YXlzXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogXCJcIixcbiAgICAgICAgZXZlbnQ6IFwiXCIsXG4gICAgICAgIGlkOiBcIlwiLFxuICAgICAgICByZXRyeTogdW5kZWZpbmVkLFxuICAgIH07XG59XG5mdW5jdGlvbiBpc0VtcHR5KG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gKG1lc3NhZ2UuZGF0YSA9PT0gXCJcIiAmJlxuICAgICAgICBtZXNzYWdlLmV2ZW50ID09PSBcIlwiICYmXG4gICAgICAgIG1lc3NhZ2UuaWQgPT09IFwiXCIgJiZcbiAgICAgICAgbWVzc2FnZS5yZXRyeSA9PT0gdW5kZWZpbmVkKTtcbn1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBuby1wbHVzcGx1cyAqL1xuLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXRlbXBsYXRlICovXG4vKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItYXJyb3ctY2FsbGJhY2sgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXZhciAqL1xuLyogZXNsaW50LWRpc2FibGUgdmFycy1vbi10b3AgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXMgKi9cbi8qKlxuICogVGhpcyBpcyBjb3BpZWQgZnJvbSBAdmVzcGFpYWNoL2F4aW9zLWZldGNoLWFkYXB0ZXIsIHdoaWNoIGV4cG9zZXMgYW4gRVNNXG4gKiBtb2R1bGUgd2l0aG91dCBzZXR0aW5nIHRoZSBcInR5cGVcIiBmaWVsZCBpbiBwYWNrYWdlLmpzb24uXG4gKi9cbmltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCB7IEV2ZW50U3RyZWFtQ29udGVudFR5cGUsIGdldExpbmVzLCBnZXRCeXRlcywgZ2V0TWVzc2FnZXMsIH0gZnJvbSBcIi4vZXZlbnQtc291cmNlLXBhcnNlLmpzXCI7XG5mdW5jdGlvbiB0cnlKc29uU3RyaW5naWZ5KGRhdGEpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbn1cbi8qKlxuICogSW4gb3JkZXIgdG8gYXZvaWQgaW1wb3J0IGlzc3VlcyB3aXRoIGF4aW9zIDEueCwgY29weWluZyBoZXJlIHRoZSBpbnRlcm5hbFxuICogdXRpbGl0eSBmdW5jdGlvbnMgdGhhdCB3ZSB1c2VkIHRvIGltcG9ydCBkaXJlY3RseSBmcm9tIGF4aW9zLlxuICovXG4vLyBDb3BpZWQgZnJvbSBheGlvcy9saWIvY29yZS9zZXR0bGUuanNcbmZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gICAgY29uc3QgeyB2YWxpZGF0ZVN0YXR1cyB9ID0gcmVzcG9uc2UuY29uZmlnO1xuICAgIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKGBSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICR7cmVzcG9uc2Uuc3RhdHVzfSBhbmQgYm9keSAke3R5cGVvZiByZXNwb25zZS5kYXRhID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICA/IHJlc3BvbnNlLmRhdGFcbiAgICAgICAgICAgIDogdHJ5SnNvblN0cmluZ2lmeShyZXNwb25zZS5kYXRhKX1gLCByZXNwb25zZS5jb25maWcsIG51bGwsIHJlc3BvbnNlLnJlcXVlc3QsIHJlc3BvbnNlKSk7XG4gICAgfVxufVxuLy8gQ29waWVkIGZyb20gYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qc1xuZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gICAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gICAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gICAgcmV0dXJuIC9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59XG4vLyBDb3BpZWQgZnJvbSBheGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qc1xuZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICAgICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgXCJcIikgKyBcIi9cIiArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgXCJcIilcbiAgICAgICAgOiBiYXNlVVJMO1xufVxuLy8gQ29waWVkIGZyb20gYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanNcbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbClcbiAgICAgICAgLnJlcGxhY2UoLyUzQS9naSwgXCI6XCIpXG4gICAgICAgIC5yZXBsYWNlKC8lMjQvZywgXCIkXCIpXG4gICAgICAgIC5yZXBsYWNlKC8lMkMvZ2ksIFwiLFwiKVxuICAgICAgICAucmVwbGFjZSgvJTIwL2csIFwiK1wiKVxuICAgICAgICAucmVwbGFjZSgvJTVCL2dpLCBcIltcIilcbiAgICAgICAgLnJlcGxhY2UoLyU1RC9naSwgXCJdXCIpO1xufVxuZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgICBpZiAocGFyYW1zU2VyaWFsaXplcikge1xuICAgICAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IFtdO1xuICAgICAgICBmb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICAgICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gYCR7a2V5fVtdYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbCA9IFt2YWxdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuICAgICAgICAgICAgICAgIGlmIChpc0RhdGUodikpIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IEpTT04uc3RyaW5naWZ5KHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGAke2VuY29kZShrZXkpfT0ke2VuY29kZSh2KX1gKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oXCImXCIpO1xuICAgIH1cbiAgICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgICAgICB2YXIgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcbiAgICAgICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgdXJsICs9ICh1cmwuaW5kZXhPZihcIj9cIikgPT09IC0xID8gXCI/XCIgOiBcIiZcIikgKyBzZXJpYWxpemVkUGFyYW1zO1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xufVxuLy8gQ29waWVkIGZyb20gYXhpb3MvbGliL2NvcmUvYnVpbGRGdWxsUGF0aC5qc1xuZnVuY3Rpb24gYnVpbGRGdWxsUGF0aChiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpIHtcbiAgICBpZiAoYmFzZVVSTCAmJiAhaXNBYnNvbHV0ZVVSTChyZXF1ZXN0ZWRVUkwpKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpO1xuICAgIH1cbiAgICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufVxuLy8gQ29waWVkIGZyb20gYXhpb3MvbGliL3V0aWxzLmpzXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gXCJ1bmRlZmluZWRcIjtcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICAgIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gXCJvYmplY3RcIjtcbn1cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSBcIltvYmplY3QgRGF0ZV1cIjtcbn1cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09IFwiW29iamVjdCBVUkxTZWFyY2hQYXJhbXNdXCI7XG59XG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbCk7XG59XG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICBvYmogPSBbb2JqXTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gXCJbb2JqZWN0IEZvcm1EYXRhXVwiO1xufVxuLy8gVE9ETyB0aGlzIG5lZWRzIHRvIGJlIGZpeGVkIHRvIHJ1biBpbiBuZXdlciBicm93c2VyLWxpa2UgZW52aXJvbm1lbnRzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdmVzcGFpYWNoL2F4aW9zLWZldGNoLWFkYXB0ZXIvaXNzdWVzLzIwI2lzc3VlLTEzOTYzNjUzMjJcbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICAobmF2aWdhdG9yLnByb2R1Y3QgPT09IFwiUmVhY3ROYXRpdmVcIiB8fFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gXCJOYXRpdmVTY3JpcHRcIiB8fFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gXCJOU1wiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbn1cbi8qKlxuICogLSBDcmVhdGUgYSByZXF1ZXN0IG9iamVjdFxuICogLSBHZXQgcmVzcG9uc2UgYm9keVxuICogLSBDaGVjayBpZiB0aW1lb3V0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGZldGNoQWRhcHRlcihjb25maWcpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdChjb25maWcpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRSZXNwb25zZShyZXF1ZXN0LCBjb25maWcpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjb25maWcuc2V0dGxlKSA9PT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiXG4gICAgICAgICAgICAgICAgPyBjb25maWcuc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZGF0YSlcbiAgICAgICAgICAgICAgICA6IHNldHRsZShyZXNvbHZlLCByZWplY3QsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEZldGNoIEFQSSBzdGFnZSB0d28gaXMgdG8gZ2V0IHJlc3BvbnNlIGJvZHkuIFRoaXMgZnVudGlvbiB0cmllcyB0byByZXRyaWV2ZVxuICogcmVzcG9uc2UgYm9keSBiYXNlZCBvbiByZXNwb25zZSdzIHR5cGVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0UmVzcG9uc2UocmVxdWVzdCwgY29uZmlnKSB7XG4gICAgbGV0IHN0YWdlT25lO1xuICAgIHRyeSB7XG4gICAgICAgIHN0YWdlT25lID0gYXdhaXQgZmV0Y2gocmVxdWVzdCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlICYmIGUubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFcnJvcihcIlJlcXVlc3QgYWJvcnRlZFwiLCBjb25maWcsIFwiRUNPTk5BQk9SVEVEXCIsIHJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlICYmIGUubmFtZSA9PT0gXCJUaW1lb3V0RXJyb3JcIikge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUVycm9yKFwiUmVxdWVzdCB0aW1lb3V0XCIsIGNvbmZpZywgXCJFQ09OTkFCT1JURURcIiwgcmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVycm9yKFwiTmV0d29yayBFcnJvclwiLCBjb25maWcsIFwiRVJSX05FVFdPUktcIiwgcmVxdWVzdCk7XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBzdGFnZU9uZS5oZWFkZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgaGVhZGVyc1trZXldID0gdmFsdWU7XG4gICAgfSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIG9rOiBzdGFnZU9uZS5vayxcbiAgICAgICAgc3RhdHVzOiBzdGFnZU9uZS5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHN0YWdlT25lLnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdCxcbiAgICB9O1xuICAgIGlmIChzdGFnZU9uZS5zdGF0dXMgPj0gMjAwICYmIHN0YWdlT25lLnN0YXR1cyAhPT0gMjA0KSB7XG4gICAgICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlID09PSBcInN0cmVhbVwiKSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IHN0YWdlT25lLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xuICAgICAgICAgICAgaWYgKCFjb250ZW50VHlwZT8uc3RhcnRzV2l0aChFdmVudFN0cmVhbUNvbnRlbnRUeXBlKSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjb250ZW50LXR5cGUgaXMgbm90IHN0cmVhbSwgcmVzcG9uc2UgaXMgbW9zdCBsaWtlbHkgYW4gZXJyb3JcbiAgICAgICAgICAgICAgICBpZiAoc3RhZ2VPbmUuc3RhdHVzID49IDQwMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZXJyb3IgaXMgYSBKU09OLCBwYXJzZSBpdC4gT3RoZXJ3aXNlLCByZXR1cm4gYXMgdGV4dFxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudFR5cGU/LnN0YXJ0c1dpdGgoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhID0gYXdhaXQgc3RhZ2VPbmUuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YSA9IGF3YWl0IHN0YWdlT25lLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbm9uLXN0cmVhbSByZXNwb25zZSBpcyBhbHNvIG5vdCBhbiBlcnJvciwgdGhyb3dcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGNvbnRlbnQtdHlwZSB0byBiZSAke0V2ZW50U3RyZWFtQ29udGVudFR5cGV9LCBBY3R1YWw6ICR7Y29udGVudFR5cGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBnZXRCeXRlcyhzdGFnZU9uZS5ib2R5LCBnZXRMaW5lcyhnZXRNZXNzYWdlcyhjb25maWcub25tZXNzYWdlKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFycmF5YnVmZmVyXCI6XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEgPSBhd2FpdCBzdGFnZU9uZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYmxvYlwiOlxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhID0gYXdhaXQgc3RhZ2VPbmUuYmxvYigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwianNvblwiOlxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhID0gYXdhaXQgc3RhZ2VPbmUuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybURhdGFcIjpcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YSA9IGF3YWl0IHN0YWdlT25lLmZvcm1EYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEgPSBhd2FpdCBzdGFnZU9uZS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGNyZWF0ZSBhIFJlcXVlc3Qgb2JqZWN0IGJhc2VkIG9uIGNvbmZpZ3VyYXRpb24ncyBheGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVSZXF1ZXN0KGNvbmZpZykge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhjb25maWcuaGVhZGVycyk7XG4gICAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICAgIGlmIChjb25maWcuYXV0aCkge1xuICAgICAgICBjb25zdCB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8IFwiXCI7XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmRcbiAgICAgICAgICAgID8gZGVjb2RlVVJJKGVuY29kZVVSSUNvbXBvbmVudChjb25maWcuYXV0aC5wYXNzd29yZCkpXG4gICAgICAgICAgICA6IFwiXCI7XG4gICAgICAgIGhlYWRlcnMuc2V0KFwiQXV0aG9yaXphdGlvblwiLCBgQmFzaWMgJHtidG9hKGAke3VzZXJuYW1lfToke3Bhc3N3b3JkfWApfWApO1xuICAgIH1cbiAgICBjb25zdCBtZXRob2QgPSBjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgbWV0aG9kLFxuICAgIH07XG4gICAgaWYgKG1ldGhvZCAhPT0gXCJHRVRcIiAmJiBtZXRob2QgIT09IFwiSEVBRFwiKSB7XG4gICAgICAgIG9wdGlvbnMuYm9keSA9IGNvbmZpZy5kYXRhO1xuICAgICAgICAvLyBJbiB0aGVzZSBjYXNlcyB0aGUgYnJvd3NlciB3aWxsIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBjb3JyZWN0IENvbnRlbnQtVHlwZSxcbiAgICAgICAgLy8gYnV0IG9ubHkgaWYgdGhhdCBoZWFkZXIgaGFzbid0IGJlZW4gc2V0IHlldC4gU28gdGhhdCdzIHdoeSB3ZSdyZSBkZWxldGluZyBpdC5cbiAgICAgICAgaWYgKGlzRm9ybURhdGEob3B0aW9ucy5ib2R5KSAmJiBpc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgICAgICAgICBoZWFkZXJzLmRlbGV0ZShcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTb21lIGBmZXRjaGAgaW1wbGVtZW50YXRpb25zIHdpbGwgb3ZlcnJpZGUgdGhlIENvbnRlbnQtVHlwZSB0byB0ZXh0L3BsYWluXG4gICAgLy8gd2hlbiBib2R5IGlzIGEgc3RyaW5nLlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vaHdjaGFzZTE3L2xhbmdjaGFpbmpzL2lzc3Vlcy8xMDEwXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmJvZHkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgb3B0aW9ucy5ib2R5ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKG9wdGlvbnMuYm9keSk7XG4gICAgfVxuICAgIGlmIChjb25maWcubW9kZSkge1xuICAgICAgICBvcHRpb25zLm1vZGUgPSBjb25maWcubW9kZTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5jYWNoZSkge1xuICAgICAgICBvcHRpb25zLmNhY2hlID0gY29uZmlnLmNhY2hlO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLmludGVncml0eSkge1xuICAgICAgICBvcHRpb25zLmludGVncml0eSA9IGNvbmZpZy5pbnRlZ3JpdHk7XG4gICAgfVxuICAgIGlmIChjb25maWcucmVkaXJlY3QpIHtcbiAgICAgICAgb3B0aW9ucy5yZWRpcmVjdCA9IGNvbmZpZy5yZWRpcmVjdDtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5yZWZlcnJlcikge1xuICAgICAgICBvcHRpb25zLnJlZmVycmVyID0gY29uZmlnLnJlZmVycmVyO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLnRpbWVvdXQgJiYgY29uZmlnLnRpbWVvdXQgPiAwKSB7XG4gICAgICAgIG9wdGlvbnMuc2lnbmFsID0gQWJvcnRTaWduYWwudGltZW91dChjb25maWcudGltZW91dCk7XG4gICAgfVxuICAgIGlmIChjb25maWcuc2lnbmFsKSB7XG4gICAgICAgIC8vIHRoaXMgb3ZlcnJpZGVzIHRoZSB0aW1lb3V0IHNpZ25hbCBpZiBib3RoIGFyZSBzZXRcbiAgICAgICAgb3B0aW9ucy5zaWduYWwgPSBjb25maWcuc2lnbmFsO1xuICAgIH1cbiAgICAvLyBUaGlzIGNvbmZpZyBpcyBzaW1pbGFyIHRvIFhIUlx1MjAxOXMgd2l0aENyZWRlbnRpYWxzIGZsYWcsIGJ1dCB3aXRoIHRocmVlIGF2YWlsYWJsZSB2YWx1ZXMgaW5zdGVhZCBvZiB0d28uXG4gICAgLy8gU28gaWYgd2l0aENyZWRlbnRpYWxzIGlzIG5vdCBzZXQsIGRlZmF1bHQgdmFsdWUgJ3NhbWUtb3JpZ2luJyB3aWxsIGJlIHVzZWRcbiAgICBpZiAoIWlzVW5kZWZpbmVkKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgIG9wdGlvbnMuY3JlZGVudGlhbHMgPSBjb25maWcud2l0aENyZWRlbnRpYWxzID8gXCJpbmNsdWRlXCIgOiBcIm9taXRcIjtcbiAgICB9XG4gICAgLy8gZm9yIHN0cmVhbWluZ1xuICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlID09PSBcInN0cmVhbVwiKSB7XG4gICAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoXCJBY2NlcHRcIiwgRXZlbnRTdHJlYW1Db250ZW50VHlwZSk7XG4gICAgfVxuICAgIGNvbnN0IGZ1bGxQYXRoID0gYnVpbGRGdWxsUGF0aChjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCk7XG4gICAgY29uc3QgdXJsID0gYnVpbGRVUkwoZnVsbFBhdGgsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKTtcbiAgICAvLyBFeHBlY3RlZCBicm93c2VyIHRvIHRocm93IGVycm9yIGlmIHRoZXJlIGlzIGFueSB3cm9uZyBjb25maWd1cmF0aW9uIHZhbHVlXG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHVybCwgb3B0aW9ucyk7XG59XG4vKipcbiAqIE5vdGU6XG4gKlxuICogICBGcm9tIHZlcnNpb24gPj0gMC4yNy4wLCBjcmVhdGVFcnJvciBmdW5jdGlvbiBpcyByZXBsYWNlZCBieSBBeGlvc0Vycm9yIGNsYXNzLlxuICogICBTbyBJIGNvcHkgdGhlIG9sZCBjcmVhdGVFcnJvciBmdW5jdGlvbiBoZXJlIGZvciBiYWNrd2FyZCBjb21wYXRpYmxlLlxuICpcbiAqXG4gKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgaWYgKGF4aW9zLkF4aW9zRXJyb3IgJiYgdHlwZW9mIGF4aW9zLkF4aW9zRXJyb3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gbmV3IGF4aW9zLkF4aW9zRXJyb3IobWVzc2FnZSwgYXhpb3MuQXhpb3NFcnJvcltjb2RlXSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG4gICAgfVxuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIHJldHVybiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpO1xufVxuLyoqXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIFRoaXMgZnVuY3Rpb24gaXMgZm9yIGJhY2t3YXJkIGNvbXBhdGlibGUuXG4gKlxuICpcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICAgIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgICBpZiAoY29kZSkge1xuICAgICAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgICB9XG4gICAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICBlcnJvci5pc0F4aW9zRXJyb3IgPSB0cnVlO1xuICAgIGVycm9yLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIFN0YW5kYXJkXG4gICAgICAgICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAvLyBNaWNyb3NvZnRcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgICAgICAgIC8vIE1vemlsbGFcbiAgICAgICAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgICAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgICAgICAgLy8gQXhpb3NcbiAgICAgICAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICAgICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMucmVzcG9uc2UgJiYgdGhpcy5yZXNwb25zZS5zdGF0dXMgPyB0aGlzLnJlc3BvbnNlLnN0YXR1cyA6IG51bGwsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gZXJyb3I7XG59XG4iLCAiaW1wb3J0IHsgQUlDaGF0TWVzc2FnZSwgSHVtYW5DaGF0TWVzc2FnZSwgUlVOX0tFWSwgfSBmcm9tIFwiLi4vc2NoZW1hL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYXNlTGFuZ3VhZ2VNb2RlbCwgfSBmcm9tIFwiLi4vYmFzZV9sYW5ndWFnZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyLCB9IGZyb20gXCIuLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuZXhwb3J0IGNsYXNzIEJhc2VDaGF0TW9kZWwgZXh0ZW5kcyBCYXNlTGFuZ3VhZ2VNb2RlbCB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgfVxuICAgIGFzeW5jIGdlbmVyYXRlKG1lc3NhZ2VzLCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgY29uc3QgbGxtT3V0cHV0cyA9IFtdO1xuICAgICAgICBsZXQgcGFyc2VkT3B0aW9ucztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgICAgIHBhcnNlZE9wdGlvbnMgPSB7IHN0b3A6IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zPy50aW1lb3V0ICYmICFvcHRpb25zLnNpZ25hbCkge1xuICAgICAgICAgICAgcGFyc2VkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dChvcHRpb25zLnRpbWVvdXQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZE9wdGlvbnMgPSBvcHRpb25zID8/IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBDYWxsYmFja01hbmFnZXIuY29uZmlndXJlKGNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuICAgICAgICBjb25zdCBpbnZvY2F0aW9uUGFyYW1zID0geyBpbnZvY2F0aW9uX3BhcmFtczogdGhpcz8uaW52b2NhdGlvblBhcmFtcygpIH07XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGF0TW9kZWxTdGFydCh7IG5hbWU6IHRoaXMuX2xsbVR5cGUoKSB9LCBtZXNzYWdlcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGludm9jYXRpb25QYXJhbXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKG1lc3NhZ2VzLm1hcCgobWVzc2FnZUxpc3QpID0+IHRoaXMuX2dlbmVyYXRlKG1lc3NhZ2VMaXN0LCBwYXJzZWRPcHRpb25zLCBydW5NYW5hZ2VyKSkpO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGxtT3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxsbU91dHB1dHMucHVzaChyZXN1bHQubGxtT3V0cHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnMucHVzaChyZXN1bHQuZ2VuZXJhdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUxMTUVycm9yKGVycik7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge1xuICAgICAgICAgICAgZ2VuZXJhdGlvbnMsXG4gICAgICAgICAgICBsbG1PdXRwdXQ6IGxsbU91dHB1dHMubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9jb21iaW5lTExNT3V0cHV0Py4oLi4ubGxtT3V0cHV0cylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlTExNRW5kKG91dHB1dCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvdXRwdXQsIFJVTl9LRVksIHtcbiAgICAgICAgICAgIHZhbHVlOiBydW5NYW5hZ2VyID8geyBydW5JZDogcnVuTWFuYWdlcj8ucnVuSWQgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGFyYW1ldGVycyB1c2VkIHRvIGludm9rZSB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGludm9jYXRpb25QYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgX21vZGVsVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiYmFzZV9jaGF0X21vZGVsXCI7XG4gICAgfVxuICAgIGFzeW5jIGdlbmVyYXRlUHJvbXB0KHByb21wdFZhbHVlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gcHJvbXB0VmFsdWVzLm1hcCgocHJvbXB0VmFsdWUpID0+IHByb21wdFZhbHVlLnRvQ2hhdE1lc3NhZ2VzKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZShwcm9tcHRNZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgYXN5bmMgY2FsbChtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGUoW21lc3NhZ2VzXSwgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSByZXN1bHQuZ2VuZXJhdGlvbnM7XG4gICAgICAgIHJldHVybiBnZW5lcmF0aW9uc1swXVswXS5tZXNzYWdlO1xuICAgIH1cbiAgICBhc3luYyBjYWxsUHJvbXB0KHByb21wdFZhbHVlLCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgcHJvbXB0TWVzc2FnZXMgPSBwcm9tcHRWYWx1ZS50b0NoYXRNZXNzYWdlcygpO1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKHByb21wdE1lc3NhZ2VzLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICBhc3luYyBwcmVkaWN0TWVzc2FnZXMobWVzc2FnZXMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKG1lc3NhZ2VzLCBvcHRpb25zLCBjYWxsYmFja3MpO1xuICAgIH1cbiAgICBhc3luYyBwcmVkaWN0KHRleHQsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IEh1bWFuQ2hhdE1lc3NhZ2UodGV4dCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2FsbChbbWVzc2FnZV0sIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQudGV4dDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2ltcGxlQ2hhdE1vZGVsIGV4dGVuZHMgQmFzZUNoYXRNb2RlbCB7XG4gICAgYXN5bmMgX2dlbmVyYXRlKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLl9jYWxsKG1lc3NhZ2VzLCBvcHRpb25zLCBydW5NYW5hZ2VyKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBBSUNoYXRNZXNzYWdlKHRleHQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2VuZXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IG1lc3NhZ2UudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCAiZXhwb3J0IGNvbnN0IHByb21wdExheWVyVHJhY2tSZXF1ZXN0ID0gYXN5bmMgKGNhbGxlckZ1bmMsIGZ1bmN0aW9uTmFtZSwgcHJvbXB0LCBrd2FyZ3MsIHBsVGFncywgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxucmVxdWVzdFJlc3BvbnNlLCBzdGFydFRpbWUsIGVuZFRpbWUsIGFwaUtleSkgPT4ge1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NYWduaXZPcmcvcHJvbXB0bGF5ZXItanMtaGVscGVyXG4gICAgY29uc3QgcHJvbXB0TGF5ZXJSZXNwID0gYXdhaXQgY2FsbGVyRnVuYy5jYWxsKGZldGNoLCBcImh0dHBzOi8vYXBpLnByb21wdGxheWVyLmNvbS90cmFjay1yZXF1ZXN0XCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBmdW5jdGlvbl9uYW1lOiBmdW5jdGlvbk5hbWUsXG4gICAgICAgICAgICBwcm92aWRlcjogXCJsYW5nY2hhaW5cIixcbiAgICAgICAgICAgIGFyZ3M6IHByb21wdCxcbiAgICAgICAgICAgIGt3YXJncyxcbiAgICAgICAgICAgIHRhZ3M6IHBsVGFncyxcbiAgICAgICAgICAgIHJlcXVlc3RfcmVzcG9uc2U6IHJlcXVlc3RSZXNwb25zZSxcbiAgICAgICAgICAgIHJlcXVlc3Rfc3RhcnRfdGltZTogTWF0aC5mbG9vcihzdGFydFRpbWUgLyAxMDAwKSxcbiAgICAgICAgICAgIHJlcXVlc3RfZW5kX3RpbWU6IE1hdGguZmxvb3IoZW5kVGltZSAvIDEwMDApLFxuICAgICAgICAgICAgYXBpX2tleTogYXBpS2V5LFxuICAgICAgICB9KSxcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvbXB0TGF5ZXJSZXNwLmpzb24oKTtcbn07XG4iLCAiaW1wb3J0IHsgQ29uZmlndXJhdGlvbiwgT3BlbkFJQXBpLCB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUsIGlzTm9kZSB9IGZyb20gXCIuLi91dGlsL2Vudi5qc1wiO1xuaW1wb3J0IGZldGNoQWRhcHRlciBmcm9tIFwiLi4vdXRpbC9heGlvcy1mZXRjaC1hZGFwdGVyLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhdE1vZGVsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQUlDaGF0TWVzc2FnZSwgQ2hhdE1lc3NhZ2UsIEh1bWFuQ2hhdE1lc3NhZ2UsIFN5c3RlbUNoYXRNZXNzYWdlLCB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbmltcG9ydCB7IGdldE1vZGVsTmFtZUZvclRpa3Rva2VuIH0gZnJvbSBcIi4uL2Jhc2VfbGFuZ3VhZ2UvY291bnRfdG9rZW5zLmpzXCI7XG5pbXBvcnQgeyBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCB9IGZyb20gXCIuLi91dGlsL3Byb21wdC1sYXllci5qc1wiO1xuZnVuY3Rpb24gbWVzc2FnZVR5cGVUb09wZW5BSVJvbGUodHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwic3lzdGVtXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzeXN0ZW1cIjtcbiAgICAgICAgY2FzZSBcImFpXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJhc3Npc3RhbnRcIjtcbiAgICAgICAgY2FzZSBcImh1bWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJ1c2VyXCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbWVzc2FnZSB0eXBlOiAke3R5cGV9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gb3BlbkFJUmVzcG9uc2VUb0NoYXRNZXNzYWdlKHJvbGUsIHRleHQpIHtcbiAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgY2FzZSBcInVzZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSHVtYW5DaGF0TWVzc2FnZSh0ZXh0KTtcbiAgICAgICAgY2FzZSBcImFzc2lzdGFudFwiOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBSUNoYXRNZXNzYWdlKHRleHQpO1xuICAgICAgICBjYXNlIFwic3lzdGVtXCI6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN5c3RlbUNoYXRNZXNzYWdlKHRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGF0TWVzc2FnZSh0ZXh0LCByb2xlID8/IFwidW5rbm93blwiKTtcbiAgICB9XG59XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIE9wZW5BSSBsYXJnZSBsYW5ndWFnZSBtb2RlbHMgdGhhdCB1c2UgdGhlIENoYXQgZW5kcG9pbnQuXG4gKlxuICogVG8gdXNlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4gKiBgT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBBenVyZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuICogYEFaVVJFX09QRU5BSV9BUElfS0VZYCxcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVgLFxuICogYEFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FYFxuICogYW5kIGBBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05gIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgdmFsaWQgdG8gYmUgcGFzc2VkIHRvIHtAbGlua1xuICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jaGF0L2NyZWF0ZSB8XG4gKiBgb3BlbmFpLmNyZWF0ZUNvbXBsZXRpb25gfSBjYW4gYmUgcGFzc2VkIHRocm91Z2gge0BsaW5rIG1vZGVsS3dhcmdzfSwgZXZlblxuICogaWYgbm90IGV4cGxpY2l0bHkgYXZhaWxhYmxlIG9uIHRoaXMgY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGF0T3BlbkFJIGV4dGVuZHMgQmFzZUNoYXRNb2RlbCB7XG4gICAgZ2V0IGNhbGxLZXlzKCkge1xuICAgICAgICByZXR1cm4gW1wic3RvcFwiLCBcInNpZ25hbFwiLCBcInRpbWVvdXRcIiwgXCJvcHRpb25zXCJdO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgc3VwZXIoZmllbGRzID8/IHt9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGVyYXR1cmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcFBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZyZXF1ZW5jeVBlbmFsdHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZXNlbmNlUGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9naXRCaWFzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJncHQtMy41LXR1cmJvXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsS3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGltZW91dFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJlYW1pbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhUb2tlbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlWZXJzaW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhcGlLZXkgPSBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIGNvbnN0IGF6dXJlQXBpS2V5ID0gZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/P1xuICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfS0VZXCIpO1xuICAgICAgICBpZiAoIWF6dXJlQXBpS2V5ICYmICFhcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIihBenVyZSkgT3BlbkFJIEFQSSBrZXkgbm90IGZvdW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF6dXJlQXBpSW5zdGFuY2VOYW1lID0gZmllbGRzPy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSA/P1xuICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfSU5TVEFOQ0VfTkFNRVwiKTtcbiAgICAgICAgY29uc3QgYXp1cmVBcGlEZXBsb3ltZW50TmFtZSA9IGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSA/P1xuICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FXCIpO1xuICAgICAgICBjb25zdCBhenVyZUFwaVZlcnNpb24gPSBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpVmVyc2lvbiA/P1xuICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfVkVSU0lPTlwiKTtcbiAgICAgICAgdGhpcy5tb2RlbE5hbWUgPSBmaWVsZHM/Lm1vZGVsTmFtZSA/PyB0aGlzLm1vZGVsTmFtZTtcbiAgICAgICAgdGhpcy5tb2RlbEt3YXJncyA9IGZpZWxkcz8ubW9kZWxLd2FyZ3MgPz8ge307XG4gICAgICAgIHRoaXMudGltZW91dCA9IGZpZWxkcz8udGltZW91dDtcbiAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSA9IGZpZWxkcz8udGVtcGVyYXR1cmUgPz8gdGhpcy50ZW1wZXJhdHVyZTtcbiAgICAgICAgdGhpcy50b3BQID0gZmllbGRzPy50b3BQID8/IHRoaXMudG9wUDtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3lQZW5hbHR5ID0gZmllbGRzPy5mcmVxdWVuY3lQZW5hbHR5ID8/IHRoaXMuZnJlcXVlbmN5UGVuYWx0eTtcbiAgICAgICAgdGhpcy5wcmVzZW5jZVBlbmFsdHkgPSBmaWVsZHM/LnByZXNlbmNlUGVuYWx0eSA/PyB0aGlzLnByZXNlbmNlUGVuYWx0eTtcbiAgICAgICAgdGhpcy5tYXhUb2tlbnMgPSBmaWVsZHM/Lm1heFRva2VucztcbiAgICAgICAgdGhpcy5uID0gZmllbGRzPy5uID8/IHRoaXMubjtcbiAgICAgICAgdGhpcy5sb2dpdEJpYXMgPSBmaWVsZHM/LmxvZ2l0QmlhcztcbiAgICAgICAgdGhpcy5zdG9wID0gZmllbGRzPy5zdG9wO1xuICAgICAgICB0aGlzLnN0cmVhbWluZyA9IGZpZWxkcz8uc3RyZWFtaW5nID8/IGZhbHNlO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbiA9IGF6dXJlQXBpVmVyc2lvbjtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaUtleSA9IGF6dXJlQXBpS2V5O1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID0gYXp1cmVBcGlJbnN0YW5jZU5hbWU7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSA9IGF6dXJlQXBpRGVwbG95bWVudE5hbWU7XG4gICAgICAgIGlmICh0aGlzLnN0cmVhbWluZyAmJiB0aGlzLm4gPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc3RyZWFtIHJlc3VsdHMgd2hlbiBuID4gMVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSBpbnN0YW5jZSBuYW1lIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSBkZXBsb3ltZW50IG5hbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpVmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgdmVyc2lvbiBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGllbnRDb25maWcgPSB7XG4gICAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgICAuLi5jb25maWd1cmF0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhcmFtZXRlcnMgdXNlZCB0byBpbnZva2UgdGhlIG1vZGVsXG4gICAgICovXG4gICAgaW52b2NhdGlvblBhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIHRlbXBlcmF0dXJlOiB0aGlzLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgdG9wX3A6IHRoaXMudG9wUCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiB0aGlzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICBwcmVzZW5jZV9wZW5hbHR5OiB0aGlzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgIG1heF90b2tlbnM6IHRoaXMubWF4VG9rZW5zID09PSAtMSA/IHVuZGVmaW5lZCA6IHRoaXMubWF4VG9rZW5zLFxuICAgICAgICAgICAgbjogdGhpcy5uLFxuICAgICAgICAgICAgbG9naXRfYmlhczogdGhpcy5sb2dpdEJpYXMsXG4gICAgICAgICAgICBzdG9wOiB0aGlzLnN0b3AsXG4gICAgICAgICAgICBzdHJlYW06IHRoaXMuc3RyZWFtaW5nLFxuICAgICAgICAgICAgLi4udGhpcy5tb2RlbEt3YXJncyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBfaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb2RlbF9uYW1lOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIC4uLnRoaXMuaW52b2NhdGlvblBhcmFtcygpLFxuICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaWRlbnRpZnlpbmcgcGFyYW1ldGVycyBmb3IgdGhlIG1vZGVsXG4gICAgICovXG4gICAgaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9nZW5lcmF0ZShtZXNzYWdlcywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCB0b2tlblVzYWdlID0ge307XG4gICAgICAgIGlmICh0aGlzLnN0b3AgJiYgb3B0aW9ucz8uc3RvcCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RvcCBmb3VuZCBpbiBpbnB1dCBhbmQgZGVmYXVsdCBwYXJhbXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5pbnZvY2F0aW9uUGFyYW1zKCk7XG4gICAgICAgIHBhcmFtcy5zdG9wID0gb3B0aW9ucz8uc3RvcCA/PyBwYXJhbXMuc3RvcDtcbiAgICAgICAgY29uc3QgbWVzc2FnZXNNYXBwZWQgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+ICh7XG4gICAgICAgICAgICByb2xlOiBtZXNzYWdlVHlwZVRvT3BlbkFJUm9sZShtZXNzYWdlLl9nZXRUeXBlKCkpLFxuICAgICAgICAgICAgY29udGVudDogbWVzc2FnZS50ZXh0LFxuICAgICAgICAgICAgbmFtZTogbWVzc2FnZS5uYW1lLFxuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBwYXJhbXMuc3RyZWFtXG4gICAgICAgICAgICA/IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgbGV0IHJlamVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IHJlc29sdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlczogbWVzc2FnZXNNYXBwZWQsXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnM/LnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucz8ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgYWRhcHRlcjogZmV0Y2hBZGFwdGVyLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IFwic3RyZWFtXCIsXG4gICAgICAgICAgICAgICAgICAgIG9ubWVzc2FnZTogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YT8udHJpbT8uKCkgPT09IFwiW0RPTkVdXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiB0aGUgZmlyc3QgbWVzc2FnZSBzZXQgdGhlIHJlc3BvbnNlIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG1lc3NhZ2Uub2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZDogbWVzc2FnZS5jcmVhdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG1lc3NhZ2UubW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gYWxsIG1lc3NhZ2VzLCB1cGRhdGUgY2hvaWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIG1lc3NhZ2UuY2hvaWNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hvaWNlID0gcmVzcG9uc2UuY2hvaWNlcy5maW5kKChjKSA9PiBjLmluZGV4ID09PSBwYXJ0LmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2hvaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogcGFydC5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoX3JlYXNvbjogcGFydC5maW5pc2hfcmVhc29uID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmNob2ljZXNbcGFydC5pbmRleF0gPSBjaG9pY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNob2ljZS5tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IHBhcnQuZGVsdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogcGFydC5kZWx0YT8uY29udGVudCA/PyBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5jb250ZW50ICs9IHBhcnQuZGVsdGE/LmNvbnRlbnQgPz8gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBzaG91bGQgcGFzcyBwYXJ0LmluZGV4IHRvIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0aGF0J3Mgc3VwcG9ydGVkIHRoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdm9pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1OZXdUb2tlbihwYXJ0LmRlbHRhPy5jb250ZW50ID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gYWxsIG1lc3NhZ2VzIGFyZSBmaW5pc2hlZCwgcmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jaG9pY2VzLmV2ZXJ5KChjKSA9PiBjLmZpbmlzaF9yZWFzb24gIT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IGF3YWl0IHRoaXMuY29tcGxldGlvbldpdGhSZXRyeSh7XG4gICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlc01hcHBlZCxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnM/LnNpZ25hbCxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zPy5vcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgY29tcGxldGlvbl90b2tlbnM6IGNvbXBsZXRpb25Ub2tlbnMsIHByb21wdF90b2tlbnM6IHByb21wdFRva2VucywgdG90YWxfdG9rZW5zOiB0b3RhbFRva2VucywgfSA9IGRhdGEudXNhZ2UgPz8ge307XG4gICAgICAgIGlmIChjb21wbGV0aW9uVG9rZW5zKSB7XG4gICAgICAgICAgICB0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPVxuICAgICAgICAgICAgICAgICh0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPz8gMCkgKyBjb21wbGV0aW9uVG9rZW5zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9tcHRUb2tlbnMpIHtcbiAgICAgICAgICAgIHRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID0gKHRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID8/IDApICsgcHJvbXB0VG9rZW5zO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b3RhbFRva2Vucykge1xuICAgICAgICAgICAgdG9rZW5Vc2FnZS50b3RhbFRva2VucyA9ICh0b2tlblVzYWdlLnRvdGFsVG9rZW5zID8/IDApICsgdG90YWxUb2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGRhdGEuY2hvaWNlcykge1xuICAgICAgICAgICAgY29uc3Qgcm9sZSA9IHBhcnQubWVzc2FnZT8ucm9sZSA/PyB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gcGFydC5tZXNzYWdlPy5jb250ZW50ID8/IFwiXCI7XG4gICAgICAgICAgICBnZW5lcmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wZW5BSVJlc3BvbnNlVG9DaGF0TWVzc2FnZShyb2xlLCB0ZXh0KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZW5lcmF0aW9ucyxcbiAgICAgICAgICAgIGxsbU91dHB1dDogeyB0b2tlblVzYWdlIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGdldE51bVRva2Vuc0Zyb21NZXNzYWdlcyhtZXNzYWdlcykge1xuICAgICAgICBsZXQgdG90YWxDb3VudCA9IDA7XG4gICAgICAgIGxldCB0b2tlbnNQZXJNZXNzYWdlID0gMDtcbiAgICAgICAgbGV0IHRva2Vuc1Blck5hbWUgPSAwO1xuICAgICAgICAvLyBGcm9tOiBodHRwczovL2dpdGh1Yi5jb20vb3BlbmFpL29wZW5haS1jb29rYm9vay9ibG9iL21haW4vZXhhbXBsZXMvSG93X3RvX2Zvcm1hdF9pbnB1dHNfdG9fQ2hhdEdQVF9tb2RlbHMuaXB5bmJcbiAgICAgICAgaWYgKGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKHRoaXMubW9kZWxOYW1lKSA9PT0gXCJncHQtMy41LXR1cmJvXCIpIHtcbiAgICAgICAgICAgIHRva2Vuc1Blck1lc3NhZ2UgPSA0O1xuICAgICAgICAgICAgdG9rZW5zUGVyTmFtZSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKHRoaXMubW9kZWxOYW1lKS5zdGFydHNXaXRoKFwiZ3B0LTRcIikpIHtcbiAgICAgICAgICAgIHRva2Vuc1Blck1lc3NhZ2UgPSAzO1xuICAgICAgICAgICAgdG9rZW5zUGVyTmFtZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY291bnRQZXJNZXNzYWdlID0gYXdhaXQgUHJvbWlzZS5hbGwobWVzc2FnZXMubWFwKGFzeW5jIChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0Q291bnQgPSBhd2FpdCB0aGlzLmdldE51bVRva2VucyhtZXNzYWdlLnRleHQpO1xuICAgICAgICAgICAgY29uc3Qgcm9sZUNvdW50ID0gYXdhaXQgdGhpcy5nZXROdW1Ub2tlbnMobWVzc2FnZVR5cGVUb09wZW5BSVJvbGUobWVzc2FnZS5fZ2V0VHlwZSgpKSk7XG4gICAgICAgICAgICBjb25zdCBuYW1lQ291bnQgPSBtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gdG9rZW5zUGVyTmFtZSArIChhd2FpdCB0aGlzLmdldE51bVRva2VucyhtZXNzYWdlLm5hbWUpKVxuICAgICAgICAgICAgICAgIDogMDtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gdGV4dENvdW50ICsgdG9rZW5zUGVyTWVzc2FnZSArIHJvbGVDb3VudCArIG5hbWVDb3VudDtcbiAgICAgICAgICAgIHRvdGFsQ291bnQgKz0gY291bnQ7XG4gICAgICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdG90YWxDb3VudCArPSAzOyAvLyBldmVyeSByZXBseSBpcyBwcmltZWQgd2l0aCA8fHN0YXJ0fD5hc3Npc3RhbnQ8fG1lc3NhZ2V8PlxuICAgICAgICByZXR1cm4geyB0b3RhbENvdW50LCBjb3VudFBlck1lc3NhZ2UgfTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBjb21wbGV0aW9uV2l0aFJldHJ5KHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5XG4gICAgICAgICAgICAgICAgPyBgaHR0cHM6Ly8ke3RoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWV9Lm9wZW5haS5henVyZS5jb20vb3BlbmFpL2RlcGxveW1lbnRzLyR7dGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lfWBcbiAgICAgICAgICAgICAgICA6IHRoaXMuY2xpZW50Q29uZmlnLmJhc2VQYXRoO1xuICAgICAgICAgICAgY29uc3QgY2xpZW50Q29uZmlnID0gbmV3IENvbmZpZ3VyYXRpb24oe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgICAgIGJhc2VQYXRoOiBlbmRwb2ludCxcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2xpZW50Q29uZmlnLmJhc2VPcHRpb25zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbmV3IE9wZW5BSUFwaShjbGllbnRDb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF4aW9zT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFkYXB0ZXI6IGlzTm9kZSgpID8gdW5kZWZpbmVkIDogZmV0Y2hBZGFwdGVyLFxuICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcuYmFzZU9wdGlvbnMsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgYXhpb3NPcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgXCJhcGkta2V5XCI6IHRoaXMuYXp1cmVPcGVuQUlBcGlLZXksXG4gICAgICAgICAgICAgICAgLi4uYXhpb3NPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXhpb3NPcHRpb25zLnBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBcImFwaS12ZXJzaW9uXCI6IHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uLFxuICAgICAgICAgICAgICAgIC4uLmF4aW9zT3B0aW9ucy5wYXJhbXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlclxuICAgICAgICAgICAgLmNhbGwodGhpcy5jbGllbnQuY3JlYXRlQ2hhdENvbXBsZXRpb24uYmluZCh0aGlzLmNsaWVudCksIHJlcXVlc3QsIGF4aW9zT3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5kYXRhKTtcbiAgICB9XG4gICAgX2xsbVR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcIm9wZW5haVwiO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9jb21iaW5lTExNT3V0cHV0KC4uLmxsbU91dHB1dHMpIHtcbiAgICAgICAgcmV0dXJuIGxsbU91dHB1dHMucmVkdWNlKChhY2MsIGxsbU91dHB1dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGxsbU91dHB1dCAmJiBsbG1PdXRwdXQudG9rZW5Vc2FnZSkge1xuICAgICAgICAgICAgICAgIGFjYy50b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgKz1cbiAgICAgICAgICAgICAgICAgICAgbGxtT3V0cHV0LnRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyA/PyAwO1xuICAgICAgICAgICAgICAgIGFjYy50b2tlblVzYWdlLnByb21wdFRva2VucyArPSBsbG1PdXRwdXQudG9rZW5Vc2FnZS5wcm9tcHRUb2tlbnMgPz8gMDtcbiAgICAgICAgICAgICAgICBhY2MudG9rZW5Vc2FnZS50b3RhbFRva2VucyArPSBsbG1PdXRwdXQudG9rZW5Vc2FnZS50b3RhbFRva2VucyA/PyAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW5Vc2FnZToge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IDAsXG4gICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiAwLFxuICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFByb21wdExheWVyQ2hhdE9wZW5BSSBleHRlbmRzIENoYXRPcGVuQUkge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcm9tcHRMYXllckFwaUtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwbFRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmV0dXJuUHJvbXB0TGF5ZXJJZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb21wdExheWVyQXBpS2V5ID1cbiAgICAgICAgICAgIGZpZWxkcz8ucHJvbXB0TGF5ZXJBcGlLZXkgPz9cbiAgICAgICAgICAgICAgICAodHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvY2Vzcy1lbnZcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Py5QUk9NUFRMQVlFUl9BUElfS0VZXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5wbFRhZ3MgPSBmaWVsZHM/LnBsVGFncyA/PyBbXTtcbiAgICAgICAgdGhpcy5yZXR1cm5Qcm9tcHRMYXllcklkID0gZmllbGRzPy5yZXR1cm5Qcm9tcHRMYXllcklkID8/IGZhbHNlO1xuICAgIH1cbiAgICBhc3luYyBfZ2VuZXJhdGUobWVzc2FnZXMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCBwYXJzZWRPcHRpb25zO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkge1xuICAgICAgICAgICAgcGFyc2VkT3B0aW9ucyA9IHsgc3RvcDogb3B0aW9ucyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnM/LnRpbWVvdXQgJiYgIW9wdGlvbnMuc2lnbmFsKSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KG9wdGlvbnMudGltZW91dCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VkT3B0aW9ucyA9IG9wdGlvbnMgPz8ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2VuZXJhdGVkUmVzcG9uc2VzID0gYXdhaXQgc3VwZXIuX2dlbmVyYXRlKG1lc3NhZ2VzLCBwYXJzZWRPcHRpb25zLCBydW5NYW5hZ2VyKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdEVuZFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBfY29udmVydE1lc3NhZ2VUb0RpY3QgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGxldCBtZXNzYWdlRGljdDtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiaHVtYW5cIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VEaWN0ID0geyByb2xlOiBcInVzZXJcIiwgY29udGVudDogbWVzc2FnZS50ZXh0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtZXNzYWdlLl9nZXRUeXBlKCkgPT09IFwiYWlcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VEaWN0ID0geyByb2xlOiBcImFzc2lzdGFudFwiLCBjb250ZW50OiBtZXNzYWdlLnRleHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VEaWN0ID0geyByb2xlOiBcInN5c3RlbVwiLCBjb250ZW50OiBtZXNzYWdlLnRleHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJnZW5lcmljXCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlRGljdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLnRleHQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgR290IHVua25vd24gdHlwZSAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZURpY3Q7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IF9jcmVhdGVNZXNzYWdlRGljdHMgPSAobWVzc2FnZXMsIGNhbGxPcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjYWxsT3B0aW9ucz8uc3RvcCkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhwYXJhbXMpLmluY2x1ZGVzKFwic3RvcFwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJgc3RvcGAgZm91bmQgaW4gYm90aCB0aGUgaW5wdXQgYW5kIGRlZmF1bHQgcGFyYW1zLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlRGljdHMgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IF9jb252ZXJ0TWVzc2FnZVRvRGljdChtZXNzYWdlKSk7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZURpY3RzO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlbmVyYXRlZFJlc3BvbnNlcy5nZW5lcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGlvbiA9IGdlbmVyYXRlZFJlc3BvbnNlcy5nZW5lcmF0aW9uc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VEaWN0cyA9IF9jcmVhdGVNZXNzYWdlRGljdHMobWVzc2FnZXMsIHBhcnNlZE9wdGlvbnMpO1xuICAgICAgICAgICAgbGV0IHByb21wdExheWVyUmVxdWVzdElkO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzcCA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGdlbmVyYXRpb24udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogbWVzc2FnZVR5cGVUb09wZW5BSVJvbGUoZ2VuZXJhdGlvbi5tZXNzYWdlLl9nZXRUeXBlKCkpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgcHJvbXB0TGF5ZXJSZXNwQm9keSA9IGF3YWl0IHByb21wdExheWVyVHJhY2tSZXF1ZXN0KHRoaXMuY2FsbGVyLCBcImxhbmdjaGFpbi5Qcm9tcHRMYXllckNoYXRPcGVuQUlcIiwgbWVzc2FnZURpY3RzLCB0aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpLCB0aGlzLnBsVGFncywgcGFyc2VkUmVzcCwgcmVxdWVzdFN0YXJ0VGltZSwgcmVxdWVzdEVuZFRpbWUsIHRoaXMucHJvbXB0TGF5ZXJBcGlLZXkpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmV0dXJuUHJvbXB0TGF5ZXJJZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9tcHRMYXllclJlc3BCb2R5LnN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXF1ZXN0SWQgPSBwcm9tcHRMYXllclJlc3BCb2R5LnJlcXVlc3RfaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZ2VuZXJhdGlvbi5nZW5lcmF0aW9uSW5mbyB8fFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZ2VuZXJhdGlvbi5nZW5lcmF0aW9uSW5mbyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uLmdlbmVyYXRpb25JbmZvID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb24uZ2VuZXJhdGlvbkluZm8ucHJvbXB0TGF5ZXJSZXF1ZXN0SWQgPSBwcm9tcHRMYXllclJlcXVlc3RJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkUmVzcG9uc2VzO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBBc3luY0NhbGxlciB9IGZyb20gXCIuLi91dGlsL2FzeW5jX2NhbGxlci5qc1wiO1xuaW1wb3J0IHsgZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4gfSBmcm9tIFwiLi9jb3VudF90b2tlbnMuanNcIjtcbmltcG9ydCB7IGVuY29kaW5nRm9yTW9kZWwgfSBmcm9tIFwiLi4vdXRpbC90aWt0b2tlbi5qc1wiO1xuY29uc3QgZ2V0VmVyYm9zaXR5ID0gKCkgPT4gZmFsc2U7XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGxhbmd1YWdlIG1vZGVscywgY2hhaW5zLCB0b29scy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VMYW5nQ2hhaW4ge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0byBwcmludCBvdXQgcmVzcG9uc2UgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZlcmJvc2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FsbGJhY2tzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmVyYm9zZSA9IHBhcmFtcy52ZXJib3NlID8/IGdldFZlcmJvc2l0eSgpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IHBhcmFtcy5jYWxsYmFja3M7XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBsYW5ndWFnZSBtb2RlbHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTGFuZ3VhZ2VNb2RlbCBleHRlbmRzIEJhc2VMYW5nQ2hhaW4ge1xuICAgIC8qKlxuICAgICAqIEtleXMgdGhhdCB0aGUgbGFuZ3VhZ2UgbW9kZWwgYWNjZXB0cyBhcyBjYWxsIG9wdGlvbnMuXG4gICAgICovXG4gICAgZ2V0IGNhbGxLZXlzKCkge1xuICAgICAgICByZXR1cm4gW1wic3RvcFwiLCBcInRpbWVvdXRcIiwgXCJzaWduYWxcIl07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICB2ZXJib3NlOiBwYXJhbXMudmVyYm9zZSxcbiAgICAgICAgICAgIGNhbGxiYWNrczogcGFyYW1zLmNhbGxiYWNrcyA/PyBwYXJhbXMuY2FsbGJhY2tNYW5hZ2VyLFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhc3luYyBjYWxsZXIgc2hvdWxkIGJlIHVzZWQgYnkgc3ViY2xhc3NlcyB0byBtYWtlIGFueSBhc3luYyBjYWxscyxcbiAgICAgICAgICogd2hpY2ggd2lsbCB0aHVzIGJlbmVmaXQgZnJvbSB0aGUgY29uY3VycmVuY3kgYW5kIHJldHJ5IGxvZ2ljLlxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FsbGVyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9lbmNvZGluZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNhbGxlciA9IG5ldyBBc3luY0NhbGxlcihwYXJhbXMgPz8ge30pO1xuICAgIH1cbiAgICBhc3luYyBnZXROdW1Ub2tlbnModGV4dCkge1xuICAgICAgICAvLyBmYWxsYmFjayB0byBhcHByb3hpbWF0ZSBjYWxjdWxhdGlvbiBpZiB0aWt0b2tlbiBpcyBub3QgYXZhaWxhYmxlXG4gICAgICAgIGxldCBudW1Ub2tlbnMgPSBNYXRoLmNlaWwodGV4dC5sZW5ndGggLyA0KTtcbiAgICAgICAgaWYgKCF0aGlzLl9lbmNvZGluZykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmNvZGluZyA9IGF3YWl0IGVuY29kaW5nRm9yTW9kZWwoXCJtb2RlbE5hbWVcIiBpbiB0aGlzXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4odGhpcy5tb2RlbE5hbWUpXG4gICAgICAgICAgICAgICAgICAgIDogXCJncHQyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNhbGN1bGF0ZSBudW1iZXIgb2YgdG9rZW5zLCBmYWxsaW5nIGJhY2sgdG8gYXBwcm94aW1hdGUgY291bnRcIiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9lbmNvZGluZykge1xuICAgICAgICAgICAgbnVtVG9rZW5zID0gdGhpcy5fZW5jb2RpbmcuZW5jb2RlKHRleHQpLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVtVG9rZW5zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkZW50aWZ5aW5nIHBhcmFtZXRlcnMgb2YgdGhlIExMTS5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBqc29uLWxpa2Ugb2JqZWN0IHJlcHJlc2VudGluZyB0aGlzIExMTS5cbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi50aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpLFxuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2xsbVR5cGUoKSxcbiAgICAgICAgICAgIF9tb2RlbDogdGhpcy5fbW9kZWxUeXBlKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgYW4gTExNIGZyb20gYSBqc29uLWxpa2Ugb2JqZWN0IGRlc2NyaWJpbmcgaXQuXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBfdHlwZSwgX21vZGVsLCAuLi5yZXN0IH0gPSBkYXRhO1xuICAgICAgICBpZiAoX21vZGVsICYmIF9tb2RlbCAhPT0gXCJiYXNlX2NoYXRfbW9kZWxcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgbG9hZCBMTE0gd2l0aCBtb2RlbCAke19tb2RlbH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBDbHMgPSB7XG4gICAgICAgICAgICBvcGVuYWk6IChhd2FpdCBpbXBvcnQoXCIuLi9jaGF0X21vZGVscy9vcGVuYWkuanNcIikpLkNoYXRPcGVuQUksXG4gICAgICAgIH1bX3R5cGVdO1xuICAgICAgICBpZiAoQ2xzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGxvYWQgIExMTSB3aXRoIHR5cGUgJHtfdHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENscyhyZXN0KTtcbiAgICB9XG59XG4vKlxuICogQ2FsY3VsYXRlIG1heCB0b2tlbnMgZm9yIGdpdmVuIG1vZGVsIGFuZCBwcm9tcHQuXG4gKiBUaGF0IGlzIHRoZSBtb2RlbCBzaXplIC0gbnVtYmVyIG9mIHRva2VucyBpbiBwcm9tcHQuXG4gKi9cbmV4cG9ydCB7IGNhbGN1bGF0ZU1heFRva2VucyB9IGZyb20gXCIuL2NvdW50X3Rva2Vucy5qc1wiO1xuIiwgImV4cG9ydCBjb25zdCBwYXJzZUZTdHJpbmcgPSAodGVtcGxhdGUpID0+IHtcbiAgICAvLyBDb3JlIGxvZ2ljIHJlcGxpY2F0ZWQgZnJvbSBpbnRlcm5hbHMgb2YgcHl0aG9ucyBidWlsdCBpbiBGb3JtYXR0ZXIgY2xhc3MuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3B5dGhvbi9jcHl0aG9uL2Jsb2IvMTM1ZWM3Y2VmYmFmZmQ1MTZiNzczNjJhZDJiMmFkMTAyNWFmNDYyZS9PYmplY3RzL3N0cmluZ2xpYi91bmljb2RlX2Zvcm1hdC5oI0w3MDAtTDcwNlxuICAgIGNvbnN0IGNoYXJzID0gdGVtcGxhdGUuc3BsaXQoXCJcIik7XG4gICAgY29uc3Qgbm9kZXMgPSBbXTtcbiAgICBjb25zdCBuZXh0QnJhY2tldCA9IChicmFja2V0LCBzdGFydCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGFycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGJyYWNrZXQuaW5jbHVkZXMoY2hhcnNbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhcnMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChjaGFyc1tpXSA9PT0gXCJ7XCIgJiYgaSArIDEgPCBjaGFycy5sZW5ndGggJiYgY2hhcnNbaSArIDFdID09PSBcIntcIikge1xuICAgICAgICAgICAgbm9kZXMucHVzaCh7IHR5cGU6IFwibGl0ZXJhbFwiLCB0ZXh0OiBcIntcIiB9KTtcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ9XCIgJiZcbiAgICAgICAgICAgIGkgKyAxIDwgY2hhcnMubGVuZ3RoICYmXG4gICAgICAgICAgICBjaGFyc1tpICsgMV0gPT09IFwifVwiKSB7XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHsgdHlwZTogXCJsaXRlcmFsXCIsIHRleHQ6IFwifVwiIH0pO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYXJzW2ldID09PSBcIntcIikge1xuICAgICAgICAgICAgY29uc3QgaiA9IG5leHRCcmFja2V0KFwifVwiLCBpKTtcbiAgICAgICAgICAgIGlmIChqIDwgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuY2xvc2VkICd7JyBpbiB0ZW1wbGF0ZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2Rlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInZhcmlhYmxlXCIsXG4gICAgICAgICAgICAgICAgbmFtZTogY2hhcnMuc2xpY2UoaSArIDEsIGopLmpvaW4oXCJcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGkgPSBqICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFyc1tpXSA9PT0gXCJ9XCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNpbmdsZSAnfScgaW4gdGVtcGxhdGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5leHRCcmFja2V0KFwie31cIiwgaSk7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gKG5leHQgPCAwID8gY2hhcnMuc2xpY2UoaSkgOiBjaGFycy5zbGljZShpLCBuZXh0KSkuam9pbihcIlwiKTtcbiAgICAgICAgICAgIG5vZGVzLnB1c2goeyB0eXBlOiBcImxpdGVyYWxcIiwgdGV4dCB9KTtcbiAgICAgICAgICAgIGkgPSBuZXh0IDwgMCA/IGNoYXJzLmxlbmd0aCA6IG5leHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzO1xufTtcbmV4cG9ydCBjb25zdCBpbnRlcnBvbGF0ZUZTdHJpbmcgPSAodGVtcGxhdGUsIHZhbHVlcykgPT4gcGFyc2VGU3RyaW5nKHRlbXBsYXRlKS5yZWR1Y2UoKHJlcywgbm9kZSkgPT4ge1xuICAgIGlmIChub2RlLnR5cGUgPT09IFwidmFyaWFibGVcIikge1xuICAgICAgICBpZiAobm9kZS5uYW1lIGluIHZhbHVlcykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcyArIHZhbHVlc1tub2RlLm5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB2YWx1ZSBmb3IgaW5wdXQgJHtub2RlLm5hbWV9YCk7XG4gICAgfVxuICAgIHJldHVybiByZXMgKyBub2RlLnRleHQ7XG59LCBcIlwiKTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HID0ge1xuICAgIFwiZi1zdHJpbmdcIjogaW50ZXJwb2xhdGVGU3RyaW5nLFxuICAgIGppbmphMjogKF8sIF9fKSA9PiBcIlwiLFxufTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1BBUlNFUl9NQVBQSU5HID0ge1xuICAgIFwiZi1zdHJpbmdcIjogcGFyc2VGU3RyaW5nLFxuICAgIGppbmphMjogKF8pID0+IFtdLFxufTtcbmV4cG9ydCBjb25zdCByZW5kZXJUZW1wbGF0ZSA9ICh0ZW1wbGF0ZSwgdGVtcGxhdGVGb3JtYXQsIGlucHV0VmFsdWVzKSA9PiBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HW3RlbXBsYXRlRm9ybWF0XSh0ZW1wbGF0ZSwgaW5wdXRWYWx1ZXMpO1xuZXhwb3J0IGNvbnN0IHBhcnNlVGVtcGxhdGUgPSAodGVtcGxhdGUsIHRlbXBsYXRlRm9ybWF0KSA9PiBERUZBVUxUX1BBUlNFUl9NQVBQSU5HW3RlbXBsYXRlRm9ybWF0XSh0ZW1wbGF0ZSk7XG5leHBvcnQgY29uc3QgY2hlY2tWYWxpZFRlbXBsYXRlID0gKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCwgaW5wdXRWYXJpYWJsZXMpID0+IHtcbiAgICBpZiAoISh0ZW1wbGF0ZUZvcm1hdCBpbiBERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HKSkge1xuICAgICAgICBjb25zdCB2YWxpZEZvcm1hdHMgPSBPYmplY3Qua2V5cyhERUZBVUxUX0ZPUk1BVFRFUl9NQVBQSU5HKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRlbXBsYXRlIGZvcm1hdC4gR290IFxcYCR7dGVtcGxhdGVGb3JtYXR9XFxgO1xuICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZCBiZSBvbmUgb2YgJHt2YWxpZEZvcm1hdHN9YCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGR1bW15SW5wdXRzID0gaW5wdXRWYXJpYWJsZXMucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICAgICAgICAgIGFjY1t2XSA9IFwiZm9vXCI7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCwgZHVtbXlJbnB1dHMpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJvbXB0IHNjaGVtYS5cIik7XG4gICAgfVxufTtcbiIsICJpbXBvcnQgeyBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBjaGVja1ZhbGlkVGVtcGxhdGUsIHBhcnNlVGVtcGxhdGUsIHJlbmRlclRlbXBsYXRlLCB9IGZyb20gXCIuL3RlbXBsYXRlLmpzXCI7XG4vKipcbiAqIFNjaGVtYSB0byByZXByZXNlbnQgYSBiYXNpYyBwcm9tcHQgZm9yIGFuIExMTS5cbiAqIEBhdWdtZW50cyBCYXNlUHJvbXB0VGVtcGxhdGVcbiAqIEBhdWdtZW50cyBQcm9tcHRUZW1wbGF0ZUlucHV0XG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJsYW5nY2hhaW4vcHJvbXB0c1wiO1xuICpcbiAqIGNvbnN0IHByb21wdCA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gKiAgIGlucHV0VmFyaWFibGVzOiBbXCJmb29cIl0sXG4gKiAgIHRlbXBsYXRlOiBcIlNheSB7Zm9vfVwiLFxuICogfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcihpbnB1dCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRlbXBsYXRlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRlbXBsYXRlRm9ybWF0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImYtc3RyaW5nXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZhbGlkYXRlVGVtcGxhdGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgaW5wdXQpO1xuICAgICAgICBpZiAodGhpcy52YWxpZGF0ZVRlbXBsYXRlKSB7XG4gICAgICAgICAgICBsZXQgdG90YWxJbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXM7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJ0aWFsVmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgdG90YWxJbnB1dFZhcmlhYmxlcyA9IHRvdGFsSW5wdXRWYXJpYWJsZXMuY29uY2F0KE9iamVjdC5rZXlzKHRoaXMucGFydGlhbFZhcmlhYmxlcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hlY2tWYWxpZFRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMudGVtcGxhdGVGb3JtYXQsIHRvdGFsSW5wdXRWYXJpYWJsZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRQcm9tcHRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJwcm9tcHRcIjtcbiAgICB9XG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICBjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRlbXBsYXRlKHRoaXMudGVtcGxhdGUsIHRoaXMudGVtcGxhdGVGb3JtYXQsIGFsbFZhbHVlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2UgZXhhbXBsZXMgaW4gbGlzdCBmb3JtYXQgd2l0aCBwcmVmaXggYW5kIHN1ZmZpeCB0byBjcmVhdGUgYSBwcm9tcHQuXG4gICAgICpcbiAgICAgKiBJbnRlbmRlbmQgdG8gYmUgdXNlZCBhIGEgd2F5IHRvIGR5bmFtaWNhbGx5IGNyZWF0ZSBhIHByb21wdCBmcm9tIGV4YW1wbGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV4YW1wbGVzIC0gTGlzdCBvZiBleGFtcGxlcyB0byB1c2UgaW4gdGhlIHByb21wdC5cbiAgICAgKiBAcGFyYW0gc3VmZml4IC0gU3RyaW5nIHRvIGdvIGFmdGVyIHRoZSBsaXN0IG9mIGV4YW1wbGVzLiBTaG91bGQgZ2VuZXJhbGx5IHNldCB1cCB0aGUgdXNlcidzIGlucHV0LlxuICAgICAqIEBwYXJhbSBpbnB1dFZhcmlhYmxlcyAtIEEgbGlzdCBvZiB2YXJpYWJsZSBuYW1lcyB0aGUgZmluYWwgcHJvbXB0IHRlbXBsYXRlIHdpbGwgZXhwZWN0XG4gICAgICogQHBhcmFtIGV4YW1wbGVTZXBhcmF0b3IgLSBUaGUgc2VwYXJhdG9yIHRvIHVzZSBpbiBiZXR3ZWVuIGV4YW1wbGVzXG4gICAgICogQHBhcmFtIHByZWZpeCAtIFN0cmluZyB0aGF0IHNob3VsZCBnbyBiZWZvcmUgYW55IGV4YW1wbGVzLiBHZW5lcmFsbHkgaW5jbHVkZXMgZXhhbXBsZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgZmluYWwgcHJvbXB0IHRlbXBsYXRlIGdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUV4YW1wbGVzKGV4YW1wbGVzLCBzdWZmaXgsIGlucHV0VmFyaWFibGVzLCBleGFtcGxlU2VwYXJhdG9yID0gXCJcXG5cXG5cIiwgcHJlZml4ID0gXCJcIikge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IFtwcmVmaXgsIC4uLmV4YW1wbGVzLCBzdWZmaXhdLmpvaW4oZXhhbXBsZVNlcGFyYXRvcik7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXMsXG4gICAgICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgcHJvbXB0IHRlbXBsYXRlIGZyb20gYSB0ZW1wbGF0ZSBmLXN0cmluZ1xuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tVGVtcGxhdGUodGVtcGxhdGUsIHsgdGVtcGxhdGVGb3JtYXQgPSBcImYtc3RyaW5nXCIsIC4uLnJlc3QgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgICBwYXJzZVRlbXBsYXRlKHRlbXBsYXRlLCB0ZW1wbGF0ZUZvcm1hdCkuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gXCJ2YXJpYWJsZVwiKSB7XG4gICAgICAgICAgICAgICAgbmFtZXMuYWRkKG5vZGUubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBbLi4ubmFtZXNdLFxuICAgICAgICAgICAgdGVtcGxhdGVGb3JtYXQsXG4gICAgICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuICAgICAgICBjb25zdCBwcm9tcHREaWN0ID0geyAuLi50aGlzIH07XG4gICAgICAgIHByb21wdERpY3QuaW5wdXRWYXJpYWJsZXMgPSB0aGlzLmlucHV0VmFyaWFibGVzLmZpbHRlcigoaXYpID0+ICEoaXYgaW4gdmFsdWVzKSk7XG4gICAgICAgIHByb21wdERpY3QucGFydGlhbFZhcmlhYmxlcyA9IHtcbiAgICAgICAgICAgIC4uLih0aGlzLnBhcnRpYWxWYXJpYWJsZXMgPz8ge30pLFxuICAgICAgICAgICAgLi4udmFsdWVzLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IFByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFBhcnNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2VyaWFsaXplIGEgcHJvbXB0IHRlbXBsYXRlIHdpdGggYW4gb3V0cHV0IHBhcnNlclwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2dldFByb21wdFR5cGUoKSxcbiAgICAgICAgICAgIGlucHV0X3ZhcmlhYmxlczogdGhpcy5pbnB1dFZhcmlhYmxlcyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlLFxuICAgICAgICAgICAgdGVtcGxhdGVfZm9ybWF0OiB0aGlzLnRlbXBsYXRlRm9ybWF0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEudGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlByb21wdCB0ZW1wbGF0ZSBtdXN0IGhhdmUgYSB0ZW1wbGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXMgPSBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IGRhdGEuaW5wdXRfdmFyaWFibGVzLFxuICAgICAgICAgICAgdGVtcGxhdGU6IGRhdGEudGVtcGxhdGUsXG4gICAgICAgICAgICB0ZW1wbGF0ZUZvcm1hdDogZGF0YS50ZW1wbGF0ZV9mb3JtYXQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgY2hlY2tWYWxpZFRlbXBsYXRlLCByZW5kZXJUZW1wbGF0ZSwgfSBmcm9tIFwiLi90ZW1wbGF0ZS5qc1wiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9wcm9tcHQuanNcIjtcbi8qKlxuICogUHJvbXB0IHRlbXBsYXRlIHRoYXQgY29udGFpbnMgZmV3LXNob3QgZXhhbXBsZXMuXG4gKiBAYXVnbWVudHMgQmFzZVByb21wdFRlbXBsYXRlXG4gKiBAYXVnbWVudHMgRmV3U2hvdFByb21wdFRlbXBsYXRlSW5wdXRcbiAqL1xuZXhwb3J0IGNsYXNzIEZld1Nob3RQcm9tcHRUZW1wbGF0ZSBleHRlbmRzIEJhc2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGFtcGxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGFtcGxlU2VsZWN0b3JcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXhhbXBsZVByb21wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdWZmaXhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4YW1wbGVTZXBhcmF0b3JcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiXFxuXFxuXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZWZpeFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGVtcGxhdGVGb3JtYXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiZi1zdHJpbmdcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsaWRhdGVUZW1wbGF0ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVzICE9PSB1bmRlZmluZWQgJiYgdGhpcy5leGFtcGxlU2VsZWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBvbmUgb2YgJ2V4YW1wbGVzJyBhbmQgJ2V4YW1wbGVfc2VsZWN0b3InIHNob3VsZCBiZSBwcm92aWRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5leGFtcGxlcyA9PT0gdW5kZWZpbmVkICYmIHRoaXMuZXhhbXBsZVNlbGVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9uZSBvZiAnZXhhbXBsZXMnIGFuZCAnZXhhbXBsZV9zZWxlY3Rvcicgc2hvdWxkIGJlIHByb3ZpZGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZhbGlkYXRlVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGxldCB0b3RhbElucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcztcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcnRpYWxWYXJpYWJsZXMpIHtcbiAgICAgICAgICAgICAgICB0b3RhbElucHV0VmFyaWFibGVzID0gdG90YWxJbnB1dFZhcmlhYmxlcy5jb25jYXQoT2JqZWN0LmtleXModGhpcy5wYXJ0aWFsVmFyaWFibGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGVja1ZhbGlkVGVtcGxhdGUodGhpcy5wcmVmaXggKyB0aGlzLnN1ZmZpeCwgdGhpcy50ZW1wbGF0ZUZvcm1hdCwgdG90YWxJbnB1dFZhcmlhYmxlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldFByb21wdFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImZld19zaG90XCI7XG4gICAgfVxuICAgIGFzeW5jIGdldEV4YW1wbGVzKGlucHV0VmFyaWFibGVzKSB7XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4YW1wbGVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVTZWxlY3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leGFtcGxlU2VsZWN0b3Iuc2VsZWN0RXhhbXBsZXMoaW5wdXRWYXJpYWJsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9uZSBvZiAnZXhhbXBsZXMnIGFuZCAnZXhhbXBsZV9zZWxlY3Rvcicgc2hvdWxkIGJlIHByb3ZpZGVkXCIpO1xuICAgIH1cbiAgICBhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuICAgICAgICBjb25zdCBwcm9tcHREaWN0ID0geyAuLi50aGlzIH07XG4gICAgICAgIHByb21wdERpY3QuaW5wdXRWYXJpYWJsZXMgPSB0aGlzLmlucHV0VmFyaWFibGVzLmZpbHRlcigoaXYpID0+ICEoaXYgaW4gdmFsdWVzKSk7XG4gICAgICAgIHByb21wdERpY3QucGFydGlhbFZhcmlhYmxlcyA9IHtcbiAgICAgICAgICAgIC4uLih0aGlzLnBhcnRpYWxWYXJpYWJsZXMgPz8ge30pLFxuICAgICAgICAgICAgLi4udmFsdWVzLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IEZld1Nob3RQcm9tcHRUZW1wbGF0ZShwcm9tcHREaWN0KTtcbiAgICB9XG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICBjb25zdCBhbGxWYWx1ZXMgPSBhd2FpdCB0aGlzLm1lcmdlUGFydGlhbEFuZFVzZXJWYXJpYWJsZXModmFsdWVzKTtcbiAgICAgICAgY29uc3QgZXhhbXBsZXMgPSBhd2FpdCB0aGlzLmdldEV4YW1wbGVzKGFsbFZhbHVlcyk7XG4gICAgICAgIGNvbnN0IGV4YW1wbGVTdHJpbmdzID0gYXdhaXQgUHJvbWlzZS5hbGwoZXhhbXBsZXMubWFwKChleGFtcGxlKSA9PiB0aGlzLmV4YW1wbGVQcm9tcHQuZm9ybWF0KGV4YW1wbGUpKSk7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gW3RoaXMucHJlZml4LCAuLi5leGFtcGxlU3RyaW5ncywgdGhpcy5zdWZmaXhdLmpvaW4odGhpcy5leGFtcGxlU2VwYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlLCB0aGlzLnRlbXBsYXRlRm9ybWF0LCBhbGxWYWx1ZXMpO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLmV4YW1wbGVTZWxlY3RvciB8fCAhdGhpcy5leGFtcGxlcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VyaWFsaXppbmcgYW4gZXhhbXBsZSBzZWxlY3RvciBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vdXRwdXRQYXJzZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VyaWFsaXppbmcgYW4gb3V0cHV0IHBhcnNlciBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2dldFByb21wdFR5cGUoKSxcbiAgICAgICAgICAgIGlucHV0X3ZhcmlhYmxlczogdGhpcy5pbnB1dFZhcmlhYmxlcyxcbiAgICAgICAgICAgIGV4YW1wbGVfcHJvbXB0OiB0aGlzLmV4YW1wbGVQcm9tcHQuc2VyaWFsaXplKCksXG4gICAgICAgICAgICBleGFtcGxlX3NlcGFyYXRvcjogdGhpcy5leGFtcGxlU2VwYXJhdG9yLFxuICAgICAgICAgICAgc3VmZml4OiB0aGlzLnN1ZmZpeCxcbiAgICAgICAgICAgIHByZWZpeDogdGhpcy5wcmVmaXgsXG4gICAgICAgICAgICB0ZW1wbGF0ZV9mb3JtYXQ6IHRoaXMudGVtcGxhdGVGb3JtYXQsXG4gICAgICAgICAgICBleGFtcGxlczogdGhpcy5leGFtcGxlcyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBleGFtcGxlX3Byb21wdCB9ID0gZGF0YTtcbiAgICAgICAgaWYgKCFleGFtcGxlX3Byb21wdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBleGFtcGxlIHByb21wdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleGFtcGxlUHJvbXB0ID0gYXdhaXQgUHJvbXB0VGVtcGxhdGUuZGVzZXJpYWxpemUoZXhhbXBsZV9wcm9tcHQpO1xuICAgICAgICBsZXQgZXhhbXBsZXM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEuZXhhbXBsZXMpKSB7XG4gICAgICAgICAgICBleGFtcGxlcyA9IGRhdGEuZXhhbXBsZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGV4YW1wbGVzIGZvcm1hdC4gT25seSBsaXN0IG9yIHN0cmluZyBhcmUgc3VwcG9ydGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEZld1Nob3RQcm9tcHRUZW1wbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFZhcmlhYmxlczogZGF0YS5pbnB1dF92YXJpYWJsZXMsXG4gICAgICAgICAgICBleGFtcGxlUHJvbXB0LFxuICAgICAgICAgICAgZXhhbXBsZXMsXG4gICAgICAgICAgICBleGFtcGxlU2VwYXJhdG9yOiBkYXRhLmV4YW1wbGVfc2VwYXJhdG9yLFxuICAgICAgICAgICAgcHJlZml4OiBkYXRhLnByZWZpeCxcbiAgICAgICAgICAgIHN1ZmZpeDogZGF0YS5zdWZmaXgsXG4gICAgICAgICAgICB0ZW1wbGF0ZUZvcm1hdDogZGF0YS50ZW1wbGF0ZV9mb3JtYXQsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBCYXNlUHJvbXB0VmFsdWUsIEh1bWFuQ2hhdE1lc3NhZ2UsIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuZXhwb3J0IGNsYXNzIFN0cmluZ1Byb21wdFZhbHVlIGV4dGVuZHMgQmFzZVByb21wdFZhbHVlIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YWx1ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgdG9DaGF0TWVzc2FnZXMoKSB7XG4gICAgICAgIHJldHVybiBbbmV3IEh1bWFuQ2hhdE1lc3NhZ2UodGhpcy52YWx1ZSldO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgcHJvbXB0IHRlbXBsYXRlcy4gRXhwb3NlcyBhIGZvcm1hdCBtZXRob2QgdGhhdCByZXR1cm5zIGFcbiAqIHN0cmluZyBwcm9tcHQgZ2l2ZW4gYSBzZXQgb2YgaW5wdXQgdmFsdWVzLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZVByb21wdFRlbXBsYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dFZhcmlhYmxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRwdXRQYXJzZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGFydGlhbFZhcmlhYmxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7IGlucHV0VmFyaWFibGVzIH0gPSBpbnB1dDtcbiAgICAgICAgaWYgKGlucHV0VmFyaWFibGVzLmluY2x1ZGVzKFwic3RvcFwiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGhhdmUgYW4gaW5wdXQgdmFyaWFibGUgbmFtZWQgJ3N0b3AnLCBhcyBpdCBpcyB1c2VkIGludGVybmFsbHksIHBsZWFzZSByZW5hbWUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgaW5wdXQpO1xuICAgIH1cbiAgICBhc3luYyBtZXJnZVBhcnRpYWxBbmRVc2VyVmFyaWFibGVzKHVzZXJWYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgcGFydGlhbFZhcmlhYmxlcyA9IHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fTtcbiAgICAgICAgY29uc3QgcGFydGlhbFZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJ0aWFsVmFyaWFibGVzKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxWYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbFZhbHVlc1trZXldID0gYXdhaXQgdmFsdWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbGxLd2FyZ3MgPSB7IC4uLnBhcnRpYWxWYWx1ZXMsIC4uLnVzZXJWYXJpYWJsZXMgfTtcbiAgICAgICAgcmV0dXJuIGFsbEt3YXJncztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCBhIHByb21wdCB0ZW1wbGF0ZSBmcm9tIGEganNvbi1saWtlIG9iamVjdCBkZXNjcmliaW5nIGl0LlxuICAgICAqXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBEZXNlcmlhbGl6aW5nIG5lZWRzIHRvIGJlIGFzeW5jIGJlY2F1c2UgdGVtcGxhdGVzIChlLmcuIHtAbGluayBGZXdTaG90UHJvbXB0VGVtcGxhdGV9KSBjYW5cbiAgICAgKiByZWZlcmVuY2UgcmVtb3RlIHJlc291cmNlcyB0aGF0IHdlIHJlYWQgYXN5bmNocm9ub3VzbHkgd2l0aCBhIHdlYlxuICAgICAqIHJlcXVlc3QuXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgc3dpdGNoIChkYXRhLl90eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwicHJvbXB0XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IFByb21wdFRlbXBsYXRlIH0gPSBhd2FpdCBpbXBvcnQoXCIuL3Byb21wdC5qc1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbXB0VGVtcGxhdGUuZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIHVuZGVmaW5lZDoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgUHJvbXB0VGVtcGxhdGUgfSA9IGF3YWl0IGltcG9ydChcIi4vcHJvbXB0LmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9tcHRUZW1wbGF0ZS5kZXNlcmlhbGl6ZSh7IC4uLmRhdGEsIF90eXBlOiBcInByb21wdFwiIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImZld19zaG90XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IEZld1Nob3RQcm9tcHRUZW1wbGF0ZSB9ID0gYXdhaXQgaW1wb3J0KFwiLi9mZXdfc2hvdC5qc1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gRmV3U2hvdFByb21wdFRlbXBsYXRlLmRlc2VyaWFsaXplKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJvbXB0IHR5cGUgaW4gY29uZmlnOiAke2RhdGEuX3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmFzZVN0cmluZ1Byb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZVByb21wdFRlbXBsYXRlIHtcbiAgICBhc3luYyBmb3JtYXRQcm9tcHRWYWx1ZSh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkUHJvbXB0ID0gYXdhaXQgdGhpcy5mb3JtYXQodmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJpbmdQcm9tcHRWYWx1ZShmb3JtYXR0ZWRQcm9tcHQpO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgZXhhbXBsZSBzZWxlY3RvcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRXhhbXBsZVNlbGVjdG9yIHtcbn1cbiIsICJpbXBvcnQgeyBCYXNlQ2hhaW4gfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBCYXNlUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi4vcHJvbXB0cy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBCYXNlTGFuZ3VhZ2VNb2RlbCB9IGZyb20gXCIuLi9iYXNlX2xhbmd1YWdlL2luZGV4LmpzXCI7XG4vKipcbiAqIENoYWluIHRvIHJ1biBxdWVyaWVzIGFnYWluc3QgTExNcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIGltcG9ydCB7IExMTUNoYWluIH0gZnJvbSBcImxhbmdjaGFpbi9jaGFpbnNcIjtcbiAqIGltcG9ydCB7IE9wZW5BSSB9IGZyb20gXCJsYW5nY2hhaW4vbGxtcy9vcGVuYWlcIjtcbiAqIGltcG9ydCB7IFByb21wdFRlbXBsYXRlIH0gZnJvbSBcImxhbmdjaGFpbi9wcm9tcHRzXCI7XG4gKlxuICogY29uc3QgcHJvbXB0ID0gUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFwiVGVsbCBtZSBhIHthZGplY3RpdmV9IGpva2VcIik7XG4gKiBjb25zdCBsbG0gPSBuZXcgTExNQ2hhaW4oeyBsbG06IG5ldyBPcGVuQUkoKSwgcHJvbXB0IH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBMTE1DaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbXB0LmlucHV0VmFyaWFibGVzO1xuICAgIH1cbiAgICBnZXQgb3V0cHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLm91dHB1dEtleV07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcm9tcHRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGxtXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm91dHB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJ0ZXh0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm91dHB1dFBhcnNlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb21wdCA9IGZpZWxkcy5wcm9tcHQ7XG4gICAgICAgIHRoaXMubGxtID0gZmllbGRzLmxsbTtcbiAgICAgICAgdGhpcy5vdXRwdXRLZXkgPSBmaWVsZHMub3V0cHV0S2V5ID8/IHRoaXMub3V0cHV0S2V5O1xuICAgICAgICB0aGlzLm91dHB1dFBhcnNlciA9IGZpZWxkcy5vdXRwdXRQYXJzZXIgPz8gdGhpcy5vdXRwdXRQYXJzZXI7XG4gICAgICAgIGlmICh0aGlzLnByb21wdC5vdXRwdXRQYXJzZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dFBhcnNlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgYm90aCBvdXRwdXRQYXJzZXIgYW5kIHByb21wdC5vdXRwdXRQYXJzZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm91dHB1dFBhcnNlciA9IHRoaXMucHJvbXB0Lm91dHB1dFBhcnNlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9nZXRGaW5hbE91dHB1dChnZW5lcmF0aW9ucywgcHJvbXB0VmFsdWUsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgY29tcGxldGlvbiA9IGdlbmVyYXRpb25zWzBdLnRleHQ7XG4gICAgICAgIGxldCBmaW5hbENvbXBsZXRpb247XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFBhcnNlcikge1xuICAgICAgICAgICAgZmluYWxDb21wbGV0aW9uID0gYXdhaXQgdGhpcy5vdXRwdXRQYXJzZXIucGFyc2VXaXRoUHJvbXB0KGNvbXBsZXRpb24sIHByb21wdFZhbHVlLCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpbmFsQ29tcGxldGlvbiA9IGNvbXBsZXRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbmFsQ29tcGxldGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVuIHRoZSBjb3JlIGxvZ2ljIG9mIHRoaXMgY2hhaW4gYW5kIGFkZCB0byBvdXRwdXQgaWYgZGVzaXJlZC5cbiAgICAgKlxuICAgICAqIFdyYXBzIF9jYWxsIGFuZCBoYW5kbGVzIG1lbW9yeS5cbiAgICAgKi9cbiAgICBjYWxsKHZhbHVlcywgY2FsbGJhY2tzKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5jYWxsKHZhbHVlcywgY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzRm9yUHJvbXB0ID0geyAuLi52YWx1ZXMgfTtcbiAgICAgICAgY29uc3QgdmFsdWVzRm9yTExNID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMubGxtLmNhbGxLZXlzKSB7XG4gICAgICAgICAgICBpZiAoa2V5IGluIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHZhbHVlc0ZvckxMTVtrZXldID0gdmFsdWVzW2tleV07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlc0ZvclByb21wdFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21wdFZhbHVlID0gYXdhaXQgdGhpcy5wcm9tcHQuZm9ybWF0UHJvbXB0VmFsdWUodmFsdWVzRm9yUHJvbXB0KTtcbiAgICAgICAgY29uc3QgeyBnZW5lcmF0aW9ucyB9ID0gYXdhaXQgdGhpcy5sbG0uZ2VuZXJhdGVQcm9tcHQoW3Byb21wdFZhbHVlXSwgdmFsdWVzRm9yTExNLCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFt0aGlzLm91dHB1dEtleV06IGF3YWl0IHRoaXMuX2dldEZpbmFsT3V0cHV0KGdlbmVyYXRpb25zWzBdLCBwcm9tcHRWYWx1ZSwgcnVuTWFuYWdlciksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcm1hdCBwcm9tcHQgd2l0aCB2YWx1ZXMgYW5kIHBhc3MgdG8gTExNXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWVzIC0ga2V5cyB0byBwYXNzIHRvIHByb21wdCB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSBjYWxsYmFja01hbmFnZXIgLSBDYWxsYmFja01hbmFnZXIgdG8gdXNlXG4gICAgICogQHJldHVybnMgQ29tcGxldGlvbiBmcm9tIExMTS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBsbG0ucHJlZGljdCh7IGFkamVjdGl2ZTogXCJmdW5ueVwiIH0pXG4gICAgICogYGBgXG4gICAgICovXG4gICAgYXN5bmMgcHJlZGljdCh2YWx1ZXMsIGNhbGxiYWNrTWFuYWdlcikge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBhd2FpdCB0aGlzLmNhbGwodmFsdWVzLCBjYWxsYmFja01hbmFnZXIpO1xuICAgICAgICByZXR1cm4gb3V0cHV0W3RoaXMub3V0cHV0S2V5XTtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwibGxtX2NoYWluXCI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgbGxtLCBwcm9tcHQgfSA9IGRhdGE7XG4gICAgICAgIGlmICghbGxtKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMTE1DaGFpbiBtdXN0IGhhdmUgbGxtXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJvbXB0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMTE1DaGFpbiBtdXN0IGhhdmUgcHJvbXB0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTExNQ2hhaW4oe1xuICAgICAgICAgICAgbGxtOiBhd2FpdCBCYXNlTGFuZ3VhZ2VNb2RlbC5kZXNlcmlhbGl6ZShsbG0pLFxuICAgICAgICAgICAgcHJvbXB0OiBhd2FpdCBCYXNlUHJvbXB0VGVtcGxhdGUuZGVzZXJpYWxpemUocHJvbXB0KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9jaGFpblR5cGUoKSxcbiAgICAgICAgICAgIGxsbTogdGhpcy5sbG0uc2VyaWFsaXplKCksXG4gICAgICAgICAgICBwcm9tcHQ6IHRoaXMucHJvbXB0LnNlcmlhbGl6ZSgpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsICIvKipcbiAqIFNvdXJjZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU2V0I2ltcGxlbWVudGluZ19iYXNpY19zZXRfb3BlcmF0aW9uc1xuICovXG4vKipcbiAqIHJldHVybnMgaW50ZXJzZWN0aW9uIG9mIHR3byBzZXRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3Rpb24oc2V0QSwgc2V0Qikge1xuICAgIGNvbnN0IF9pbnRlcnNlY3Rpb24gPSBuZXcgU2V0KCk7XG4gICAgZm9yIChjb25zdCBlbGVtIG9mIHNldEIpIHtcbiAgICAgICAgaWYgKHNldEEuaGFzKGVsZW0pKSB7XG4gICAgICAgICAgICBfaW50ZXJzZWN0aW9uLmFkZChlbGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2ludGVyc2VjdGlvbjtcbn1cbi8qKlxuICogcmV0dXJucyB1bmlvbiBvZiB0d28gc2V0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gdW5pb24oc2V0QSwgc2V0Qikge1xuICAgIGNvbnN0IF91bmlvbiA9IG5ldyBTZXQoc2V0QSk7XG4gICAgZm9yIChjb25zdCBlbGVtIG9mIHNldEIpIHtcbiAgICAgICAgX3VuaW9uLmFkZChlbGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIF91bmlvbjtcbn1cbi8qKlxuICogcmV0dXJucyBkaWZmZXJlbmNlIG9mIHR3byBzZXRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmZXJlbmNlKHNldEEsIHNldEIpIHtcbiAgICBjb25zdCBfZGlmZmVyZW5jZSA9IG5ldyBTZXQoc2V0QSk7XG4gICAgZm9yIChjb25zdCBlbGVtIG9mIHNldEIpIHtcbiAgICAgICAgX2RpZmZlcmVuY2UuZGVsZXRlKGVsZW0pO1xuICAgIH1cbiAgICByZXR1cm4gX2RpZmZlcmVuY2U7XG59XG4iLCAiaW1wb3J0IHsgQmFzZUNoYWluIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgaW50ZXJzZWN0aW9uLCB1bmlvbiwgZGlmZmVyZW5jZSB9IGZyb20gXCIuLi91dGlsL3NldC5qc1wiO1xuZnVuY3Rpb24gZm9ybWF0U2V0KGlucHV0KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oaW5wdXQpXG4gICAgICAgIC5tYXAoKGkpID0+IGBcIiR7aX1cImApXG4gICAgICAgIC5qb2luKFwiLCBcIik7XG59XG4vKipcbiAqIENoYWluIHdoZXJlIHRoZSBvdXRwdXRzIG9mIG9uZSBjaGFpbiBmZWVkIGRpcmVjdGx5IGludG8gbmV4dC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNlcXVlbnRpYWxDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXRWYXJpYWJsZXM7XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXRWYXJpYWJsZXM7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaGFpbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5wdXRWYXJpYWJsZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3V0cHV0VmFyaWFibGVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVybkFsbFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoYWlucyA9IGZpZWxkcy5jaGFpbnM7XG4gICAgICAgIHRoaXMuaW5wdXRWYXJpYWJsZXMgPSBmaWVsZHMuaW5wdXRWYXJpYWJsZXM7XG4gICAgICAgIHRoaXMub3V0cHV0VmFyaWFibGVzID0gZmllbGRzLm91dHB1dFZhcmlhYmxlcyA/PyBbXTtcbiAgICAgICAgaWYgKHRoaXMub3V0cHV0VmFyaWFibGVzLmxlbmd0aCA+IDAgJiYgZmllbGRzLnJldHVybkFsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWl0aGVyIHNwZWNpZnkgdmFyaWFibGVzIHRvIHJldHVybiB1c2luZyBgb3V0cHV0VmFyaWFibGVzYCBvciB1c2UgYHJldHVybkFsbGAgcGFyYW0uIENhbm5vdCBhcHBseSBib3RoIGNvbmRpdGlvbnMgYXQgdGhlIHNhbWUgdGltZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXR1cm5BbGwgPSBmaWVsZHMucmV0dXJuQWxsID8/IGZhbHNlO1xuICAgICAgICB0aGlzLl92YWxpZGF0ZUNoYWlucygpO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF92YWxpZGF0ZUNoYWlucygpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hhaW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VxdWVudGlhbCBjaGFpbiBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGNoYWluLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1vcnlLZXlzID0gdGhpcy5tZW1vcnk/Lm1lbW9yeUtleXMgPz8gW107XG4gICAgICAgIGNvbnN0IGlucHV0S2V5c1NldCA9IG5ldyBTZXQodGhpcy5pbnB1dEtleXMpO1xuICAgICAgICBjb25zdCBtZW1vcnlLZXlzU2V0ID0gbmV3IFNldChtZW1vcnlLZXlzKTtcbiAgICAgICAgY29uc3Qga2V5c0ludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbihpbnB1dEtleXNTZXQsIG1lbW9yeUtleXNTZXQpO1xuICAgICAgICBpZiAoa2V5c0ludGVyc2VjdGlvbi5zaXplID4gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZm9sbG93aW5nIGtleXM6ICR7Zm9ybWF0U2V0KGtleXNJbnRlcnNlY3Rpb24pfSBhcmUgb3ZlcmxhcHBpbmcgYmV0d2VlbiBtZW1vcnkgYW5kIGlucHV0IGtleXMgb2YgdGhlIGNoYWluIHZhcmlhYmxlcy4gVGhpcyBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW91ci4gUGxlYXNlIHVzZSBpbnB1dCBhbmQgbWVtb3J5IGtleXMgdGhhdCBkb24ndCBvdmVybGFwLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZUtleXMgPSB1bmlvbihpbnB1dEtleXNTZXQsIG1lbW9yeUtleXNTZXQpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoYWluIG9mIHRoaXMuY2hhaW5zKSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nS2V5cyA9IGRpZmZlcmVuY2UobmV3IFNldChjaGFpbi5pbnB1dEtleXMpLCBhdmFpbGFibGVLZXlzKTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nS2V5cy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB2YXJpYWJsZXMgZm9yIGNoYWluIFwiJHtjaGFpbi5fY2hhaW5UeXBlKCl9XCI6ICR7Zm9ybWF0U2V0KG1pc3NpbmdLZXlzKX0uIE9ubHkgZ290IHRoZSBmb2xsb3dpbmcgdmFyaWFibGVzOiAke2Zvcm1hdFNldChhdmFpbGFibGVLZXlzKX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvdXRwdXRLZXlzU2V0ID0gbmV3IFNldChjaGFpbi5vdXRwdXRLZXlzKTtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJsYXBwaW5nT3V0cHV0S2V5cyA9IGludGVyc2VjdGlvbihhdmFpbGFibGVLZXlzLCBvdXRwdXRLZXlzU2V0KTtcbiAgICAgICAgICAgIGlmIChvdmVybGFwcGluZ091dHB1dEtleXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBmb2xsb3dpbmcgb3V0cHV0IHZhcmlhYmxlcyBmb3IgY2hhaW4gXCIke2NoYWluLl9jaGFpblR5cGUoKX1cIiBhcmUgb3ZlcmxhcHBpbmc6ICR7Zm9ybWF0U2V0KG92ZXJsYXBwaW5nT3V0cHV0S2V5cyl9LiBUaGlzIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3VyLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBvdXRwdXRLZXkgb2Ygb3V0cHV0S2V5c1NldCkge1xuICAgICAgICAgICAgICAgIGF2YWlsYWJsZUtleXMuYWRkKG91dHB1dEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3V0cHV0VmFyaWFibGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmV0dXJuQWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0S2V5cyA9IGRpZmZlcmVuY2UoYXZhaWxhYmxlS2V5cywgaW5wdXRLZXlzU2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFZhcmlhYmxlcyA9IEFycmF5LmZyb20ob3V0cHV0S2V5cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFZhcmlhYmxlcyA9IHRoaXMuY2hhaW5zW3RoaXMuY2hhaW5zLmxlbmd0aCAtIDFdLm91dHB1dEtleXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nS2V5cyA9IGRpZmZlcmVuY2UobmV3IFNldCh0aGlzLm91dHB1dFZhcmlhYmxlcyksIG5ldyBTZXQoYXZhaWxhYmxlS2V5cykpO1xuICAgICAgICAgICAgaWYgKG1pc3NpbmdLZXlzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZm9sbG93aW5nIG91dHB1dCB2YXJpYWJsZXMgd2VyZSBleHBlY3RlZCB0byBiZSBpbiB0aGUgZmluYWwgY2hhaW4gb3V0cHV0IGJ1dCB3ZXJlIG5vdCBmb3VuZDogJHtmb3JtYXRTZXQobWlzc2luZ0tleXMpfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKHZhbHVlcywgcnVuTWFuYWdlcikge1xuICAgICAgICBsZXQgaW5wdXQgPSB7fTtcbiAgICAgICAgY29uc3QgYWxsQ2hhaW5WYWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIGZvciAoY29uc3QgY2hhaW4gb2YgdGhpcy5jaGFpbnMpIHtcbiAgICAgICAgICAgIGlucHV0ID0gYXdhaXQgY2hhaW4uY2FsbChhbGxDaGFpblZhbHVlcywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICBhbGxDaGFpblZhbHVlc1trZXldID0gaW5wdXRba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdXRwdXQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5vdXRwdXRWYXJpYWJsZXMpIHtcbiAgICAgICAgICAgIG91dHB1dFtrZXldID0gYWxsQ2hhaW5WYWx1ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJzZXF1ZW50aWFsX2NoYWluXCI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNoYWlucyA9IFtdO1xuICAgICAgICBjb25zdCBpbnB1dFZhcmlhYmxlcyA9IGRhdGEuaW5wdXRfdmFyaWFibGVzO1xuICAgICAgICBjb25zdCBvdXRwdXRWYXJpYWJsZXMgPSBkYXRhLm91dHB1dF92YXJpYWJsZXM7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRDaGFpbnMgPSBkYXRhLmNoYWlucztcbiAgICAgICAgZm9yIChjb25zdCBzZXJpYWxpemVkQ2hhaW4gb2Ygc2VyaWFsaXplZENoYWlucykge1xuICAgICAgICAgICAgY29uc3QgZGVzZXJpYWxpemVkQ2hhaW4gPSBhd2FpdCBCYXNlQ2hhaW4uZGVzZXJpYWxpemUoc2VyaWFsaXplZENoYWluKTtcbiAgICAgICAgICAgIGNoYWlucy5wdXNoKGRlc2VyaWFsaXplZENoYWluKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNlcXVlbnRpYWxDaGFpbih7IGNoYWlucywgaW5wdXRWYXJpYWJsZXMsIG91dHB1dFZhcmlhYmxlcyB9KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBjb25zdCBjaGFpbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBjaGFpbiBvZiB0aGlzLmNoYWlucykge1xuICAgICAgICAgICAgY2hhaW5zLnB1c2goY2hhaW4uc2VyaWFsaXplKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fY2hhaW5UeXBlKCksXG4gICAgICAgICAgICBpbnB1dF92YXJpYWJsZXM6IHRoaXMuaW5wdXRWYXJpYWJsZXMsXG4gICAgICAgICAgICBvdXRwdXRfdmFyaWFibGVzOiB0aGlzLm91dHB1dFZhcmlhYmxlcyxcbiAgICAgICAgICAgIGNoYWlucyxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIFNpbXBsZSBjaGFpbiB3aGVyZSBhIHNpbmdsZSBzdHJpbmcgb3V0cHV0IG9mIG9uZSBjaGFpbiBpcyBmZWQgZGlyZWN0bHkgaW50byB0aGUgbmV4dC5cbiAqIEBhdWdtZW50cyBCYXNlQ2hhaW5cbiAqIEBhdWdtZW50cyBTaW1wbGVTZXF1ZW50aWFsQ2hhaW5JbnB1dFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgU2ltcGxlU2VxdWVudGlhbENoYWluLCBMTE1DaGFpbiB9IGZyb20gXCJsYW5nY2hhaW4vY2hhaW5zXCI7XG4gKiBpbXBvcnQgeyBPcGVuQUkgfSBmcm9tIFwibGFuZ2NoYWluL2xsbXMvb3BlbmFpXCI7XG4gKiBpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJsYW5nY2hhaW4vcHJvbXB0c1wiO1xuICpcbiAqIC8vIFRoaXMgaXMgYW4gTExNQ2hhaW4gdG8gd3JpdGUgYSBzeW5vcHNpcyBnaXZlbiBhIHRpdGxlIG9mIGEgcGxheS5cbiAqIGNvbnN0IGxsbSA9IG5ldyBPcGVuQUkoeyB0ZW1wZXJhdHVyZTogMCB9KTtcbiAqIGNvbnN0IHRlbXBsYXRlID0gYFlvdSBhcmUgYSBwbGF5d3JpZ2h0LiBHaXZlbiB0aGUgdGl0bGUgb2YgcGxheSwgaXQgaXMgeW91ciBqb2IgdG8gd3JpdGUgYSBzeW5vcHNpcyBmb3IgdGhhdCB0aXRsZS5cbiAqXG4gKiBUaXRsZToge3RpdGxlfVxuICogUGxheXdyaWdodDogVGhpcyBpcyBhIHN5bm9wc2lzIGZvciB0aGUgYWJvdmUgcGxheTpgXG4gKiBjb25zdCBwcm9tcHRUZW1wbGF0ZSA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7IHRlbXBsYXRlLCBpbnB1dFZhcmlhYmxlczogW1widGl0bGVcIl0gfSk7XG4gKiBjb25zdCBzeW5vcHNpc0NoYWluID0gbmV3IExMTUNoYWluKHsgbGxtLCBwcm9tcHQ6IHByb21wdFRlbXBsYXRlIH0pO1xuICpcbiAqXG4gKiAvLyBUaGlzIGlzIGFuIExMTUNoYWluIHRvIHdyaXRlIGEgcmV2aWV3IG9mIGEgcGxheSBnaXZlbiBhIHN5bm9wc2lzLlxuICogY29uc3QgcmV2aWV3TExNID0gbmV3IE9wZW5BSSh7IHRlbXBlcmF0dXJlOiAwIH0pXG4gKiBjb25zdCByZXZpZXdUZW1wbGF0ZSA9IGBZb3UgYXJlIGEgcGxheSBjcml0aWMgZnJvbSB0aGUgTmV3IFlvcmsgVGltZXMuIEdpdmVuIHRoZSBzeW5vcHNpcyBvZiBwbGF5LCBpdCBpcyB5b3VyIGpvYiB0byB3cml0ZSBhIHJldmlldyBmb3IgdGhhdCBwbGF5LlxuICpcbiAqIFBsYXkgU3lub3BzaXM6XG4gKiB7c3lub3BzaXN9XG4gKiBSZXZpZXcgZnJvbSBhIE5ldyBZb3JrIFRpbWVzIHBsYXkgY3JpdGljIG9mIHRoZSBhYm92ZSBwbGF5OmBcbiAqIGNvbnN0IHJldmlld1Byb21wdFRlbXBsYXRlID0gbmV3IFByb21wdFRlbXBsYXRlKHsgdGVtcGxhdGU6IHJldmlld1RlbXBsYXRlLCBpbnB1dFZhcmlhYmxlczogW1wic3lub3BzaXNcIl0gfSk7XG4gKiBjb25zdCByZXZpZXdDaGFpbiA9IG5ldyBMTE1DaGFpbih7IGxsbTogcmV2aWV3TExNLCBwcm9tcHQ6IHJldmlld1Byb21wdFRlbXBsYXRlIH0pO1xuICpcbiAqIGNvbnN0IG92ZXJhbGxDaGFpbiA9IG5ldyBTaW1wbGVTZXF1ZW50aWFsQ2hhaW4oe2NoYWluczogW3N5bm9wc2lzQ2hhaW4sIHJldmlld0NoYWluXSwgdmVyYm9zZTp0cnVlfSlcbiAqIGNvbnN0IHJldmlldyA9IGF3YWl0IG92ZXJhbGxDaGFpbi5ydW4oXCJUcmFnZWR5IGF0IHN1bnNldCBvbiB0aGUgYmVhY2hcIilcbiAqIC8vIHRoZSB2YXJpYWJsZSByZXZpZXcgY29udGFpbnMgcmVzdWx0aW5nIHBsYXkgcmV2aWV3LlxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBTaW1wbGVTZXF1ZW50aWFsQ2hhaW4gZXh0ZW5kcyBCYXNlQ2hhaW4ge1xuICAgIGdldCBpbnB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5pbnB1dEtleV07XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMub3V0cHV0S2V5XTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcy5tZW1vcnksIGZpZWxkcy52ZXJib3NlLCBmaWVsZHMuY2FsbGJhY2tzID8/IGZpZWxkcy5jYWxsYmFja01hbmFnZXIpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaGFpbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5wdXRLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiaW5wdXRcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3V0cHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcIm91dHB1dFwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0cmltT3V0cHV0c1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoYWlucyA9IGZpZWxkcy5jaGFpbnM7XG4gICAgICAgIHRoaXMudHJpbU91dHB1dHMgPSBmaWVsZHMudHJpbU91dHB1dHMgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlQ2hhaW5zKCk7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgX3ZhbGlkYXRlQ2hhaW5zKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNoYWluIG9mIHRoaXMuY2hhaW5zKSB7XG4gICAgICAgICAgICBpZiAoY2hhaW4uaW5wdXRLZXlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhaW5zIHVzZWQgaW4gU2ltcGxlU2VxdWVudGlhbENoYWluIHNob3VsZCBhbGwgaGF2ZSBvbmUgaW5wdXQsIGdvdCAke2NoYWluLmlucHV0S2V5cy5sZW5ndGh9IGZvciAke2NoYWluLl9jaGFpblR5cGUoKX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhaW4ub3V0cHV0S2V5cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYWlucyB1c2VkIGluIFNpbXBsZVNlcXVlbnRpYWxDaGFpbiBzaG91bGQgYWxsIGhhdmUgb25lIG91dHB1dCwgZ290ICR7Y2hhaW4ub3V0cHV0S2V5cy5sZW5ndGh9IGZvciAke2NoYWluLl9jaGFpblR5cGUoKX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgbGV0IGlucHV0ID0gdmFsdWVzW3RoaXMuaW5wdXRLZXldO1xuICAgICAgICBmb3IgKGNvbnN0IGNoYWluIG9mIHRoaXMuY2hhaW5zKSB7XG4gICAgICAgICAgICBpbnB1dCA9IGF3YWl0IGNoYWluLnJ1bihpbnB1dCwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSk7XG4gICAgICAgICAgICBpZiAodGhpcy50cmltT3V0cHV0cykge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gaW5wdXQudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlVGV4dChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgW3RoaXMub3V0cHV0S2V5XTogaW5wdXQgfTtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwic2ltcGxlX3NlcXVlbnRpYWxfY2hhaW5cIjtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY2hhaW5zID0gW107XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRDaGFpbnMgPSBkYXRhLmNoYWlucztcbiAgICAgICAgZm9yIChjb25zdCBzZXJpYWxpemVkQ2hhaW4gb2Ygc2VyaWFsaXplZENoYWlucykge1xuICAgICAgICAgICAgY29uc3QgZGVzZXJpYWxpemVkQ2hhaW4gPSBhd2FpdCBCYXNlQ2hhaW4uZGVzZXJpYWxpemUoc2VyaWFsaXplZENoYWluKTtcbiAgICAgICAgICAgIGNoYWlucy5wdXNoKGRlc2VyaWFsaXplZENoYWluKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNpbXBsZVNlcXVlbnRpYWxDaGFpbih7IGNoYWlucyB9KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBjb25zdCBjaGFpbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBjaGFpbiBvZiB0aGlzLmNoYWlucykge1xuICAgICAgICAgICAgY2hhaW5zLnB1c2goY2hhaW4uc2VyaWFsaXplKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fY2hhaW5UeXBlKCksXG4gICAgICAgICAgICBjaGFpbnMsXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEJhc2VDaGFpbiB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IExMTUNoYWluIH0gZnJvbSBcIi4vbGxtX2NoYWluLmpzXCI7XG5pbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuLi9wcm9tcHRzL3Byb21wdC5qc1wiO1xuLyoqXG4gKiBDaGFpbiB0aGF0IGNvbWJpbmVzIGRvY3VtZW50cyBieSBzdHVmZmluZyBpbnRvIGNvbnRleHQuXG4gKiBAYXVnbWVudHMgQmFzZUNoYWluXG4gKiBAYXVnbWVudHMgU3R1ZmZEb2N1bWVudHNDaGFpbklucHV0XG4gKi9cbmV4cG9ydCBjbGFzcyBTdHVmZkRvY3VtZW50c0NoYWluIGV4dGVuZHMgQmFzZUNoYWluIHtcbiAgICBnZXQgaW5wdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuaW5wdXRLZXksIC4uLnRoaXMubGxtQ2hhaW4uaW5wdXRLZXlzXTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxsbUNoYWluLm91dHB1dEtleXM7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsbG1DaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJpbnB1dF9kb2N1bWVudHNcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZG9jdW1lbnRWYXJpYWJsZU5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiY29udGV4dFwiXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxsbUNoYWluID0gZmllbGRzLmxsbUNoYWluO1xuICAgICAgICB0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcy5kb2N1bWVudFZhcmlhYmxlTmFtZSA/PyB0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lO1xuICAgICAgICB0aGlzLmlucHV0S2V5ID0gZmllbGRzLmlucHV0S2V5ID8/IHRoaXMuaW5wdXRLZXk7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwodmFsdWVzLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGlmICghKHRoaXMuaW5wdXRLZXkgaW4gdmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEb2N1bWVudCBrZXkgJHt0aGlzLmlucHV0S2V5fSBub3QgZm91bmQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBbdGhpcy5pbnB1dEtleV06IGRvY3MsIC4uLnJlc3QgfSA9IHZhbHVlcztcbiAgICAgICAgY29uc3QgdGV4dHMgPSBkb2NzLm1hcCgoeyBwYWdlQ29udGVudCB9KSA9PiBwYWdlQ29udGVudCk7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0ZXh0cy5qb2luKFwiXFxuXFxuXCIpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmxsbUNoYWluLmNhbGwoe1xuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgIFt0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lXTogdGV4dCxcbiAgICAgICAgfSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9jaGFpblR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInN0dWZmX2RvY3VtZW50c19jaGFpblwiO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEubGxtX2NoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGxsbV9jaGFpblwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFN0dWZmRG9jdW1lbnRzQ2hhaW4oe1xuICAgICAgICAgICAgbGxtQ2hhaW46IGF3YWl0IExMTUNoYWluLmRlc2VyaWFsaXplKGRhdGEubGxtX2NoYWluKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9jaGFpblR5cGUoKSxcbiAgICAgICAgICAgIGxsbV9jaGFpbjogdGhpcy5sbG1DaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIENvbWJpbmUgZG9jdW1lbnRzIGJ5IG1hcHBpbmcgYSBjaGFpbiBvdmVyIHRoZW0sIHRoZW4gY29tYmluaW5nIHJlc3VsdHMuXG4gKiBAYXVnbWVudHMgQmFzZUNoYWluXG4gKiBAYXVnbWVudHMgU3R1ZmZEb2N1bWVudHNDaGFpbklucHV0XG4gKi9cbmV4cG9ydCBjbGFzcyBNYXBSZWR1Y2VEb2N1bWVudHNDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmlucHV0S2V5LCAuLi50aGlzLmNvbWJpbmVEb2N1bWVudENoYWluLmlucHV0S2V5c107XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21iaW5lRG9jdW1lbnRDaGFpbi5vdXRwdXRLZXlzO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGxtQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5wdXRLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiaW5wdXRfZG9jdW1lbnRzXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRvY3VtZW50VmFyaWFibGVOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImNvbnRleHRcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmV0dXJuSW50ZXJtZWRpYXRlU3RlcHNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhUb2tlbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDMwMDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heEl0ZXJhdGlvbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDEwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlbnN1cmVNYXBTdGVwXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29tYmluZURvY3VtZW50Q2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sbG1DaGFpbiA9IGZpZWxkcy5sbG1DaGFpbjtcbiAgICAgICAgdGhpcy5jb21iaW5lRG9jdW1lbnRDaGFpbiA9IGZpZWxkcy5jb21iaW5lRG9jdW1lbnRDaGFpbjtcbiAgICAgICAgdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZSA9XG4gICAgICAgICAgICBmaWVsZHMuZG9jdW1lbnRWYXJpYWJsZU5hbWUgPz8gdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZTtcbiAgICAgICAgdGhpcy5lbnN1cmVNYXBTdGVwID0gZmllbGRzLmVuc3VyZU1hcFN0ZXAgPz8gdGhpcy5lbnN1cmVNYXBTdGVwO1xuICAgICAgICB0aGlzLmlucHV0S2V5ID0gZmllbGRzLmlucHV0S2V5ID8/IHRoaXMuaW5wdXRLZXk7XG4gICAgICAgIHRoaXMubWF4VG9rZW5zID0gZmllbGRzLm1heFRva2VucyA/PyB0aGlzLm1heFRva2VucztcbiAgICAgICAgdGhpcy5tYXhJdGVyYXRpb25zID0gZmllbGRzLm1heEl0ZXJhdGlvbnMgPz8gdGhpcy5tYXhJdGVyYXRpb25zO1xuICAgICAgICB0aGlzLnJldHVybkludGVybWVkaWF0ZVN0ZXBzID0gZmllbGRzLnJldHVybkludGVybWVkaWF0ZVN0ZXBzID8/IGZhbHNlO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKHZhbHVlcywgcnVuTWFuYWdlcikge1xuICAgICAgICBpZiAoISh0aGlzLmlucHV0S2V5IGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRG9jdW1lbnQga2V5ICR7dGhpcy5pbnB1dEtleX0gbm90IGZvdW5kLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgW3RoaXMuaW5wdXRLZXldOiBkb2NzLCAuLi5yZXN0IH0gPSB2YWx1ZXM7XG4gICAgICAgIGxldCBjdXJyZW50RG9jcyA9IGRvY3M7XG4gICAgICAgIGxldCBpbnRlcm1lZGlhdGVTdGVwcyA9IFtdO1xuICAgICAgICAvLyBGb3IgZWFjaCBpdGVyYXRpb24sIHdlJ2xsIHVzZSB0aGUgYGxsbUNoYWluYCB0byBnZXQgYSBuZXcgcmVzdWx0XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tYXhJdGVyYXRpb25zOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0cyA9IGN1cnJlbnREb2NzLm1hcCgoZCkgPT4gKHtcbiAgICAgICAgICAgICAgICBbdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZV06IGQucGFnZUNvbnRlbnQsXG4gICAgICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgdG9rZW5zIHJlcXVpcmVkIGluIHRoZSBpbnB1dFxuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBpbnB1dHMubWFwKGFzeW5jIChpKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbXB0ID0gYXdhaXQgdGhpcy5sbG1DaGFpbi5wcm9tcHQuZm9ybWF0KGkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxsbUNoYWluLmxsbS5nZXROdW1Ub2tlbnMocHJvbXB0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKHJlc3VsdHMpID0+IHJlc3VsdHMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkpO1xuICAgICAgICAgICAgY29uc3QgY2FuU2tpcE1hcFN0ZXAgPSBpICE9PSAwIHx8ICF0aGlzLmVuc3VyZU1hcFN0ZXA7XG4gICAgICAgICAgICBjb25zdCB3aXRoaW5Ub2tlbkxpbWl0ID0gbGVuZ3RoIDwgdGhpcy5tYXhUb2tlbnM7XG4gICAgICAgICAgICAvLyBJZiB3ZSBjYW4gc2tpcCB0aGUgbWFwIHN0ZXAsIGFuZCB3ZSdyZSB3aXRoaW4gdGhlIHRva2VuIGxpbWl0LCB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gbmVlZCB0byBydW4gdGhlIG1hcCBzdGVwLCBzbyBqdXN0IGJyZWFrIG91dCBvZiB0aGUgbG9vcC5cbiAgICAgICAgICAgIGlmIChjYW5Ta2lwTWFwU3RlcCAmJiB3aXRoaW5Ub2tlbkxpbWl0KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5sbG1DaGFpbi5hcHBseShpbnB1dHMsIHJ1bk1hbmFnZXIgPyBbcnVuTWFuYWdlci5nZXRDaGlsZCgpXSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBjb25zdCB7IG91dHB1dEtleSB9ID0gdGhpcy5sbG1DaGFpbjtcbiAgICAgICAgICAgIC8vIElmIHRoZSBmbGFnIGlzIHNldCwgdGhlbiBjb25jYXQgdGhhdCB0byB0aGUgaW50ZXJtZWRpYXRlIHN0ZXBzXG4gICAgICAgICAgICBpZiAodGhpcy5yZXR1cm5JbnRlcm1lZGlhdGVTdGVwcykge1xuICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZVN0ZXBzID0gaW50ZXJtZWRpYXRlU3RlcHMuY29uY2F0KHJlc3VsdHMubWFwKChyKSA9PiByW291dHB1dEtleV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnREb2NzID0gcmVzdWx0cy5tYXAoKHIpID0+ICh7XG4gICAgICAgICAgICAgICAgcGFnZUNvbnRlbnQ6IHJbb3V0cHV0S2V5XSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3csIHdpdGggdGhlIGZpbmFsIHJlc3VsdCBvZiBhbGwgdGhlIGlucHV0cyBmcm9tIHRoZSBgbGxtQ2hhaW5gLCB3ZSBjYW5cbiAgICAgICAgLy8gcnVuIHRoZSBgY29tYmluZURvY3VtZW50Q2hhaW5gIG92ZXIgdGhlbS5cbiAgICAgICAgY29uc3QgbmV3SW5wdXRzID0geyBpbnB1dF9kb2N1bWVudHM6IGN1cnJlbnREb2NzLCAuLi5yZXN0IH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY29tYmluZURvY3VtZW50Q2hhaW4uY2FsbChuZXdJbnB1dHMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpO1xuICAgICAgICAvLyBSZXR1cm4gdGhlIGludGVybWVkaWF0ZSBzdGVwcyByZXN1bHRzIGlmIHRoZSBmbGFnIGlzIHNldFxuICAgICAgICBpZiAodGhpcy5yZXR1cm5JbnRlcm1lZGlhdGVTdGVwcykge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzdWx0LCBpbnRlcm1lZGlhdGVTdGVwcyB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9jaGFpblR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcIm1hcF9yZWR1Y2VfZG9jdW1lbnRzX2NoYWluXCI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YS5sbG1fY2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgbGxtX2NoYWluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YS5jb21iaW5lX2RvY3VtZW50X2NoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGNvbWJpbmVfZG9jdW1lbnRfY2hhaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBNYXBSZWR1Y2VEb2N1bWVudHNDaGFpbih7XG4gICAgICAgICAgICBsbG1DaGFpbjogYXdhaXQgTExNQ2hhaW4uZGVzZXJpYWxpemUoZGF0YS5sbG1fY2hhaW4pLFxuICAgICAgICAgICAgY29tYmluZURvY3VtZW50Q2hhaW46IGF3YWl0IEJhc2VDaGFpbi5kZXNlcmlhbGl6ZShkYXRhLmNvbWJpbmVfZG9jdW1lbnRfY2hhaW4pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2NoYWluVHlwZSgpLFxuICAgICAgICAgICAgbGxtX2NoYWluOiB0aGlzLmxsbUNoYWluLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgY29tYmluZV9kb2N1bWVudF9jaGFpbjogdGhpcy5jb21iaW5lRG9jdW1lbnRDaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIENvbWJpbmUgZG9jdW1lbnRzIGJ5IGRvaW5nIGEgZmlyc3QgcGFzcyBhbmQgdGhlbiByZWZpbmluZyBvbiBtb3JlIGRvY3VtZW50cy5cbiAqIEBhdWdtZW50cyBCYXNlQ2hhaW5cbiAqIEBhdWdtZW50cyBSZWZpbmVEb2N1bWVudHNDaGFpbklucHV0XG4gKi9cbmV4cG9ydCBjbGFzcyBSZWZpbmVEb2N1bWVudHNDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgZ2V0IGRlZmF1bHREb2N1bWVudFByb21wdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFZhcmlhYmxlczogW1wicGFnZV9jb250ZW50XCJdLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwie3BhZ2VfY29udGVudH1cIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpbnB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5pbnB1dEtleSwgLi4udGhpcy5yZWZpbmVMTE1DaGFpbi5pbnB1dEtleXNdO1xuICAgIH1cbiAgICBnZXQgb3V0cHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLm91dHB1dEtleV07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsbG1DaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJpbnB1dF9kb2N1bWVudHNcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3V0cHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcIm91dHB1dF90ZXh0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRvY3VtZW50VmFyaWFibGVOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImNvbnRleHRcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5pdGlhbFJlc3BvbnNlTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJleGlzdGluZ19hbnN3ZXJcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVmaW5lTExNQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZG9jdW1lbnRQcm9tcHRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZGVmYXVsdERvY3VtZW50UHJvbXB0XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxsbUNoYWluID0gZmllbGRzLmxsbUNoYWluO1xuICAgICAgICB0aGlzLnJlZmluZUxMTUNoYWluID0gZmllbGRzLnJlZmluZUxMTUNoYWluO1xuICAgICAgICB0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcy5kb2N1bWVudFZhcmlhYmxlTmFtZSA/PyB0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lO1xuICAgICAgICB0aGlzLmlucHV0S2V5ID0gZmllbGRzLmlucHV0S2V5ID8/IHRoaXMuaW5wdXRLZXk7XG4gICAgICAgIHRoaXMub3V0cHV0S2V5ID0gZmllbGRzLm91dHB1dEtleSA/PyB0aGlzLm91dHB1dEtleTtcbiAgICAgICAgdGhpcy5kb2N1bWVudFByb21wdCA9IGZpZWxkcy5kb2N1bWVudFByb21wdCA/PyB0aGlzLmRvY3VtZW50UHJvbXB0O1xuICAgICAgICB0aGlzLmluaXRpYWxSZXNwb25zZU5hbWUgPVxuICAgICAgICAgICAgZmllbGRzLmluaXRpYWxSZXNwb25zZU5hbWUgPz8gdGhpcy5pbml0aWFsUmVzcG9uc2VOYW1lO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jb25zdHJ1Y3RJbml0aWFsSW5wdXRzKGRvYywgcmVzdCkge1xuICAgICAgICBjb25zdCBiYXNlSW5mbyA9IHtcbiAgICAgICAgICAgIHBhZ2VfY29udGVudDogZG9jLnBhZ2VDb250ZW50LFxuICAgICAgICAgICAgLi4uZG9jLm1ldGFkYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBkb2N1bWVudEluZm8gPSB7fTtcbiAgICAgICAgdGhpcy5kb2N1bWVudFByb21wdC5pbnB1dFZhcmlhYmxlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnRJbmZvW3ZhbHVlXSA9IGJhc2VJbmZvW3ZhbHVlXTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJhc2VJbnB1dHMgPSB7XG4gICAgICAgICAgICBbdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZV06IGF3YWl0IHRoaXMuZG9jdW1lbnRQcm9tcHQuZm9ybWF0KHtcbiAgICAgICAgICAgICAgICAuLi5kb2N1bWVudEluZm8sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0geyAuLi5iYXNlSW5wdXRzLCAuLi5yZXN0IH07XG4gICAgICAgIHJldHVybiBpbnB1dHM7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NvbnN0cnVjdFJlZmluZUlucHV0cyhkb2MsIHJlcykge1xuICAgICAgICBjb25zdCBiYXNlSW5mbyA9IHtcbiAgICAgICAgICAgIHBhZ2VfY29udGVudDogZG9jLnBhZ2VDb250ZW50LFxuICAgICAgICAgICAgLi4uZG9jLm1ldGFkYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBkb2N1bWVudEluZm8gPSB7fTtcbiAgICAgICAgdGhpcy5kb2N1bWVudFByb21wdC5pbnB1dFZhcmlhYmxlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnRJbmZvW3ZhbHVlXSA9IGJhc2VJbmZvW3ZhbHVlXTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJhc2VJbnB1dHMgPSB7XG4gICAgICAgICAgICBbdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZV06IGF3YWl0IHRoaXMuZG9jdW1lbnRQcm9tcHQuZm9ybWF0KHtcbiAgICAgICAgICAgICAgICAuLi5kb2N1bWVudEluZm8sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0geyBbdGhpcy5pbml0aWFsUmVzcG9uc2VOYW1lXTogcmVzLCAuLi5iYXNlSW5wdXRzIH07XG4gICAgICAgIHJldHVybiBpbnB1dHM7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwodmFsdWVzLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGlmICghKHRoaXMuaW5wdXRLZXkgaW4gdmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEb2N1bWVudCBrZXkgJHt0aGlzLmlucHV0S2V5fSBub3QgZm91bmQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBbdGhpcy5pbnB1dEtleV06IGRvY3MsIC4uLnJlc3QgfSA9IHZhbHVlcztcbiAgICAgICAgY29uc3QgY3VycmVudERvY3MgPSBkb2NzO1xuICAgICAgICBjb25zdCBpbml0aWFsSW5wdXRzID0gYXdhaXQgdGhpcy5fY29uc3RydWN0SW5pdGlhbElucHV0cyhjdXJyZW50RG9jc1swXSwgcmVzdCk7XG4gICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLmxsbUNoYWluLnByZWRpY3QoeyAuLi5pbml0aWFsSW5wdXRzIH0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpO1xuICAgICAgICBjb25zdCByZWZpbmVTdGVwcyA9IFtyZXNdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGN1cnJlbnREb2NzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCByZWZpbmVJbnB1dHMgPSBhd2FpdCB0aGlzLl9jb25zdHJ1Y3RSZWZpbmVJbnB1dHMoY3VycmVudERvY3NbaV0sIHJlcyk7XG4gICAgICAgICAgICBjb25zdCBpbnB1dHMgPSB7IC4uLnJlZmluZUlucHV0cywgLi4ucmVzdCB9O1xuICAgICAgICAgICAgcmVzID0gYXdhaXQgdGhpcy5yZWZpbmVMTE1DaGFpbi5wcmVkaWN0KHsgLi4uaW5wdXRzIH0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpO1xuICAgICAgICAgICAgcmVmaW5lU3RlcHMucHVzaChyZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IFt0aGlzLm91dHB1dEtleV06IHJlcyB9O1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJyZWZpbmVfZG9jdW1lbnRzX2NoYWluXCI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IFNlcmlhbGl6ZWRMTE1DaGFpbiA9IGRhdGEubGxtX2NoYWluO1xuICAgICAgICBpZiAoIVNlcmlhbGl6ZWRMTE1DaGFpbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBsbG1fY2hhaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgU2VyaWFsaXplZFJlZmluZURvY3VtZW50Q2hhaW4gPSBkYXRhLnJlZmluZV9sbG1fY2hhaW47XG4gICAgICAgIGlmICghU2VyaWFsaXplZFJlZmluZURvY3VtZW50Q2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVmaW5lX2xsbV9jaGFpblwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlZmluZURvY3VtZW50c0NoYWluKHtcbiAgICAgICAgICAgIGxsbUNoYWluOiBhd2FpdCBMTE1DaGFpbi5kZXNlcmlhbGl6ZShTZXJpYWxpemVkTExNQ2hhaW4pLFxuICAgICAgICAgICAgcmVmaW5lTExNQ2hhaW46IGF3YWl0IExMTUNoYWluLmRlc2VyaWFsaXplKFNlcmlhbGl6ZWRSZWZpbmVEb2N1bWVudENoYWluKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9jaGFpblR5cGUoKSxcbiAgICAgICAgICAgIGxsbV9jaGFpbjogdGhpcy5sbG1DaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIHJlZmluZV9sbG1fY2hhaW46IHRoaXMucmVmaW5lTExNQ2hhaW4uc2VyaWFsaXplKCksXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEFJQ2hhdE1lc3NhZ2UsIEJhc2VQcm9tcHRWYWx1ZSwgQ2hhdE1lc3NhZ2UsIEh1bWFuQ2hhdE1lc3NhZ2UsIFN5c3RlbUNoYXRNZXNzYWdlLCB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbmltcG9ydCB7IEJhc2VQcm9tcHRUZW1wbGF0ZSwgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuL3Byb21wdC5qc1wiO1xuZXhwb3J0IGNsYXNzIEJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsXG4gICAgICAgICAgICAuLi5KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMpKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2hhdFByb21wdFZhbHVlIGV4dGVuZHMgQmFzZVByb21wdFZhbHVlIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXNzYWdlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gbWVzc2FnZXM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5tZXNzYWdlcyk7XG4gICAgfVxuICAgIHRvQ2hhdE1lc3NhZ2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWVzc2FnZXNQbGFjZWhvbGRlciBleHRlbmRzIEJhc2VNZXNzYWdlUHJvbXB0VGVtcGxhdGUge1xuICAgIGNvbnN0cnVjdG9yKHZhcmlhYmxlTmFtZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2YXJpYWJsZU5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52YXJpYWJsZU5hbWUgPSB2YXJpYWJsZU5hbWU7XG4gICAgfVxuICAgIGdldCBpbnB1dFZhcmlhYmxlcygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLnZhcmlhYmxlTmFtZV07XG4gICAgfVxuICAgIGZvcm1hdE1lc3NhZ2VzKHZhbHVlcykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlc1t0aGlzLnZhcmlhYmxlTmFtZV0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IocHJvbXB0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb21wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb21wdCA9IHByb21wdDtcbiAgICB9XG4gICAgZ2V0IGlucHV0VmFyaWFibGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9tcHQuaW5wdXRWYXJpYWJsZXM7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdE1lc3NhZ2VzKHZhbHVlcykge1xuICAgICAgICByZXR1cm4gW2F3YWl0IHRoaXMuZm9ybWF0KHZhbHVlcyldO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYXNlQ2hhdFByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZVByb21wdFRlbXBsYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcihpbnB1dCk7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdCh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIChhd2FpdCB0aGlzLmZvcm1hdFByb21wdFZhbHVlKHZhbHVlcykpLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGFzeW5jIGZvcm1hdFByb21wdFZhbHVlKHZhbHVlcykge1xuICAgICAgICBjb25zdCByZXN1bHRNZXNzYWdlcyA9IGF3YWl0IHRoaXMuZm9ybWF0TWVzc2FnZXModmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGF0UHJvbXB0VmFsdWUocmVzdWx0TWVzc2FnZXMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSB7XG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IENoYXRNZXNzYWdlKGF3YWl0IHRoaXMucHJvbXB0LmZvcm1hdCh2YWx1ZXMpLCB0aGlzLnJvbGUpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihwcm9tcHQsIHJvbGUpIHtcbiAgICAgICAgc3VwZXIocHJvbXB0KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicm9sZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJvbGUgPSByb2xlO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVRlbXBsYXRlKHRlbXBsYXRlLCByb2xlKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGUpLCByb2xlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSHVtYW5NZXNzYWdlUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlIHtcbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHVtYW5DaGF0TWVzc2FnZShhd2FpdCB0aGlzLnByb21wdC5mb3JtYXQodmFsdWVzKSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHByb21wdCkge1xuICAgICAgICBzdXBlcihwcm9tcHQpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGUpKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBCYXNlTWVzc2FnZVN0cmluZ1Byb21wdFRlbXBsYXRlIHtcbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQUlDaGF0TWVzc2FnZShhd2FpdCB0aGlzLnByb21wdC5mb3JtYXQodmFsdWVzKSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHByb21wdCkge1xuICAgICAgICBzdXBlcihwcm9tcHQpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUodGVtcGxhdGUpKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlIGV4dGVuZHMgQmFzZU1lc3NhZ2VTdHJpbmdQcm9tcHRUZW1wbGF0ZSB7XG4gICAgYXN5bmMgZm9ybWF0KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IFN5c3RlbUNoYXRNZXNzYWdlKGF3YWl0IHRoaXMucHJvbXB0LmZvcm1hdCh2YWx1ZXMpKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocHJvbXB0KSB7XG4gICAgICAgIHN1cGVyKHByb21wdCk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGF0UHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBCYXNlQ2hhdFByb21wdFRlbXBsYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcihpbnB1dCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb21wdE1lc3NhZ2VzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZhbGlkYXRlVGVtcGxhdGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgaW5wdXQpO1xuICAgICAgICBpZiAodGhpcy52YWxpZGF0ZVRlbXBsYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dFZhcmlhYmxlc01lc3NhZ2VzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9tcHRNZXNzYWdlIG9mIHRoaXMucHJvbXB0TWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlucHV0VmFyaWFibGUgb2YgcHJvbXB0TWVzc2FnZS5pbnB1dFZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dFZhcmlhYmxlc01lc3NhZ2VzLmFkZChpbnB1dFZhcmlhYmxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbnB1dFZhcmlhYmxlc0luc3RhbmNlID0gbmV3IFNldCh0aGlzLnBhcnRpYWxWYXJpYWJsZXNcbiAgICAgICAgICAgICAgICA/IHRoaXMuaW5wdXRWYXJpYWJsZXMuY29uY2F0KE9iamVjdC5rZXlzKHRoaXMucGFydGlhbFZhcmlhYmxlcykpXG4gICAgICAgICAgICAgICAgOiB0aGlzLmlucHV0VmFyaWFibGVzKTtcbiAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBuZXcgU2V0KFsuLi5pbnB1dFZhcmlhYmxlc0luc3RhbmNlXS5maWx0ZXIoKHgpID0+ICFpbnB1dFZhcmlhYmxlc01lc3NhZ2VzLmhhcyh4KSkpO1xuICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2Uuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYElucHV0IHZhcmlhYmxlcyBcXGAke1tcbiAgICAgICAgICAgICAgICAgICAgLi4uZGlmZmVyZW5jZSxcbiAgICAgICAgICAgICAgICBdfVxcYCBhcmUgbm90IHVzZWQgaW4gYW55IG9mIHRoZSBwcm9tcHQgbWVzc2FnZXMuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvdGhlckRpZmZlcmVuY2UgPSBuZXcgU2V0KFsuLi5pbnB1dFZhcmlhYmxlc01lc3NhZ2VzXS5maWx0ZXIoKHgpID0+ICFpbnB1dFZhcmlhYmxlc0luc3RhbmNlLmhhcyh4KSkpO1xuICAgICAgICAgICAgaWYgKG90aGVyRGlmZmVyZW5jZS5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5wdXQgdmFyaWFibGVzIFxcYCR7W1xuICAgICAgICAgICAgICAgICAgICAuLi5vdGhlckRpZmZlcmVuY2UsXG4gICAgICAgICAgICAgICAgXX1cXGAgYXJlIHVzZWQgaW4gcHJvbXB0IG1lc3NhZ2VzIGJ1dCBub3QgaW4gdGhlIHByb21wdCB0ZW1wbGF0ZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfZ2V0UHJvbXB0VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiY2hhdFwiO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXRNZXNzYWdlcyh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgYWxsVmFsdWVzID0gYXdhaXQgdGhpcy5tZXJnZVBhcnRpYWxBbmRVc2VyVmFyaWFibGVzKHZhbHVlcyk7XG4gICAgICAgIGxldCByZXN1bHRNZXNzYWdlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHByb21wdE1lc3NhZ2Ugb2YgdGhpcy5wcm9tcHRNZXNzYWdlcykge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSBwcm9tcHRNZXNzYWdlLmlucHV0VmFyaWFibGVzLnJlZHVjZSgoYWNjLCBpbnB1dFZhcmlhYmxlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoaW5wdXRWYXJpYWJsZSBpbiBhbGxWYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB2YWx1ZSBmb3IgaW5wdXQgdmFyaWFibGUgXFxgJHtpbnB1dFZhcmlhYmxlfVxcYGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhY2NbaW5wdXRWYXJpYWJsZV0gPSBhbGxWYWx1ZXNbaW5wdXRWYXJpYWJsZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBwcm9tcHRNZXNzYWdlLmZvcm1hdE1lc3NhZ2VzKGlucHV0VmFsdWVzKTtcbiAgICAgICAgICAgIHJlc3VsdE1lc3NhZ2VzID0gcmVzdWx0TWVzc2FnZXMuY29uY2F0KG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRNZXNzYWdlcztcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy5vdXRwdXRQYXJzZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2hhdFByb21wdFRlbXBsYXRlIGNhbm5vdCBiZSBzZXJpYWxpemVkIGlmIG91dHB1dFBhcnNlciBpcyBzZXRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlucHV0X3ZhcmlhYmxlczogdGhpcy5pbnB1dFZhcmlhYmxlcyxcbiAgICAgICAgICAgIHByb21wdF9tZXNzYWdlczogdGhpcy5wcm9tcHRNZXNzYWdlcy5tYXAoKG0pID0+IG0uc2VyaWFsaXplKCkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBwYXJ0aWFsKHZhbHVlcykge1xuICAgICAgICAvLyBUaGlzIGlzIGltcGxlbWVudGVkIGluIGEgd2F5IGl0IGRvZXNuJ3QgcmVxdWlyZSBtYWtpbmdcbiAgICAgICAgLy8gQmFzZU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSBhd2FyZSBvZiAucGFydGlhbCgpXG4gICAgICAgIGNvbnN0IHByb21wdERpY3QgPSB7IC4uLnRoaXMgfTtcbiAgICAgICAgcHJvbXB0RGljdC5pbnB1dFZhcmlhYmxlcyA9IHRoaXMuaW5wdXRWYXJpYWJsZXMuZmlsdGVyKChpdikgPT4gIShpdiBpbiB2YWx1ZXMpKTtcbiAgICAgICAgcHJvbXB0RGljdC5wYXJ0aWFsVmFyaWFibGVzID0ge1xuICAgICAgICAgICAgLi4uKHRoaXMucGFydGlhbFZhcmlhYmxlcyA/PyB7fSksXG4gICAgICAgICAgICAuLi52YWx1ZXMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdFByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVByb21wdE1lc3NhZ2VzKHByb21wdE1lc3NhZ2VzKSB7XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZE1lc3NhZ2VzID0gcHJvbXB0TWVzc2FnZXMucmVkdWNlKChhY2MsIHByb21wdE1lc3NhZ2UpID0+IGFjYy5jb25jYXQoXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgcHJvbXB0TWVzc2FnZSBpbnN0YW5jZW9mIENoYXRQcm9tcHRUZW1wbGF0ZVxuICAgICAgICAgICAgPyBwcm9tcHRNZXNzYWdlLnByb21wdE1lc3NhZ2VzXG4gICAgICAgICAgICA6IFtwcm9tcHRNZXNzYWdlXSksIFtdKTtcbiAgICAgICAgY29uc3QgZmxhdHRlbmVkUGFydGlhbFZhcmlhYmxlcyA9IHByb21wdE1lc3NhZ2VzLnJlZHVjZSgoYWNjLCBwcm9tcHRNZXNzYWdlKSA9PiBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWluc3RhbmNlb2Yvbm8taW5zdGFuY2VvZlxuICAgICAgICBwcm9tcHRNZXNzYWdlIGluc3RhbmNlb2YgQ2hhdFByb21wdFRlbXBsYXRlXG4gICAgICAgICAgICA/IE9iamVjdC5hc3NpZ24oYWNjLCBwcm9tcHRNZXNzYWdlLnBhcnRpYWxWYXJpYWJsZXMpXG4gICAgICAgICAgICA6IGFjYywgT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICAgIGNvbnN0IGlucHV0VmFyaWFibGVzID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHByb21wdE1lc3NhZ2Ugb2YgZmxhdHRlbmVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5wdXRWYXJpYWJsZSBvZiBwcm9tcHRNZXNzYWdlLmlucHV0VmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0VmFyaWFibGUgaW4gZmxhdHRlbmVkUGFydGlhbFZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXMuYWRkKGlucHV0VmFyaWFibGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdFByb21wdFRlbXBsYXRlKHtcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBbLi4uaW5wdXRWYXJpYWJsZXNdLFxuICAgICAgICAgICAgcHJvbXB0TWVzc2FnZXM6IGZsYXR0ZW5lZE1lc3NhZ2VzLFxuICAgICAgICAgICAgcGFydGlhbFZhcmlhYmxlczogZmxhdHRlbmVkUGFydGlhbFZhcmlhYmxlcyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwgImV4cG9ydCBjbGFzcyBCYXNlUHJvbXB0U2VsZWN0b3Ige1xuICAgIGFzeW5jIGdldFByb21wdEFzeW5jKGxsbSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBwcm9tcHQgPSB0aGlzLmdldFByb21wdChsbG0pO1xuICAgICAgICByZXR1cm4gcHJvbXB0LnBhcnRpYWwob3B0aW9ucz8ucGFydGlhbFZhcmlhYmxlcyA/PyB7fSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IgZXh0ZW5kcyBCYXNlUHJvbXB0U2VsZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGRlZmF1bHRfcHJvbXB0LCBjb25kaXRpb25hbHMgPSBbXSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZWZhdWx0UHJvbXB0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbmRpdGlvbmFsc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlZmF1bHRQcm9tcHQgPSBkZWZhdWx0X3Byb21wdDtcbiAgICAgICAgdGhpcy5jb25kaXRpb25hbHMgPSBjb25kaXRpb25hbHM7XG4gICAgfVxuICAgIGdldFByb21wdChsbG0pIHtcbiAgICAgICAgZm9yIChjb25zdCBbY29uZGl0aW9uLCBwcm9tcHRdIG9mIHRoaXMuY29uZGl0aW9uYWxzKSB7XG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uKGxsbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbXB0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRQcm9tcHQ7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTExNKGxsbSkge1xuICAgIHJldHVybiBsbG0uX21vZGVsVHlwZSgpID09PSBcImJhc2VfbGxtXCI7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDaGF0TW9kZWwobGxtKSB7XG4gICAgcmV0dXJuIGxsbS5fbW9kZWxUeXBlKCkgPT09IFwiYmFzZV9jaGF0X21vZGVsXCI7XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgc3BhY2VkLWNvbW1lbnQgKi9cbmltcG9ydCB7IFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4uLy4uL3Byb21wdHMvcHJvbXB0LmpzXCI7XG5pbXBvcnQgeyBDaGF0UHJvbXB0VGVtcGxhdGUsIFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgSHVtYW5NZXNzYWdlUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIi4uLy4uL3Byb21wdHMvY2hhdC5qc1wiO1xuaW1wb3J0IHsgQ29uZGl0aW9uYWxQcm9tcHRTZWxlY3RvciwgaXNDaGF0TW9kZWwsIH0gZnJvbSBcIi4uLy4uL3Byb21wdHMvc2VsZWN0b3JzL2NvbmRpdGlvbmFsLmpzXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9RQV9QUk9NUFQgPSAvKiNfX1BVUkVfXyovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgdGVtcGxhdGU6IFwiVXNlIHRoZSBmb2xsb3dpbmcgcGllY2VzIG9mIGNvbnRleHQgdG8gYW5zd2VyIHRoZSBxdWVzdGlvbiBhdCB0aGUgZW5kLiBJZiB5b3UgZG9uJ3Qga25vdyB0aGUgYW5zd2VyLCBqdXN0IHNheSB0aGF0IHlvdSBkb24ndCBrbm93LCBkb24ndCB0cnkgdG8gbWFrZSB1cCBhbiBhbnN3ZXIuXFxuXFxue2NvbnRleHR9XFxuXFxuUXVlc3Rpb246IHtxdWVzdGlvbn1cXG5IZWxwZnVsIEFuc3dlcjpcIixcbiAgICBpbnB1dFZhcmlhYmxlczogW1wiY29udGV4dFwiLCBcInF1ZXN0aW9uXCJdLFxufSk7XG5jb25zdCBzeXN0ZW1fdGVtcGxhdGUgPSBgVXNlIHRoZSBmb2xsb3dpbmcgcGllY2VzIG9mIGNvbnRleHQgdG8gYW5zd2VyIHRoZSB1c2VycyBxdWVzdGlvbi4gXG5JZiB5b3UgZG9uJ3Qga25vdyB0aGUgYW5zd2VyLCBqdXN0IHNheSB0aGF0IHlvdSBkb24ndCBrbm93LCBkb24ndCB0cnkgdG8gbWFrZSB1cCBhbiBhbnN3ZXIuXG4tLS0tLS0tLS0tLS0tLS0tXG57Y29udGV4dH1gO1xuY29uc3QgbWVzc2FnZXMgPSBbXG4gICAgLyojX19QVVJFX18qLyBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHN5c3RlbV90ZW1wbGF0ZSksXG4gICAgLyojX19QVVJFX18qLyBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ7cXVlc3Rpb259XCIpLFxuXTtcbmNvbnN0IENIQVRfUFJPTVBUID0gXG4vKiNfX1BVUkVfXyovIENoYXRQcm9tcHRUZW1wbGF0ZS5mcm9tUHJvbXB0TWVzc2FnZXMobWVzc2FnZXMpO1xuZXhwb3J0IGNvbnN0IFFBX1BST01QVF9TRUxFQ1RPUiA9IC8qI19fUFVSRV9fKi8gbmV3IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IoREVGQVVMVF9RQV9QUk9NUFQsIFtbaXNDaGF0TW9kZWwsIENIQVRfUFJPTVBUXV0pO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIHNwYWNlZC1jb21tZW50ICovXG5pbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuLi8uLi9wcm9tcHRzL3Byb21wdC5qc1wiO1xuaW1wb3J0IHsgQ2hhdFByb21wdFRlbXBsYXRlLCBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUsIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLCB9IGZyb20gXCIuLi8uLi9wcm9tcHRzL2NoYXQuanNcIjtcbmltcG9ydCB7IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IsIGlzQ2hhdE1vZGVsLCB9IGZyb20gXCIuLi8uLi9wcm9tcHRzL3NlbGVjdG9ycy9jb25kaXRpb25hbC5qc1wiO1xuY29uc3QgcWFfdGVtcGxhdGUgPSBgVXNlIHRoZSBmb2xsb3dpbmcgcG9ydGlvbiBvZiBhIGxvbmcgZG9jdW1lbnQgdG8gc2VlIGlmIGFueSBvZiB0aGUgdGV4dCBpcyByZWxldmFudCB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9uLiBcblJldHVybiBhbnkgcmVsZXZhbnQgdGV4dCB2ZXJiYXRpbS5cbntjb250ZXh0fVxuUXVlc3Rpb246IHtxdWVzdGlvbn1cblJlbGV2YW50IHRleHQsIGlmIGFueTpgO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ09NQklORV9RQV9QUk9NUFQgPSBcbi8qI19fUFVSRV9fKi9cblByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShxYV90ZW1wbGF0ZSk7XG5jb25zdCBzeXN0ZW1fdGVtcGxhdGUgPSBgVXNlIHRoZSBmb2xsb3dpbmcgcG9ydGlvbiBvZiBhIGxvbmcgZG9jdW1lbnQgdG8gc2VlIGlmIGFueSBvZiB0aGUgdGV4dCBpcyByZWxldmFudCB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9uLiBcblJldHVybiBhbnkgcmVsZXZhbnQgdGV4dCB2ZXJiYXRpbS5cbi0tLS0tLS0tLS0tLS0tLS1cbntjb250ZXh0fWA7XG5jb25zdCBtZXNzYWdlcyA9IFtcbiAgICAvKiNfX1BVUkVfXyovIFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoc3lzdGVtX3RlbXBsYXRlKSxcbiAgICAvKiNfX1BVUkVfXyovIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcIntxdWVzdGlvbn1cIiksXG5dO1xuY29uc3QgQ0hBVF9RQV9QUk9NUFQgPSBcbi8qI19fUFVSRV9fKi8gQ2hhdFByb21wdFRlbXBsYXRlLmZyb21Qcm9tcHRNZXNzYWdlcyhtZXNzYWdlcyk7XG5leHBvcnQgY29uc3QgQ09NQklORV9RQV9QUk9NUFRfU0VMRUNUT1IgPSBcbi8qI19fUFVSRV9fKi8gbmV3IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IoREVGQVVMVF9DT01CSU5FX1FBX1BST01QVCwgW1xuICAgIFtpc0NoYXRNb2RlbCwgQ0hBVF9RQV9QUk9NUFRdLFxuXSk7XG5jb25zdCBjb21iaW5lX3Byb21wdCA9IGBHaXZlbiB0aGUgZm9sbG93aW5nIGV4dHJhY3RlZCBwYXJ0cyBvZiBhIGxvbmcgZG9jdW1lbnQgYW5kIGEgcXVlc3Rpb24sIGNyZWF0ZSBhIGZpbmFsIGFuc3dlci4gXG5JZiB5b3UgZG9uJ3Qga25vdyB0aGUgYW5zd2VyLCBqdXN0IHNheSB0aGF0IHlvdSBkb24ndCBrbm93LiBEb24ndCB0cnkgdG8gbWFrZSB1cCBhbiBhbnN3ZXIuXG5cblFVRVNUSU9OOiBXaGljaCBzdGF0ZS9jb3VudHJ5J3MgbGF3IGdvdmVybnMgdGhlIGludGVycHJldGF0aW9uIG9mIHRoZSBjb250cmFjdD9cbj09PT09PT09PVxuQ29udGVudDogVGhpcyBBZ3JlZW1lbnQgaXMgZ292ZXJuZWQgYnkgRW5nbGlzaCBsYXcgYW5kIHRoZSBwYXJ0aWVzIHN1Ym1pdCB0byB0aGUgZXhjbHVzaXZlIGp1cmlzZGljdGlvbiBvZiB0aGUgRW5nbGlzaCBjb3VydHMgaW4gIHJlbGF0aW9uIHRvIGFueSBkaXNwdXRlIChjb250cmFjdHVhbCBvciBub24tY29udHJhY3R1YWwpIGNvbmNlcm5pbmcgdGhpcyBBZ3JlZW1lbnQgc2F2ZSB0aGF0IGVpdGhlciBwYXJ0eSBtYXkgYXBwbHkgdG8gYW55IGNvdXJ0IGZvciBhbiAgaW5qdW5jdGlvbiBvciBvdGhlciByZWxpZWYgdG8gcHJvdGVjdCBpdHMgSW50ZWxsZWN0dWFsIFByb3BlcnR5IFJpZ2h0cy5cblxuQ29udGVudDogTm8gV2FpdmVyLiBGYWlsdXJlIG9yIGRlbGF5IGluIGV4ZXJjaXNpbmcgYW55IHJpZ2h0IG9yIHJlbWVkeSB1bmRlciB0aGlzIEFncmVlbWVudCBzaGFsbCBub3QgY29uc3RpdHV0ZSBhIHdhaXZlciBvZiBzdWNoIChvciBhbnkgb3RoZXIpICByaWdodCBvciByZW1lZHkuXFxuXFxuMTEuNyBTZXZlcmFiaWxpdHkuIFRoZSBpbnZhbGlkaXR5LCBpbGxlZ2FsaXR5IG9yIHVuZW5mb3JjZWFiaWxpdHkgb2YgYW55IHRlcm0gKG9yIHBhcnQgb2YgYSB0ZXJtKSBvZiB0aGlzIEFncmVlbWVudCBzaGFsbCBub3QgYWZmZWN0IHRoZSBjb250aW51YXRpb24gIGluIGZvcmNlIG9mIHRoZSByZW1haW5kZXIgb2YgdGhlIHRlcm0gKGlmIGFueSkgYW5kIHRoaXMgQWdyZWVtZW50LlxcblxcbjExLjggTm8gQWdlbmN5LiBFeGNlcHQgYXMgZXhwcmVzc2x5IHN0YXRlZCBvdGhlcndpc2UsIG5vdGhpbmcgaW4gdGhpcyBBZ3JlZW1lbnQgc2hhbGwgY3JlYXRlIGFuIGFnZW5jeSwgcGFydG5lcnNoaXAgb3Igam9pbnQgdmVudHVyZSBvZiBhbnkgIGtpbmQgYmV0d2VlbiB0aGUgcGFydGllcy5cXG5cXG4xMS45IE5vIFRoaXJkLVBhcnR5IEJlbmVmaWNpYXJpZXMuXG5cbkNvbnRlbnQ6IChiKSBpZiBHb29nbGUgYmVsaWV2ZXMsIGluIGdvb2QgZmFpdGgsIHRoYXQgdGhlIERpc3RyaWJ1dG9yIGhhcyB2aW9sYXRlZCBvciBjYXVzZWQgR29vZ2xlIHRvIHZpb2xhdGUgYW55IEFudGktQnJpYmVyeSBMYXdzIChhcyAgZGVmaW5lZCBpbiBDbGF1c2UgOC41KSBvciB0aGF0IHN1Y2ggYSB2aW9sYXRpb24gaXMgcmVhc29uYWJseSBsaWtlbHkgdG8gb2NjdXIsXG49PT09PT09PT1cbkZJTkFMIEFOU1dFUjogVGhpcyBBZ3JlZW1lbnQgaXMgZ292ZXJuZWQgYnkgRW5nbGlzaCBsYXcuXG5cblFVRVNUSU9OOiBXaGF0IGRpZCB0aGUgcHJlc2lkZW50IHNheSBhYm91dCBNaWNoYWVsIEphY2tzb24/XG49PT09PT09PT1cbkNvbnRlbnQ6IE1hZGFtIFNwZWFrZXIsIE1hZGFtIFZpY2UgUHJlc2lkZW50LCBvdXIgRmlyc3QgTGFkeSBhbmQgU2Vjb25kIEdlbnRsZW1hbi4gTWVtYmVycyBvZiBDb25ncmVzcyBhbmQgdGhlIENhYmluZXQuIEp1c3RpY2VzIG9mIHRoZSBTdXByZW1lIENvdXJ0LiBNeSBmZWxsb3cgQW1lcmljYW5zLiAgXFxuXFxuTGFzdCB5ZWFyIENPVklELTE5IGtlcHQgdXMgYXBhcnQuIFRoaXMgeWVhciB3ZSBhcmUgZmluYWxseSB0b2dldGhlciBhZ2Fpbi4gXFxuXFxuVG9uaWdodCwgd2UgbWVldCBhcyBEZW1vY3JhdHMgUmVwdWJsaWNhbnMgYW5kIEluZGVwZW5kZW50cy4gQnV0IG1vc3QgaW1wb3J0YW50bHkgYXMgQW1lcmljYW5zLiBcXG5cXG5XaXRoIGEgZHV0eSB0byBvbmUgYW5vdGhlciB0byB0aGUgQW1lcmljYW4gcGVvcGxlIHRvIHRoZSBDb25zdGl0dXRpb24uIFxcblxcbkFuZCB3aXRoIGFuIHVud2F2ZXJpbmcgcmVzb2x2ZSB0aGF0IGZyZWVkb20gd2lsbCBhbHdheXMgdHJpdW1waCBvdmVyIHR5cmFubnkuIFxcblxcblNpeCBkYXlzIGFnbywgUnVzc2lhXHUyMDE5cyBWbGFkaW1pciBQdXRpbiBzb3VnaHQgdG8gc2hha2UgdGhlIGZvdW5kYXRpb25zIG9mIHRoZSBmcmVlIHdvcmxkIHRoaW5raW5nIGhlIGNvdWxkIG1ha2UgaXQgYmVuZCB0byBoaXMgbWVuYWNpbmcgd2F5cy4gQnV0IGhlIGJhZGx5IG1pc2NhbGN1bGF0ZWQuIFxcblxcbkhlIHRob3VnaHQgaGUgY291bGQgcm9sbCBpbnRvIFVrcmFpbmUgYW5kIHRoZSB3b3JsZCB3b3VsZCByb2xsIG92ZXIuIEluc3RlYWQgaGUgbWV0IGEgd2FsbCBvZiBzdHJlbmd0aCBoZSBuZXZlciBpbWFnaW5lZC4gXFxuXFxuSGUgbWV0IHRoZSBVa3JhaW5pYW4gcGVvcGxlLiBcXG5cXG5Gcm9tIFByZXNpZGVudCBaZWxlbnNreXkgdG8gZXZlcnkgVWtyYWluaWFuLCB0aGVpciBmZWFybGVzc25lc3MsIHRoZWlyIGNvdXJhZ2UsIHRoZWlyIGRldGVybWluYXRpb24sIGluc3BpcmVzIHRoZSB3b3JsZC4gXFxuXFxuR3JvdXBzIG9mIGNpdGl6ZW5zIGJsb2NraW5nIHRhbmtzIHdpdGggdGhlaXIgYm9kaWVzLiBFdmVyeW9uZSBmcm9tIHN0dWRlbnRzIHRvIHJldGlyZWVzIHRlYWNoZXJzIHR1cm5lZCBzb2xkaWVycyBkZWZlbmRpbmcgdGhlaXIgaG9tZWxhbmQuXG5cbkNvbnRlbnQ6IEFuZCB3ZSB3b25cdTIwMTl0IHN0b3AuIFxcblxcbldlIGhhdmUgbG9zdCBzbyBtdWNoIHRvIENPVklELTE5LiBUaW1lIHdpdGggb25lIGFub3RoZXIuIEFuZCB3b3JzdCBvZiBhbGwsIHNvIG11Y2ggbG9zcyBvZiBsaWZlLiBcXG5cXG5MZXRcdTIwMTlzIHVzZSB0aGlzIG1vbWVudCB0byByZXNldC4gTGV0XHUyMDE5cyBzdG9wIGxvb2tpbmcgYXQgQ09WSUQtMTkgYXMgYSBwYXJ0aXNhbiBkaXZpZGluZyBsaW5lIGFuZCBzZWUgaXQgZm9yIHdoYXQgaXQgaXM6IEEgR29kLWF3ZnVsIGRpc2Vhc2UuICBcXG5cXG5MZXRcdTIwMTlzIHN0b3Agc2VlaW5nIGVhY2ggb3RoZXIgYXMgZW5lbWllcywgYW5kIHN0YXJ0IHNlZWluZyBlYWNoIG90aGVyIGZvciB3aG8gd2UgcmVhbGx5IGFyZTogRmVsbG93IEFtZXJpY2Fucy4gIFxcblxcbldlIGNhblx1MjAxOXQgY2hhbmdlIGhvdyBkaXZpZGVkIHdlXHUyMDE5dmUgYmVlbi4gQnV0IHdlIGNhbiBjaGFuZ2UgaG93IHdlIG1vdmUgZm9yd2FyZFx1MjAxNG9uIENPVklELTE5IGFuZCBvdGhlciBpc3N1ZXMgd2UgbXVzdCBmYWNlIHRvZ2V0aGVyLiBcXG5cXG5JIHJlY2VudGx5IHZpc2l0ZWQgdGhlIE5ldyBZb3JrIENpdHkgUG9saWNlIERlcGFydG1lbnQgZGF5cyBhZnRlciB0aGUgZnVuZXJhbHMgb2YgT2ZmaWNlciBXaWxiZXJ0IE1vcmEgYW5kIGhpcyBwYXJ0bmVyLCBPZmZpY2VyIEphc29uIFJpdmVyYS4gXFxuXFxuVGhleSB3ZXJlIHJlc3BvbmRpbmcgdG8gYSA5LTEtMSBjYWxsIHdoZW4gYSBtYW4gc2hvdCBhbmQga2lsbGVkIHRoZW0gd2l0aCBhIHN0b2xlbiBndW4uIFxcblxcbk9mZmljZXIgTW9yYSB3YXMgMjcgeWVhcnMgb2xkLiBcXG5cXG5PZmZpY2VyIFJpdmVyYSB3YXMgMjIuIFxcblxcbkJvdGggRG9taW5pY2FuIEFtZXJpY2FucyB3aG9cdTIwMTlkIGdyb3duIHVwIG9uIHRoZSBzYW1lIHN0cmVldHMgdGhleSBsYXRlciBjaG9zZSB0byBwYXRyb2wgYXMgcG9saWNlIG9mZmljZXJzLiBcXG5cXG5JIHNwb2tlIHdpdGggdGhlaXIgZmFtaWxpZXMgYW5kIHRvbGQgdGhlbSB0aGF0IHdlIGFyZSBmb3JldmVyIGluIGRlYnQgZm9yIHRoZWlyIHNhY3JpZmljZSwgYW5kIHdlIHdpbGwgY2Fycnkgb24gdGhlaXIgbWlzc2lvbiB0byByZXN0b3JlIHRoZSB0cnVzdCBhbmQgc2FmZXR5IGV2ZXJ5IGNvbW11bml0eSBkZXNlcnZlcy5cblxuQ29udGVudDogQW5kIGEgcHJvdWQgVWtyYWluaWFuIHBlb3BsZSwgd2hvIGhhdmUga25vd24gMzAgeWVhcnMgIG9mIGluZGVwZW5kZW5jZSwgaGF2ZSByZXBlYXRlZGx5IHNob3duIHRoYXQgdGhleSB3aWxsIG5vdCB0b2xlcmF0ZSBhbnlvbmUgd2hvIHRyaWVzIHRvIHRha2UgdGhlaXIgY291bnRyeSBiYWNrd2FyZHMuICBcXG5cXG5UbyBhbGwgQW1lcmljYW5zLCBJIHdpbGwgYmUgaG9uZXN0IHdpdGggeW91LCBhcyBJXHUyMDE5dmUgYWx3YXlzIHByb21pc2VkLiBBIFJ1c3NpYW4gZGljdGF0b3IsIGludmFkaW5nIGEgZm9yZWlnbiBjb3VudHJ5LCBoYXMgY29zdHMgYXJvdW5kIHRoZSB3b3JsZC4gXFxuXFxuQW5kIElcdTIwMTltIHRha2luZyByb2J1c3QgYWN0aW9uIHRvIG1ha2Ugc3VyZSB0aGUgcGFpbiBvZiBvdXIgc2FuY3Rpb25zICBpcyB0YXJnZXRlZCBhdCBSdXNzaWFcdTIwMTlzIGVjb25vbXkuIEFuZCBJIHdpbGwgdXNlIGV2ZXJ5IHRvb2wgYXQgb3VyIGRpc3Bvc2FsIHRvIHByb3RlY3QgQW1lcmljYW4gYnVzaW5lc3NlcyBhbmQgY29uc3VtZXJzLiBcXG5cXG5Ub25pZ2h0LCBJIGNhbiBhbm5vdW5jZSB0aGF0IHRoZSBVbml0ZWQgU3RhdGVzIGhhcyB3b3JrZWQgd2l0aCAzMCBvdGhlciBjb3VudHJpZXMgdG8gcmVsZWFzZSA2MCBNaWxsaW9uIGJhcnJlbHMgb2Ygb2lsIGZyb20gcmVzZXJ2ZXMgYXJvdW5kIHRoZSB3b3JsZC4gIFxcblxcbkFtZXJpY2Egd2lsbCBsZWFkIHRoYXQgZWZmb3J0LCByZWxlYXNpbmcgMzAgTWlsbGlvbiBiYXJyZWxzIGZyb20gb3VyIG93biBTdHJhdGVnaWMgUGV0cm9sZXVtIFJlc2VydmUuIEFuZCB3ZSBzdGFuZCByZWFkeSB0byBkbyBtb3JlIGlmIG5lY2Vzc2FyeSwgdW5pZmllZCB3aXRoIG91ciBhbGxpZXMuICBcXG5cXG5UaGVzZSBzdGVwcyB3aWxsIGhlbHAgYmx1bnQgZ2FzIHByaWNlcyBoZXJlIGF0IGhvbWUuIEFuZCBJIGtub3cgdGhlIG5ld3MgYWJvdXQgd2hhdFx1MjAxOXMgaGFwcGVuaW5nIGNhbiBzZWVtIGFsYXJtaW5nLiBcXG5cXG5CdXQgSSB3YW50IHlvdSB0byBrbm93IHRoYXQgd2UgYXJlIGdvaW5nIHRvIGJlIG9rYXkuXG5cbkNvbnRlbnQ6IE1vcmUgc3VwcG9ydCBmb3IgcGF0aWVudHMgYW5kIGZhbWlsaWVzLiBcXG5cXG5UbyBnZXQgdGhlcmUsIEkgY2FsbCBvbiBDb25ncmVzcyB0byBmdW5kIEFSUEEtSCwgdGhlIEFkdmFuY2VkIFJlc2VhcmNoIFByb2plY3RzIEFnZW5jeSBmb3IgSGVhbHRoLiBcXG5cXG5JdFx1MjAxOXMgYmFzZWQgb24gREFSUEFcdTIwMTR0aGUgRGVmZW5zZSBEZXBhcnRtZW50IHByb2plY3QgdGhhdCBsZWQgdG8gdGhlIEludGVybmV0LCBHUFMsIGFuZCBzbyBtdWNoIG1vcmUuICBcXG5cXG5BUlBBLUggd2lsbCBoYXZlIGEgc2luZ3VsYXIgcHVycG9zZVx1MjAxNHRvIGRyaXZlIGJyZWFrdGhyb3VnaHMgaW4gY2FuY2VyLCBBbHpoZWltZXJcdTIwMTlzLCBkaWFiZXRlcywgYW5kIG1vcmUuIFxcblxcbkEgdW5pdHkgYWdlbmRhIGZvciB0aGUgbmF0aW9uLiBcXG5cXG5XZSBjYW4gZG8gdGhpcy4gXFxuXFxuTXkgZmVsbG93IEFtZXJpY2Fuc1x1MjAxNHRvbmlnaHQgLCB3ZSBoYXZlIGdhdGhlcmVkIGluIGEgc2FjcmVkIHNwYWNlXHUyMDE0dGhlIGNpdGFkZWwgb2Ygb3VyIGRlbW9jcmFjeS4gXFxuXFxuSW4gdGhpcyBDYXBpdG9sLCBnZW5lcmF0aW9uIGFmdGVyIGdlbmVyYXRpb24sIEFtZXJpY2FucyBoYXZlIGRlYmF0ZWQgZ3JlYXQgcXVlc3Rpb25zIGFtaWQgZ3JlYXQgc3RyaWZlLCBhbmQgaGF2ZSBkb25lIGdyZWF0IHRoaW5ncy4gXFxuXFxuV2UgaGF2ZSBmb3VnaHQgZm9yIGZyZWVkb20sIGV4cGFuZGVkIGxpYmVydHksIGRlZmVhdGVkIHRvdGFsaXRhcmlhbmlzbSBhbmQgdGVycm9yLiBcXG5cXG5BbmQgYnVpbHQgdGhlIHN0cm9uZ2VzdCwgZnJlZXN0LCBhbmQgbW9zdCBwcm9zcGVyb3VzIG5hdGlvbiB0aGUgd29ybGQgaGFzIGV2ZXIga25vd24uIFxcblxcbk5vdyBpcyB0aGUgaG91ci4gXFxuXFxuT3VyIG1vbWVudCBvZiByZXNwb25zaWJpbGl0eS4gXFxuXFxuT3VyIHRlc3Qgb2YgcmVzb2x2ZSBhbmQgY29uc2NpZW5jZSwgb2YgaGlzdG9yeSBpdHNlbGYuIFxcblxcbkl0IGlzIGluIHRoaXMgbW9tZW50IHRoYXQgb3VyIGNoYXJhY3RlciBpcyBmb3JtZWQuIE91ciBwdXJwb3NlIGlzIGZvdW5kLiBPdXIgZnV0dXJlIGlzIGZvcmdlZC4gXFxuXFxuV2VsbCBJIGtub3cgdGhpcyBuYXRpb24uXG49PT09PT09PT1cbkZJTkFMIEFOU1dFUjogVGhlIHByZXNpZGVudCBkaWQgbm90IG1lbnRpb24gTWljaGFlbCBKYWNrc29uLlxuXG5RVUVTVElPTjoge3F1ZXN0aW9ufVxuPT09PT09PT09XG57c3VtbWFyaWVzfVxuPT09PT09PT09XG5GSU5BTCBBTlNXRVI6YDtcbmV4cG9ydCBjb25zdCBDT01CSU5FX1BST01QVCA9IFxuLyojX19QVVJFX18qLyBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoY29tYmluZV9wcm9tcHQpO1xuY29uc3Qgc3lzdGVtX2NvbWJpbmVfdGVtcGxhdGUgPSBgR2l2ZW4gdGhlIGZvbGxvd2luZyBleHRyYWN0ZWQgcGFydHMgb2YgYSBsb25nIGRvY3VtZW50IGFuZCBhIHF1ZXN0aW9uLCBjcmVhdGUgYSBmaW5hbCBhbnN3ZXIuIFxuSWYgeW91IGRvbid0IGtub3cgdGhlIGFuc3dlciwganVzdCBzYXkgdGhhdCB5b3UgZG9uJ3Qga25vdy4gRG9uJ3QgdHJ5IHRvIG1ha2UgdXAgYW4gYW5zd2VyLlxuLS0tLS0tLS0tLS0tLS0tLVxue3N1bW1hcmllc31gO1xuY29uc3QgY29tYmluZV9tZXNzYWdlcyA9IFtcbiAgICAvKiNfX1BVUkVfXyovIFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoc3lzdGVtX2NvbWJpbmVfdGVtcGxhdGUpLFxuICAgIC8qI19fUFVSRV9fKi8gSHVtYW5NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFwie3F1ZXN0aW9ufVwiKSxcbl07XG5jb25zdCBDSEFUX0NPTUJJTkVfUFJPTVBUID0gXG4vKiNfX1BVUkVfXyovIENoYXRQcm9tcHRUZW1wbGF0ZS5mcm9tUHJvbXB0TWVzc2FnZXMoY29tYmluZV9tZXNzYWdlcyk7XG5leHBvcnQgY29uc3QgQ09NQklORV9QUk9NUFRfU0VMRUNUT1IgPSBcbi8qI19fUFVSRV9fKi8gbmV3IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IoQ09NQklORV9QUk9NUFQsIFtcbiAgICBbaXNDaGF0TW9kZWwsIENIQVRfQ09NQklORV9QUk9NUFRdLFxuXSk7XG4iLCAiZnVuY3Rpb24gZ2V0TGVuZ3RoQmFzZWQodGV4dCkge1xuICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cXG58IC8pLmxlbmd0aDtcbn1cbmV4cG9ydCBjbGFzcyBMZW5ndGhCYXNlZEV4YW1wbGVTZWxlY3RvciB7XG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGFtcGxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW11cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImV4YW1wbGVQcm9tcHRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0VGV4dExlbmd0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZ2V0TGVuZ3RoQmFzZWRcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heExlbmd0aFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMjA0OFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXhhbXBsZVRleHRMZW5ndGhzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5leGFtcGxlUHJvbXB0ID0gZGF0YS5leGFtcGxlUHJvbXB0O1xuICAgICAgICB0aGlzLm1heExlbmd0aCA9IGRhdGEubWF4TGVuZ3RoID8/IDIwNDg7XG4gICAgICAgIHRoaXMuZ2V0VGV4dExlbmd0aCA9IGRhdGEuZ2V0VGV4dExlbmd0aCA/PyBnZXRMZW5ndGhCYXNlZDtcbiAgICB9XG4gICAgYXN5bmMgYWRkRXhhbXBsZShleGFtcGxlKSB7XG4gICAgICAgIHRoaXMuZXhhbXBsZXMucHVzaChleGFtcGxlKTtcbiAgICAgICAgY29uc3Qgc3RyaW5nRXhhbXBsZSA9IGF3YWl0IHRoaXMuZXhhbXBsZVByb21wdC5mb3JtYXQoZXhhbXBsZSk7XG4gICAgICAgIHRoaXMuZXhhbXBsZVRleHRMZW5ndGhzLnB1c2godGhpcy5nZXRUZXh0TGVuZ3RoKHN0cmluZ0V4YW1wbGUpKTtcbiAgICB9XG4gICAgYXN5bmMgY2FsY3VsYXRlRXhhbXBsZVRleHRMZW5ndGhzKHYsIHZhbHVlcykge1xuICAgICAgICBpZiAodi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGV4YW1wbGVzLCBleGFtcGxlUHJvbXB0IH0gPSB2YWx1ZXM7XG4gICAgICAgIGNvbnN0IHN0cmluZ0V4YW1wbGVzID0gYXdhaXQgUHJvbWlzZS5hbGwoZXhhbXBsZXMubWFwKChlZykgPT4gZXhhbXBsZVByb21wdC5mb3JtYXQoZWcpKSk7XG4gICAgICAgIHJldHVybiBzdHJpbmdFeGFtcGxlcy5tYXAoKGVnKSA9PiB0aGlzLmdldFRleHRMZW5ndGgoZWcpKTtcbiAgICB9XG4gICAgYXN5bmMgc2VsZWN0RXhhbXBsZXMoaW5wdXRWYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgaW5wdXRzID0gT2JqZWN0LnZhbHVlcyhpbnB1dFZhcmlhYmxlcykuam9pbihcIiBcIik7XG4gICAgICAgIGxldCByZW1haW5pbmdMZW5ndGggPSB0aGlzLm1heExlbmd0aCAtIHRoaXMuZ2V0VGV4dExlbmd0aChpbnB1dHMpO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGNvbnN0IGV4YW1wbGVzID0gW107XG4gICAgICAgIHdoaWxlIChyZW1haW5pbmdMZW5ndGggPiAwICYmIGkgPCB0aGlzLmV4YW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbmV3TGVuZ3RoID0gcmVtYWluaW5nTGVuZ3RoIC0gdGhpcy5leGFtcGxlVGV4dExlbmd0aHNbaV07XG4gICAgICAgICAgICBpZiAobmV3TGVuZ3RoIDwgMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXhhbXBsZXMucHVzaCh0aGlzLmV4YW1wbGVzW2ldKTtcbiAgICAgICAgICAgICAgICByZW1haW5pbmdMZW5ndGggPSBuZXdMZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4YW1wbGVzO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZnJvbUV4YW1wbGVzKGV4YW1wbGVzLCBhcmdzKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gbmV3IExlbmd0aEJhc2VkRXhhbXBsZVNlbGVjdG9yKGFyZ3MpO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChleGFtcGxlcy5tYXAoKGVnKSA9PiBzZWxlY3Rvci5hZGRFeGFtcGxlKGVnKSkpO1xuICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfVxufVxuIiwgIi8qKlxuICogSW50ZXJmYWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIGEgZG9jdW1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEb2N1bWVudCB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhZ2VDb250ZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1ldGFkYXRhXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGFnZUNvbnRlbnQgPSBmaWVsZHMucGFnZUNvbnRlbnRcbiAgICAgICAgICAgID8gZmllbGRzLnBhZ2VDb250ZW50LnRvU3RyaW5nKClcbiAgICAgICAgICAgIDogdGhpcy5wYWdlQ29udGVudDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IGZpZWxkcy5tZXRhZGF0YSA/PyB7fTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgRG9jdW1lbnQgfSBmcm9tIFwiLi4vLi4vZG9jdW1lbnQuanNcIjtcbmZ1bmN0aW9uIHNvcnRlZFZhbHVlcyh2YWx1ZXMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModmFsdWVzKVxuICAgICAgICAuc29ydCgpXG4gICAgICAgIC5tYXAoKGtleSkgPT4gdmFsdWVzW2tleV0pO1xufVxuZXhwb3J0IGNsYXNzIFNlbWFudGljU2ltaWxhcml0eUV4YW1wbGVTZWxlY3RvciB7XG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2ZWN0b3JTdG9yZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJrXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiA0XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJleGFtcGxlS2V5c1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZWN0b3JTdG9yZSA9IGRhdGEudmVjdG9yU3RvcmU7XG4gICAgICAgIHRoaXMuayA9IGRhdGEuayA/PyA0O1xuICAgICAgICB0aGlzLmV4YW1wbGVLZXlzID0gZGF0YS5leGFtcGxlS2V5cztcbiAgICAgICAgdGhpcy5pbnB1dEtleXMgPSBkYXRhLmlucHV0S2V5cztcbiAgICB9XG4gICAgYXN5bmMgYWRkRXhhbXBsZShleGFtcGxlKSB7XG4gICAgICAgIGNvbnN0IGlucHV0S2V5cyA9IHRoaXMuaW5wdXRLZXlzID8/IE9iamVjdC5rZXlzKGV4YW1wbGUpO1xuICAgICAgICBjb25zdCBzdHJpbmdFeGFtcGxlID0gc29ydGVkVmFsdWVzKGlucHV0S2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoeyAuLi5hY2MsIFtrZXldOiBleGFtcGxlW2tleV0gfSksIHt9KSkuam9pbihcIiBcIik7XG4gICAgICAgIGF3YWl0IHRoaXMudmVjdG9yU3RvcmUuYWRkRG9jdW1lbnRzKFtcbiAgICAgICAgICAgIG5ldyBEb2N1bWVudCh7XG4gICAgICAgICAgICAgICAgcGFnZUNvbnRlbnQ6IHN0cmluZ0V4YW1wbGUsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHsgZXhhbXBsZSB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBhc3luYyBzZWxlY3RFeGFtcGxlcyhpbnB1dFZhcmlhYmxlcykge1xuICAgICAgICBjb25zdCBpbnB1dEtleXMgPSB0aGlzLmlucHV0S2V5cyA/PyBPYmplY3Qua2V5cyhpbnB1dFZhcmlhYmxlcyk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gc29ydGVkVmFsdWVzKGlucHV0S2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoeyAuLi5hY2MsIFtrZXldOiBpbnB1dFZhcmlhYmxlc1trZXldIH0pLCB7fSkpLmpvaW4oXCIgXCIpO1xuICAgICAgICBjb25zdCBleGFtcGxlRG9jcyA9IGF3YWl0IHRoaXMudmVjdG9yU3RvcmUuc2ltaWxhcml0eVNlYXJjaChxdWVyeSwgdGhpcy5rKTtcbiAgICAgICAgY29uc3QgZXhhbXBsZXMgPSBleGFtcGxlRG9jcy5tYXAoKGRvYykgPT4gZG9jLm1ldGFkYXRhKTtcbiAgICAgICAgaWYgKHRoaXMuZXhhbXBsZUtleXMpIHtcbiAgICAgICAgICAgIC8vIElmIGV4YW1wbGUga2V5cyBhcmUgcHJvdmlkZWQsIGZpbHRlciBleGFtcGxlcyB0byB0aG9zZSBrZXlzLlxuICAgICAgICAgICAgcmV0dXJuIGV4YW1wbGVzLm1hcCgoZXhhbXBsZSkgPT4gdGhpcy5leGFtcGxlS2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoeyAuLi5hY2MsIFtrZXldOiBleGFtcGxlW2tleV0gfSksIHt9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4YW1wbGVzO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZnJvbUV4YW1wbGVzKGV4YW1wbGVzLCBlbWJlZGRpbmdzLCB2ZWN0b3JTdG9yZUNscywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGlucHV0S2V5cyA9IG9wdGlvbnMuaW5wdXRLZXlzID8/IG51bGw7XG4gICAgICAgIGNvbnN0IHN0cmluZ0V4YW1wbGVzID0gZXhhbXBsZXMubWFwKChleGFtcGxlKSA9PiBzb3J0ZWRWYWx1ZXMoaW5wdXRLZXlzXG4gICAgICAgICAgICA/IGlucHV0S2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoeyAuLi5hY2MsIFtrZXldOiBleGFtcGxlW2tleV0gfSksIHt9KVxuICAgICAgICAgICAgOiBleGFtcGxlKS5qb2luKFwiIFwiKSk7XG4gICAgICAgIGNvbnN0IHZlY3RvclN0b3JlID0gYXdhaXQgdmVjdG9yU3RvcmVDbHMuZnJvbVRleHRzKHN0cmluZ0V4YW1wbGVzLCBleGFtcGxlcywgLy8gbWV0YWRhdGFzXG4gICAgICAgIGVtYmVkZGluZ3MsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFNlbWFudGljU2ltaWxhcml0eUV4YW1wbGVTZWxlY3Rvcih7XG4gICAgICAgICAgICB2ZWN0b3JTdG9yZSxcbiAgICAgICAgICAgIGs6IG9wdGlvbnMuayA/PyA0LFxuICAgICAgICAgICAgZXhhbXBsZUtleXM6IG9wdGlvbnMuZXhhbXBsZUtleXMsXG4gICAgICAgICAgICBpbnB1dEtleXM6IG9wdGlvbnMuaW5wdXRLZXlzLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQmFzZVByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ2hhdFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4vY2hhdC5qc1wiO1xuZXhwb3J0IGNsYXNzIFBpcGVsaW5lUHJvbXB0VGVtcGxhdGUgZXh0ZW5kcyBCYXNlUHJvbXB0VGVtcGxhdGUge1xuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKHsgLi4uaW5wdXQsIGlucHV0VmFyaWFibGVzOiBbXSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGlwZWxpbmVQcm9tcHRzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZpbmFsUHJvbXB0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGlwZWxpbmVQcm9tcHRzID0gaW5wdXQucGlwZWxpbmVQcm9tcHRzO1xuICAgICAgICB0aGlzLmZpbmFsUHJvbXB0ID0gaW5wdXQuZmluYWxQcm9tcHQ7XG4gICAgICAgIHRoaXMuaW5wdXRWYXJpYWJsZXMgPSB0aGlzLmNvbXB1dGVJbnB1dFZhbHVlcygpO1xuICAgIH1cbiAgICBjb21wdXRlSW5wdXRWYWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IGludGVybWVkaWF0ZVZhbHVlcyA9IHRoaXMucGlwZWxpbmVQcm9tcHRzLm1hcCgocGlwZWxpbmVQcm9tcHQpID0+IHBpcGVsaW5lUHJvbXB0Lm5hbWUpO1xuICAgICAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHRoaXMucGlwZWxpbmVQcm9tcHRzXG4gICAgICAgICAgICAubWFwKChwaXBlbGluZVByb21wdCkgPT4gcGlwZWxpbmVQcm9tcHQucHJvbXB0LmlucHV0VmFyaWFibGVzLmZpbHRlcigoaW5wdXRWYWx1ZSkgPT4gIWludGVybWVkaWF0ZVZhbHVlcy5pbmNsdWRlcyhpbnB1dFZhbHVlKSkpXG4gICAgICAgICAgICAuZmxhdCgpO1xuICAgICAgICByZXR1cm4gWy4uLm5ldyBTZXQoaW5wdXRWYWx1ZXMpXTtcbiAgICB9XG4gICAgc3RhdGljIGV4dHJhY3RSZXF1aXJlZElucHV0VmFsdWVzKGFsbFZhbHVlcywgcmVxdWlyZWRWYWx1ZU5hbWVzKSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlZFZhbHVlTmFtZXMucmVkdWNlKChyZXF1aXJlZFZhbHVlcywgdmFsdWVOYW1lKSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgIHJlcXVpcmVkVmFsdWVzW3ZhbHVlTmFtZV0gPSBhbGxWYWx1ZXNbdmFsdWVOYW1lXTtcbiAgICAgICAgICAgIHJldHVybiByZXF1aXJlZFZhbHVlcztcbiAgICAgICAgfSwge30pO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXRQaXBlbGluZVByb21wdHModmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGFsbFZhbHVlcyA9IGF3YWl0IHRoaXMubWVyZ2VQYXJ0aWFsQW5kVXNlclZhcmlhYmxlcyh2YWx1ZXMpO1xuICAgICAgICBmb3IgKGNvbnN0IHsgbmFtZTogcGlwZWxpbmVQcm9tcHROYW1lLCBwcm9tcHQ6IHBpcGVsaW5lUHJvbXB0IH0gb2YgdGhpc1xuICAgICAgICAgICAgLnBpcGVsaW5lUHJvbXB0cykge1xuICAgICAgICAgICAgY29uc3QgcGlwZWxpbmVQcm9tcHRJbnB1dFZhbHVlcyA9IFBpcGVsaW5lUHJvbXB0VGVtcGxhdGUuZXh0cmFjdFJlcXVpcmVkSW5wdXRWYWx1ZXMoYWxsVmFsdWVzLCBwaXBlbGluZVByb21wdC5pbnB1dFZhcmlhYmxlcyk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICBpZiAocGlwZWxpbmVQcm9tcHQgaW5zdGFuY2VvZiBDaGF0UHJvbXB0VGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICBhbGxWYWx1ZXNbcGlwZWxpbmVQcm9tcHROYW1lXSA9IGF3YWl0IHBpcGVsaW5lUHJvbXB0LmZvcm1hdE1lc3NhZ2VzKHBpcGVsaW5lUHJvbXB0SW5wdXRWYWx1ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxsVmFsdWVzW3BpcGVsaW5lUHJvbXB0TmFtZV0gPSBhd2FpdCBwaXBlbGluZVByb21wdC5mb3JtYXQocGlwZWxpbmVQcm9tcHRJbnB1dFZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBpcGVsaW5lUHJvbXB0VGVtcGxhdGUuZXh0cmFjdFJlcXVpcmVkSW5wdXRWYWx1ZXMoYWxsVmFsdWVzLCB0aGlzLmZpbmFsUHJvbXB0LmlucHV0VmFyaWFibGVzKTtcbiAgICB9XG4gICAgYXN5bmMgZm9ybWF0UHJvbXB0VmFsdWUodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmFsUHJvbXB0LmZvcm1hdFByb21wdFZhbHVlKGF3YWl0IHRoaXMuZm9ybWF0UGlwZWxpbmVQcm9tcHRzKHZhbHVlcykpO1xuICAgIH1cbiAgICBhc3luYyBmb3JtYXQodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmFsUHJvbXB0LmZvcm1hdChhd2FpdCB0aGlzLmZvcm1hdFBpcGVsaW5lUHJvbXB0cyh2YWx1ZXMpKTtcbiAgICB9XG4gICAgYXN5bmMgcGFydGlhbCh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgcHJvbXB0RGljdCA9IHsgLi4udGhpcyB9O1xuICAgICAgICBwcm9tcHREaWN0LmlucHV0VmFyaWFibGVzID0gdGhpcy5pbnB1dFZhcmlhYmxlcy5maWx0ZXIoKGl2KSA9PiAhKGl2IGluIHZhbHVlcykpO1xuICAgICAgICBwcm9tcHREaWN0LnBhcnRpYWxWYXJpYWJsZXMgPSB7XG4gICAgICAgICAgICAuLi4odGhpcy5wYXJ0aWFsVmFyaWFibGVzID8/IHt9KSxcbiAgICAgICAgICAgIC4uLnZhbHVlcyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBQaXBlbGluZVByb21wdFRlbXBsYXRlKHByb21wdERpY3QpO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIF9nZXRQcm9tcHRUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJwaXBlbGluZVwiO1xuICAgIH1cbn1cbiIsICJleHBvcnQgeyBCYXNlRXhhbXBsZVNlbGVjdG9yLCBCYXNlUHJvbXB0VGVtcGxhdGUsIFN0cmluZ1Byb21wdFZhbHVlLCBCYXNlU3RyaW5nUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuZXhwb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi9wcm9tcHQuanNcIjtcbmV4cG9ydCB7IEJhc2VQcm9tcHRTZWxlY3RvciwgQ29uZGl0aW9uYWxQcm9tcHRTZWxlY3RvciwgaXNDaGF0TW9kZWwsIGlzTExNLCB9IGZyb20gXCIuL3NlbGVjdG9ycy9jb25kaXRpb25hbC5qc1wiO1xuZXhwb3J0IHsgTGVuZ3RoQmFzZWRFeGFtcGxlU2VsZWN0b3IsIH0gZnJvbSBcIi4vc2VsZWN0b3JzL0xlbmd0aEJhc2VkRXhhbXBsZVNlbGVjdG9yLmpzXCI7XG5leHBvcnQgeyBTZW1hbnRpY1NpbWlsYXJpdHlFeGFtcGxlU2VsZWN0b3IsIH0gZnJvbSBcIi4vc2VsZWN0b3JzL1NlbWFudGljU2ltaWxhcml0eUV4YW1wbGVTZWxlY3Rvci5qc1wiO1xuZXhwb3J0IHsgRmV3U2hvdFByb21wdFRlbXBsYXRlLCB9IGZyb20gXCIuL2Zld19zaG90LmpzXCI7XG5leHBvcnQgeyBDaGF0UHJvbXB0VGVtcGxhdGUsIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLCBBSU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLCBDaGF0TWVzc2FnZVByb21wdFRlbXBsYXRlLCBNZXNzYWdlc1BsYWNlaG9sZGVyLCBCYXNlQ2hhdFByb21wdFRlbXBsYXRlLCB9IGZyb20gXCIuL2NoYXQuanNcIjtcbmV4cG9ydCB7IHBhcnNlVGVtcGxhdGUsIHJlbmRlclRlbXBsYXRlLCBjaGVja1ZhbGlkVGVtcGxhdGUsIH0gZnJvbSBcIi4vdGVtcGxhdGUuanNcIjtcbmV4cG9ydCB7IFBpcGVsaW5lUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIi4vcGlwZWxpbmUuanNcIjtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBzcGFjZWQtY29tbWVudCAqL1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUsIENoYXRQcm9tcHRUZW1wbGF0ZSwgU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLCBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIi4uLy4uL3Byb21wdHMvaW5kZXguanNcIjtcbmltcG9ydCB7IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IsIGlzQ2hhdE1vZGVsLCB9IGZyb20gXCIuLi8uLi9wcm9tcHRzL3NlbGVjdG9ycy9jb25kaXRpb25hbC5qc1wiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUkVGSU5FX1BST01QVF9UTVBMID0gYFRoZSBvcmlnaW5hbCBxdWVzdGlvbiBpcyBhcyBmb2xsb3dzOiB7cXVlc3Rpb259XG5XZSBoYXZlIHByb3ZpZGVkIGFuIGV4aXN0aW5nIGFuc3dlcjoge2V4aXN0aW5nX2Fuc3dlcn1cbldlIGhhdmUgdGhlIG9wcG9ydHVuaXR5IHRvIHJlZmluZSB0aGUgZXhpc3RpbmcgYW5zd2VyXG4ob25seSBpZiBuZWVkZWQpIHdpdGggc29tZSBtb3JlIGNvbnRleHQgYmVsb3cuXG4tLS0tLS0tLS0tLS1cbntjb250ZXh0fVxuLS0tLS0tLS0tLS0tXG5HaXZlbiB0aGUgbmV3IGNvbnRleHQsIHJlZmluZSB0aGUgb3JpZ2luYWwgYW5zd2VyIHRvIGJldHRlciBhbnN3ZXIgdGhlIHF1ZXN0aW9uLiBcbklmIHRoZSBjb250ZXh0IGlzbid0IHVzZWZ1bCwgcmV0dXJuIHRoZSBvcmlnaW5hbCBhbnN3ZXIuYDtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFRklORV9QUk9NUFQgPSAvKiNfX1BVUkVfXyovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgaW5wdXRWYXJpYWJsZXM6IFtcInF1ZXN0aW9uXCIsIFwiZXhpc3RpbmdfYW5zd2VyXCIsIFwiY29udGV4dFwiXSxcbiAgICB0ZW1wbGF0ZTogREVGQVVMVF9SRUZJTkVfUFJPTVBUX1RNUEwsXG59KTtcbmNvbnN0IHJlZmluZVRlbXBsYXRlID0gYFRoZSBvcmlnaW5hbCBxdWVzdGlvbiBpcyBhcyBmb2xsb3dzOiB7cXVlc3Rpb259XG5XZSBoYXZlIHByb3ZpZGVkIGFuIGV4aXN0aW5nIGFuc3dlcjoge2V4aXN0aW5nX2Fuc3dlcn1cbldlIGhhdmUgdGhlIG9wcG9ydHVuaXR5IHRvIHJlZmluZSB0aGUgZXhpc3RpbmcgYW5zd2VyXG4ob25seSBpZiBuZWVkZWQpIHdpdGggc29tZSBtb3JlIGNvbnRleHQgYmVsb3cuXG4tLS0tLS0tLS0tLS1cbntjb250ZXh0fVxuLS0tLS0tLS0tLS0tXG5HaXZlbiB0aGUgbmV3IGNvbnRleHQsIHJlZmluZSB0aGUgb3JpZ2luYWwgYW5zd2VyIHRvIGJldHRlciBhbnN3ZXIgdGhlIHF1ZXN0aW9uLiBcbklmIHRoZSBjb250ZXh0IGlzbid0IHVzZWZ1bCwgcmV0dXJuIHRoZSBvcmlnaW5hbCBhbnN3ZXIuYDtcbmNvbnN0IG1lc3NhZ2VzID0gW1xuICAgIC8qI19fUFVSRV9fKi8gSHVtYW5NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFwie3F1ZXN0aW9ufVwiKSxcbiAgICAvKiNfX1BVUkVfXyovIEFJTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcIntleGlzdGluZ19hbnN3ZXJ9XCIpLFxuICAgIC8qI19fUFVSRV9fKi8gSHVtYW5NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHJlZmluZVRlbXBsYXRlKSxcbl07XG5leHBvcnQgY29uc3QgQ0hBVF9SRUZJTkVfUFJPTVBUID0gXG4vKiNfX1BVUkVfXyovIENoYXRQcm9tcHRUZW1wbGF0ZS5mcm9tUHJvbXB0TWVzc2FnZXMobWVzc2FnZXMpO1xuZXhwb3J0IGNvbnN0IFJFRklORV9QUk9NUFRfU0VMRUNUT1IgPSBcbi8qI19fUFVSRV9fKi8gbmV3IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IoREVGQVVMVF9SRUZJTkVfUFJPTVBULCBbXG4gICAgW2lzQ2hhdE1vZGVsLCBDSEFUX1JFRklORV9QUk9NUFRdLFxuXSk7XG5leHBvcnQgY29uc3QgREVGQVVMVF9URVhUX1FBX1BST01QVF9UTVBMID0gYENvbnRleHQgaW5mb3JtYXRpb24gaXMgYmVsb3cuIFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG57Y29udGV4dH1cbi0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuR2l2ZW4gdGhlIGNvbnRleHQgaW5mb3JtYXRpb24gYW5kIG5vdCBwcmlvciBrbm93bGVkZ2UsIGFuc3dlciB0aGUgcXVlc3Rpb246IHtxdWVzdGlvbn1gO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfVEVYVF9RQV9QUk9NUFQgPSAvKiNfX1BVUkVfXyovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgaW5wdXRWYXJpYWJsZXM6IFtcImNvbnRleHRcIiwgXCJxdWVzdGlvblwiXSxcbiAgICB0ZW1wbGF0ZTogREVGQVVMVF9URVhUX1FBX1BST01QVF9UTVBMLFxufSk7XG5jb25zdCBjaGF0X3FhX3Byb21wdF90ZW1wbGF0ZSA9IGBDb250ZXh0IGluZm9ybWF0aW9uIGlzIGJlbG93LiBcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLVxue2NvbnRleHR9XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkdpdmVuIHRoZSBjb250ZXh0IGluZm9ybWF0aW9uIGFuZCBub3QgcHJpb3Iga25vd2xlZGdlLCBhbnN3ZXIgYW55IHF1ZXN0aW9uc2A7XG5jb25zdCBjaGF0X21lc3NhZ2VzID0gW1xuICAgIC8qI19fUFVSRV9fKi8gU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShjaGF0X3FhX3Byb21wdF90ZW1wbGF0ZSksXG4gICAgLyojX19QVVJFX18qLyBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ7cXVlc3Rpb259XCIpLFxuXTtcbmV4cG9ydCBjb25zdCBDSEFUX1FVRVNUSU9OX1BST01QVCA9IFxuLyojX19QVVJFX18qLyBDaGF0UHJvbXB0VGVtcGxhdGUuZnJvbVByb21wdE1lc3NhZ2VzKGNoYXRfbWVzc2FnZXMpO1xuZXhwb3J0IGNvbnN0IFFVRVNUSU9OX1BST01QVF9TRUxFQ1RPUiA9IFxuLyojX19QVVJFX18qLyBuZXcgQ29uZGl0aW9uYWxQcm9tcHRTZWxlY3RvcihERUZBVUxUX1RFWFRfUUFfUFJPTVBULCBbXG4gICAgW2lzQ2hhdE1vZGVsLCBDSEFUX1FVRVNUSU9OX1BST01QVF0sXG5dKTtcbiIsICJpbXBvcnQgeyBMTE1DaGFpbiB9IGZyb20gXCIuLi9sbG1fY2hhaW4uanNcIjtcbmltcG9ydCB7IFN0dWZmRG9jdW1lbnRzQ2hhaW4sIE1hcFJlZHVjZURvY3VtZW50c0NoYWluLCBSZWZpbmVEb2N1bWVudHNDaGFpbiwgfSBmcm9tIFwiLi4vY29tYmluZV9kb2NzX2NoYWluLmpzXCI7XG5pbXBvcnQgeyBRQV9QUk9NUFRfU0VMRUNUT1IgfSBmcm9tIFwiLi9zdHVmZl9wcm9tcHRzLmpzXCI7XG5pbXBvcnQgeyBDT01CSU5FX1BST01QVF9TRUxFQ1RPUiwgQ09NQklORV9RQV9QUk9NUFRfU0VMRUNUT1IsIH0gZnJvbSBcIi4vbWFwX3JlZHVjZV9wcm9tcHRzLmpzXCI7XG5pbXBvcnQgeyBRVUVTVElPTl9QUk9NUFRfU0VMRUNUT1IsIFJFRklORV9QUk9NUFRfU0VMRUNUT1IsIH0gZnJvbSBcIi4vcmVmaW5lX3Byb21wdHMuanNcIjtcbmV4cG9ydCBjb25zdCBsb2FkUUFDaGFpbiA9IChsbG0sIHBhcmFtcyA9IHsgdHlwZTogXCJzdHVmZlwiIH0pID0+IHtcbiAgICBjb25zdCB7IHR5cGUgfSA9IHBhcmFtcztcbiAgICBpZiAodHlwZSA9PT0gXCJzdHVmZlwiKSB7XG4gICAgICAgIHJldHVybiBsb2FkUUFTdHVmZkNoYWluKGxsbSwgcGFyYW1zKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwibWFwX3JlZHVjZVwiKSB7XG4gICAgICAgIHJldHVybiBsb2FkUUFNYXBSZWR1Y2VDaGFpbihsbG0sIHBhcmFtcyk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBcInJlZmluZVwiKSB7XG4gICAgICAgIHJldHVybiBsb2FkUUFSZWZpbmVDaGFpbihsbG0sIHBhcmFtcyk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBfdHlwZTogJHt0eXBlfWApO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBsb2FkUUFTdHVmZkNoYWluKGxsbSwgcGFyYW1zID0ge30pIHtcbiAgICBjb25zdCB7IHByb21wdCA9IFFBX1BST01QVF9TRUxFQ1RPUi5nZXRQcm9tcHQobGxtKSwgdmVyYm9zZSB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGxsbUNoYWluID0gbmV3IExMTUNoYWluKHsgcHJvbXB0LCBsbG0sIHZlcmJvc2UgfSk7XG4gICAgY29uc3QgY2hhaW4gPSBuZXcgU3R1ZmZEb2N1bWVudHNDaGFpbih7IGxsbUNoYWluLCB2ZXJib3NlIH0pO1xuICAgIHJldHVybiBjaGFpbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2FkUUFNYXBSZWR1Y2VDaGFpbihsbG0sIHBhcmFtcyA9IHt9KSB7XG4gICAgY29uc3QgeyBjb21iaW5lTWFwUHJvbXB0ID0gQ09NQklORV9RQV9QUk9NUFRfU0VMRUNUT1IuZ2V0UHJvbXB0KGxsbSksIGNvbWJpbmVQcm9tcHQgPSBDT01CSU5FX1BST01QVF9TRUxFQ1RPUi5nZXRQcm9tcHQobGxtKSwgdmVyYm9zZSwgcmV0dXJuSW50ZXJtZWRpYXRlU3RlcHMsIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgbGxtQ2hhaW4gPSBuZXcgTExNQ2hhaW4oeyBwcm9tcHQ6IGNvbWJpbmVNYXBQcm9tcHQsIGxsbSwgdmVyYm9zZSB9KTtcbiAgICBjb25zdCBjb21iaW5lTExNQ2hhaW4gPSBuZXcgTExNQ2hhaW4oeyBwcm9tcHQ6IGNvbWJpbmVQcm9tcHQsIGxsbSwgdmVyYm9zZSB9KTtcbiAgICBjb25zdCBjb21iaW5lRG9jdW1lbnRDaGFpbiA9IG5ldyBTdHVmZkRvY3VtZW50c0NoYWluKHtcbiAgICAgICAgbGxtQ2hhaW46IGNvbWJpbmVMTE1DaGFpbixcbiAgICAgICAgZG9jdW1lbnRWYXJpYWJsZU5hbWU6IFwic3VtbWFyaWVzXCIsXG4gICAgICAgIHZlcmJvc2UsXG4gICAgfSk7XG4gICAgY29uc3QgY2hhaW4gPSBuZXcgTWFwUmVkdWNlRG9jdW1lbnRzQ2hhaW4oe1xuICAgICAgICBsbG1DaGFpbixcbiAgICAgICAgY29tYmluZURvY3VtZW50Q2hhaW4sXG4gICAgICAgIHJldHVybkludGVybWVkaWF0ZVN0ZXBzLFxuICAgICAgICB2ZXJib3NlLFxuICAgIH0pO1xuICAgIHJldHVybiBjaGFpbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2FkUUFSZWZpbmVDaGFpbihsbG0sIHBhcmFtcyA9IHt9KSB7XG4gICAgY29uc3QgeyBxdWVzdGlvblByb21wdCA9IFFVRVNUSU9OX1BST01QVF9TRUxFQ1RPUi5nZXRQcm9tcHQobGxtKSwgcmVmaW5lUHJvbXB0ID0gUkVGSU5FX1BST01QVF9TRUxFQ1RPUi5nZXRQcm9tcHQobGxtKSwgdmVyYm9zZSwgfSA9IHBhcmFtcztcbiAgICBjb25zdCBsbG1DaGFpbiA9IG5ldyBMTE1DaGFpbih7IHByb21wdDogcXVlc3Rpb25Qcm9tcHQsIGxsbSwgdmVyYm9zZSB9KTtcbiAgICBjb25zdCByZWZpbmVMTE1DaGFpbiA9IG5ldyBMTE1DaGFpbih7IHByb21wdDogcmVmaW5lUHJvbXB0LCBsbG0sIHZlcmJvc2UgfSk7XG4gICAgY29uc3QgY2hhaW4gPSBuZXcgUmVmaW5lRG9jdW1lbnRzQ2hhaW4oe1xuICAgICAgICBsbG1DaGFpbixcbiAgICAgICAgcmVmaW5lTExNQ2hhaW4sXG4gICAgICAgIHZlcmJvc2UsXG4gICAgfSk7XG4gICAgcmV0dXJuIGNoYWluO1xufVxuIiwgImltcG9ydCB7IEJhc2VDaGFpbiB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGxvYWRRQVN0dWZmQ2hhaW4gfSBmcm9tIFwiLi9xdWVzdGlvbl9hbnN3ZXJpbmcvbG9hZC5qc1wiO1xuZXhwb3J0IGNsYXNzIFZlY3RvckRCUUFDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmlucHV0S2V5XTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbWJpbmVEb2N1bWVudHNDaGFpbi5vdXRwdXRLZXlzLmNvbmNhdCh0aGlzLnJldHVyblNvdXJjZURvY3VtZW50cyA/IFtcInNvdXJjZURvY3VtZW50c1wiXSA6IFtdKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImtcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDRcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlucHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcInF1ZXJ5XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZlY3RvcnN0b3JlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbWJpbmVEb2N1bWVudHNDaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXR1cm5Tb3VyY2VEb2N1bWVudHNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZlY3RvcnN0b3JlID0gZmllbGRzLnZlY3RvcnN0b3JlO1xuICAgICAgICB0aGlzLmNvbWJpbmVEb2N1bWVudHNDaGFpbiA9IGZpZWxkcy5jb21iaW5lRG9jdW1lbnRzQ2hhaW47XG4gICAgICAgIHRoaXMuaW5wdXRLZXkgPSBmaWVsZHMuaW5wdXRLZXkgPz8gdGhpcy5pbnB1dEtleTtcbiAgICAgICAgdGhpcy5rID0gZmllbGRzLmsgPz8gdGhpcy5rO1xuICAgICAgICB0aGlzLnJldHVyblNvdXJjZURvY3VtZW50cyA9XG4gICAgICAgICAgICBmaWVsZHMucmV0dXJuU291cmNlRG9jdW1lbnRzID8/IHRoaXMucmV0dXJuU291cmNlRG9jdW1lbnRzO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKHZhbHVlcywgcnVuTWFuYWdlcikge1xuICAgICAgICBpZiAoISh0aGlzLmlucHV0S2V5IGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUXVlc3Rpb24ga2V5ICR7dGhpcy5pbnB1dEtleX0gbm90IGZvdW5kLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uID0gdmFsdWVzW3RoaXMuaW5wdXRLZXldO1xuICAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgdGhpcy52ZWN0b3JzdG9yZS5zaW1pbGFyaXR5U2VhcmNoKHF1ZXN0aW9uLCB0aGlzLmssIHZhbHVlcy5maWx0ZXIpO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSB7IHF1ZXN0aW9uLCBpbnB1dF9kb2N1bWVudHM6IGRvY3MgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jb21iaW5lRG9jdW1lbnRzQ2hhaW4uY2FsbChpbnB1dHMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpO1xuICAgICAgICBpZiAodGhpcy5yZXR1cm5Tb3VyY2VEb2N1bWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICAgICAgICAgIHNvdXJjZURvY3VtZW50czogZG9jcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwidmVjdG9yX2RiX3FhXCI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhLCB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKCEoXCJ2ZWN0b3JzdG9yZVwiIGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTmVlZCB0byBwYXNzIGluIGEgdmVjdG9yc3RvcmUgdG8gZGVzZXJpYWxpemUgVmVjdG9yREJRQUNoYWluYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB2ZWN0b3JzdG9yZSB9ID0gdmFsdWVzO1xuICAgICAgICBpZiAoIWRhdGEuY29tYmluZV9kb2N1bWVudHNfY2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVmVjdG9yREJRQUNoYWluIG11c3QgaGF2ZSBjb21iaW5lX2RvY3VtZW50c19jaGFpbiBpbiBzZXJpYWxpemVkIGRhdGFgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvckRCUUFDaGFpbih7XG4gICAgICAgICAgICBjb21iaW5lRG9jdW1lbnRzQ2hhaW46IGF3YWl0IEJhc2VDaGFpbi5kZXNlcmlhbGl6ZShkYXRhLmNvbWJpbmVfZG9jdW1lbnRzX2NoYWluKSxcbiAgICAgICAgICAgIGs6IGRhdGEuayxcbiAgICAgICAgICAgIHZlY3RvcnN0b3JlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2NoYWluVHlwZSgpLFxuICAgICAgICAgICAgY29tYmluZV9kb2N1bWVudHNfY2hhaW46IHRoaXMuY29tYmluZURvY3VtZW50c0NoYWluLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgazogdGhpcy5rLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUxMTShsbG0sIHZlY3RvcnN0b3JlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHFhQ2hhaW4gPSBsb2FkUUFTdHVmZkNoYWluKGxsbSk7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyh7XG4gICAgICAgICAgICB2ZWN0b3JzdG9yZSxcbiAgICAgICAgICAgIGNvbWJpbmVEb2N1bWVudHNDaGFpbjogcWFDaGFpbixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBzcGFjZWQtY29tbWVudCAqL1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi4vLi4vcHJvbXB0cy9wcm9tcHQuanNcIjtcbmV4cG9ydCBjb25zdCBBUElfVVJMX1JBV19QUk9NUFRfVEVNUExBVEUgPSBgWW91IGFyZSBnaXZlbiB0aGUgYmVsb3cgQVBJIERvY3VtZW50YXRpb246XG57YXBpX2RvY3N9XG5Vc2luZyB0aGlzIGRvY3VtZW50YXRpb24sIGdlbmVyYXRlIHRoZSBmdWxsIEFQSSB1cmwgdG8gY2FsbCBmb3IgYW5zd2VyaW5nIHRoZSB1c2VyIHF1ZXN0aW9uLlxuWW91IHNob3VsZCBidWlsZCB0aGUgQVBJIHVybCBpbiBvcmRlciB0byBnZXQgYSByZXNwb25zZSB0aGF0IGlzIGFzIHNob3J0IGFzIHBvc3NpYmxlLCB3aGlsZSBzdGlsbCBnZXR0aW5nIHRoZSBuZWNlc3NhcnkgaW5mb3JtYXRpb24gdG8gYW5zd2VyIHRoZSBxdWVzdGlvbi4gUGF5IGF0dGVudGlvbiB0byBkZWxpYmVyYXRlbHkgZXhjbHVkZSBhbnkgdW5uZWNlc3NhcnkgcGllY2VzIG9mIGRhdGEgaW4gdGhlIEFQSSBjYWxsLlxuXG5RdWVzdGlvbjp7cXVlc3Rpb259XG5BUEkgdXJsOmA7XG5leHBvcnQgY29uc3QgQVBJX1VSTF9QUk9NUFRfVEVNUExBVEUgPSAvKiAjX19QVVJFX18gKi8gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICBpbnB1dFZhcmlhYmxlczogW1wiYXBpX2RvY3NcIiwgXCJxdWVzdGlvblwiXSxcbiAgICB0ZW1wbGF0ZTogQVBJX1VSTF9SQVdfUFJPTVBUX1RFTVBMQVRFLFxufSk7XG5leHBvcnQgY29uc3QgQVBJX1JFU1BPTlNFX1JBV19QUk9NUFRfVEVNUExBVEUgPSBgJHtBUElfVVJMX1JBV19QUk9NUFRfVEVNUExBVEV9IHthcGlfdXJsfVxuXG5IZXJlIGlzIHRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEk6XG5cbnthcGlfcmVzcG9uc2V9XG5cblN1bW1hcml6ZSB0aGlzIHJlc3BvbnNlIHRvIGFuc3dlciB0aGUgb3JpZ2luYWwgcXVlc3Rpb24uXG5cblN1bW1hcnk6YDtcbmV4cG9ydCBjb25zdCBBUElfUkVTUE9OU0VfUFJPTVBUX1RFTVBMQVRFID0gLyogI19fUFVSRV9fICovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgaW5wdXRWYXJpYWJsZXM6IFtcImFwaV9kb2NzXCIsIFwicXVlc3Rpb25cIiwgXCJhcGlfdXJsXCIsIFwiYXBpX3Jlc3BvbnNlXCJdLFxuICAgIHRlbXBsYXRlOiBBUElfUkVTUE9OU0VfUkFXX1BST01QVF9URU1QTEFURSxcbn0pO1xuIiwgImltcG9ydCB7IEJhc2VDaGFpbiB9IGZyb20gXCIuLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBMTE1DaGFpbiB9IGZyb20gXCIuLi9sbG1fY2hhaW4uanNcIjtcbmltcG9ydCB7IEFQSV9VUkxfUFJPTVBUX1RFTVBMQVRFLCBBUElfUkVTUE9OU0VfUFJPTVBUX1RFTVBMQVRFLCB9IGZyb20gXCIuL3Byb21wdHMuanNcIjtcbmV4cG9ydCBjbGFzcyBBUElDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmlucHV0S2V5XTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5vdXRwdXRLZXldO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXBpQW5zd2VyQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXBpUmVxdWVzdENoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFwaURvY3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVhZGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZToge31cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlucHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcInF1ZXN0aW9uXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm91dHB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJvdXRwdXRcIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hcGlSZXF1ZXN0Q2hhaW4gPSBmaWVsZHMuYXBpUmVxdWVzdENoYWluO1xuICAgICAgICB0aGlzLmFwaUFuc3dlckNoYWluID0gZmllbGRzLmFwaUFuc3dlckNoYWluO1xuICAgICAgICB0aGlzLmFwaURvY3MgPSBmaWVsZHMuYXBpRG9jcztcbiAgICAgICAgdGhpcy5pbnB1dEtleSA9IGZpZWxkcy5pbnB1dEtleSA/PyB0aGlzLmlucHV0S2V5O1xuICAgICAgICB0aGlzLm91dHB1dEtleSA9IGZpZWxkcy5vdXRwdXRLZXkgPz8gdGhpcy5vdXRwdXRLZXk7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGZpZWxkcy5oZWFkZXJzID8/IHRoaXMuaGVhZGVycztcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgcXVlc3Rpb24gPSB2YWx1ZXNbdGhpcy5pbnB1dEtleV07XG4gICAgICAgIGNvbnN0IGFwaV91cmwgPSBhd2FpdCB0aGlzLmFwaVJlcXVlc3RDaGFpbi5wcmVkaWN0KHsgcXVlc3Rpb24sIGFwaV9kb2NzOiB0aGlzLmFwaURvY3MgfSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSk7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGFwaV91cmwsIHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH0pO1xuICAgICAgICBjb25zdCBhcGlfcmVzcG9uc2UgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCB0aGlzLmFwaUFuc3dlckNoYWluLnByZWRpY3QoeyBxdWVzdGlvbiwgYXBpX2RvY3M6IHRoaXMuYXBpRG9jcywgYXBpX3VybCwgYXBpX3Jlc3BvbnNlIH0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpO1xuICAgICAgICByZXR1cm4geyBbdGhpcy5vdXRwdXRLZXldOiBhbnN3ZXIgfTtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiYXBpX2NoYWluXCI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgYXBpX3JlcXVlc3RfY2hhaW4sIGFwaV9hbnN3ZXJfY2hhaW4sIGFwaV9kb2NzIH0gPSBkYXRhO1xuICAgICAgICBpZiAoIWFwaV9yZXF1ZXN0X2NoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMTE1DaGFpbiBtdXN0IGhhdmUgYXBpX3JlcXVlc3RfY2hhaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhcGlfYW5zd2VyX2NoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMTE1DaGFpbiBtdXN0IGhhdmUgYXBpX2Fuc3dlcl9jaGFpblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFwaV9kb2NzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMTE1DaGFpbiBtdXN0IGhhdmUgYXBpX2RvY3NcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBUElDaGFpbih7XG4gICAgICAgICAgICBhcGlBbnN3ZXJDaGFpbjogYXdhaXQgTExNQ2hhaW4uZGVzZXJpYWxpemUoYXBpX2Fuc3dlcl9jaGFpbiksXG4gICAgICAgICAgICBhcGlSZXF1ZXN0Q2hhaW46IGF3YWl0IExMTUNoYWluLmRlc2VyaWFsaXplKGFwaV9yZXF1ZXN0X2NoYWluKSxcbiAgICAgICAgICAgIGFwaURvY3M6IGFwaV9kb2NzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2NoYWluVHlwZSgpLFxuICAgICAgICAgICAgYXBpX2Fuc3dlcl9jaGFpbjogdGhpcy5hcGlBbnN3ZXJDaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIGFwaV9yZXF1ZXN0X2NoYWluOiB0aGlzLmFwaVJlcXVlc3RDaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIGFwaV9kb2NzOiB0aGlzLmFwaURvY3MsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTExNQW5kQVBJRG9jcyhsbG0sIGFwaURvY3MsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCB7IGFwaVVybFByb21wdCA9IEFQSV9VUkxfUFJPTVBUX1RFTVBMQVRFLCBhcGlSZXNwb25zZVByb21wdCA9IEFQSV9SRVNQT05TRV9QUk9NUFRfVEVNUExBVEUsIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBhcGlSZXF1ZXN0Q2hhaW4gPSBuZXcgTExNQ2hhaW4oeyBwcm9tcHQ6IGFwaVVybFByb21wdCwgbGxtIH0pO1xuICAgICAgICBjb25zdCBhcGlBbnN3ZXJDaGFpbiA9IG5ldyBMTE1DaGFpbih7IHByb21wdDogYXBpUmVzcG9uc2VQcm9tcHQsIGxsbSB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHtcbiAgICAgICAgICAgIGFwaUFuc3dlckNoYWluLFxuICAgICAgICAgICAgYXBpUmVxdWVzdENoYWluLFxuICAgICAgICAgICAgYXBpRG9jcyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBSVU5fS0VZIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyLCB9IGZyb20gXCIuLi9jYWxsYmFja3MvbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgQmFzZUxhbmdDaGFpbiB9IGZyb20gXCIuLi9iYXNlX2xhbmd1YWdlL2luZGV4LmpzXCI7XG4vKipcbiAqIEJhc2UgaW50ZXJmYWNlIHRoYXQgYWxsIGNoYWlucyBtdXN0IGltcGxlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VDaGFpbiBleHRlbmRzIEJhc2VMYW5nQ2hhaW4ge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgdmVyYm9zZSwgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgY2FsbGJhY2tzKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgICB0eXBlb2YgZmllbGRzID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICAhKFwic2F2ZUNvbnRleHRcIiBpbiBmaWVsZHMpKSB7XG4gICAgICAgICAgICAvLyBmaWVsZHMgaXMgbm90IGEgQmFzZU1lbW9yeVxuICAgICAgICAgICAgY29uc3QgeyBtZW1vcnksIGNhbGxiYWNrTWFuYWdlciwgLi4ucmVzdCB9ID0gZmllbGRzO1xuICAgICAgICAgICAgc3VwZXIoeyAuLi5yZXN0LCBjYWxsYmFja3M6IGNhbGxiYWNrTWFuYWdlciA/PyByZXN0LmNhbGxiYWNrcyB9KTtcbiAgICAgICAgICAgIHRoaXMubWVtb3J5ID0gbWVtb3J5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZmllbGRzIGlzIGEgQmFzZU1lbW9yeVxuICAgICAgICAgICAgc3VwZXIoeyB2ZXJib3NlLCBjYWxsYmFja3MgfSk7XG4gICAgICAgICAgICB0aGlzLm1lbW9yeSA9IGZpZWxkcztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBqc29uLWxpa2Ugb2JqZWN0IHJlcHJlc2VudGluZyB0aGlzIGNoYWluLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIGFzeW5jIHJ1bihcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGlucHV0LCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgaXNLZXlsZXNzSW5wdXQgPSB0aGlzLmlucHV0S2V5cy5sZW5ndGggPD0gMTtcbiAgICAgICAgaWYgKCFpc0tleWxlc3NJbnB1dCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFpbiAke3RoaXMuX2NoYWluVHlwZSgpfSBleHBlY3RzIG11bHRpcGxlIGlucHV0cywgY2Fubm90IHVzZSAncnVuJyBgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLmlucHV0S2V5cy5sZW5ndGggPyB7IFt0aGlzLmlucHV0S2V5c1swXV06IGlucHV0IH0gOiB7fTtcbiAgICAgICAgY29uc3QgcmV0dXJuVmFsdWVzID0gYXdhaXQgdGhpcy5jYWxsKHZhbHVlcywgY2FsbGJhY2tzKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJldHVyblZhbHVlcyk7XG4gICAgICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlc1trZXlzWzBdXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZXR1cm4gdmFsdWVzIGhhdmUgbXVsdGlwbGUga2V5cywgYHJ1bmAgb25seSBzdXBwb3J0ZWQgd2hlbiBvbmUga2V5IGN1cnJlbnRseVwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVuIHRoZSBjb3JlIGxvZ2ljIG9mIHRoaXMgY2hhaW4gYW5kIGFkZCB0byBvdXRwdXQgaWYgZGVzaXJlZC5cbiAgICAgKlxuICAgICAqIFdyYXBzIF9jYWxsIGFuZCBoYW5kbGVzIG1lbW9yeS5cbiAgICAgKi9cbiAgICBhc3luYyBjYWxsKHZhbHVlcywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IGZ1bGxWYWx1ZXMgPSB7IC4uLnZhbHVlcyB9O1xuICAgICAgICBpZiAoISh0aGlzLm1lbW9yeSA9PSBudWxsKSkge1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWVzID0gYXdhaXQgdGhpcy5tZW1vcnkubG9hZE1lbW9yeVZhcmlhYmxlcyh2YWx1ZXMpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobmV3VmFsdWVzKSkge1xuICAgICAgICAgICAgICAgIGZ1bGxWYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCBDYWxsYmFja01hbmFnZXIuY29uZmlndXJlKGNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuICAgICAgICBjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlQ2hhaW5TdGFydCh7IG5hbWU6IHRoaXMuX2NoYWluVHlwZSgpIH0sIGZ1bGxWYWx1ZXMpO1xuICAgICAgICBsZXQgb3V0cHV0VmFsdWVzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0cHV0VmFsdWVzID0gYXdhaXQgdGhpcy5fY2FsbChmdWxsVmFsdWVzLCBydW5NYW5hZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodGhpcy5tZW1vcnkgPT0gbnVsbCkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubWVtb3J5LnNhdmVDb250ZXh0KHZhbHVlcywgb3V0cHV0VmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChvdXRwdXRWYWx1ZXMpO1xuICAgICAgICAvLyBhZGQgdGhlIHJ1bk1hbmFnZXIncyBjdXJyZW50UnVuSWQgdG8gdGhlIG91dHB1dFZhbHVlc1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3V0cHV0VmFsdWVzLCBSVU5fS0VZLCB7XG4gICAgICAgICAgICB2YWx1ZTogcnVuTWFuYWdlciA/IHsgcnVuSWQ6IHJ1bk1hbmFnZXI/LnJ1bklkIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0cHV0VmFsdWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIHRoZSBjaGFpbiBvbiBhbGwgaW5wdXRzIGluIHRoZSBsaXN0XG4gICAgICovXG4gICAgYXN5bmMgYXBwbHkoaW5wdXRzLCBjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGlucHV0cy5tYXAoYXN5bmMgKGksIGlkeCkgPT4gdGhpcy5jYWxsKGksIGNhbGxiYWNrcz8uW2lkeF0pKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgYSBjaGFpbiBmcm9tIGEganNvbi1saWtlIG9iamVjdCBkZXNjcmliaW5nIGl0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhLCB2YWx1ZXMgPSB7fSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEuX3R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsbG1fY2hhaW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgTExNQ2hhaW4gfSA9IGF3YWl0IGltcG9ydChcIi4vbGxtX2NoYWluLmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBMTE1DaGFpbi5kZXNlcmlhbGl6ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJzZXF1ZW50aWFsX2NoYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IFNlcXVlbnRpYWxDaGFpbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi9zZXF1ZW50aWFsX2NoYWluLmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBTZXF1ZW50aWFsQ2hhaW4uZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwic2ltcGxlX3NlcXVlbnRpYWxfY2hhaW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgU2ltcGxlU2VxdWVudGlhbENoYWluIH0gPSBhd2FpdCBpbXBvcnQoXCIuL3NlcXVlbnRpYWxfY2hhaW4uanNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNpbXBsZVNlcXVlbnRpYWxDaGFpbi5kZXNlcmlhbGl6ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJzdHVmZl9kb2N1bWVudHNfY2hhaW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgU3R1ZmZEb2N1bWVudHNDaGFpbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi9jb21iaW5lX2RvY3NfY2hhaW4uanNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0dWZmRG9jdW1lbnRzQ2hhaW4uZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibWFwX3JlZHVjZV9kb2N1bWVudHNfY2hhaW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgTWFwUmVkdWNlRG9jdW1lbnRzQ2hhaW4gfSA9IGF3YWl0IGltcG9ydChcIi4vY29tYmluZV9kb2NzX2NoYWluLmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXBSZWR1Y2VEb2N1bWVudHNDaGFpbi5kZXNlcmlhbGl6ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJyZWZpbmVfZG9jdW1lbnRzX2NoYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IFJlZmluZURvY3VtZW50c0NoYWluIH0gPSBhd2FpdCBpbXBvcnQoXCIuL2NvbWJpbmVfZG9jc19jaGFpbi5qc1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmaW5lRG9jdW1lbnRzQ2hhaW4uZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidmVjdG9yX2RiX3FhXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IFZlY3RvckRCUUFDaGFpbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi92ZWN0b3JfZGJfcWEuanNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFZlY3RvckRCUUFDaGFpbi5kZXNlcmlhbGl6ZShkYXRhLCB2YWx1ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImFwaV9jaGFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBBUElDaGFpbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi9hcGkvYXBpX2NoYWluLmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBBUElDaGFpbi5kZXNlcmlhbGl6ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHByb21wdCB0eXBlIGluIGNvbmZpZzogJHtkYXRhLl90eXBlfWApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRQYXJzZWRUeXBlID0gZXhwb3J0cy5ab2RQYXJzZWRUeXBlID0gZXhwb3J0cy5vYmplY3RVdGlsID0gZXhwb3J0cy51dGlsID0gdm9pZCAwO1xudmFyIHV0aWw7XG4oZnVuY3Rpb24gKHV0aWwpIHtcbiAgICB1dGlsLmFzc2VydEVxdWFsID0gKHZhbCkgPT4gdmFsO1xuICAgIGZ1bmN0aW9uIGFzc2VydElzKF9hcmcpIHsgfVxuICAgIHV0aWwuYXNzZXJ0SXMgPSBhc3NlcnRJcztcbiAgICBmdW5jdGlvbiBhc3NlcnROZXZlcihfeCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG4gICAgdXRpbC5hc3NlcnROZXZlciA9IGFzc2VydE5ldmVyO1xuICAgIHV0aWwuYXJyYXlUb0VudW0gPSAoaXRlbXMpID0+IHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgb2JqW2l0ZW1dID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgdXRpbC5nZXRWYWxpZEVudW1WYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhvYmopLmZpbHRlcigoaykgPT4gdHlwZW9mIG9ialtvYmpba11dICE9PSBcIm51bWJlclwiKTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIHZhbGlkS2V5cykge1xuICAgICAgICAgICAgZmlsdGVyZWRba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKGZpbHRlcmVkKTtcbiAgICB9O1xuICAgIHV0aWwub2JqZWN0VmFsdWVzID0gKG9iaikgPT4ge1xuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RLZXlzKG9iaikubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqW2VdO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHV0aWwub2JqZWN0S2V5cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKVxuICAgICAgICA6IChvYmplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9O1xuICAgIHV0aWwuZmluZCA9IChhcnIsIGNoZWNrZXIpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFycikge1xuICAgICAgICAgICAgaWYgKGNoZWNrZXIoaXRlbSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHV0aWwuaXNJbnRlZ2VyID0gdHlwZW9mIE51bWJlci5pc0ludGVnZXIgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/ICh2YWwpID0+IE51bWJlci5pc0ludGVnZXIodmFsKVxuICAgICAgICA6ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgJiYgaXNGaW5pdGUodmFsKSAmJiBNYXRoLmZsb29yKHZhbCkgPT09IHZhbDtcbiAgICBmdW5jdGlvbiBqb2luVmFsdWVzKGFycmF5LCBzZXBhcmF0b3IgPSBcIiB8IFwiKSB7XG4gICAgICAgIHJldHVybiBhcnJheVxuICAgICAgICAgICAgLm1hcCgodmFsKSA9PiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiA/IGAnJHt2YWx9J2AgOiB2YWwpKVxuICAgICAgICAgICAgLmpvaW4oc2VwYXJhdG9yKTtcbiAgICB9XG4gICAgdXRpbC5qb2luVmFsdWVzID0gam9pblZhbHVlcztcbiAgICB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciA9IChfLCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn0pKHV0aWwgPSBleHBvcnRzLnV0aWwgfHwgKGV4cG9ydHMudXRpbCA9IHt9KSk7XG52YXIgb2JqZWN0VXRpbDtcbihmdW5jdGlvbiAob2JqZWN0VXRpbCkge1xuICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXMgPSAoZmlyc3QsIHNlY29uZCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZmlyc3QsXG4gICAgICAgICAgICAuLi5zZWNvbmQsXG4gICAgICAgIH07XG4gICAgfTtcbn0pKG9iamVjdFV0aWwgPSBleHBvcnRzLm9iamVjdFV0aWwgfHwgKGV4cG9ydHMub2JqZWN0VXRpbCA9IHt9KSk7XG5leHBvcnRzLlpvZFBhcnNlZFR5cGUgPSB1dGlsLmFycmF5VG9FbnVtKFtcbiAgICBcInN0cmluZ1wiLFxuICAgIFwibmFuXCIsXG4gICAgXCJudW1iZXJcIixcbiAgICBcImludGVnZXJcIixcbiAgICBcImZsb2F0XCIsXG4gICAgXCJib29sZWFuXCIsXG4gICAgXCJkYXRlXCIsXG4gICAgXCJiaWdpbnRcIixcbiAgICBcInN5bWJvbFwiLFxuICAgIFwiZnVuY3Rpb25cIixcbiAgICBcInVuZGVmaW5lZFwiLFxuICAgIFwibnVsbFwiLFxuICAgIFwiYXJyYXlcIixcbiAgICBcIm9iamVjdFwiLFxuICAgIFwidW5rbm93blwiLFxuICAgIFwicHJvbWlzZVwiLFxuICAgIFwidm9pZFwiLFxuICAgIFwibmV2ZXJcIixcbiAgICBcIm1hcFwiLFxuICAgIFwic2V0XCIsXG5dKTtcbmNvbnN0IGdldFBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuc3RyaW5nO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gaXNOYU4oZGF0YSkgPyBleHBvcnRzLlpvZFBhcnNlZFR5cGUubmFuIDogZXhwb3J0cy5ab2RQYXJzZWRUeXBlLm51bWJlcjtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuYm9vbGVhbjtcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLmZ1bmN0aW9uO1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLmJpZ2ludDtcbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5zeW1ib2w7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5hcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5udWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEudGhlbiAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBkYXRhLnRoZW4gPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgIGRhdGEuY2F0Y2ggJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZGF0YS5jYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5wcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBNYXAgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUubWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBEYXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5kYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5vYmplY3Q7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLnVua25vd247XG4gICAgfVxufTtcbmV4cG9ydHMuZ2V0UGFyc2VkVHlwZSA9IGdldFBhcnNlZFR5cGU7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlpvZEVycm9yID0gZXhwb3J0cy5xdW90ZWxlc3NKc29uID0gZXhwb3J0cy5ab2RJc3N1ZUNvZGUgPSB2b2lkIDA7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzL3V0aWxcIik7XG5leHBvcnRzLlpvZElzc3VlQ29kZSA9IHV0aWxfMS51dGlsLmFycmF5VG9FbnVtKFtcbiAgICBcImludmFsaWRfdHlwZVwiLFxuICAgIFwiaW52YWxpZF9saXRlcmFsXCIsXG4gICAgXCJjdXN0b21cIixcbiAgICBcImludmFsaWRfdW5pb25cIixcbiAgICBcImludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvclwiLFxuICAgIFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIsXG4gICAgXCJ1bnJlY29nbml6ZWRfa2V5c1wiLFxuICAgIFwiaW52YWxpZF9hcmd1bWVudHNcIixcbiAgICBcImludmFsaWRfcmV0dXJuX3R5cGVcIixcbiAgICBcImludmFsaWRfZGF0ZVwiLFxuICAgIFwiaW52YWxpZF9zdHJpbmdcIixcbiAgICBcInRvb19zbWFsbFwiLFxuICAgIFwidG9vX2JpZ1wiLFxuICAgIFwiaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXNcIixcbiAgICBcIm5vdF9tdWx0aXBsZV9vZlwiLFxuICAgIFwibm90X2Zpbml0ZVwiLFxuXSk7XG5jb25zdCBxdW90ZWxlc3NKc29uID0gKG9iaikgPT4ge1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpO1xuICAgIHJldHVybiBqc29uLnJlcGxhY2UoL1wiKFteXCJdKylcIjovZywgXCIkMTpcIik7XG59O1xuZXhwb3J0cy5xdW90ZWxlc3NKc29uID0gcXVvdGVsZXNzSnNvbjtcbmNsYXNzIFpvZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGlzc3Vlcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlzc3VlcyA9IFtdO1xuICAgICAgICB0aGlzLmFkZElzc3VlID0gKHN1YikgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIHN1Yl07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWRkSXNzdWVzID0gKHN1YnMgPSBbXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIC4uLnN1YnNdO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhY3R1YWxQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgYWN0dWFsUHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fX3Byb3RvX18gPSBhY3R1YWxQcm90bztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSBcIlpvZEVycm9yXCI7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gaXNzdWVzO1xuICAgIH1cbiAgICBnZXQgZXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXM7XG4gICAgfVxuICAgIGZvcm1hdChfbWFwcGVyKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlciA9IF9tYXBwZXIgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChpc3N1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc3N1ZS5tZXNzYWdlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWUudW5pb25FcnJvcnMubWFwKHByb2Nlc3NFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5yZXR1cm5UeXBlRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfYXJndW1lbnRzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLmFyZ3VtZW50c0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGlzc3VlLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGlzc3VlLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyW2VsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcHJvY2Vzc0Vycm9yKHRoaXMpO1xuICAgICAgICByZXR1cm4gZmllbGRFcnJvcnM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICAgIH1cbiAgICBnZXQgbWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsXzEudXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgIH1cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgZmxhdHRlbihtYXBwZXIgPSAoaXNzdWUpID0+IGlzc3VlLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7fTtcbiAgICAgICAgY29uc3QgZm9ybUVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLmlzc3Vlcykge1xuICAgICAgICAgICAgaWYgKHN1Yi5wYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gPSBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gfHwgW107XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xuICAgIH1cbiAgICBnZXQgZm9ybUVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdHRlbigpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kRXJyb3IgPSBab2RFcnJvcjtcblpvZEVycm9yLmNyZWF0ZSA9IChpc3N1ZXMpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihpc3N1ZXMpO1xuICAgIHJldHVybiBlcnJvcjtcbn07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vaGVscGVycy91dGlsXCIpO1xuY29uc3QgWm9kRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi9ab2RFcnJvclwiKTtcbmNvbnN0IGVycm9yTWFwID0gKGlzc3VlLCBfY3R4KSA9PiB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnJlY2VpdmVkID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJSZXF1aXJlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBFeHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHtpc3N1ZS5yZWNlaXZlZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGxpdGVyYWwgdmFsdWUsIGV4cGVjdGVkICR7SlNPTi5zdHJpbmdpZnkoaXNzdWUuZXhwZWN0ZWQsIHV0aWxfMS51dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlcil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnVucmVjb2duaXplZF9rZXlzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBVbnJlY29nbml6ZWQga2V5KHMpIGluIG9iamVjdDogJHt1dGlsXzEudXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb246XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWUuIEV4cGVjdGVkICR7dXRpbF8xLnV0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGVudW0gdmFsdWUuIEV4cGVjdGVkICR7dXRpbF8xLnV0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX0sIHJlY2VpdmVkICcke2lzc3VlLnJlY2VpdmVkfSdgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gYXJndW1lbnRzYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gcmV0dXJuIHR5cGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRhdGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGluY2x1ZGUgXCIke2lzc3VlLnZhbGlkYXRpb24uaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24ucG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBhdCBvbmUgb3IgbW9yZSBwb3NpdGlvbnMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7aXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwic3RhcnRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IHN0YXJ0IHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uc3RhcnRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwiZW5kc1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBlbmQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5lbmRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihpc3N1ZS52YWxpZGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS52YWxpZGF0aW9uICE9PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgJHtpc3N1ZS52YWxpZGF0aW9ufWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgb3ZlcmB9ICR7aXNzdWUubWluaW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0XG4gICAgICAgICAgICAgICAgICAgID8gYGV4YWN0bHkgZXF1YWwgdG8gYFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGdyZWF0ZXIgdGhhbiBgfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdFxuICAgICAgICAgICAgICAgICAgICA/IGBleGFjdGx5IGVxdWFsIHRvIGBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGBncmVhdGVyIHRoYW4gYH0ke25ldyBEYXRlKE51bWJlcihpc3N1ZS5taW5pbXVtKSl9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYHVuZGVyYH0gJHtpc3N1ZS5tYXhpbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseWBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2BcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEJpZ0ludCBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseWBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2BcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdFxuICAgICAgICAgICAgICAgICAgICA/IGBleGFjdGx5YFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgc21hbGxlciB0aGFuYH0gJHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWF4aW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuY3VzdG9tOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnRlcnNlY3Rpb24gcmVzdWx0cyBjb3VsZCBub3QgYmUgbWVyZ2VkYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLm5vdF9maW5pdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJOdW1iZXIgbXVzdCBiZSBmaW5pdGVcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWVzc2FnZSA9IF9jdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUpO1xuICAgIH1cbiAgICByZXR1cm4geyBtZXNzYWdlIH07XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZXJyb3JNYXA7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldEVycm9yTWFwID0gZXhwb3J0cy5zZXRFcnJvck1hcCA9IGV4cG9ydHMuZGVmYXVsdEVycm9yTWFwID0gdm9pZCAwO1xuY29uc3QgZW5fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9sb2NhbGVzL2VuXCIpKTtcbmV4cG9ydHMuZGVmYXVsdEVycm9yTWFwID0gZW5fMS5kZWZhdWx0O1xubGV0IG92ZXJyaWRlRXJyb3JNYXAgPSBlbl8xLmRlZmF1bHQ7XG5mdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgICBvdmVycmlkZUVycm9yTWFwID0gbWFwO1xufVxuZXhwb3J0cy5zZXRFcnJvck1hcCA9IHNldEVycm9yTWFwO1xuZnVuY3Rpb24gZ2V0RXJyb3JNYXAoKSB7XG4gICAgcmV0dXJuIG92ZXJyaWRlRXJyb3JNYXA7XG59XG5leHBvcnRzLmdldEVycm9yTWFwID0gZ2V0RXJyb3JNYXA7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzQXN5bmMgPSBleHBvcnRzLmlzVmFsaWQgPSBleHBvcnRzLmlzRGlydHkgPSBleHBvcnRzLmlzQWJvcnRlZCA9IGV4cG9ydHMuT0sgPSBleHBvcnRzLkRJUlRZID0gZXhwb3J0cy5JTlZBTElEID0gZXhwb3J0cy5QYXJzZVN0YXR1cyA9IGV4cG9ydHMuYWRkSXNzdWVUb0NvbnRleHQgPSBleHBvcnRzLkVNUFRZX1BBVEggPSBleHBvcnRzLm1ha2VJc3N1ZSA9IHZvaWQgMDtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4uL2Vycm9yc1wiKTtcbmNvbnN0IGVuXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL2xvY2FsZXMvZW5cIikpO1xuY29uc3QgbWFrZUlzc3VlID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgcGF0aCwgZXJyb3JNYXBzLCBpc3N1ZURhdGEgfSA9IHBhcmFtcztcbiAgICBjb25zdCBmdWxsUGF0aCA9IFsuLi5wYXRoLCAuLi4oaXNzdWVEYXRhLnBhdGggfHwgW10pXTtcbiAgICBjb25zdCBmdWxsSXNzdWUgPSB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgfTtcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICBjb25zdCBtYXBzID0gZXJyb3JNYXBzXG4gICAgICAgIC5maWx0ZXIoKG0pID0+ICEhbSlcbiAgICAgICAgLnNsaWNlKClcbiAgICAgICAgLnJldmVyc2UoKTtcbiAgICBmb3IgKGNvbnN0IG1hcCBvZiBtYXBzKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IG1hcChmdWxsSXNzdWUsIHsgZGF0YSwgZGVmYXVsdEVycm9yOiBlcnJvck1lc3NhZ2UgfSkubWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICBwYXRoOiBmdWxsUGF0aCxcbiAgICAgICAgbWVzc2FnZTogaXNzdWVEYXRhLm1lc3NhZ2UgfHwgZXJyb3JNZXNzYWdlLFxuICAgIH07XG59O1xuZXhwb3J0cy5tYWtlSXNzdWUgPSBtYWtlSXNzdWU7XG5leHBvcnRzLkVNUFRZX1BBVEggPSBbXTtcbmZ1bmN0aW9uIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgaXNzdWVEYXRhKSB7XG4gICAgY29uc3QgaXNzdWUgPSAoMCwgZXhwb3J0cy5tYWtlSXNzdWUpKHtcbiAgICAgICAgaXNzdWVEYXRhOiBpc3N1ZURhdGEsXG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCxcbiAgICAgICAgICAgICgwLCBlcnJvcnNfMS5nZXRFcnJvck1hcCkoKSxcbiAgICAgICAgICAgIGVuXzEuZGVmYXVsdCxcbiAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgfSk7XG4gICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG59XG5leHBvcnRzLmFkZElzc3VlVG9Db250ZXh0ID0gYWRkSXNzdWVUb0NvbnRleHQ7XG5jbGFzcyBQYXJzZVN0YXR1cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcInZhbGlkXCI7XG4gICAgfVxuICAgIGRpcnR5KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gXCJ2YWxpZFwiKVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiZGlydHlcIjtcbiAgICB9XG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImFib3J0ZWRcIjtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKSB7XG4gICAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgYXJyYXlWYWx1ZS5wdXNoKHMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogYXJyYXlWYWx1ZSB9O1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgbWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IGF3YWl0IHBhaXIua2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBhd2FpdCBwYWlyLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBmaW5hbE9iamVjdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gcGFpcjtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5JTlZBTElEO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBpZiAodmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlLnZhbHVlICE9PSBcInVuZGVmaW5lZFwiIHx8IHBhaXIuYWx3YXlzU2V0KSB7XG4gICAgICAgICAgICAgICAgZmluYWxPYmplY3Rba2V5LnZhbHVlXSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxPYmplY3QgfTtcbiAgICB9XG59XG5leHBvcnRzLlBhcnNlU3RhdHVzID0gUGFyc2VTdGF0dXM7XG5leHBvcnRzLklOVkFMSUQgPSBPYmplY3QuZnJlZXplKHtcbiAgICBzdGF0dXM6IFwiYWJvcnRlZFwiLFxufSk7XG5jb25zdCBESVJUWSA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcImRpcnR5XCIsIHZhbHVlIH0pO1xuZXhwb3J0cy5ESVJUWSA9IERJUlRZO1xuY29uc3QgT0sgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZSB9KTtcbmV4cG9ydHMuT0sgPSBPSztcbmNvbnN0IGlzQWJvcnRlZCA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCI7XG5leHBvcnRzLmlzQWJvcnRlZCA9IGlzQWJvcnRlZDtcbmNvbnN0IGlzRGlydHkgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiZGlydHlcIjtcbmV4cG9ydHMuaXNEaXJ0eSA9IGlzRGlydHk7XG5jb25zdCBpc1ZhbGlkID0gKHgpID0+IHguc3RhdHVzID09PSBcInZhbGlkXCI7XG5leHBvcnRzLmlzVmFsaWQgPSBpc1ZhbGlkO1xuY29uc3QgaXNBc3luYyA9ICh4KSA9PiB0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB4IGluc3RhbmNlb2YgUHJvbWlzZTtcbmV4cG9ydHMuaXNBc3luYyA9IGlzQXN5bmM7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmVycm9yVXRpbCA9IHZvaWQgMDtcbnZhciBlcnJvclV0aWw7XG4oZnVuY3Rpb24gKGVycm9yVXRpbCkge1xuICAgIGVycm9yVXRpbC5lcnJUb09iaiA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZSB9IDogbWVzc2FnZSB8fCB7fTtcbiAgICBlcnJvclV0aWwudG9TdHJpbmcgPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogbWVzc2FnZSA9PT0gbnVsbCB8fCBtZXNzYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZXNzYWdlLm1lc3NhZ2U7XG59KShlcnJvclV0aWwgPSBleHBvcnRzLmVycm9yVXRpbCB8fCAoZXhwb3J0cy5lcnJvclV0aWwgPSB7fSkpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kaXNjcmltaW5hdGVkVW5pb24gPSBleHBvcnRzLmRhdGUgPSBleHBvcnRzLmJvb2xlYW4gPSBleHBvcnRzLmJpZ2ludCA9IGV4cG9ydHMuYXJyYXkgPSBleHBvcnRzLmFueSA9IGV4cG9ydHMuY29lcmNlID0gZXhwb3J0cy5ab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSBleHBvcnRzLmxhdGUgPSBleHBvcnRzLlpvZFNjaGVtYSA9IGV4cG9ydHMuU2NoZW1hID0gZXhwb3J0cy5jdXN0b20gPSBleHBvcnRzLlpvZFBpcGVsaW5lID0gZXhwb3J0cy5ab2RCcmFuZGVkID0gZXhwb3J0cy5CUkFORCA9IGV4cG9ydHMuWm9kTmFOID0gZXhwb3J0cy5ab2RDYXRjaCA9IGV4cG9ydHMuWm9kRGVmYXVsdCA9IGV4cG9ydHMuWm9kTnVsbGFibGUgPSBleHBvcnRzLlpvZE9wdGlvbmFsID0gZXhwb3J0cy5ab2RUcmFuc2Zvcm1lciA9IGV4cG9ydHMuWm9kRWZmZWN0cyA9IGV4cG9ydHMuWm9kUHJvbWlzZSA9IGV4cG9ydHMuWm9kTmF0aXZlRW51bSA9IGV4cG9ydHMuWm9kRW51bSA9IGV4cG9ydHMuWm9kTGl0ZXJhbCA9IGV4cG9ydHMuWm9kTGF6eSA9IGV4cG9ydHMuWm9kRnVuY3Rpb24gPSBleHBvcnRzLlpvZFNldCA9IGV4cG9ydHMuWm9kTWFwID0gZXhwb3J0cy5ab2RSZWNvcmQgPSBleHBvcnRzLlpvZFR1cGxlID0gZXhwb3J0cy5ab2RJbnRlcnNlY3Rpb24gPSBleHBvcnRzLlpvZERpc2NyaW1pbmF0ZWRVbmlvbiA9IGV4cG9ydHMuWm9kVW5pb24gPSBleHBvcnRzLlpvZE9iamVjdCA9IGV4cG9ydHMuWm9kQXJyYXkgPSBleHBvcnRzLlpvZFZvaWQgPSBleHBvcnRzLlpvZE5ldmVyID0gZXhwb3J0cy5ab2RVbmtub3duID0gZXhwb3J0cy5ab2RBbnkgPSBleHBvcnRzLlpvZE51bGwgPSBleHBvcnRzLlpvZFVuZGVmaW5lZCA9IGV4cG9ydHMuWm9kU3ltYm9sID0gZXhwb3J0cy5ab2REYXRlID0gZXhwb3J0cy5ab2RCb29sZWFuID0gZXhwb3J0cy5ab2RCaWdJbnQgPSBleHBvcnRzLlpvZE51bWJlciA9IGV4cG9ydHMuWm9kU3RyaW5nID0gZXhwb3J0cy5ab2RUeXBlID0gdm9pZCAwO1xuZXhwb3J0cy5ORVZFUiA9IGV4cG9ydHMudm9pZCA9IGV4cG9ydHMudW5rbm93biA9IGV4cG9ydHMudW5pb24gPSBleHBvcnRzLnVuZGVmaW5lZCA9IGV4cG9ydHMudHVwbGUgPSBleHBvcnRzLnRyYW5zZm9ybWVyID0gZXhwb3J0cy5zeW1ib2wgPSBleHBvcnRzLnN0cmluZyA9IGV4cG9ydHMuc3RyaWN0T2JqZWN0ID0gZXhwb3J0cy5zZXQgPSBleHBvcnRzLnJlY29yZCA9IGV4cG9ydHMucHJvbWlzZSA9IGV4cG9ydHMucHJlcHJvY2VzcyA9IGV4cG9ydHMucGlwZWxpbmUgPSBleHBvcnRzLm9zdHJpbmcgPSBleHBvcnRzLm9wdGlvbmFsID0gZXhwb3J0cy5vbnVtYmVyID0gZXhwb3J0cy5vYm9vbGVhbiA9IGV4cG9ydHMub2JqZWN0ID0gZXhwb3J0cy5udW1iZXIgPSBleHBvcnRzLm51bGxhYmxlID0gZXhwb3J0cy5udWxsID0gZXhwb3J0cy5uZXZlciA9IGV4cG9ydHMubmF0aXZlRW51bSA9IGV4cG9ydHMubmFuID0gZXhwb3J0cy5tYXAgPSBleHBvcnRzLmxpdGVyYWwgPSBleHBvcnRzLmxhenkgPSBleHBvcnRzLmludGVyc2VjdGlvbiA9IGV4cG9ydHMuaW5zdGFuY2VvZiA9IGV4cG9ydHMuZnVuY3Rpb24gPSBleHBvcnRzLmVudW0gPSBleHBvcnRzLmVmZmVjdCA9IHZvaWQgMDtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xuY29uc3QgZXJyb3JVdGlsXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzL2Vycm9yVXRpbFwiKTtcbmNvbnN0IHBhcnNlVXRpbF8xID0gcmVxdWlyZShcIi4vaGVscGVycy9wYXJzZVV0aWxcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzL3V0aWxcIik7XG5jb25zdCBab2RFcnJvcl8xID0gcmVxdWlyZShcIi4vWm9kRXJyb3JcIik7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9rZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCAuLi50aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIHRoaXMuX2tleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFBhdGg7XG4gICAgfVxufVxuY29uc3QgaGFuZGxlUmVzdWx0ID0gKGN0eCwgcmVzdWx0KSA9PiB7XG4gICAgaWYgKCgwLCBwYXJzZVV0aWxfMS5pc1ZhbGlkKShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC52YWx1ZSB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFjdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZhbGlkYXRpb24gZmFpbGVkIGJ1dCBubyBpc3N1ZXMgZGV0ZWN0ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKGN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBjb25zdCB7IGVycm9yTWFwLCBpbnZhbGlkX3R5cGVfZXJyb3IsIHJlcXVpcmVkX2Vycm9yLCBkZXNjcmlwdGlvbiB9ID0gcGFyYW1zO1xuICAgIGlmIChlcnJvck1hcCAmJiAoaW52YWxpZF90eXBlX2Vycm9yIHx8IHJlcXVpcmVkX2Vycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBcImludmFsaWRfdHlwZV9lcnJvclwiIG9yIFwicmVxdWlyZWRfZXJyb3JcIiBpbiBjb25qdW5jdGlvbiB3aXRoIGN1c3RvbSBlcnJvciBtYXAuYCk7XG4gICAgfVxuICAgIGlmIChlcnJvck1hcClcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JNYXA6IGVycm9yTWFwLCBkZXNjcmlwdGlvbiB9O1xuICAgIGNvbnN0IGN1c3RvbU1hcCA9IChpc3MsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoaXNzLmNvZGUgIT09IFwiaW52YWxpZF90eXBlXCIpXG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIGlmICh0eXBlb2YgY3R4LmRhdGEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IHJlcXVpcmVkX2Vycm9yICE9PSBudWxsICYmIHJlcXVpcmVkX2Vycm9yICE9PSB2b2lkIDAgPyByZXF1aXJlZF9lcnJvciA6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBpbnZhbGlkX3R5cGVfZXJyb3IgIT09IG51bGwgJiYgaW52YWxpZF90eXBlX2Vycm9yICE9PSB2b2lkIDAgPyBpbnZhbGlkX3R5cGVfZXJyb3IgOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgfTtcbiAgICByZXR1cm4geyBlcnJvck1hcDogY3VzdG9tTWFwLCBkZXNjcmlwdGlvbiB9O1xufVxuY2xhc3MgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoZGVmKSB7XG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zYWZlUGFyc2VBc3luYztcbiAgICAgICAgdGhpcy5fZGVmID0gZGVmO1xuICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5wYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZSA9IHRoaXMuc2FmZVBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFyc2VBc3luYyA9IHRoaXMucGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZUFzeW5jID0gdGhpcy5zYWZlUGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc3BhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lID0gdGhpcy5yZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmVtZW50ID0gdGhpcy5yZWZpbmVtZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3VwZXJSZWZpbmUgPSB0aGlzLnN1cGVyUmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSB0aGlzLm9wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGFibGUgPSB0aGlzLm51bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGlzaCA9IHRoaXMubnVsbGlzaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFycmF5ID0gdGhpcy5hcnJheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vciA9IHRoaXMub3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hbmQgPSB0aGlzLmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYnJhbmQgPSB0aGlzLmJyYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZGVmYXVsdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhdGNoID0gdGhpcy5jYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc2NyaWJlID0gdGhpcy5kZXNjcmliZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBpcGUgPSB0aGlzLnBpcGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc051bGxhYmxlID0gdGhpcy5pc051bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNPcHRpb25hbCA9IHRoaXMuaXNPcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGVzY3JpcHRpb247XG4gICAgfVxuICAgIF9nZXRUeXBlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBfZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCkge1xuICAgICAgICByZXR1cm4gKGN0eCB8fCB7XG4gICAgICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IG5ldyBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cygpLFxuICAgICAgICAgICAgY3R4OiB7XG4gICAgICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgICAgICAgICAgcGFyc2VkVHlwZTogKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfcGFyc2VTeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgaWYgKCgwLCBwYXJzZVV0aWxfMS5pc0FzeW5jKShyZXN1bHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTeW5jaHJvbm91cyBwYXJzZSBlbmNvdW50ZXJlZCBwcm9taXNlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfcGFyc2VBc3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICB9XG4gICAgcGFyc2UoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc2FmZVBhcnNlKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBzYWZlUGFyc2UoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogKF9hID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmFzeW5jKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLnBhdGgpIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLnBhdGgpIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0ICgoMCwgcGFyc2VVdGlsXzEuaXNBc3luYykobWF5YmVBc3luY1Jlc3VsdClcbiAgICAgICAgICAgID8gbWF5YmVBc3luY1Jlc3VsdFxuICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUobWF5YmVBc3luY1Jlc3VsdCkpO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVzdWx0KGN0eCwgcmVzdWx0KTtcbiAgICB9XG4gICAgcmVmaW5lKGNoZWNrLCBtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IGdldElzc3VlUHJvcGVydGllcyA9ICh2YWwpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgbWVzc2FnZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZSh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2hlY2sodmFsKTtcbiAgICAgICAgICAgIGNvbnN0IHNldEVycm9yID0gKCkgPT4gY3R4LmFkZElzc3VlKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5jdXN0b20sXG4gICAgICAgICAgICAgICAgLi4uZ2V0SXNzdWVQcm9wZXJ0aWVzKHZhbCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWZpbmVtZW50KGNoZWNrLCByZWZpbmVtZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGlmICghY2hlY2sodmFsKSkge1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh0eXBlb2YgcmVmaW5lbWVudERhdGEgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICA/IHJlZmluZW1lbnREYXRhKHZhbCwgY3R4KVxuICAgICAgICAgICAgICAgICAgICA6IHJlZmluZW1lbnREYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZWZpbmVtZW50KHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInJlZmluZW1lbnRcIiwgcmVmaW5lbWVudCB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3VwZXJSZWZpbmUocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudChyZWZpbmVtZW50KTtcbiAgICB9XG4gICAgb3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGlzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVsbGFibGUoKS5vcHRpb25hbCgpO1xuICAgIH1cbiAgICBhcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZEFycmF5LmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBwcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gWm9kUHJvbWlzZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgb3Iob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiBab2RVbmlvbi5jcmVhdGUoW3RoaXMsIG9wdGlvbl0sIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIGFuZChpbmNvbWluZykge1xuICAgICAgICByZXR1cm4gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZSh0aGlzLCBpbmNvbWluZywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgdHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwidHJhbnNmb3JtXCIsIHRyYW5zZm9ybSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVmYXVsdChkZWYpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlRnVuYyA9IHR5cGVvZiBkZWYgPT09IFwiZnVuY3Rpb25cIiA/IGRlZiA6ICgpID0+IGRlZjtcbiAgICAgICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlRnVuYyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGJyYW5kKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJyYW5kZWQoe1xuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkLFxuICAgICAgICAgICAgdHlwZTogdGhpcyxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoKGRlZikge1xuICAgICAgICBjb25zdCBjYXRjaFZhbHVlRnVuYyA9IHR5cGVvZiBkZWYgPT09IFwiZnVuY3Rpb25cIiA/IGRlZiA6ICgpID0+IGRlZjtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBpbm5lclR5cGU6IHRoaXMsXG4gICAgICAgICAgICBjYXRjaFZhbHVlOiBjYXRjaFZhbHVlRnVuYyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZXNjcmliZShkZXNjcmlwdGlvbikge1xuICAgICAgICBjb25zdCBUaGlzID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBUaGlzKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGlwZSh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIFpvZFBpcGVsaW5lLmNyZWF0ZSh0aGlzLCB0YXJnZXQpO1xuICAgIH1cbiAgICBpc09wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UodW5kZWZpbmVkKS5zdWNjZXNzO1xuICAgIH1cbiAgICBpc051bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICB9XG59XG5leHBvcnRzLlpvZFR5cGUgPSBab2RUeXBlO1xuZXhwb3J0cy5TY2hlbWEgPSBab2RUeXBlO1xuZXhwb3J0cy5ab2RTY2hlbWEgPSBab2RUeXBlO1xuY29uc3QgY3VpZFJlZ2V4ID0gL15jW15cXHMtXXs4LH0kL2k7XG5jb25zdCBjdWlkMlJlZ2V4ID0gL15bYS16XVthLXowLTldKiQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL1swLTlBLUhKS01OUC1UVi1aXXsyNn0vO1xuY29uc3QgdXVpZFJlZ2V4ID0gL14oW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tWzEtNV1bYS1mMC05XXszfS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtcbmNvbnN0IGVtYWlsUmVnZXggPSAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFsoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXF0pfChcXFtJUHY2OigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSlcXF0pfChbQS1aYS16MC05XShbQS1aYS16MC05LV0qW0EtWmEtejAtOV0pKihcXC5bQS1aYS16XXsyLH0pKykpJC87XG5jb25zdCBlbW9qaVJlZ2V4ID0gL14oXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxwe0Vtb2ppX0NvbXBvbmVudH0pKyQvdTtcbmNvbnN0IGlwdjRSZWdleCA9IC9eKCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpJC87XG5jb25zdCBpcHY2UmVnZXggPSAvXigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSkkLztcbmNvbnN0IGRhdGV0aW1lUmVnZXggPSAoYXJncykgPT4ge1xuICAgIGlmIChhcmdzLnByZWNpc2lvbikge1xuICAgICAgICBpZiAoYXJncy5vZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBeXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1UXFxcXGR7Mn06XFxcXGR7Mn06XFxcXGR7Mn1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fSgoWystXVxcXFxkezJ9KDo/XFxcXGR7Mn0pPyl8WikkYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9XFxcXC5cXFxcZHske2FyZ3MucHJlY2lzaW9ufX1aJGApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3MucHJlY2lzaW9uID09PSAwKSB7XG4gICAgICAgIGlmIChhcmdzLm9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5cXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfVRcXFxcZHsyfTpcXFxcZHsyfTpcXFxcZHsyfSgoWystXVxcXFxkezJ9KDo/XFxcXGR7Mn0pPyl8WikkYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9WiRgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGFyZ3Mub2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9KFxcXFwuXFxcXGQrKT8oKFsrLV1cXFxcZHsyfSg6P1xcXFxkezJ9KT8pfFopJGApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5cXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfVRcXFxcZHsyfTpcXFxcZHsyfTpcXFxcZHsyfShcXFxcLlxcXFxkKyk/WiRgKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5mdW5jdGlvbiBpc1ZhbGlkSVAoaXAsIHZlcnNpb24pIHtcbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NFJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NlJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5jbGFzcyBab2RTdHJpbmcgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fcmVnZXggPSAocmVnZXgsIHZhbGlkYXRpb24sIG1lc3NhZ2UpID0+IHRoaXMucmVmaW5lbWVudCgoZGF0YSkgPT4gcmVnZXgudGVzdChkYXRhKSwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ub25lbXB0eSA9IChtZXNzYWdlKSA9PiB0aGlzLm1pbigxLCBlcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkpO1xuICAgICAgICB0aGlzLnRyaW0gPSAoKSA9PiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0cmltXCIgfV0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRvTG93ZXJDYXNlID0gKCkgPT4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9Mb3dlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudG9VcHBlckNhc2UgPSAoKSA9PiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b1VwcGVyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gU3RyaW5nKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnN0cmluZyxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImxlbmd0aFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbW9qaVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtb2ppXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInV1aWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXVpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInV1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkMlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkMlJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWQyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVsaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdWxpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXJsXCIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgVVJMKGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgY2hlY2sucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0UmVzdWx0ID0gY2hlY2sucmVnZXgudGVzdChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRlc3RSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRyaW1cIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW5jbHVkZXNcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5pbmNsdWRlcyhjaGVjay52YWx1ZSwgY2hlY2sucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGluY2x1ZGVzOiBjaGVjay52YWx1ZSwgcG9zaXRpb246IGNoZWNrLnBvc2l0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b0xvd2VyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9VcHBlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInN0YXJ0c1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5zdGFydHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBzdGFydHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW5kc1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5lbmRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgZW5kc1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRldGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRldGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImlwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRJUChpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiaXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWxfMS51dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVtYWlsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbWFpbFwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVybChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXJsXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgZW1vamkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtb2ppXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdXVpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXVpZFwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWRcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkMihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZDJcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1bGlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1bGlkXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgaXAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImlwXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgZGF0ZXRpbWUob3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbikgPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZWNpc2lvbixcbiAgICAgICAgICAgIG9mZnNldDogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9mZnNldCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnZXgocmVnZXgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwicmVnZXhcIixcbiAgICAgICAgICAgIHJlZ2V4OiByZWdleCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGluY2x1ZGVzKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImluY2x1ZGVzXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwb3NpdGlvbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnBvc2l0aW9uLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0c1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwic3RhcnRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5kc1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZW5kc1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluTGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhMZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImxlbmd0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IGxlbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc0RhdGV0aW1lKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGV0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbWFpbCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbWFpbFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVVJMKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVybFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1vamkoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1vamlcIik7XG4gICAgfVxuICAgIGdldCBpc1VVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXVpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEMigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkMlwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVUxJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1bGlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNJUCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpcFwiKTtcbiAgICB9XG4gICAgZ2V0IG1pbkxlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4TGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RTdHJpbmcgPSBab2RTdHJpbmc7XG5ab2RTdHJpbmcuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nLFxuICAgICAgICBjb2VyY2U6IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBwYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIGNvbnN0IHN0ZXBJbnQgPSBwYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICByZXR1cm4gKHZhbEludCAlIHN0ZXBJbnQpIC8gTWF0aC5wb3coMTAsIGRlY0NvdW50KTtcbn1cbmNsYXNzIFpvZE51bWJlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgICAgICB0aGlzLnN0ZXAgPSB0aGlzLm11bHRpcGxlT2Y7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IE51bWJlcihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5udW1iZXIsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJpbnRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXRpbF8xLnV0aWwuaXNJbnRlZ2VyKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiaW50ZWdlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IFwiZmxvYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmxvYXRTYWZlUmVtYWluZGVyKGlucHV0LmRhdGEsIGNoZWNrLnZhbHVlKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZmluaXRlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLm5vdF9maW5pdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbnQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbnRcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaW5pdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJmaW5pdGVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNhZmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSkuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuICAgIGdldCBpc0ludCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpbnRcIiB8fFxuICAgICAgICAgICAgKGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiICYmIHV0aWxfMS51dGlsLmlzSW50ZWdlcihjaC52YWx1ZSkpKTtcbiAgICB9XG4gICAgZ2V0IGlzRmluaXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbCwgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJmaW5pdGVcIiB8fFxuICAgICAgICAgICAgICAgIGNoLmtpbmQgPT09IFwiaW50XCIgfHxcbiAgICAgICAgICAgICAgICBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobWluKSAmJiBOdW1iZXIuaXNGaW5pdGUobWF4KTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE51bWJlciA9IFpvZE51bWJlcjtcblpvZE51bWJlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcixcbiAgICAgICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RCaWdJbnQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gQmlnSW50KGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmJpZ2ludCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmJpZ2ludCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YSAlIGNoZWNrLnZhbHVlICE9PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kQmlnSW50ID0gWm9kQmlnSW50O1xuWm9kQmlnSW50LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgICAgY29lcmNlOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEJvb2xlYW4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCb29sZWFuKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmJvb2xlYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RCb29sZWFuID0gWm9kQm9vbGVhbjtcblpvZEJvb2xlYW4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQm9vbGVhbih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbixcbiAgICAgICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2REYXRlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gbmV3IERhdGUoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuZGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmRhdGUsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYU4oaW5wdXQuZGF0YS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZShpbnB1dC5kYXRhLmdldFRpbWUoKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkRhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluRGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4RGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhEYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5EYXRlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW4gIT0gbnVsbCA/IG5ldyBEYXRlKG1pbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgbWF4RGF0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4ICE9IG51bGwgPyBuZXcgRGF0ZShtYXgpIDogbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLlpvZERhdGUgPSBab2REYXRlO1xuWm9kRGF0ZS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGF0ZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFN5bWJvbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zeW1ib2wpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zeW1ib2wsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFN5bWJvbCA9IFpvZFN5bWJvbDtcblpvZFN5bWJvbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTeW1ib2woe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFVuZGVmaW5lZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFVuZGVmaW5lZCA9IFpvZFVuZGVmaW5lZDtcblpvZFVuZGVmaW5lZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmRlZmluZWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE51bGwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bGwsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE51bGwgPSBab2ROdWxsO1xuWm9kTnVsbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kQW55IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX2FueSA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEFueSA9IFpvZEFueTtcblpvZEFueS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBbnkoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFVua25vd24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fdW5rbm93biA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFVua25vd24gPSBab2RVbmtub3duO1xuWm9kVW5rbm93bi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmtub3duKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTmV2ZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm5ldmVyLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgfVxufVxuZXhwb3J0cy5ab2ROZXZlciA9IFpvZE5ldmVyO1xuWm9kTmV2ZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmV2ZXIoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVm9pZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS52b2lkLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RWb2lkID0gWm9kVm9pZDtcblpvZFZvaWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVm9pZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEFycmF5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4LCBzdGF0dXMgfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5leGFjdExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY3R4LmRhdGEubGVuZ3RoID4gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjdHguZGF0YS5sZW5ndGggPCBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogdG9vQmlnID8gWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyA6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogKHRvb1NtYWxsID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogKHRvb0JpZyA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5taW5MZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCBkZWYubWluTGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluTGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluTGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPiBkZWYubWF4TGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heExlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlQXN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgICAgICB9KSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VTeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiB7IHZhbHVlOiBtaW5MZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heExlbmd0aDogeyB2YWx1ZTogbWF4TGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBleGFjdExlbmd0aDogeyB2YWx1ZTogbGVuLCBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kQXJyYXkgPSBab2RBcnJheTtcblpvZEFycmF5LmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIG1pbkxlbmd0aDogbnVsbCxcbiAgICAgICAgbWF4TGVuZ3RoOiBudWxsLFxuICAgICAgICBleGFjdExlbmd0aDogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPYmplY3QpIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hLnNoYXBlKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5zaGFwZVtrZXldO1xuICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShmaWVsZFNjaGVtYSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHR5cGU6IGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS5lbGVtZW50KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZFR1cGxlKSB7XG4gICAgICAgIHJldHVybiBab2RUdXBsZS5jcmVhdGUoc2NoZW1hLml0ZW1zLm1hcCgoaXRlbSkgPT4gZGVlcFBhcnRpYWxpZnkoaXRlbSkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuY2xhc3MgWm9kT2JqZWN0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IG51bGw7XG4gICAgICAgIHRoaXMubm9uc3RyaWN0ID0gdGhpcy5wYXNzdGhyb3VnaDtcbiAgICAgICAgdGhpcy5hdWdtZW50ID0gdGhpcy5leHRlbmQ7XG4gICAgfVxuICAgIF9nZXRDYWNoZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZWQgIT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkO1xuICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgICAgICBjb25zdCBrZXlzID0gdXRpbF8xLnV0aWwub2JqZWN0S2V5cyhzaGFwZSk7XG4gICAgICAgIHJldHVybiAodGhpcy5fY2FjaGVkID0geyBzaGFwZSwga2V5cyB9KTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgICAgIGNvbnN0IGV4dHJhS2V5cyA9IFtdO1xuICAgICAgICBpZiAoISh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlciAmJlxuICAgICAgICAgICAgdGhpcy5fZGVmLnVua25vd25LZXlzID09PSBcInN0cmlwXCIpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghc2hhcGVLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcGVLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlWYWxpZGF0b3IgPSBzaGFwZVtrZXldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGtleVZhbGlkYXRvci5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVua25vd25LZXlzID0gdGhpcy5fZGVmLnVua25vd25LZXlzO1xuICAgICAgICAgICAgaWYgKHVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogY3R4LmRhdGFba2V5XSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChleHRyYUtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBleHRyYUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIFpvZE9iamVjdCBlcnJvcjogaW52YWxpZCB1bmtub3duS2V5cyB2YWx1ZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNhdGNoYWxsID0gdGhpcy5fZGVmLmNhdGNoYWxsO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhdGNoYWxsLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhd2FpdCBwYWlyLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBwYWlyLmFsd2F5c1NldCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUGFpcnM7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChzeW5jUGFpcnMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICB9XG4gICAgc3RyaWN0KG1lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RXJyb3IgPSAoX2MgPSAoX2IgPSAoX2EgPSB0aGlzLl9kZWYpLmVycm9yTWFwKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgaXNzdWUsIGN0eCkubWVzc2FnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcInVucmVjb2duaXplZF9rZXlzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogKF9kID0gZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLm1lc3NhZ2UpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0cmlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGFzc3Rocm91Z2goKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInBhc3N0aHJvdWdoXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBleHRlbmQoYXVnbWVudGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWVyZ2UobWVyZ2luZykge1xuICAgICAgICBjb25zdCBtZXJnZWQgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgICAgICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICAgICAgLi4ubWVyZ2luZy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG4gICAgc2V0S2V5KGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1Z21lbnQoeyBba2V5XTogc2NoZW1hIH0pO1xuICAgIH1cbiAgICBjYXRjaGFsbChpbmRleCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjYXRjaGFsbDogaW5kZXgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaWNrKG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbF8xLnV0aWwub2JqZWN0S2V5cyhtYXNrKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChtYXNrW2tleV0gJiYgdGhpcy5zaGFwZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9taXQobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICB1dGlsXzEudXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVlcFBhcnRpYWwoKSB7XG4gICAgICAgIHJldHVybiBkZWVwUGFydGlhbGlmeSh0aGlzKTtcbiAgICB9XG4gICAgcGFydGlhbChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIHV0aWxfMS51dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWEub3B0aW9uYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcXVpcmVkKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbF8xLnV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICAgICAgbGV0IG5ld0ZpZWxkID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5ld0ZpZWxkIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RmllbGQgPSBuZXdGaWVsZC5fZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IG5ld0ZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAga2V5b2YoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVab2RFbnVtKHV0aWxfMS51dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kT2JqZWN0ID0gWm9kT2JqZWN0O1xuWm9kT2JqZWN0LmNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3Quc3RyaWN0Q3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3QubGF6eWNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3VsdHMocmVzdWx0cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLnJlc3VsdC5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IocmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKSk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgY3R4OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpLnRoZW4oaGFuZGxlUmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGlydHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBpc3N1ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIiAmJiAhZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB7IHJlc3VsdCwgY3R4OiBjaGlsZEN0eCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRDdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzLnB1c2goY2hpbGRDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5kaXJ0eS5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcnR5LnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gaXNzdWVzLm1hcCgoaXNzdWVzKSA9PiBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihpc3N1ZXMpKTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9ycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG59XG5leHBvcnRzLlpvZFVuaW9uID0gWm9kVW5pb247XG5ab2RVbmlvbi5jcmVhdGUgPSAodHlwZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgICAgICBvcHRpb25zOiB0eXBlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNvbnN0IGdldERpc2NyaW1pbmF0b3IgPSAodHlwZSkgPT4ge1xuICAgIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGF6eSkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNjaGVtYSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFZmZlY3RzKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuaW5uZXJUeXBlKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGl0ZXJhbCkge1xuICAgICAgICByZXR1cm4gW3R5cGUudmFsdWVdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRW51bSkge1xuICAgICAgICByZXR1cm4gdHlwZS5vcHRpb25zO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTmF0aXZlRW51bSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModHlwZS5lbnVtKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZERlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RVbmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWRdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbCkge1xuICAgICAgICByZXR1cm4gW251bGxdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufTtcbmNsYXNzIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yID0gdGhpcy5kaXNjcmltaW5hdG9yO1xuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWUgPSBjdHguZGF0YVtkaXNjcmltaW5hdG9yXTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy5vcHRpb25zTWFwLmdldChkaXNjcmltaW5hdG9yVmFsdWUpO1xuICAgICAgICBpZiAoIW9wdGlvbikge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQXJyYXkuZnJvbSh0aGlzLm9wdGlvbnNNYXAua2V5cygpKSxcbiAgICAgICAgICAgICAgICBwYXRoOiBbZGlzY3JpbWluYXRvcl0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBkaXNjcmltaW5hdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRpc2NyaW1pbmF0b3I7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxuICAgIGdldCBvcHRpb25zTWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnNNYXA7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZGlzY3JpbWluYXRvciwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnNNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWVzID0gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNoYXBlW2Rpc2NyaW1pbmF0b3JdKTtcbiAgICAgICAgICAgIGlmICghZGlzY3JpbWluYXRvclZhbHVlcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBkaXNjcmltaW5hdG9yIHZhbHVlIGZvciBrZXkgXFxgJHtkaXNjcmltaW5hdG9yfVxcYCBjb3VsZCBub3QgYmUgZXh0cmFjdGVkIGZyb20gYWxsIHNjaGVtYSBvcHRpb25zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGlzY3JpbWluYXRvciBwcm9wZXJ0eSAke1N0cmluZyhkaXNjcmltaW5hdG9yKX0gaGFzIGR1cGxpY2F0ZSB2YWx1ZSAke1N0cmluZyh2YWx1ZSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnNNYXAuc2V0KHZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZERpc2NyaW1pbmF0ZWRVbmlvbih7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgICAgICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9uc01hcCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2REaXNjcmltaW5hdGVkVW5pb24gPSBab2REaXNjcmltaW5hdGVkVW5pb247XG5mdW5jdGlvbiBtZXJnZVZhbHVlcyhhLCBiKSB7XG4gICAgY29uc3QgYVR5cGUgPSAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGEpO1xuICAgIGNvbnN0IGJUeXBlID0gKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShiKTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0ICYmIGJUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgY29uc3QgYktleXMgPSB1dGlsXzEudXRpbC5vYmplY3RLZXlzKGIpO1xuICAgICAgICBjb25zdCBzaGFyZWRLZXlzID0gdXRpbF8xLnV0aWxcbiAgICAgICAgICAgIC5vYmplY3RLZXlzKGEpXG4gICAgICAgICAgICAuZmlsdGVyKChrZXkpID0+IGJLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpO1xuICAgICAgICBjb25zdCBuZXdPYmogPSB7IC4uLmEsIC4uLmIgfTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcmVkS2V5cykge1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld09iaiB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuYXJyYXkgJiYgYlR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0FycmF5ID0gW107XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbUEgPSBhW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1CID0gYltpbmRleF07XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGl0ZW1BLCBpdGVtQik7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcnJheS5wdXNoKHNoYXJlZFZhbHVlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdBcnJheSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuZGF0ZSAmJlxuICAgICAgICBiVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuZGF0ZSAmJlxuICAgICAgICArYSA9PT0gK2IpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgIH1cbn1cbmNsYXNzIFpvZEludGVyc2VjdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBoYW5kbGVQYXJzZWQgPSAocGFyc2VkTGVmdCwgcGFyc2VkUmlnaHQpID0+IHtcbiAgICAgICAgICAgIGlmICgoMCwgcGFyc2VVdGlsXzEuaXNBYm9ydGVkKShwYXJzZWRMZWZ0KSB8fCAoMCwgcGFyc2VVdGlsXzEuaXNBYm9ydGVkKShwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlVmFsdWVzKHBhcnNlZExlZnQudmFsdWUsIHBhcnNlZFJpZ2h0LnZhbHVlKTtcbiAgICAgICAgICAgIGlmICghbWVyZ2VkLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKDAsIHBhcnNlVXRpbF8xLmlzRGlydHkpKHBhcnNlZExlZnQpIHx8ICgwLCBwYXJzZVV0aWxfMS5pc0RpcnR5KShwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogbWVyZ2VkLmRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLmxlZnQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKS50aGVuKChbbGVmdCwgcmlnaHRdKSA9PiBoYW5kbGVQYXJzZWQobGVmdCwgcmlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVQYXJzZWQodGhpcy5fZGVmLmxlZnQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSwgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5ab2RJbnRlcnNlY3Rpb24gPSBab2RJbnRlcnNlY3Rpb247XG5ab2RJbnRlcnNlY3Rpb24uY3JlYXRlID0gKGxlZnQsIHJpZ2h0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RUdXBsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgbWluaW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdCA9IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICBpZiAoIXJlc3QgJiYgY3R4LmRhdGEubGVuZ3RoID4gdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgIG1heGltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gWy4uLmN0eC5kYXRhXVxuICAgICAgICAgICAgLm1hcCgoaXRlbSwgaXRlbUluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLl9kZWYuaXRlbXNbaXRlbUluZGV4XSB8fCB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgICAgIGlmICghc2NoZW1hKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVtYS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpdGVtSW5kZXgpKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEheCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoaXRlbXMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIGl0ZW1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaXRlbXM7XG4gICAgfVxuICAgIHJlc3QocmVzdCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kVHVwbGUgPSBab2RUdXBsZTtcblpvZFR1cGxlLmNyZWF0ZSA9IChzY2hlbWFzLCBwYXJhbXMpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgcGFzcyBhbiBhcnJheSBvZiBzY2hlbWFzIHRvIHoudHVwbGUoWyAuLi4gXSlcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICBpdGVtczogc2NoZW1hcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZSxcbiAgICAgICAgcmVzdDogbnVsbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFJlY29yZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGN0eC5kYXRhW2tleV0sIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGZpcnN0LCBzZWNvbmQsIHRoaXJkKSB7XG4gICAgICAgIGlmIChzZWNvbmQgaW5zdGFuY2VvZiBab2RUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICAgICAga2V5VHlwZTogZmlyc3QsXG4gICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBzZWNvbmQsXG4gICAgICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlyZCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICBrZXlUeXBlOiBab2RTdHJpbmcuY3JlYXRlKCksXG4gICAgICAgICAgICB2YWx1ZVR5cGU6IGZpcnN0LFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHNlY29uZCksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kUmVjb3JkID0gWm9kUmVjb3JkO1xuY2xhc3MgWm9kTWFwIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUubWFwKSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUubWFwLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBjb25zdCBwYWlycyA9IFsuLi5jdHguZGF0YS5lbnRyaWVzKCldLm1hcCgoW2tleSwgdmFsdWVdLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBbaW5kZXgsIFwia2V5XCJdKSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwgW2luZGV4LCBcInZhbHVlXCJdKSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlpvZE1hcCA9IFpvZE1hcDtcblpvZE1hcC5jcmVhdGUgPSAoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE1hcCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXAsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RTZXQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zZXQpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zZXQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChkZWYubWluU2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPCBkZWYubWluU2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pblNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluU2l6ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4U2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPiBkZWYubWF4U2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhTaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heFNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmdW5jdGlvbiBmaW5hbGl6ZVNldChlbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHBhcnNlZFNldC5hZGQoZWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHBhcnNlZFNldCB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gWy4uLmN0eC5kYXRhLnZhbHVlcygpXS5tYXAoKGl0ZW0sIGkpID0+IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSkpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGVsZW1lbnRzKS50aGVuKChlbGVtZW50cykgPT4gZmluYWxpemVTZXQoZWxlbWVudHMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbGl6ZVNldChlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWluKG1pblNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluU2l6ZTogeyB2YWx1ZTogbWluU2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4U2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhTaXplOiB7IHZhbHVlOiBtYXhTaXplLCBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpemUoc2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oc2l6ZSwgbWVzc2FnZSkubWF4KHNpemUsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnRzLlpvZFNldCA9IFpvZFNldDtcblpvZFNldC5jcmVhdGUgPSAodmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAgbWluU2l6ZTogbnVsbCxcbiAgICAgICAgbWF4U2l6ZTogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RGdW5jdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlID0gdGhpcy5pbXBsZW1lbnQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5mdW5jdGlvbikge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZUFyZ3NJc3N1ZShhcmdzLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5tYWtlSXNzdWUpKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JzXzEuZ2V0RXJyb3JNYXApKCksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yc18xLmRlZmF1bHRFcnJvck1hcCxcbiAgICAgICAgICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c0Vycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZVJldHVybnNJc3N1ZShyZXR1cm5zLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5tYWtlSXNzdWUpKHtcbiAgICAgICAgICAgICAgICBkYXRhOiByZXR1cm5zLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JzXzEuZ2V0RXJyb3JNYXApKCksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yc18xLmRlZmF1bHRFcnJvck1hcCxcbiAgICAgICAgICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZUVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAgfTtcbiAgICAgICAgY29uc3QgZm4gPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5yZXR1cm5zIGluc3RhbmNlb2YgWm9kUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKFtdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gYXdhaXQgdGhpcy5fZGVmLmFyZ3NcbiAgICAgICAgICAgICAgICAgICAgLnBhcnNlQXN5bmMoYXJncywgcGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZUFyZ3NJc3N1ZShhcmdzLCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZuKC4uLnBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBhd2FpdCB0aGlzLl9kZWYucmV0dXJucy5fZGVmLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgLnBhcnNlQXN5bmMocmVzdWx0LCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gdGhpcy5fZGVmLmFyZ3Muc2FmZVBhcnNlKGFyZ3MsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRBcmdzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IoW21ha2VBcmdzSXNzdWUoYXJncywgcGFyc2VkQXJncy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZm4oLi4ucGFyc2VkQXJncy5kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gdGhpcy5fZGVmLnJldHVybnMuc2FmZVBhcnNlKHJlc3VsdCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZFJldHVybnMuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihbbWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIHBhcnNlZFJldHVybnMuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJhbWV0ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmFyZ3M7XG4gICAgfVxuICAgIHJldHVyblR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYucmV0dXJucztcbiAgICB9XG4gICAgYXJncyguLi5pdGVtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGFyZ3M6IFpvZFR1cGxlLmNyZWF0ZShpdGVtcykucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybnMocmV0dXJuVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVyblR5cGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0cmljdEltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhcmdzLCByZXR1cm5zLCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICBhcmdzOiAoYXJnc1xuICAgICAgICAgICAgICAgID8gYXJnc1xuICAgICAgICAgICAgICAgIDogWm9kVHVwbGUuY3JlYXRlKFtdKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpKSxcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVybnMgfHwgWm9kVW5rbm93bi5jcmVhdGUoKSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb24sXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuWm9kRnVuY3Rpb24gPSBab2RGdW5jdGlvbjtcbmNsYXNzIFpvZExhenkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGxhenlTY2hlbWEgPSB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgICAgIHJldHVybiBsYXp5U2NoZW1hLl9wYXJzZSh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RMYXp5ID0gWm9kTGF6eTtcblpvZExhenkuY3JlYXRlID0gKGdldHRlciwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMYXp5KHtcbiAgICAgICAgZ2V0dGVyOiBnZXR0ZXIsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZExpdGVyYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0LmRhdGEgIT09IHRoaXMuX2RlZi52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB0aGlzLl9kZWYudmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWU7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RMaXRlcmFsID0gWm9kTGl0ZXJhbDtcblpvZExpdGVyYWwuY3JlYXRlID0gKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExpdGVyYWwoe1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVpvZEVudW0odmFsdWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5jbGFzcyBab2RFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLnV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlZi52YWx1ZXMuaW5kZXhPZihpbnB1dC5kYXRhKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgVmFsdWVzKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IEVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBleHRyYWN0KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodmFsdWVzKTtcbiAgICB9XG4gICAgZXhjbHVkZSh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHRoaXMub3B0aW9ucy5maWx0ZXIoKG9wdCkgPT4gIXZhbHVlcy5pbmNsdWRlcyhvcHQpKSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RFbnVtID0gWm9kRW51bTtcblpvZEVudW0uY3JlYXRlID0gY3JlYXRlWm9kRW51bTtcbmNsYXNzIFpvZE5hdGl2ZUVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRW51bVZhbHVlcyA9IHV0aWxfMS51dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnN0cmluZyAmJlxuICAgICAgICAgICAgY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsXzEudXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEudXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmF0aXZlRW51bVZhbHVlcy5pbmRleE9mKGlucHV0LmRhdGEpID09PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsXzEudXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxufVxuZXhwb3J0cy5ab2ROYXRpdmVFbnVtID0gWm9kTmF0aXZlRW51bTtcblpvZE5hdGl2ZUVudW0uY3JlYXRlID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYXRpdmVFbnVtKHtcbiAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFByb21pc2UgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnByb21pc2UgJiZcbiAgICAgICAgICAgIGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUucHJvbWlzZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21pc2lmaWVkID0gY3R4LnBhcnNlZFR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnByb21pc2VcbiAgICAgICAgICAgID8gY3R4LmRhdGFcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKGN0eC5kYXRhKTtcbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykocHJvbWlzaWZpZWQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLnBhcnNlQXN5bmMoZGF0YSwge1xuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RQcm9taXNlID0gWm9kUHJvbWlzZTtcblpvZFByb21pc2UuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RQcm9taXNlKHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RFZmZlY3RzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgaW5uZXJUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgc291cmNlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHNcbiAgICAgICAgICAgID8gdGhpcy5fZGVmLnNjaGVtYS5zb3VyY2VUeXBlKClcbiAgICAgICAgICAgIDogdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IHRoaXMuX2RlZi5lZmZlY3QgfHwgbnVsbDtcbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInByZXByb2Nlc3NcIikge1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkID0gZWZmZWN0LnRyYW5zZm9ybShjdHguZGF0YSk7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocHJvY2Vzc2VkKS50aGVuKChwcm9jZXNzZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hlY2tDdHggPSB7XG4gICAgICAgICAgICBhZGRJc3N1ZTogKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCBhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChhcmcuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5wYXRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY2hlY2tDdHguYWRkSXNzdWUgPSBjaGVja0N0eC5hZGRJc3N1ZS5iaW5kKGNoZWNrQ3R4KTtcbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInJlZmluZW1lbnRcIikge1xuICAgICAgICAgICAgY29uc3QgZXhlY3V0ZVJlZmluZW1lbnQgPSAoYWNjKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnJlZmluZW1lbnQoYWNjLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3luYyByZWZpbmVtZW50IGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgIC5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGlubmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lci52YWx1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghKDAsIHBhcnNlVXRpbF8xLmlzVmFsaWQpKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzeW5jaHJvbm91cyB0cmFuc2Zvcm0gZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYVxuICAgICAgICAgICAgICAgICAgICAuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChiYXNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKDAsIHBhcnNlVXRpbF8xLmlzVmFsaWQpKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCkpLnRoZW4oKHJlc3VsdCkgPT4gKHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiByZXN1bHQgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHV0aWxfMS51dGlsLmFzc2VydE5ldmVyKGVmZmVjdCk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RFZmZlY3RzID0gWm9kRWZmZWN0cztcbmV4cG9ydHMuWm9kVHJhbnNmb3JtZXIgPSBab2RFZmZlY3RzO1xuWm9kRWZmZWN0cy5jcmVhdGUgPSAoc2NoZW1hLCBlZmZlY3QsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICBlZmZlY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzID0gKHByZXByb2Nlc3MsIHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJwcmVwcm9jZXNzXCIsIHRyYW5zZm9ybTogcHJlcHJvY2VzcyB9LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RPcHRpb25hbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE9wdGlvbmFsID0gWm9kT3B0aW9uYWw7XG5ab2RPcHRpb25hbC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPcHRpb25hbCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE51bGxhYmxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuZXhwb3J0cy5ab2ROdWxsYWJsZSA9IFpvZE51bGxhYmxlO1xuWm9kTnVsbGFibGUuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbGFibGUoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbGFibGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2REZWZhdWx0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBsZXQgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2RlZi5kZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVEZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5leHBvcnRzLlpvZERlZmF1bHQgPSBab2REZWZhdWx0O1xuWm9kRGVmYXVsdC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdHlwZW9mIHBhcmFtcy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gcGFyYW1zLmRlZmF1bHRcbiAgICAgICAgICAgIDogKCkgPT4gcGFyYW1zLmRlZmF1bHQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RDYXRjaCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgbmV3Q3R4ID0ge1xuICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YTogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICBwYXRoOiBuZXdDdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgIC4uLm5ld0N0eCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoKDAsIHBhcnNlVXRpbF8xLmlzQXN5bmMpKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgPyByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVDYXRjaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RDYXRjaCA9IFpvZENhdGNoO1xuWm9kQ2F0Y2guY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICAgIGNhdGNoVmFsdWU6IHR5cGVvZiBwYXJhbXMuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5jYXRjaCA6ICgpID0+IHBhcmFtcy5jYXRjaCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE5hTiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5uYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5uYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG59XG5leHBvcnRzLlpvZE5hTiA9IFpvZE5hTjtcblpvZE5hTi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYU4oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydHMuQlJBTkQgPSBTeW1ib2woXCJ6b2RfYnJhbmRcIik7XG5jbGFzcyBab2RCcmFuZGVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG59XG5leHBvcnRzLlpvZEJyYW5kZWQgPSBab2RCcmFuZGVkO1xuY2xhc3MgWm9kUGlwZWxpbmUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUFzeW5jID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluUmVzdWx0ID0gYXdhaXQgdGhpcy5fZGVmLmluLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLkRJUlRZKShpblJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQXN5bmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluUmVzdWx0ID0gdGhpcy5fZGVmLmluLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJkaXJ0eVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFBpcGVsaW5lKHtcbiAgICAgICAgICAgIGluOiBhLFxuICAgICAgICAgICAgb3V0OiBiLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5ab2RQaXBlbGluZSA9IFpvZFBpcGVsaW5lO1xuY29uc3QgY3VzdG9tID0gKGNoZWNrLCBwYXJhbXMgPSB7fSwgZmF0YWwpID0+IHtcbiAgICBpZiAoY2hlY2spXG4gICAgICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCkuc3VwZXJSZWZpbmUoKGRhdGEsIGN0eCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmICghY2hlY2soZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID8gcGFyYW1zKGRhdGEpXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IG1lc3NhZ2U6IHBhcmFtcyB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBhcmFtcztcbiAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSAoX2IgPSAoX2EgPSBwLmZhdGFsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYXRhbCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwMiA9IHR5cGVvZiBwID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwIH0gOiBwO1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnAyLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpO1xufTtcbmV4cG9ydHMuY3VzdG9tID0gY3VzdG9tO1xuZXhwb3J0cy5sYXRlID0ge1xuICAgIG9iamVjdDogWm9kT2JqZWN0LmxhenljcmVhdGUsXG59O1xudmFyIFpvZEZpcnN0UGFydHlUeXBlS2luZDtcbihmdW5jdGlvbiAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kKSB7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU3RyaW5nXCJdID0gXCJab2RTdHJpbmdcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdW1iZXJcIl0gPSBcIlpvZE51bWJlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5hTlwiXSA9IFwiWm9kTmFOXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQmlnSW50XCJdID0gXCJab2RCaWdJbnRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCb29sZWFuXCJdID0gXCJab2RCb29sZWFuXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGF0ZVwiXSA9IFwiWm9kRGF0ZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN5bWJvbFwiXSA9IFwiWm9kU3ltYm9sXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5kZWZpbmVkXCJdID0gXCJab2RVbmRlZmluZWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdWxsXCJdID0gXCJab2ROdWxsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQW55XCJdID0gXCJab2RBbnlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmtub3duXCJdID0gXCJab2RVbmtub3duXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmV2ZXJcIl0gPSBcIlpvZE5ldmVyXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVm9pZFwiXSA9IFwiWm9kVm9pZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFycmF5XCJdID0gXCJab2RBcnJheVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9iamVjdFwiXSA9IFwiWm9kT2JqZWN0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5pb25cIl0gPSBcIlpvZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCJdID0gXCJab2REaXNjcmltaW5hdGVkVW5pb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RJbnRlcnNlY3Rpb25cIl0gPSBcIlpvZEludGVyc2VjdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFR1cGxlXCJdID0gXCJab2RUdXBsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlY29yZFwiXSA9IFwiWm9kUmVjb3JkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTWFwXCJdID0gXCJab2RNYXBcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTZXRcIl0gPSBcIlpvZFNldFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEZ1bmN0aW9uXCJdID0gXCJab2RGdW5jdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZExhenlcIl0gPSBcIlpvZExhenlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMaXRlcmFsXCJdID0gXCJab2RMaXRlcmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRW51bVwiXSA9IFwiWm9kRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVmZmVjdHNcIl0gPSBcIlpvZEVmZmVjdHNcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYXRpdmVFbnVtXCJdID0gXCJab2ROYXRpdmVFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kT3B0aW9uYWxcIl0gPSBcIlpvZE9wdGlvbmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbGFibGVcIl0gPSBcIlpvZE51bGxhYmxlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGVmYXVsdFwiXSA9IFwiWm9kRGVmYXVsdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZENhdGNoXCJdID0gXCJab2RDYXRjaFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFByb21pc2VcIl0gPSBcIlpvZFByb21pc2VcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCcmFuZGVkXCJdID0gXCJab2RCcmFuZGVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUGlwZWxpbmVcIl0gPSBcIlpvZFBpcGVsaW5lXCI7XG59KShab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSBleHBvcnRzLlpvZEZpcnN0UGFydHlUeXBlS2luZCB8fCAoZXhwb3J0cy5ab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuY2xhc3MgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKC4uLl8pIHsgfVxufVxuY29uc3QgaW5zdGFuY2VPZlR5cGUgPSAoY2xzLCBwYXJhbXMgPSB7XG4gICAgbWVzc2FnZTogYElucHV0IG5vdCBpbnN0YW5jZSBvZiAke2Nscy5uYW1lfWAsXG59KSA9PiAoMCwgZXhwb3J0cy5jdXN0b20pKChkYXRhKSA9PiBkYXRhIGluc3RhbmNlb2YgY2xzLCBwYXJhbXMpO1xuZXhwb3J0cy5pbnN0YW5jZW9mID0gaW5zdGFuY2VPZlR5cGU7XG5jb25zdCBzdHJpbmdUeXBlID0gWm9kU3RyaW5nLmNyZWF0ZTtcbmV4cG9ydHMuc3RyaW5nID0gc3RyaW5nVHlwZTtcbmNvbnN0IG51bWJlclR5cGUgPSBab2ROdW1iZXIuY3JlYXRlO1xuZXhwb3J0cy5udW1iZXIgPSBudW1iZXJUeXBlO1xuY29uc3QgbmFuVHlwZSA9IFpvZE5hTi5jcmVhdGU7XG5leHBvcnRzLm5hbiA9IG5hblR5cGU7XG5jb25zdCBiaWdJbnRUeXBlID0gWm9kQmlnSW50LmNyZWF0ZTtcbmV4cG9ydHMuYmlnaW50ID0gYmlnSW50VHlwZTtcbmNvbnN0IGJvb2xlYW5UeXBlID0gWm9kQm9vbGVhbi5jcmVhdGU7XG5leHBvcnRzLmJvb2xlYW4gPSBib29sZWFuVHlwZTtcbmNvbnN0IGRhdGVUeXBlID0gWm9kRGF0ZS5jcmVhdGU7XG5leHBvcnRzLmRhdGUgPSBkYXRlVHlwZTtcbmNvbnN0IHN5bWJvbFR5cGUgPSBab2RTeW1ib2wuY3JlYXRlO1xuZXhwb3J0cy5zeW1ib2wgPSBzeW1ib2xUeXBlO1xuY29uc3QgdW5kZWZpbmVkVHlwZSA9IFpvZFVuZGVmaW5lZC5jcmVhdGU7XG5leHBvcnRzLnVuZGVmaW5lZCA9IHVuZGVmaW5lZFR5cGU7XG5jb25zdCBudWxsVHlwZSA9IFpvZE51bGwuY3JlYXRlO1xuZXhwb3J0cy5udWxsID0gbnVsbFR5cGU7XG5jb25zdCBhbnlUeXBlID0gWm9kQW55LmNyZWF0ZTtcbmV4cG9ydHMuYW55ID0gYW55VHlwZTtcbmNvbnN0IHVua25vd25UeXBlID0gWm9kVW5rbm93bi5jcmVhdGU7XG5leHBvcnRzLnVua25vd24gPSB1bmtub3duVHlwZTtcbmNvbnN0IG5ldmVyVHlwZSA9IFpvZE5ldmVyLmNyZWF0ZTtcbmV4cG9ydHMubmV2ZXIgPSBuZXZlclR5cGU7XG5jb25zdCB2b2lkVHlwZSA9IFpvZFZvaWQuY3JlYXRlO1xuZXhwb3J0cy52b2lkID0gdm9pZFR5cGU7XG5jb25zdCBhcnJheVR5cGUgPSBab2RBcnJheS5jcmVhdGU7XG5leHBvcnRzLmFycmF5ID0gYXJyYXlUeXBlO1xuY29uc3Qgb2JqZWN0VHlwZSA9IFpvZE9iamVjdC5jcmVhdGU7XG5leHBvcnRzLm9iamVjdCA9IG9iamVjdFR5cGU7XG5jb25zdCBzdHJpY3RPYmplY3RUeXBlID0gWm9kT2JqZWN0LnN0cmljdENyZWF0ZTtcbmV4cG9ydHMuc3RyaWN0T2JqZWN0ID0gc3RyaWN0T2JqZWN0VHlwZTtcbmNvbnN0IHVuaW9uVHlwZSA9IFpvZFVuaW9uLmNyZWF0ZTtcbmV4cG9ydHMudW5pb24gPSB1bmlvblR5cGU7XG5jb25zdCBkaXNjcmltaW5hdGVkVW5pb25UeXBlID0gWm9kRGlzY3JpbWluYXRlZFVuaW9uLmNyZWF0ZTtcbmV4cG9ydHMuZGlzY3JpbWluYXRlZFVuaW9uID0gZGlzY3JpbWluYXRlZFVuaW9uVHlwZTtcbmNvbnN0IGludGVyc2VjdGlvblR5cGUgPSBab2RJbnRlcnNlY3Rpb24uY3JlYXRlO1xuZXhwb3J0cy5pbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb25UeXBlO1xuY29uc3QgdHVwbGVUeXBlID0gWm9kVHVwbGUuY3JlYXRlO1xuZXhwb3J0cy50dXBsZSA9IHR1cGxlVHlwZTtcbmNvbnN0IHJlY29yZFR5cGUgPSBab2RSZWNvcmQuY3JlYXRlO1xuZXhwb3J0cy5yZWNvcmQgPSByZWNvcmRUeXBlO1xuY29uc3QgbWFwVHlwZSA9IFpvZE1hcC5jcmVhdGU7XG5leHBvcnRzLm1hcCA9IG1hcFR5cGU7XG5jb25zdCBzZXRUeXBlID0gWm9kU2V0LmNyZWF0ZTtcbmV4cG9ydHMuc2V0ID0gc2V0VHlwZTtcbmNvbnN0IGZ1bmN0aW9uVHlwZSA9IFpvZEZ1bmN0aW9uLmNyZWF0ZTtcbmV4cG9ydHMuZnVuY3Rpb24gPSBmdW5jdGlvblR5cGU7XG5jb25zdCBsYXp5VHlwZSA9IFpvZExhenkuY3JlYXRlO1xuZXhwb3J0cy5sYXp5ID0gbGF6eVR5cGU7XG5jb25zdCBsaXRlcmFsVHlwZSA9IFpvZExpdGVyYWwuY3JlYXRlO1xuZXhwb3J0cy5saXRlcmFsID0gbGl0ZXJhbFR5cGU7XG5jb25zdCBlbnVtVHlwZSA9IFpvZEVudW0uY3JlYXRlO1xuZXhwb3J0cy5lbnVtID0gZW51bVR5cGU7XG5jb25zdCBuYXRpdmVFbnVtVHlwZSA9IFpvZE5hdGl2ZUVudW0uY3JlYXRlO1xuZXhwb3J0cy5uYXRpdmVFbnVtID0gbmF0aXZlRW51bVR5cGU7XG5jb25zdCBwcm9taXNlVHlwZSA9IFpvZFByb21pc2UuY3JlYXRlO1xuZXhwb3J0cy5wcm9taXNlID0gcHJvbWlzZVR5cGU7XG5jb25zdCBlZmZlY3RzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlO1xuZXhwb3J0cy5lZmZlY3QgPSBlZmZlY3RzVHlwZTtcbmV4cG9ydHMudHJhbnNmb3JtZXIgPSBlZmZlY3RzVHlwZTtcbmNvbnN0IG9wdGlvbmFsVHlwZSA9IFpvZE9wdGlvbmFsLmNyZWF0ZTtcbmV4cG9ydHMub3B0aW9uYWwgPSBvcHRpb25hbFR5cGU7XG5jb25zdCBudWxsYWJsZVR5cGUgPSBab2ROdWxsYWJsZS5jcmVhdGU7XG5leHBvcnRzLm51bGxhYmxlID0gbnVsbGFibGVUeXBlO1xuY29uc3QgcHJlcHJvY2Vzc1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzO1xuZXhwb3J0cy5wcmVwcm9jZXNzID0gcHJlcHJvY2Vzc1R5cGU7XG5jb25zdCBwaXBlbGluZVR5cGUgPSBab2RQaXBlbGluZS5jcmVhdGU7XG5leHBvcnRzLnBpcGVsaW5lID0gcGlwZWxpbmVUeXBlO1xuY29uc3Qgb3N0cmluZyA9ICgpID0+IHN0cmluZ1R5cGUoKS5vcHRpb25hbCgpO1xuZXhwb3J0cy5vc3RyaW5nID0gb3N0cmluZztcbmNvbnN0IG9udW1iZXIgPSAoKSA9PiBudW1iZXJUeXBlKCkub3B0aW9uYWwoKTtcbmV4cG9ydHMub251bWJlciA9IG9udW1iZXI7XG5jb25zdCBvYm9vbGVhbiA9ICgpID0+IGJvb2xlYW5UeXBlKCkub3B0aW9uYWwoKTtcbmV4cG9ydHMub2Jvb2xlYW4gPSBvYm9vbGVhbjtcbmV4cG9ydHMuY29lcmNlID0ge1xuICAgIHN0cmluZzogKChhcmcpID0+IFpvZFN0cmluZy5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgbnVtYmVyOiAoKGFyZykgPT4gWm9kTnVtYmVyLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBib29sZWFuOiAoKGFyZykgPT4gWm9kQm9vbGVhbi5jcmVhdGUoe1xuICAgICAgICAuLi5hcmcsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICB9KSksXG4gICAgYmlnaW50OiAoKGFyZykgPT4gWm9kQmlnSW50LmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBkYXRlOiAoKGFyZykgPT4gWm9kRGF0ZS5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG59O1xuZXhwb3J0cy5ORVZFUiA9IHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9lcnJvcnNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2hlbHBlcnMvcGFyc2VVdGlsXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9oZWxwZXJzL3R5cGVBbGlhc2VzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9oZWxwZXJzL3V0aWxcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3R5cGVzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9ab2RFcnJvclwiKSwgZXhwb3J0cyk7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnogPSB2b2lkIDA7XG5jb25zdCB6ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2V4dGVybmFsXCIpKTtcbmV4cG9ydHMueiA9IHo7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vZXh0ZXJuYWxcIiksIGV4cG9ydHMpO1xuZXhwb3J0cy5kZWZhdWx0ID0gejtcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlQW55RGVmID0gdm9pZCAwO1xyXG5mdW5jdGlvbiBwYXJzZUFueURlZigpIHtcclxuICAgIHJldHVybiB7fTtcclxufVxyXG5leHBvcnRzLnBhcnNlQW55RGVmID0gcGFyc2VBbnlEZWY7XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgPSBleHBvcnRzLmFkZEVycm9yTWVzc2FnZSA9IHZvaWQgMDtcclxuZnVuY3Rpb24gYWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpIHtcclxuICAgIGlmICghKHJlZnMgPT09IG51bGwgfHwgcmVmcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVmcy5lcnJvck1lc3NhZ2VzKSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgcmVzLmVycm9yTWVzc2FnZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzLmVycm9yTWVzc2FnZSksIHsgW2tleV06IGVycm9yTWVzc2FnZSB9KTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFkZEVycm9yTWVzc2FnZSA9IGFkZEVycm9yTWVzc2FnZTtcclxuZnVuY3Rpb24gc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIGtleSwgdmFsdWUsIGVycm9yTWVzc2FnZSwgcmVmcykge1xyXG4gICAgcmVzW2tleV0gPSB2YWx1ZTtcclxuICAgIGFkZEVycm9yTWVzc2FnZShyZXMsIGtleSwgZXJyb3JNZXNzYWdlLCByZWZzKTtcclxufVxyXG5leHBvcnRzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgPSBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzO1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wYXJzZUFycmF5RGVmID0gdm9pZCAwO1xyXG5jb25zdCB6b2RfMSA9IHJlcXVpcmUoXCJ6b2RcIik7XHJcbmNvbnN0IGVycm9yTWVzc2FnZXNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvck1lc3NhZ2VzXCIpO1xyXG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xyXG5mdW5jdGlvbiBwYXJzZUFycmF5RGVmKGRlZiwgcmVmcykge1xyXG4gICAgdmFyIF9hLCBfYjtcclxuICAgIGNvbnN0IHJlcyA9IHtcclxuICAgICAgICB0eXBlOiBcImFycmF5XCIsXHJcbiAgICB9O1xyXG4gICAgaWYgKCgoX2IgPSAoX2EgPSBkZWYudHlwZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLl9kZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50eXBlTmFtZSkgIT09IHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnkpIHtcclxuICAgICAgICByZXMuaXRlbXMgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLnR5cGUuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIl0gfSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlZi5taW5MZW5ndGgpIHtcclxuICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtaW5JdGVtc1wiLCBkZWYubWluTGVuZ3RoLnZhbHVlLCBkZWYubWluTGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlZi5tYXhMZW5ndGgpIHtcclxuICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhJdGVtc1wiLCBkZWYubWF4TGVuZ3RoLnZhbHVlLCBkZWYubWF4TGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5leHBvcnRzLnBhcnNlQXJyYXlEZWYgPSBwYXJzZUFycmF5RGVmO1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wYXJzZUJpZ2ludERlZiA9IHZvaWQgMDtcclxuY29uc3QgZXJyb3JNZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL2Vycm9yTWVzc2FnZXNcIik7XHJcbmZ1bmN0aW9uIHBhcnNlQmlnaW50RGVmKGRlZiwgcmVmcykge1xyXG4gICAgY29uc3QgcmVzID0ge1xyXG4gICAgICAgIHR5cGU6IFwiaW50ZWdlclwiLFxyXG4gICAgICAgIGZvcm1hdDogXCJpbnQ2NFwiLFxyXG4gICAgfTtcclxuICAgIGlmICghZGVmLmNoZWNrcylcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XHJcbiAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtaW5cIjpcclxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcImV4Y2x1c2l2ZU1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNaW5pbXVtID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm1heFwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwiZXhjbHVzaXZlTWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVPZlwiOlxyXG4gICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibXVsdGlwbGVPZlwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmV4cG9ydHMucGFyc2VCaWdpbnREZWYgPSBwYXJzZUJpZ2ludERlZjtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VCb29sZWFuRGVmID0gdm9pZCAwO1xyXG5mdW5jdGlvbiBwYXJzZUJvb2xlYW5EZWYoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLnBhcnNlQm9vbGVhbkRlZiA9IHBhcnNlQm9vbGVhbkRlZjtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VCcmFuZGVkRGVmID0gdm9pZCAwO1xyXG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xyXG5mdW5jdGlvbiBwYXJzZUJyYW5kZWREZWYoX2RlZiwgcmVmcykge1xyXG4gICAgcmV0dXJuICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShfZGVmLnR5cGUuX2RlZiwgcmVmcyk7XHJcbn1cclxuZXhwb3J0cy5wYXJzZUJyYW5kZWREZWYgPSBwYXJzZUJyYW5kZWREZWY7XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlQ2F0Y2hEZWYgPSB2b2lkIDA7XHJcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XHJcbmNvbnN0IHBhcnNlQ2F0Y2hEZWYgPSAoZGVmLCByZWZzKSA9PiB7XHJcbiAgICByZXR1cm4gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XHJcbn07XHJcbmV4cG9ydHMucGFyc2VDYXRjaERlZiA9IHBhcnNlQ2F0Y2hEZWY7XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlRGF0ZURlZiA9IHZvaWQgMDtcclxuZnVuY3Rpb24gcGFyc2VEYXRlRGVmKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxyXG4gICAgICAgIGZvcm1hdDogXCJkYXRlLXRpbWVcIixcclxuICAgIH07XHJcbn1cclxuZXhwb3J0cy5wYXJzZURhdGVEZWYgPSBwYXJzZURhdGVEZWY7XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlRGVmYXVsdERlZiA9IHZvaWQgMDtcclxuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcclxuZnVuY3Rpb24gcGFyc2VEZWZhdWx0RGVmKF9kZWYsIHJlZnMpIHtcclxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShfZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKSksIHsgZGVmYXVsdDogX2RlZi5kZWZhdWx0VmFsdWUoKSB9KTtcclxufVxyXG5leHBvcnRzLnBhcnNlRGVmYXVsdERlZiA9IHBhcnNlRGVmYXVsdERlZjtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VFZmZlY3RzRGVmID0gdm9pZCAwO1xyXG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xyXG5mdW5jdGlvbiBwYXJzZUVmZmVjdHNEZWYoX2RlZiwgcmVmcykge1xyXG4gICAgcmV0dXJuIHJlZnMuZWZmZWN0U3RyYXRlZ3kgPT09IFwiaW5wdXRcIlxyXG4gICAgICAgID8gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKF9kZWYuc2NoZW1hLl9kZWYsIHJlZnMpXHJcbiAgICAgICAgOiB7fTtcclxufVxyXG5leHBvcnRzLnBhcnNlRWZmZWN0c0RlZiA9IHBhcnNlRWZmZWN0c0RlZjtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VFbnVtRGVmID0gdm9pZCAwO1xyXG5mdW5jdGlvbiBwYXJzZUVudW1EZWYoZGVmKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXHJcbiAgICAgICAgZW51bTogZGVmLnZhbHVlcyxcclxuICAgIH07XHJcbn1cclxuZXhwb3J0cy5wYXJzZUVudW1EZWYgPSBwYXJzZUVudW1EZWY7XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wYXJzZUludGVyc2VjdGlvbkRlZiA9IHZvaWQgMDtcclxuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcclxuY29uc3QgaXNKc29uU2NoZW1hN0FsbE9mVHlwZSA9ICh0eXBlKSA9PiB7XHJcbiAgICBpZiAoXCJ0eXBlXCIgaW4gdHlwZSAmJiB0eXBlLnR5cGUgPT09IFwic3RyaW5nXCIpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuICdhbGxPZicgaW4gdHlwZTtcclxufTtcclxuZnVuY3Rpb24gcGFyc2VJbnRlcnNlY3Rpb25EZWYoZGVmLCByZWZzKSB7XHJcbiAgICBjb25zdCBhbGxPZiA9IFtcclxuICAgICAgICAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmxlZnQuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWxsT2ZcIiwgXCIwXCJdIH0pKSxcclxuICAgICAgICAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLnJpZ2h0Ll9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFsbE9mXCIsIFwiMVwiXSB9KSksXHJcbiAgICBdLmZpbHRlcigoeCkgPT4gISF4KTtcclxuICAgIGxldCB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSByZWZzLnRhcmdldCA9PT0gJ2pzb25TY2hlbWEyMDE5LTA5JyA/IHsgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzOiBmYWxzZSB9IDogdW5kZWZpbmVkO1xyXG4gICAgY29uc3QgbWVyZ2VkQWxsT2YgPSBbXTtcclxuICAgIC8vIElmIGVpdGhlciBvZiB0aGUgc2NoZW1hcyBpcyBhbiBhbGxPZiwgbWVyZ2UgdGhlbSBpbnRvIGEgc2luZ2xlIGFsbE9mXHJcbiAgICBhbGxPZi5mb3JFYWNoKChzY2hlbWEpID0+IHtcclxuICAgICAgICBpZiAoaXNKc29uU2NoZW1hN0FsbE9mVHlwZShzY2hlbWEpKSB7XHJcbiAgICAgICAgICAgIG1lcmdlZEFsbE9mLnB1c2goLi4uc2NoZW1hLmFsbE9mKTtcclxuICAgICAgICAgICAgaWYgKHNjaGVtYS51bmV2YWx1YXRlZFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgb25lIG9mIHRoZSBzY2hlbWFzIGhhcyBubyB1bmV2YWx1YXRlZFByb3BlcnRpZXMgc2V0LFxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIG1lcmdlZCBzY2hlbWEgc2hvdWxkIGFsc28gaGF2ZSBubyB1bmV2YWx1YXRlZFByb3BlcnRpZXMgc2V0XHJcbiAgICAgICAgICAgICAgICB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBuZXN0ZWRTY2hlbWEgPSBzY2hlbWE7XHJcbiAgICAgICAgICAgIGlmICgnYWRkaXRpb25hbFByb3BlcnRpZXMnIGluIHNjaGVtYSAmJiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFkZGl0aW9uYWxQcm9wZXJ0aWVzIH0gPSBzY2hlbWEsIHJlc3QgPSBfX3Jlc3Qoc2NoZW1hLCBbXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSk7XHJcbiAgICAgICAgICAgICAgICBuZXN0ZWRTY2hlbWEgPSByZXN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQXMgc29vbiBhcyBvbmUgb2YgdGhlIHNjaGVtYXMgaGFzIGFkZGl0aW9uYWxQcm9wZXJ0aWVzIHNldCBub3QgdG8gZmFsc2UsIHdlIGFsbG93IHVuZXZhbHVhdGVkUHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1lcmdlZEFsbE9mLnB1c2gobmVzdGVkU2NoZW1hKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBtZXJnZWRBbGxPZi5sZW5ndGggPyBPYmplY3QuYXNzaWduKHsgYWxsT2Y6IG1lcmdlZEFsbE9mIH0sIHVuZXZhbHVhdGVkUHJvcGVydGllcykgOiB1bmRlZmluZWQ7XHJcbn1cclxuZXhwb3J0cy5wYXJzZUludGVyc2VjdGlvbkRlZiA9IHBhcnNlSW50ZXJzZWN0aW9uRGVmO1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wYXJzZUxpdGVyYWxEZWYgPSB2b2lkIDA7XHJcbmZ1bmN0aW9uIHBhcnNlTGl0ZXJhbERlZihkZWYsIHJlZnMpIHtcclxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0eXBlb2YgZGVmLnZhbHVlO1xyXG4gICAgaWYgKHBhcnNlZFR5cGUgIT09IFwiYmlnaW50XCIgJiZcclxuICAgICAgICBwYXJzZWRUeXBlICE9PSBcIm51bWJlclwiICYmXHJcbiAgICAgICAgcGFyc2VkVHlwZSAhPT0gXCJib29sZWFuXCIgJiZcclxuICAgICAgICBwYXJzZWRUeXBlICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogQXJyYXkuaXNBcnJheShkZWYudmFsdWUpID8gXCJhcnJheVwiIDogXCJvYmplY3RcIixcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBwYXJzZWRUeXBlID09PSBcImJpZ2ludFwiID8gXCJpbnRlZ2VyXCIgOiBwYXJzZWRUeXBlLFxyXG4gICAgICAgICAgICBlbnVtOiBbZGVmLnZhbHVlXSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBwYXJzZWRUeXBlID09PSBcImJpZ2ludFwiID8gXCJpbnRlZ2VyXCIgOiBwYXJzZWRUeXBlLFxyXG4gICAgICAgIGNvbnN0OiBkZWYudmFsdWUsXHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydHMucGFyc2VMaXRlcmFsRGVmID0gcGFyc2VMaXRlcmFsRGVmO1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wYXJzZU1hcERlZiA9IHZvaWQgMDtcclxuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcclxuZnVuY3Rpb24gcGFyc2VNYXBEZWYoZGVmLCByZWZzKSB7XHJcbiAgICBjb25zdCBrZXlzID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5rZXlUeXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCIsIFwiaXRlbXNcIiwgXCIwXCJdIH0pKSB8fCB7fTtcclxuICAgIGNvbnN0IHZhbHVlcyA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYudmFsdWVUeXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCIsIFwiaXRlbXNcIiwgXCIxXCJdIH0pKSB8fCB7fTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZTogXCJhcnJheVwiLFxyXG4gICAgICAgIG1heEl0ZW1zOiAxMjUsXHJcbiAgICAgICAgaXRlbXM6IHtcclxuICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxyXG4gICAgICAgICAgICBpdGVtczogW2tleXMsIHZhbHVlc10sXHJcbiAgICAgICAgICAgIG1pbkl0ZW1zOiAyLFxyXG4gICAgICAgICAgICBtYXhJdGVtczogMixcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLnBhcnNlTWFwRGVmID0gcGFyc2VNYXBEZWY7XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlTmF0aXZlRW51bURlZiA9IHZvaWQgMDtcclxuZnVuY3Rpb24gcGFyc2VOYXRpdmVFbnVtRGVmKGRlZikge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gZGVmLnZhbHVlcztcclxuICAgIGNvbnN0IGFjdHVhbEtleXMgPSBPYmplY3Qua2V5cyhkZWYudmFsdWVzKS5maWx0ZXIoKGtleSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0W29iamVjdFtrZXldXSAhPT0gXCJudW1iZXJcIjtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgYWN0dWFsVmFsdWVzID0gYWN0dWFsS2V5cy5tYXAoKGtleSkgPT4gb2JqZWN0W2tleV0pO1xyXG4gICAgY29uc3QgcGFyc2VkVHlwZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQoYWN0dWFsVmFsdWVzLm1hcCgodmFsdWVzKSA9PiB0eXBlb2YgdmFsdWVzKSkpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0eXBlOiBwYXJzZWRUeXBlcy5sZW5ndGggPT09IDFcclxuICAgICAgICAgICAgPyBwYXJzZWRUeXBlc1swXSA9PT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICAgICAgICAgPyBcInN0cmluZ1wiXHJcbiAgICAgICAgICAgICAgICA6IFwibnVtYmVyXCJcclxuICAgICAgICAgICAgOiBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIl0sXHJcbiAgICAgICAgZW51bTogYWN0dWFsVmFsdWVzLFxyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLnBhcnNlTmF0aXZlRW51bURlZiA9IHBhcnNlTmF0aXZlRW51bURlZjtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VOZXZlckRlZiA9IHZvaWQgMDtcclxuZnVuY3Rpb24gcGFyc2VOZXZlckRlZigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbm90OiB7fSxcclxuICAgIH07XHJcbn1cclxuZXhwb3J0cy5wYXJzZU5ldmVyRGVmID0gcGFyc2VOZXZlckRlZjtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VOdWxsRGVmID0gdm9pZCAwO1xyXG5mdW5jdGlvbiBwYXJzZU51bGxEZWYocmVmcykge1xyXG4gICAgcmV0dXJuIHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCJcclxuICAgICAgICA/IHtcclxuICAgICAgICAgICAgZW51bTogW1wibnVsbFwiXSxcclxuICAgICAgICAgICAgbnVsbGFibGU6IHRydWUsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIDoge1xyXG4gICAgICAgICAgICB0eXBlOiBcIm51bGxcIixcclxuICAgICAgICB9O1xyXG59XHJcbmV4cG9ydHMucGFyc2VOdWxsRGVmID0gcGFyc2VOdWxsRGVmO1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wYXJzZVVuaW9uRGVmID0gZXhwb3J0cy5wcmltaXRpdmVNYXBwaW5ncyA9IHZvaWQgMDtcclxuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcclxuZXhwb3J0cy5wcmltaXRpdmVNYXBwaW5ncyA9IHtcclxuICAgIFpvZFN0cmluZzogXCJzdHJpbmdcIixcclxuICAgIFpvZE51bWJlcjogXCJudW1iZXJcIixcclxuICAgIFpvZEJpZ0ludDogXCJpbnRlZ2VyXCIsXHJcbiAgICBab2RCb29sZWFuOiBcImJvb2xlYW5cIixcclxuICAgIFpvZE51bGw6IFwibnVsbFwiLFxyXG59O1xyXG5mdW5jdGlvbiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcykge1xyXG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpXHJcbiAgICAgICAgcmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSBkZWYub3B0aW9ucyBpbnN0YW5jZW9mIE1hcCA/IEFycmF5LmZyb20oZGVmLm9wdGlvbnMudmFsdWVzKCkpIDogZGVmLm9wdGlvbnM7XHJcbiAgICAvLyBUaGlzIGJsb2NrcyB0cmllcyB0byBsb29rIGFoZWFkIGEgYml0IHRvIHByb2R1Y2UgbmljZXIgbG9va2luZyBzY2hlbWFzIHdpdGggdHlwZSBhcnJheSBpbnN0ZWFkIG9mIGFueU9mLlxyXG4gICAgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSBpbiBleHBvcnRzLnByaW1pdGl2ZU1hcHBpbmdzICYmXHJcbiAgICAgICAgKCF4Ll9kZWYuY2hlY2tzIHx8ICF4Ll9kZWYuY2hlY2tzLmxlbmd0aCkpKSB7XHJcbiAgICAgICAgLy8gYWxsIHR5cGVzIGluIHVuaW9uIGFyZSBwcmltaXRpdmUgYW5kIGxhY2sgY2hlY2tzLCBzbyBtaWdodCBhcyB3ZWxsIHNxdWFzaCBpbnRvIHt0eXBlOiBbLi4uXX1cclxuICAgICAgICBjb25zdCB0eXBlcyA9IG9wdGlvbnMucmVkdWNlKCh0eXBlcywgeCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gZXhwb3J0cy5wcmltaXRpdmVNYXBwaW5nc1t4Ll9kZWYudHlwZU5hbWVdOyAvL0NhbiBiZSBzYWZlbHkgY2FzdGVkIGR1ZSB0byByb3cgNDNcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGUgJiYgIXR5cGVzLmluY2x1ZGVzKHR5cGUpID8gWy4uLnR5cGVzLCB0eXBlXSA6IHR5cGVzO1xyXG4gICAgICAgIH0sIFtdKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiB0eXBlcy5sZW5ndGggPiAxID8gdHlwZXMgOiB0eXBlc1swXSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lID09PSBcIlpvZExpdGVyYWxcIiAmJiAheC5kZXNjcmlwdGlvbikpIHtcclxuICAgICAgICAvLyBhbGwgb3B0aW9ucyBsaXRlcmFsc1xyXG4gICAgICAgIGNvbnN0IHR5cGVzID0gb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIHguX2RlZi52YWx1ZTtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCB0eXBlXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgXCJpbnRlZ2VyXCJdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4Ll9kZWYudmFsdWUgPT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCBcIm51bGxcIl07XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIFtdKTtcclxuICAgICAgICBpZiAodHlwZXMubGVuZ3RoID09PSBvcHRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBhbGwgdGhlIGxpdGVyYWxzIGFyZSBwcmltaXRpdmUsIGFzIGZhciBhcyBudWxsIGNhbiBiZSBjb25zaWRlcmVkIHByaW1pdGl2ZVxyXG4gICAgICAgICAgICBjb25zdCB1bmlxdWVUeXBlcyA9IHR5cGVzLmZpbHRlcigoeCwgaSwgYSkgPT4gYS5pbmRleE9mKHgpID09PSBpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHVuaXF1ZVR5cGVzLmxlbmd0aCA+IDEgPyB1bmlxdWVUeXBlcyA6IHVuaXF1ZVR5cGVzWzBdLFxyXG4gICAgICAgICAgICAgICAgZW51bTogb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2MuaW5jbHVkZXMoeC5fZGVmLnZhbHVlKSA/IGFjYyA6IFsuLi5hY2MsIHguX2RlZi52YWx1ZV07XHJcbiAgICAgICAgICAgICAgICB9LCBbXSksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lID09PSBcIlpvZEVudW1cIikpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxyXG4gICAgICAgICAgICBlbnVtOiBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiBbXHJcbiAgICAgICAgICAgICAgICAuLi5hY2MsXHJcbiAgICAgICAgICAgICAgICAuLi54Ll9kZWYudmFsdWVzLmZpbHRlcigoeCkgPT4gIWFjYy5pbmNsdWRlcyh4KSksXHJcbiAgICAgICAgICAgIF0sIFtdKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcclxufVxyXG5leHBvcnRzLnBhcnNlVW5pb25EZWYgPSBwYXJzZVVuaW9uRGVmO1xyXG5jb25zdCBhc0FueU9mID0gKGRlZiwgcmVmcykgPT4ge1xyXG4gICAgY29uc3QgYW55T2YgPSAoZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXBcclxuICAgICAgICA/IEFycmF5LmZyb20oZGVmLm9wdGlvbnMudmFsdWVzKCkpXHJcbiAgICAgICAgOiBkZWYub3B0aW9ucylcclxuICAgICAgICAubWFwKCh4LCBpKSA9PiAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoeC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbnlPZlwiLCBgJHtpfWBdIH0pKSlcclxuICAgICAgICAuZmlsdGVyKCh4KSA9PiAhIXggJiZcclxuICAgICAgICAoIXJlZnMuc3RyaWN0VW5pb25zIHx8XHJcbiAgICAgICAgICAgICh0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwKSkpO1xyXG4gICAgcmV0dXJuIGFueU9mLmxlbmd0aCA/IHsgYW55T2YgfSA6IHVuZGVmaW5lZDtcclxufTtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VOdWxsYWJsZURlZiA9IHZvaWQgMDtcclxuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcclxuY29uc3QgdW5pb25fMSA9IHJlcXVpcmUoXCIuL3VuaW9uXCIpO1xyXG5mdW5jdGlvbiBwYXJzZU51bGxhYmxlRGVmKGRlZiwgcmVmcykge1xyXG4gICAgaWYgKFtcIlpvZFN0cmluZ1wiLCBcIlpvZE51bWJlclwiLCBcIlpvZEJpZ0ludFwiLCBcIlpvZEJvb2xlYW5cIiwgXCJab2ROdWxsXCJdLmluY2x1ZGVzKGRlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZSkgJiZcclxuICAgICAgICAoIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MgfHwgIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MubGVuZ3RoKSkge1xyXG4gICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiB1bmlvbl8xLnByaW1pdGl2ZU1hcHBpbmdzW2RlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZV0sXHJcbiAgICAgICAgICAgICAgICBudWxsYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogW1xyXG4gICAgICAgICAgICAgICAgdW5pb25fMS5wcmltaXRpdmVNYXBwaW5nc1tkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWVdLFxyXG4gICAgICAgICAgICAgICAgXCJudWxsXCIsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IHR5cGUgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmlubmVyVHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbnlPZlwiLCBcIjBcIl0gfSkpO1xyXG4gICAgcmV0dXJuIHR5cGVcclxuICAgICAgICA/IHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCJcclxuICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHR5cGUpLCB7IG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIDoge1xyXG4gICAgICAgICAgICAgICAgYW55T2Y6IFtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudWxsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICA6IHVuZGVmaW5lZDtcclxufVxyXG5leHBvcnRzLnBhcnNlTnVsbGFibGVEZWYgPSBwYXJzZU51bGxhYmxlRGVmO1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wYXJzZU51bWJlckRlZiA9IHZvaWQgMDtcclxuY29uc3QgZXJyb3JNZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL2Vycm9yTWVzc2FnZXNcIik7XHJcbmZ1bmN0aW9uIHBhcnNlTnVtYmVyRGVmKGRlZiwgcmVmcykge1xyXG4gICAgY29uc3QgcmVzID0ge1xyXG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXHJcbiAgICB9O1xyXG4gICAgaWYgKCFkZWYuY2hlY2tzKVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcclxuICAgICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcclxuICAgICAgICAgICAgY2FzZSBcImludFwiOlxyXG4gICAgICAgICAgICAgICAgcmVzLnR5cGUgPSBcImludGVnZXJcIjtcclxuICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuYWRkRXJyb3JNZXNzYWdlKShyZXMsIFwidHlwZVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibWluXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJleGNsdXNpdmVNaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmluY2x1c2l2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtYXhcIjpcclxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcImV4Y2x1c2l2ZU1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlT2ZcIjpcclxuICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm11bHRpcGxlT2ZcIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5leHBvcnRzLnBhcnNlTnVtYmVyRGVmID0gcGFyc2VOdW1iZXJEZWY7XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlT2JqZWN0RGVmID0gdm9pZCAwO1xyXG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xyXG5mdW5jdGlvbiBwYXJzZU9iamVjdERlZihkZWYsIHJlZnMpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IHR5cGU6IFwib2JqZWN0XCIgfSwgT2JqZWN0LmVudHJpZXMoZGVmLnNoYXBlKCkpLnJlZHVjZSgoYWNjLCBbcHJvcE5hbWUsIHByb3BEZWZdKSA9PiB7XHJcbiAgICAgICAgaWYgKHByb3BEZWYgPT09IHVuZGVmaW5lZCB8fCBwcm9wRGVmLl9kZWYgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICBjb25zdCBwYXJzZWREZWYgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikocHJvcERlZi5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIHByb3BOYW1lXSwgcHJvcGVydHlQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIHByb3BOYW1lXSB9KSk7XHJcbiAgICAgICAgaWYgKHBhcnNlZERlZiA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWNjLnByb3BlcnRpZXMpLCB7IFtwcm9wTmFtZV06IHBhcnNlZERlZiB9KSxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHByb3BEZWYuaXNPcHRpb25hbCgpXHJcbiAgICAgICAgICAgICAgICA/IGFjYy5yZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgOiBbLi4uYWNjLnJlcXVpcmVkLCBwcm9wTmFtZV0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sIHsgcHJvcGVydGllczoge30sIHJlcXVpcmVkOiBbXSB9KSksIHsgYWRkaXRpb25hbFByb3BlcnRpZXM6IGRlZi5jYXRjaGFsbC5fZGVmLnR5cGVOYW1lID09PSBcIlpvZE5ldmVyXCJcclxuICAgICAgICAgICAgPyBkZWYudW5rbm93bktleXMgPT09IFwicGFzc3Rocm91Z2hcIlxyXG4gICAgICAgICAgICA6IChfYSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuY2F0Y2hhbGwuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0gfSkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0cnVlIH0pO1xyXG4gICAgaWYgKCFyZXN1bHQucmVxdWlyZWQubGVuZ3RoKVxyXG4gICAgICAgIGRlbGV0ZSByZXN1bHQucmVxdWlyZWQ7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmV4cG9ydHMucGFyc2VPYmplY3REZWYgPSBwYXJzZU9iamVjdERlZjtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VPcHRpb25hbERlZiA9IHZvaWQgMDtcclxuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcclxuY29uc3QgcGFyc2VPcHRpb25hbERlZiA9IChkZWYsIHJlZnMpID0+IHtcclxuICAgIHZhciBfYTtcclxuICAgIGlmIChyZWZzLmN1cnJlbnRQYXRoLnRvU3RyaW5nKCkgPT09ICgoX2EgPSByZWZzLnByb3BlcnR5UGF0aCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvU3RyaW5nKCkpKSB7XHJcbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW5uZXJTY2hlbWEgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLmlubmVyVHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbnlPZlwiLCBcIjFcIl0gfSkpO1xyXG4gICAgcmV0dXJuIGlubmVyU2NoZW1hXHJcbiAgICAgICAgPyB7XHJcbiAgICAgICAgICAgIGFueU9mOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm90OiB7fSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBpbm5lclNjaGVtYSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9XHJcbiAgICAgICAgOiB7fTtcclxufTtcclxuZXhwb3J0cy5wYXJzZU9wdGlvbmFsRGVmID0gcGFyc2VPcHRpb25hbERlZjtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VQaXBlbGluZURlZiA9IHZvaWQgMDtcclxuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcclxuY29uc3QgcGFyc2VQaXBlbGluZURlZiA9IChkZWYsIHJlZnMpID0+IHtcclxuICAgIGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gXCJpbnB1dFwiKSB7XHJcbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYuaW4uX2RlZiwgcmVmcyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBhID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi5pbi5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbGxPZlwiLCBcIjBcIl0gfSkpO1xyXG4gICAgY29uc3QgYiA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYub3V0Ll9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFsbE9mXCIsIGEgPyBcIjFcIiA6IFwiMFwiXSB9KSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFsbE9mOiBbYSwgYl0uZmlsdGVyKCh4KSA9PiB4ICE9PSB1bmRlZmluZWQpLFxyXG4gICAgfTtcclxufTtcclxuZXhwb3J0cy5wYXJzZVBpcGVsaW5lRGVmID0gcGFyc2VQaXBlbGluZURlZjtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VQcm9taXNlRGVmID0gdm9pZCAwO1xyXG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xyXG5mdW5jdGlvbiBwYXJzZVByb21pc2VEZWYoZGVmLCByZWZzKSB7XHJcbiAgICByZXR1cm4gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi50eXBlLl9kZWYsIHJlZnMpO1xyXG59XHJcbmV4cG9ydHMucGFyc2VQcm9taXNlRGVmID0gcGFyc2VQcm9taXNlRGVmO1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wYXJzZVN0cmluZ0RlZiA9IHZvaWQgMDtcclxuY29uc3QgZXJyb3JNZXNzYWdlc18xID0gcmVxdWlyZShcIi4uL2Vycm9yTWVzc2FnZXNcIik7XHJcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcykge1xyXG4gICAgY29uc3QgcmVzID0ge1xyXG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXHJcbiAgICB9O1xyXG4gICAgaWYgKGRlZi5jaGVja3MpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibWluXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShyZXMsIFwibWluTGVuZ3RoXCIsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gTWF0aC5tYXgocmVzLm1pbkxlbmd0aCwgY2hlY2sudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1heFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1heExlbmd0aFwiLCB0eXBlb2YgcmVzLm1heExlbmd0aCA9PT0gXCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlbWFpbFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiZW1haWxcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidXJsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgXCJ1cmlcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidXVpZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwidXVpZFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZWdleFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBjaGVjay5yZWdleC5zb3VyY2UsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImN1aWRcIjpcclxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgXCJeY1teXFxcXHMtXXs4LH0kXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImN1aWQyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIFwiXlthLXpdW2EtejAtOV0qJFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydHNXaXRoXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIFwiXlwiICsgZXNjYXBlTm9uQWxwaGFOdW1lcmljKGNoZWNrLnZhbHVlKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW5kc1dpdGhcIjpcclxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgZXNjYXBlTm9uQWxwaGFOdW1lcmljKGNoZWNrLnZhbHVlKSArIFwiJFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRldGltZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiZGF0ZS10aW1lXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImxlbmd0aFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykocmVzLCBcIm1pbkxlbmd0aFwiLCB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gXCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICAoMCwgZXJyb3JNZXNzYWdlc18xLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMpKHJlcywgXCJtYXhMZW5ndGhcIiwgdHlwZW9mIHJlcy5tYXhMZW5ndGggPT09IFwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5jbHVkZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBlc2NhcGVOb25BbHBoYU51bWVyaWMoY2hlY2sudmFsdWUpLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJpcFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09IFwidjZcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcImlwdjRcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSBcInY0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgXCJpcHY2XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJlbW9qaVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBcIi9eKHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxwe0Vtb2ppX0NvbXBvbmVudH0pKyQvdVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1bGlkXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgXCIvWzAtOUEtSEpLTU5QLVRWLVpdezI2fS9cIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidG9Mb3dlckNhc2VcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0b1VwcGVyQ2FzZVwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRyaW1cIjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBJIGhhdmUgbm8gaWRlYSB3aHkgdGhlc2UgYXJlIGNoZWNrcyBpbiBab2QgXHVEODNFXHVERDM3XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICgoXykgPT4geyB9KShjaGVjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmV4cG9ydHMucGFyc2VTdHJpbmdEZWYgPSBwYXJzZVN0cmluZ0RlZjtcclxuY29uc3QgZXNjYXBlTm9uQWxwaGFOdW1lcmljID0gKHZhbHVlKSA9PiBBcnJheS5mcm9tKHZhbHVlKVxyXG4gICAgLm1hcCgoYykgPT4gKC9bYS16QS1aMC05XS8udGVzdChjKSA/IGMgOiBgXFxcXCR7Y31gKSlcclxuICAgIC5qb2luKFwiXCIpO1xyXG5jb25zdCBhZGRGb3JtYXQgPSAoc2NoZW1hLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcykgPT4ge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgaWYgKHNjaGVtYS5mb3JtYXQgfHwgKChfYSA9IHNjaGVtYS5hbnlPZikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNvbWUoKHgpID0+IHguZm9ybWF0KSkpIHtcclxuICAgICAgICBpZiAoIXNjaGVtYS5hbnlPZikge1xyXG4gICAgICAgICAgICBzY2hlbWEuYW55T2YgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNjaGVtYS5mb3JtYXQpIHtcclxuICAgICAgICAgICAgc2NoZW1hLmFueU9mLnB1c2goT2JqZWN0LmFzc2lnbih7IGZvcm1hdDogc2NoZW1hLmZvcm1hdCB9LCAoc2NoZW1hLmVycm9yTWVzc2FnZSAmJlxyXG4gICAgICAgICAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHtcclxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogeyBmb3JtYXQ6IHNjaGVtYS5lcnJvck1lc3NhZ2UuZm9ybWF0IH0sXHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZm9ybWF0O1xyXG4gICAgICAgICAgICBpZiAoc2NoZW1hLmVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2UuZm9ybWF0O1xyXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNjaGVtYS5lcnJvck1lc3NhZ2UpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNjaGVtYS5hbnlPZi5wdXNoKE9iamVjdC5hc3NpZ24oeyBmb3JtYXQ6IHZhbHVlIH0sIChtZXNzYWdlICYmXHJcbiAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBmb3JtYXQ6IG1lc3NhZ2UgfSB9KSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShzY2hlbWEsIFwiZm9ybWF0XCIsIHZhbHVlLCBtZXNzYWdlLCByZWZzKTtcclxuICAgIH1cclxufTtcclxuY29uc3QgYWRkUGF0dGVybiA9IChzY2hlbWEsIHZhbHVlLCBtZXNzYWdlLCByZWZzKSA9PiB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBpZiAoc2NoZW1hLnBhdHRlcm4gfHwgKChfYSA9IHNjaGVtYS5hbGxPZikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNvbWUoKHgpID0+IHgucGF0dGVybikpKSB7XHJcbiAgICAgICAgaWYgKCFzY2hlbWEuYWxsT2YpIHtcclxuICAgICAgICAgICAgc2NoZW1hLmFsbE9mID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzY2hlbWEucGF0dGVybikge1xyXG4gICAgICAgICAgICBzY2hlbWEuYWxsT2YucHVzaChPYmplY3QuYXNzaWduKHsgcGF0dGVybjogc2NoZW1hLnBhdHRlcm4gfSwgKHNjaGVtYS5lcnJvck1lc3NhZ2UgJiZcclxuICAgICAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7XHJcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IHsgcGF0dGVybjogc2NoZW1hLmVycm9yTWVzc2FnZS5wYXR0ZXJuIH0sXHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEucGF0dGVybjtcclxuICAgICAgICAgICAgaWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlLnBhdHRlcm47XHJcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc2NoZW1hLmVycm9yTWVzc2FnZSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc2NoZW1hLmFsbE9mLnB1c2goT2JqZWN0LmFzc2lnbih7IHBhdHRlcm46IHZhbHVlIH0sIChtZXNzYWdlICYmXHJcbiAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBtZXNzYWdlIH0gfSkpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgICgwLCBlcnJvck1lc3NhZ2VzXzEuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycykoc2NoZW1hLCBcInBhdHRlcm5cIiwgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgfVxyXG59O1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wYXJzZVJlY29yZERlZiA9IHZvaWQgMDtcclxuY29uc3Qgem9kXzEgPSByZXF1aXJlKFwiem9kXCIpO1xyXG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4uL3BhcnNlRGVmXCIpO1xyXG5jb25zdCBzdHJpbmdfMSA9IHJlcXVpcmUoXCIuL3N0cmluZ1wiKTtcclxuZnVuY3Rpb24gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKSB7XHJcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xyXG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIgJiZcclxuICAgICAgICAoKF9hID0gZGVmLmtleVR5cGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5fZGVmLnR5cGVOYW1lKSA9PT0gem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0pIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxyXG4gICAgICAgICAgICByZXF1aXJlZDogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMsXHJcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhY2MpLCB7IFtrZXldOiAoX2EgPSAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoZGVmLnZhbHVlVHlwZS5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJwcm9wZXJ0aWVzXCIsIGtleV0gfSkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSB9KSk7XHJcbiAgICAgICAgICAgIH0sIHt9KSxcclxuICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCBzY2hlbWEgPSB7XHJcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcclxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogKF9iID0gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKGRlZi52YWx1ZVR5cGUuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0gfSkpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB7fSxcclxuICAgIH07XHJcbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikge1xyXG4gICAgICAgIHJldHVybiBzY2hlbWE7XHJcbiAgICB9XHJcbiAgICBpZiAoKChfYyA9IGRlZi5rZXlUeXBlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuX2RlZi50eXBlTmFtZSkgPT09IHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcgJiZcclxuICAgICAgICAoKF9kID0gZGVmLmtleVR5cGUuX2RlZi5jaGVja3MpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5sZW5ndGgpKSB7XHJcbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IE9iamVjdC5lbnRyaWVzKCgwLCBzdHJpbmdfMS5wYXJzZVN0cmluZ0RlZikoZGVmLmtleVR5cGUuX2RlZiwgcmVmcykpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IChrZXkgPT09IFwidHlwZVwiID8gYWNjIDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhY2MpLCB7IFtrZXldOiB2YWx1ZSB9KSksIHt9KTtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzY2hlbWEpLCB7IHByb3BlcnR5TmFtZXM6IGtleVR5cGUgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgoKF9lID0gZGVmLmtleVR5cGUpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5fZGVmLnR5cGVOYW1lKSA9PT0gem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0pIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzY2hlbWEpLCB7IHByb3BlcnR5TmFtZXM6IHtcclxuICAgICAgICAgICAgICAgIGVudW06IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLFxyXG4gICAgICAgICAgICB9IH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNjaGVtYTtcclxufVxyXG5leHBvcnRzLnBhcnNlUmVjb3JkRGVmID0gcGFyc2VSZWNvcmREZWY7XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlU2V0RGVmID0gdm9pZCAwO1xyXG5jb25zdCBlcnJvck1lc3NhZ2VzXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JNZXNzYWdlc1wiKTtcclxuY29uc3QgcGFyc2VEZWZfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZURlZlwiKTtcclxuZnVuY3Rpb24gcGFyc2VTZXREZWYoZGVmLCByZWZzKSB7XHJcbiAgICBjb25zdCBpdGVtcyA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYudmFsdWVUeXBlLl9kZWYsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVmcyksIHsgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCJdIH0pKTtcclxuICAgIGNvbnN0IHNjaGVtYSA9IHtcclxuICAgICAgICB0eXBlOiBcImFycmF5XCIsXHJcbiAgICAgICAgdW5pcXVlSXRlbXM6IHRydWUsXHJcbiAgICAgICAgaXRlbXMsXHJcbiAgICB9O1xyXG4gICAgaWYgKGRlZi5taW5TaXplKSB7XHJcbiAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShzY2hlbWEsIFwibWluSXRlbXNcIiwgZGVmLm1pblNpemUudmFsdWUsIGRlZi5taW5TaXplLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlZi5tYXhTaXplKSB7XHJcbiAgICAgICAgKDAsIGVycm9yTWVzc2FnZXNfMS5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKShzY2hlbWEsIFwibWF4SXRlbXNcIiwgZGVmLm1heFNpemUudmFsdWUsIGRlZi5tYXhTaXplLm1lc3NhZ2UsIHJlZnMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNjaGVtYTtcclxufVxyXG5leHBvcnRzLnBhcnNlU2V0RGVmID0gcGFyc2VTZXREZWY7XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlVHVwbGVEZWYgPSB2b2lkIDA7XHJcbmNvbnN0IHBhcnNlRGVmXzEgPSByZXF1aXJlKFwiLi4vcGFyc2VEZWZcIik7XHJcbmZ1bmN0aW9uIHBhcnNlVHVwbGVEZWYoZGVmLCByZWZzKSB7XHJcbiAgICBpZiAoZGVmLnJlc3QpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXHJcbiAgICAgICAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBpdGVtczogZGVmLml0ZW1zXHJcbiAgICAgICAgICAgICAgICAubWFwKCh4LCBpKSA9PiAoMCwgcGFyc2VEZWZfMS5wYXJzZURlZikoeC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiLCBgJHtpfWBdIH0pKSlcclxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgeCkgPT4gKHggPT09IHVuZGVmaW5lZCA/IGFjYyA6IFsuLi5hY2MsIHhdKSwgW10pLFxyXG4gICAgICAgICAgICBhZGRpdGlvbmFsSXRlbXM6ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShkZWYucmVzdC5fZGVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhZGRpdGlvbmFsSXRlbXNcIl0gfSkpLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXHJcbiAgICAgICAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBtYXhJdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcclxuICAgICAgICAgICAgaXRlbXM6IGRlZi5pdGVtc1xyXG4gICAgICAgICAgICAgICAgLm1hcCgoeCwgaSkgPT4gKDAsIHBhcnNlRGVmXzEucGFyc2VEZWYpKHguX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIiwgYCR7aX1gXSB9KSkpXHJcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIHgpID0+ICh4ID09PSB1bmRlZmluZWQgPyBhY2MgOiBbLi4uYWNjLCB4XSksIFtdKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGFyc2VUdXBsZURlZiA9IHBhcnNlVHVwbGVEZWY7XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlVW5kZWZpbmVkRGVmID0gdm9pZCAwO1xyXG5mdW5jdGlvbiBwYXJzZVVuZGVmaW5lZERlZigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbm90OiB7fSxcclxuICAgIH07XHJcbn1cclxuZXhwb3J0cy5wYXJzZVVuZGVmaW5lZERlZiA9IHBhcnNlVW5kZWZpbmVkRGVmO1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wYXJzZVVua25vd25EZWYgPSB2b2lkIDA7XHJcbmZ1bmN0aW9uIHBhcnNlVW5rbm93bkRlZigpIHtcclxuICAgIHJldHVybiB7fTtcclxufVxyXG5leHBvcnRzLnBhcnNlVW5rbm93bkRlZiA9IHBhcnNlVW5rbm93bkRlZjtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VEZWYgPSB2b2lkIDA7XHJcbmNvbnN0IHpvZF8xID0gcmVxdWlyZShcInpvZFwiKTtcclxuY29uc3QgYW55XzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2FueVwiKTtcclxuY29uc3QgYXJyYXlfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvYXJyYXlcIik7XHJcbmNvbnN0IGJpZ2ludF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9iaWdpbnRcIik7XHJcbmNvbnN0IGJvb2xlYW5fMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvYm9vbGVhblwiKTtcclxuY29uc3QgYnJhbmRlZF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9icmFuZGVkXCIpO1xyXG5jb25zdCBjYXRjaF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9jYXRjaFwiKTtcclxuY29uc3QgZGF0ZV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9kYXRlXCIpO1xyXG5jb25zdCBkZWZhdWx0XzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2RlZmF1bHRcIik7XHJcbmNvbnN0IGVmZmVjdHNfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvZWZmZWN0c1wiKTtcclxuY29uc3QgZW51bV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9lbnVtXCIpO1xyXG5jb25zdCBpbnRlcnNlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvaW50ZXJzZWN0aW9uXCIpO1xyXG5jb25zdCBsaXRlcmFsXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL2xpdGVyYWxcIik7XHJcbmNvbnN0IG1hcF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9tYXBcIik7XHJcbmNvbnN0IG5hdGl2ZUVudW1fMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvbmF0aXZlRW51bVwiKTtcclxuY29uc3QgbmV2ZXJfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvbmV2ZXJcIik7XHJcbmNvbnN0IG51bGxfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvbnVsbFwiKTtcclxuY29uc3QgbnVsbGFibGVfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvbnVsbGFibGVcIik7XHJcbmNvbnN0IG51bWJlcl8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9udW1iZXJcIik7XHJcbmNvbnN0IG9iamVjdF8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9vYmplY3RcIik7XHJcbmNvbnN0IG9wdGlvbmFsXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL29wdGlvbmFsXCIpO1xyXG5jb25zdCBwaXBlbGluZV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9waXBlbGluZVwiKTtcclxuY29uc3QgcHJvbWlzZV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy9wcm9taXNlXCIpO1xyXG5jb25zdCByZWNvcmRfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvcmVjb3JkXCIpO1xyXG5jb25zdCBzZXRfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvc2V0XCIpO1xyXG5jb25zdCBzdHJpbmdfMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvc3RyaW5nXCIpO1xyXG5jb25zdCB0dXBsZV8xID0gcmVxdWlyZShcIi4vcGFyc2Vycy90dXBsZVwiKTtcclxuY29uc3QgdW5kZWZpbmVkXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJzL3VuZGVmaW5lZFwiKTtcclxuY29uc3QgdW5pb25fMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvdW5pb25cIik7XHJcbmNvbnN0IHVua25vd25fMSA9IHJlcXVpcmUoXCIuL3BhcnNlcnMvdW5rbm93blwiKTtcclxuZnVuY3Rpb24gcGFyc2VEZWYoZGVmLCByZWZzLCBmb3JjZVJlc29sdXRpb24gPSBmYWxzZSAvLyBGb3JjZXMgYSBuZXcgc2NoZW1hIHRvIGJlIGluc3RhbnRpYXRlZCBldmVuIHRob3VnaCBpdHMgZGVmIGhhcyBiZWVuIHNlZW4uIFVzZWQgZm9yIGltcHJvdmluZyByZWZzIGluIGRlZmluaXRpb25zLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1N0ZWZhblRlcmRlbGwvem9kLXRvLWpzb24tc2NoZW1hL3B1bGwvNjEuXHJcbikge1xyXG4gICAgY29uc3Qgc2Vlbkl0ZW0gPSByZWZzLnNlZW4uZ2V0KGRlZik7XHJcbiAgICBpZiAoc2Vlbkl0ZW0gJiYgIWZvcmNlUmVzb2x1dGlvbikge1xyXG4gICAgICAgIHJldHVybiBnZXQkcmVmKHNlZW5JdGVtLCByZWZzKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG5ld0l0ZW0gPSB7IGRlZiwgcGF0aDogcmVmcy5jdXJyZW50UGF0aCwganNvblNjaGVtYTogdW5kZWZpbmVkIH07XHJcbiAgICByZWZzLnNlZW4uc2V0KGRlZiwgbmV3SXRlbSk7XHJcbiAgICBjb25zdCBqc29uU2NoZW1hID0gc2VsZWN0UGFyc2VyKGRlZiwgZGVmLnR5cGVOYW1lLCByZWZzKTtcclxuICAgIGlmIChqc29uU2NoZW1hKSB7XHJcbiAgICAgICAgYWRkTWV0YShkZWYsIGpzb25TY2hlbWEpO1xyXG4gICAgfVxyXG4gICAgbmV3SXRlbS5qc29uU2NoZW1hID0ganNvblNjaGVtYTtcclxuICAgIHJldHVybiBqc29uU2NoZW1hO1xyXG59XHJcbmV4cG9ydHMucGFyc2VEZWYgPSBwYXJzZURlZjtcclxuY29uc3QgZ2V0JHJlZiA9IChpdGVtLCByZWZzKSA9PiB7XHJcbiAgICBzd2l0Y2ggKHJlZnMuJHJlZlN0cmF0ZWd5KSB7XHJcbiAgICAgICAgY2FzZSBcInJvb3RcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICRyZWY6IGl0ZW0ucGF0aC5sZW5ndGggPT09IDBcclxuICAgICAgICAgICAgICAgICAgICA/IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICA6IGl0ZW0ucGF0aC5sZW5ndGggPT09IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHtpdGVtLnBhdGhbMF19L2BcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLnBhdGguam9pbihcIi9cIiksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgY2FzZSBcInJlbGF0aXZlXCI6XHJcbiAgICAgICAgICAgIHJldHVybiB7ICRyZWY6IGdldFJlbGF0aXZlUGF0aChyZWZzLmN1cnJlbnRQYXRoLCBpdGVtLnBhdGgpIH07XHJcbiAgICAgICAgY2FzZSBcIm5vbmVcIjoge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5wYXRoLmxlbmd0aCA8IHJlZnMuY3VycmVudFBhdGgubGVuZ3RoICYmXHJcbiAgICAgICAgICAgICAgICBpdGVtLnBhdGguZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gcmVmcy5jdXJyZW50UGF0aFtpbmRleF0gPT09IHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBSZWN1cnNpdmUgcmVmZXJlbmNlIGRldGVjdGVkIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKFwiL1wiKX0hIERlZmF1bHRpbmcgdG8gYW55YCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5qc29uU2NoZW1hO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5jb25zdCBnZXRSZWxhdGl2ZVBhdGggPSAocGF0aEEsIHBhdGhCKSA9PiB7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBmb3IgKDsgaSA8IHBhdGhBLmxlbmd0aCAmJiBpIDwgcGF0aEIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAocGF0aEFbaV0gIT09IHBhdGhCW2ldKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHJldHVybiBbKHBhdGhBLmxlbmd0aCAtIGkpLnRvU3RyaW5nKCksIC4uLnBhdGhCLnNsaWNlKGkpXS5qb2luKFwiL1wiKTtcclxufTtcclxuY29uc3Qgc2VsZWN0UGFyc2VyID0gKGRlZiwgdHlwZU5hbWUsIHJlZnMpID0+IHtcclxuICAgIHN3aXRjaCAodHlwZU5hbWUpIHtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmc6XHJcbiAgICAgICAgICAgIHJldHVybiAoMCwgc3RyaW5nXzEucGFyc2VTdHJpbmdEZWYpKGRlZiwgcmVmcyk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyOlxyXG4gICAgICAgICAgICByZXR1cm4gKDAsIG51bWJlcl8xLnBhcnNlTnVtYmVyRGVmKShkZWYsIHJlZnMpO1xyXG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdDpcclxuICAgICAgICAgICAgcmV0dXJuICgwLCBvYmplY3RfMS5wYXJzZU9iamVjdERlZikoZGVmLCByZWZzKTtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCaWdJbnQ6XHJcbiAgICAgICAgICAgIHJldHVybiAoMCwgYmlnaW50XzEucGFyc2VCaWdpbnREZWYpKGRlZiwgcmVmcyk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbjpcclxuICAgICAgICAgICAgcmV0dXJuICgwLCBib29sZWFuXzEucGFyc2VCb29sZWFuRGVmKSgpO1xyXG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGU6XHJcbiAgICAgICAgICAgIHJldHVybiAoMCwgZGF0ZV8xLnBhcnNlRGF0ZURlZikoKTtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmRlZmluZWQ6XHJcbiAgICAgICAgICAgIHJldHVybiAoMCwgdW5kZWZpbmVkXzEucGFyc2VVbmRlZmluZWREZWYpKCk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbDpcclxuICAgICAgICAgICAgcmV0dXJuICgwLCBudWxsXzEucGFyc2VOdWxsRGVmKShyZWZzKTtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheTpcclxuICAgICAgICAgICAgcmV0dXJuICgwLCBhcnJheV8xLnBhcnNlQXJyYXlEZWYpKGRlZiwgcmVmcyk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb246XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uOlxyXG4gICAgICAgICAgICByZXR1cm4gKDAsIHVuaW9uXzEucGFyc2VVbmlvbkRlZikoZGVmLCByZWZzKTtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb246XHJcbiAgICAgICAgICAgIHJldHVybiAoMCwgaW50ZXJzZWN0aW9uXzEucGFyc2VJbnRlcnNlY3Rpb25EZWYpKGRlZiwgcmVmcyk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGU6XHJcbiAgICAgICAgICAgIHJldHVybiAoMCwgdHVwbGVfMS5wYXJzZVR1cGxlRGVmKShkZWYsIHJlZnMpO1xyXG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZDpcclxuICAgICAgICAgICAgcmV0dXJuICgwLCByZWNvcmRfMS5wYXJzZVJlY29yZERlZikoZGVmLCByZWZzKTtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsOlxyXG4gICAgICAgICAgICByZXR1cm4gKDAsIGxpdGVyYWxfMS5wYXJzZUxpdGVyYWxEZWYpKGRlZiwgcmVmcyk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bTpcclxuICAgICAgICAgICAgcmV0dXJuICgwLCBlbnVtXzEucGFyc2VFbnVtRGVmKShkZWYpO1xyXG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW06XHJcbiAgICAgICAgICAgIHJldHVybiAoMCwgbmF0aXZlRW51bV8xLnBhcnNlTmF0aXZlRW51bURlZikoZGVmKTtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZTpcclxuICAgICAgICAgICAgcmV0dXJuICgwLCBudWxsYWJsZV8xLnBhcnNlTnVsbGFibGVEZWYpKGRlZiwgcmVmcyk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT3B0aW9uYWw6XHJcbiAgICAgICAgICAgIHJldHVybiAoMCwgb3B0aW9uYWxfMS5wYXJzZU9wdGlvbmFsRGVmKShkZWYsIHJlZnMpO1xyXG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcDpcclxuICAgICAgICAgICAgcmV0dXJuICgwLCBtYXBfMS5wYXJzZU1hcERlZikoZGVmLCByZWZzKTtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQ6XHJcbiAgICAgICAgICAgIHJldHVybiAoMCwgc2V0XzEucGFyc2VTZXREZWYpKGRlZiwgcmVmcyk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eTpcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5nZXR0ZXIoKS5fZGVmLCByZWZzKTtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlOlxyXG4gICAgICAgICAgICByZXR1cm4gKDAsIHByb21pc2VfMS5wYXJzZVByb21pc2VEZWYpKGRlZiwgcmVmcyk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOOlxyXG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyOlxyXG4gICAgICAgICAgICByZXR1cm4gKDAsIG5ldmVyXzEucGFyc2VOZXZlckRlZikoKTtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzOlxyXG4gICAgICAgICAgICByZXR1cm4gKDAsIGVmZmVjdHNfMS5wYXJzZUVmZmVjdHNEZWYpKGRlZiwgcmVmcyk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55OlxyXG4gICAgICAgICAgICByZXR1cm4gKDAsIGFueV8xLnBhcnNlQW55RGVmKSgpO1xyXG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd246XHJcbiAgICAgICAgICAgIHJldHVybiAoMCwgdW5rbm93bl8xLnBhcnNlVW5rbm93bkRlZikoKTtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gKDAsIGRlZmF1bHRfMS5wYXJzZURlZmF1bHREZWYpKGRlZiwgcmVmcyk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZDpcclxuICAgICAgICAgICAgcmV0dXJuICgwLCBicmFuZGVkXzEucGFyc2VCcmFuZGVkRGVmKShkZWYsIHJlZnMpO1xyXG4gICAgICAgIGNhc2Ugem9kXzEuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoOlxyXG4gICAgICAgICAgICByZXR1cm4gKDAsIGNhdGNoXzEucGFyc2VDYXRjaERlZikoZGVmLCByZWZzKTtcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZTpcclxuICAgICAgICAgICAgcmV0dXJuICgwLCBwaXBlbGluZV8xLnBhcnNlUGlwZWxpbmVEZWYpKGRlZiwgcmVmcyk7XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb246XHJcbiAgICAgICAgY2FzZSB6b2RfMS5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZDpcclxuICAgICAgICBjYXNlIHpvZF8xLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTeW1ib2w6XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuICgoXykgPT4gdW5kZWZpbmVkKSh0eXBlTmFtZSk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGFkZE1ldGEgPSAoZGVmLCBqc29uU2NoZW1hKSA9PiB7XHJcbiAgICBpZiAoZGVmLmRlc2NyaXB0aW9uKVxyXG4gICAgICAgIGpzb25TY2hlbWEuZGVzY3JpcHRpb24gPSBkZWYuZGVzY3JpcHRpb247XHJcbiAgICByZXR1cm4ganNvblNjaGVtYTtcclxufTtcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZ2V0RGVmYXVsdE9wdGlvbnMgPSBleHBvcnRzLmRlZmF1bHRPcHRpb25zID0gdm9pZCAwO1xyXG5leHBvcnRzLmRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgbmFtZTogdW5kZWZpbmVkLFxyXG4gICAgJHJlZlN0cmF0ZWd5OiBcInJvb3RcIixcclxuICAgIGJhc2VQYXRoOiBbXCIjXCJdLFxyXG4gICAgZWZmZWN0U3RyYXRlZ3k6IFwiaW5wdXRcIixcclxuICAgIHBpcGVTdHJhdGVneTogXCJhbGxcIixcclxuICAgIGRlZmluaXRpb25QYXRoOiBcImRlZmluaXRpb25zXCIsXHJcbiAgICB0YXJnZXQ6IFwianNvblNjaGVtYTdcIixcclxuICAgIHN0cmljdFVuaW9uczogZmFsc2UsXHJcbiAgICBkZWZpbml0aW9uczoge30sXHJcbiAgICBlcnJvck1lc3NhZ2VzOiBmYWxzZSxcclxufTtcclxuY29uc3QgZ2V0RGVmYXVsdE9wdGlvbnMgPSAob3B0aW9ucykgPT4gKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiXHJcbiAgICA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZXhwb3J0cy5kZWZhdWx0T3B0aW9ucyksIHsgbmFtZTogb3B0aW9ucyB9KSA6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZXhwb3J0cy5kZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpKTtcclxuZXhwb3J0cy5nZXREZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zO1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5nZXRSZWZzID0gdm9pZCAwO1xyXG5jb25zdCBPcHRpb25zXzEgPSByZXF1aXJlKFwiLi9PcHRpb25zXCIpO1xyXG5jb25zdCBnZXRSZWZzID0gKG9wdGlvbnMpID0+IHtcclxuICAgIGNvbnN0IF9vcHRpb25zID0gKDAsIE9wdGlvbnNfMS5nZXREZWZhdWx0T3B0aW9ucykob3B0aW9ucyk7XHJcbiAgICBjb25zdCBjdXJyZW50UGF0aCA9IF9vcHRpb25zLm5hbWUgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgID8gWy4uLl9vcHRpb25zLmJhc2VQYXRoLCBfb3B0aW9ucy5kZWZpbml0aW9uUGF0aCwgX29wdGlvbnMubmFtZV1cclxuICAgICAgICA6IF9vcHRpb25zLmJhc2VQYXRoO1xyXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgX29wdGlvbnMpLCB7IGN1cnJlbnRQYXRoOiBjdXJyZW50UGF0aCwgcHJvcGVydHlQYXRoOiB1bmRlZmluZWQsIHNlZW46IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoX29wdGlvbnMuZGVmaW5pdGlvbnMpLm1hcCgoW25hbWUsIGRlZl0pID0+IFtcclxuICAgICAgICAgICAgZGVmLl9kZWYsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGRlZjogZGVmLl9kZWYsXHJcbiAgICAgICAgICAgICAgICBwYXRoOiBbLi4uX29wdGlvbnMuYmFzZVBhdGgsIF9vcHRpb25zLmRlZmluaXRpb25QYXRoLCBuYW1lXSxcclxuICAgICAgICAgICAgICAgIC8vIFJlc29sdXRpb24gb2YgcmVmZXJlbmNlcyB3aWxsIGJlIGZvcmNlZCBldmVuIHRob3VnaCBzZWVuLCBzbyBpdCdzIG9rIHRoYXQgdGhlIHNjaGVtYSBpcyB1bmRlZmluZWQgaGVyZSBmb3Igbm93LlxyXG4gICAgICAgICAgICAgICAganNvblNjaGVtYTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0pKSB9KTtcclxufTtcclxuZXhwb3J0cy5nZXRSZWZzID0gZ2V0UmVmcztcclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuem9kVG9Kc29uU2NoZW1hID0gdm9pZCAwO1xyXG5jb25zdCBwYXJzZURlZl8xID0gcmVxdWlyZShcIi4vcGFyc2VEZWZcIik7XHJcbmNvbnN0IFJlZnNfMSA9IHJlcXVpcmUoXCIuL1JlZnNcIik7XHJcbmNvbnN0IHpvZFRvSnNvblNjaGVtYSA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IHJlZnMgPSAoMCwgUmVmc18xLmdldFJlZnMpKG9wdGlvbnMpO1xyXG4gICAgY29uc3QgZGVmaW5pdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmRlZmluaXRpb25zXHJcbiAgICAgICAgPyBPYmplY3QuZW50cmllcyhvcHRpb25zLmRlZmluaXRpb25zKS5yZWR1Y2UoKGFjYywgW25hbWUsIHNjaGVtYV0pID0+IHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICByZXR1cm4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWNjKSwgeyBbbmFtZV06IChfYSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShzY2hlbWEuX2RlZiwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWZzKSwgeyBjdXJyZW50UGF0aDogWy4uLnJlZnMuYmFzZVBhdGgsIHJlZnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdIH0pLCB0cnVlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30gfSkpO1xyXG4gICAgICAgIH0sIHt9KVxyXG4gICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgY29uc3QgbmFtZSA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID8gb3B0aW9ucyA6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5uYW1lO1xyXG4gICAgY29uc3QgbWFpbiA9IChfYSA9ICgwLCBwYXJzZURlZl8xLnBhcnNlRGVmKShzY2hlbWEuX2RlZiwgbmFtZSA9PT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyByZWZzXHJcbiAgICAgICAgOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlZnMpLCB7IGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0gfSksIGZhbHNlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XHJcbiAgICBjb25zdCBjb21iaW5lZCA9IG5hbWUgPT09IHVuZGVmaW5lZFxyXG4gICAgICAgID8gZGVmaW5pdGlvbnNcclxuICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG1haW4pLCB7IFtyZWZzLmRlZmluaXRpb25QYXRoXTogZGVmaW5pdGlvbnMgfSkgOiBtYWluXHJcbiAgICAgICAgOiB7XHJcbiAgICAgICAgICAgICRyZWY6IFtcclxuICAgICAgICAgICAgICAgIC4uLihyZWZzLiRyZWZTdHJhdGVneSA9PT0gXCJyZWxhdGl2ZVwiID8gW10gOiByZWZzLmJhc2VQYXRoKSxcclxuICAgICAgICAgICAgICAgIHJlZnMuZGVmaW5pdGlvblBhdGgsXHJcbiAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICBdLmpvaW4oXCIvXCIpLFxyXG4gICAgICAgICAgICBbcmVmcy5kZWZpbml0aW9uUGF0aF06IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmaW5pdGlvbnMpLCB7IFtuYW1lXTogbWFpbiB9KSxcclxuICAgICAgICB9O1xyXG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcclxuICAgICAgICBjb21iaW5lZC4kc2NoZW1hID0gXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSNcIjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWEyMDE5LTA5XCIpIHtcclxuICAgICAgICBjb21iaW5lZC4kc2NoZW1hID0gXCJodHRwczovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC8yMDE5LTA5L3NjaGVtYSNcIjtcclxuICAgIH1cclxuICAgIHJldHVybiBjb21iaW5lZDtcclxufTtcclxuZXhwb3J0cy56b2RUb0pzb25TY2hlbWEgPSB6b2RUb0pzb25TY2hlbWE7XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnpvZFRvSnNvblNjaGVtYSA9IHZvaWQgMDtcclxuY29uc3Qgem9kVG9Kc29uU2NoZW1hXzEgPSByZXF1aXJlKFwiLi9zcmMvem9kVG9Kc29uU2NoZW1hXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ6b2RUb0pzb25TY2hlbWFcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHpvZFRvSnNvblNjaGVtYV8xLnpvZFRvSnNvblNjaGVtYTsgfSB9KTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gem9kVG9Kc29uU2NoZW1hXzEuem9kVG9Kc29uU2NoZW1hO1xyXG4iLCAiZXhwb3J0IGNvbnN0IGNodW5rQXJyYXkgPSAoYXJyLCBjaHVua1NpemUpID0+IGFyci5yZWR1Y2UoKGNodW5rcywgZWxlbSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBjaHVua0luZGV4ID0gTWF0aC5mbG9vcihpbmRleCAvIGNodW5rU2l6ZSk7XG4gICAgY29uc3QgY2h1bmsgPSBjaHVua3NbY2h1bmtJbmRleF0gfHwgW107XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgY2h1bmtzW2NodW5rSW5kZXhdID0gY2h1bmsuY29uY2F0KFtlbGVtXSk7XG4gICAgcmV0dXJuIGNodW5rcztcbn0sIFtdKTtcbiIsICIhZnVuY3Rpb24oZSl7dmFyIHQ7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/dD13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD90PWdsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKHQ9c2VsZiksdC5vYmplY3RIYXNoPWUoKSl9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIHIobyxpLHUpe2Z1bmN0aW9uIHMobixlKXtpZighaVtuXSl7aWYoIW9bbl0pe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWUmJnQpcmV0dXJuIHQobiwhMCk7aWYoYSlyZXR1cm4gYShuLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK24rXCInXCIpfWU9aVtuXT17ZXhwb3J0czp7fX07b1tuXVswXS5jYWxsKGUuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgdD1vW25dWzFdW2VdO3JldHVybiBzKHR8fGUpfSxlLGUuZXhwb3J0cyxyLG8saSx1KX1yZXR1cm4gaVtuXS5leHBvcnRzfWZvcih2YXIgYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGU9MDtlPHUubGVuZ3RoO2UrKylzKHVbZV0pO3JldHVybiBzfSh7MTpbZnVuY3Rpb24odyxiLG0peyFmdW5jdGlvbihlLG4scyxjLGQsaCxwLGcseSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dyhcImNyeXB0b1wiKTtmdW5jdGlvbiB0KGUsdCl7dD11KGUsdCk7dmFyIG47cmV0dXJuIHZvaWQgMD09PShuPVwicGFzc3Rocm91Z2hcIiE9PXQuYWxnb3JpdGhtP3IuY3JlYXRlSGFzaCh0LmFsZ29yaXRobSk6bmV3IGwpLndyaXRlJiYobi53cml0ZT1uLnVwZGF0ZSxuLmVuZD1uLnVwZGF0ZSksZih0LG4pLmRpc3BhdGNoKGUpLG4udXBkYXRlfHxuLmVuZChcIlwiKSxuLmRpZ2VzdD9uLmRpZ2VzdChcImJ1ZmZlclwiPT09dC5lbmNvZGluZz92b2lkIDA6dC5lbmNvZGluZyk6KGU9bi5yZWFkKCksXCJidWZmZXJcIiE9PXQuZW5jb2Rpbmc/ZS50b1N0cmluZyh0LmVuY29kaW5nKTplKX0obT1iLmV4cG9ydHM9dCkuc2hhMT1mdW5jdGlvbihlKXtyZXR1cm4gdChlKX0sbS5rZXlzPWZ1bmN0aW9uKGUpe3JldHVybiB0KGUse2V4Y2x1ZGVWYWx1ZXM6ITAsYWxnb3JpdGhtOlwic2hhMVwiLGVuY29kaW5nOlwiaGV4XCJ9KX0sbS5NRDU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSx7YWxnb3JpdGhtOlwibWQ1XCIsZW5jb2Rpbmc6XCJoZXhcIn0pfSxtLmtleXNNRDU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSx7YWxnb3JpdGhtOlwibWQ1XCIsZW5jb2Rpbmc6XCJoZXhcIixleGNsdWRlVmFsdWVzOiEwfSl9O3ZhciBvPXIuZ2V0SGFzaGVzP3IuZ2V0SGFzaGVzKCkuc2xpY2UoKTpbXCJzaGExXCIsXCJtZDVcIl0saT0oby5wdXNoKFwicGFzc3Rocm91Z2hcIiksW1wiYnVmZmVyXCIsXCJoZXhcIixcImJpbmFyeVwiLFwiYmFzZTY0XCJdKTtmdW5jdGlvbiB1KGUsdCl7dmFyIG49e307aWYobi5hbGdvcml0aG09KHQ9dHx8e30pLmFsZ29yaXRobXx8XCJzaGExXCIsbi5lbmNvZGluZz10LmVuY29kaW5nfHxcImhleFwiLG4uZXhjbHVkZVZhbHVlcz0hIXQuZXhjbHVkZVZhbHVlcyxuLmFsZ29yaXRobT1uLmFsZ29yaXRobS50b0xvd2VyQ2FzZSgpLG4uZW5jb2Rpbmc9bi5lbmNvZGluZy50b0xvd2VyQ2FzZSgpLG4uaWdub3JlVW5rbm93bj0hMD09PXQuaWdub3JlVW5rbm93bixuLnJlc3BlY3RUeXBlPSExIT09dC5yZXNwZWN0VHlwZSxuLnJlc3BlY3RGdW5jdGlvbk5hbWVzPSExIT09dC5yZXNwZWN0RnVuY3Rpb25OYW1lcyxuLnJlc3BlY3RGdW5jdGlvblByb3BlcnRpZXM9ITEhPT10LnJlc3BlY3RGdW5jdGlvblByb3BlcnRpZXMsbi51bm9yZGVyZWRBcnJheXM9ITA9PT10LnVub3JkZXJlZEFycmF5cyxuLnVub3JkZXJlZFNldHM9ITEhPT10LnVub3JkZXJlZFNldHMsbi51bm9yZGVyZWRPYmplY3RzPSExIT09dC51bm9yZGVyZWRPYmplY3RzLG4ucmVwbGFjZXI9dC5yZXBsYWNlcnx8dm9pZCAwLG4uZXhjbHVkZUtleXM9dC5leGNsdWRlS2V5c3x8dm9pZCAwLHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0IGFyZ3VtZW50IHJlcXVpcmVkLlwiKTtmb3IodmFyIHI9MDtyPG8ubGVuZ3RoOysrcilvW3JdLnRvTG93ZXJDYXNlKCk9PT1uLmFsZ29yaXRobS50b0xvd2VyQ2FzZSgpJiYobi5hbGdvcml0aG09b1tyXSk7aWYoLTE9PT1vLmluZGV4T2Yobi5hbGdvcml0aG0pKXRocm93IG5ldyBFcnJvcignQWxnb3JpdGhtIFwiJytuLmFsZ29yaXRobSsnXCIgIG5vdCBzdXBwb3J0ZWQuIHN1cHBvcnRlZCB2YWx1ZXM6ICcrby5qb2luKFwiLCBcIikpO2lmKC0xPT09aS5pbmRleE9mKG4uZW5jb2RpbmcpJiZcInBhc3N0aHJvdWdoXCIhPT1uLmFsZ29yaXRobSl0aHJvdyBuZXcgRXJyb3IoJ0VuY29kaW5nIFwiJytuLmVuY29kaW5nKydcIiAgbm90IHN1cHBvcnRlZC4gc3VwcG9ydGVkIHZhbHVlczogJytpLmpvaW4oXCIsIFwiKSk7cmV0dXJuIG59ZnVuY3Rpb24gYShlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBudWxsIT0vXmZ1bmN0aW9uXFxzK1xcdypcXHMqXFwoXFxzKlxcKVxccyp7XFxzK1xcW25hdGl2ZSBjb2RlXFxdXFxzK30kL2kuZXhlYyhGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl9ZnVuY3Rpb24gZihvLHQsaSl7aT1pfHxbXTtmdW5jdGlvbiB1KGUpe3JldHVybiB0LnVwZGF0ZT90LnVwZGF0ZShlLFwidXRmOFwiKTp0LndyaXRlKGUsXCJ1dGY4XCIpfXJldHVybntkaXNwYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpc1tcIl9cIisobnVsbD09PShlPW8ucmVwbGFjZXI/by5yZXBsYWNlcihlKTplKT9cIm51bGxcIjp0eXBlb2YgZSldKGUpfSxfb2JqZWN0OmZ1bmN0aW9uKHQpe3ZhciBuLGU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLHI9L1xcW29iamVjdCAoLiopXFxdL2kuZXhlYyhlKTtyPShyPXI/clsxXTpcInVua25vd246W1wiK2UrXCJdXCIpLnRvTG93ZXJDYXNlKCk7aWYoMDw9KGU9aS5pbmRleE9mKHQpKSlyZXR1cm4gdGhpcy5kaXNwYXRjaChcIltDSVJDVUxBUjpcIitlK1wiXVwiKTtpZihpLnB1c2godCksdm9pZCAwIT09cyYmcy5pc0J1ZmZlciYmcy5pc0J1ZmZlcih0KSlyZXR1cm4gdShcImJ1ZmZlcjpcIiksdSh0KTtpZihcIm9iamVjdFwiPT09cnx8XCJmdW5jdGlvblwiPT09cnx8XCJhc3luY2Z1bmN0aW9uXCI9PT1yKXJldHVybiBlPU9iamVjdC5rZXlzKHQpLG8udW5vcmRlcmVkT2JqZWN0cyYmKGU9ZS5zb3J0KCkpLCExPT09by5yZXNwZWN0VHlwZXx8YSh0KXx8ZS5zcGxpY2UoMCwwLFwicHJvdG90eXBlXCIsXCJfX3Byb3RvX19cIixcImNvbnN0cnVjdG9yXCIpLG8uZXhjbHVkZUtleXMmJihlPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFvLmV4Y2x1ZGVLZXlzKGUpfSkpLHUoXCJvYmplY3Q6XCIrZS5sZW5ndGgrXCI6XCIpLG49dGhpcyxlLmZvckVhY2goZnVuY3Rpb24oZSl7bi5kaXNwYXRjaChlKSx1KFwiOlwiKSxvLmV4Y2x1ZGVWYWx1ZXN8fG4uZGlzcGF0Y2godFtlXSksdShcIixcIil9KTtpZighdGhpc1tcIl9cIityXSl7aWYoby5pZ25vcmVVbmtub3duKXJldHVybiB1KFwiW1wiK3IrXCJdXCIpO3Rocm93IG5ldyBFcnJvcignVW5rbm93biBvYmplY3QgdHlwZSBcIicrcisnXCInKX10aGlzW1wiX1wiK3JdKHQpfSxfYXJyYXk6ZnVuY3Rpb24oZSx0KXt0PXZvaWQgMCE9PXQ/dDohMSE9PW8udW5vcmRlcmVkQXJyYXlzO3ZhciBuPXRoaXM7aWYodShcImFycmF5OlwiK2UubGVuZ3RoK1wiOlwiKSwhdHx8ZS5sZW5ndGg8PTEpcmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbi5kaXNwYXRjaChlKX0pO3ZhciByPVtdLHQ9ZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGwsbj1pLnNsaWNlKCk7cmV0dXJuIGYobyx0LG4pLmRpc3BhdGNoKGUpLHI9ci5jb25jYXQobi5zbGljZShpLmxlbmd0aCkpLHQucmVhZCgpLnRvU3RyaW5nKCl9KTtyZXR1cm4gaT1pLmNvbmNhdChyKSx0LnNvcnQoKSx0aGlzLl9hcnJheSh0LCExKX0sX2RhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJkYXRlOlwiK2UudG9KU09OKCkpfSxfc3ltYm9sOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwic3ltYm9sOlwiK2UudG9TdHJpbmcoKSl9LF9lcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4gdShcImVycm9yOlwiK2UudG9TdHJpbmcoKSl9LF9ib29sZWFuOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiYm9vbDpcIitlLnRvU3RyaW5nKCkpfSxfc3RyaW5nOmZ1bmN0aW9uKGUpe3UoXCJzdHJpbmc6XCIrZS5sZW5ndGgrXCI6XCIpLHUoZS50b1N0cmluZygpKX0sX2Z1bmN0aW9uOmZ1bmN0aW9uKGUpe3UoXCJmbjpcIiksYShlKT90aGlzLmRpc3BhdGNoKFwiW25hdGl2ZV1cIik6dGhpcy5kaXNwYXRjaChlLnRvU3RyaW5nKCkpLCExIT09by5yZXNwZWN0RnVuY3Rpb25OYW1lcyYmdGhpcy5kaXNwYXRjaChcImZ1bmN0aW9uLW5hbWU6XCIrU3RyaW5nKGUubmFtZSkpLG8ucmVzcGVjdEZ1bmN0aW9uUHJvcGVydGllcyYmdGhpcy5fb2JqZWN0KGUpfSxfbnVtYmVyOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwibnVtYmVyOlwiK2UudG9TdHJpbmcoKSl9LF94bWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJ4bWw6XCIrZS50b1N0cmluZygpKX0sX251bGw6ZnVuY3Rpb24oKXtyZXR1cm4gdShcIk51bGxcIil9LF91bmRlZmluZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdShcIlVuZGVmaW5lZFwiKX0sX3JlZ2V4cDpmdW5jdGlvbihlKXtyZXR1cm4gdShcInJlZ2V4OlwiK2UudG9TdHJpbmcoKSl9LF91aW50OGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwidWludDhhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF91aW50OGNsYW1wZWRhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdShcInVpbnQ4Y2xhbXBlZGFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX2ludDhhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImludDhhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF91aW50MTZhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdShcInVpbnQxNmFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX2ludDE2YXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJpbnQxNmFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX3VpbnQzMmFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwidWludDMyYXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfaW50MzJhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImludDMyYXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfZmxvYXQzMmFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiZmxvYXQzMmFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX2Zsb2F0NjRhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImZsb2F0NjRhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF9hcnJheWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gdShcImFycmF5YnVmZmVyOlwiKSx0aGlzLmRpc3BhdGNoKG5ldyBVaW50OEFycmF5KGUpKX0sX3VybDpmdW5jdGlvbihlKXtyZXR1cm4gdShcInVybDpcIitlLnRvU3RyaW5nKCkpfSxfbWFwOmZ1bmN0aW9uKGUpe3UoXCJtYXA6XCIpO2U9QXJyYXkuZnJvbShlKTtyZXR1cm4gdGhpcy5fYXJyYXkoZSwhMSE9PW8udW5vcmRlcmVkU2V0cyl9LF9zZXQ6ZnVuY3Rpb24oZSl7dShcInNldDpcIik7ZT1BcnJheS5mcm9tKGUpO3JldHVybiB0aGlzLl9hcnJheShlLCExIT09by51bm9yZGVyZWRTZXRzKX0sX2ZpbGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJmaWxlOlwiKSx0aGlzLmRpc3BhdGNoKFtlLm5hbWUsZS5zaXplLGUudHlwZSxlLmxhc3RNb2RmaWVkXSl9LF9ibG9iOmZ1bmN0aW9uKCl7aWYoby5pZ25vcmVVbmtub3duKXJldHVybiB1KFwiW2Jsb2JdXCIpO3Rocm93IEVycm9yKCdIYXNoaW5nIEJsb2Igb2JqZWN0cyBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRlZFxcbihzZWUgaHR0cHM6Ly9naXRodWIuY29tL3B1bGVvcy9vYmplY3QtaGFzaC9pc3N1ZXMvMjYpXFxuVXNlIFwib3B0aW9ucy5yZXBsYWNlclwiIG9yIFwib3B0aW9ucy5pZ25vcmVVbmtub3duXCJcXG4nKX0sX2RvbXdpbmRvdzpmdW5jdGlvbigpe3JldHVybiB1KFwiZG9td2luZG93XCIpfSxfYmlnaW50OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiYmlnaW50OlwiK2UudG9TdHJpbmcoKSl9LF9wcm9jZXNzOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJwcm9jZXNzXCIpfSxfdGltZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInRpbWVyXCIpfSxfcGlwZTpmdW5jdGlvbigpe3JldHVybiB1KFwicGlwZVwiKX0sX3RjcDpmdW5jdGlvbigpe3JldHVybiB1KFwidGNwXCIpfSxfdWRwOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJ1ZHBcIil9LF90dHk6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInR0eVwiKX0sX3N0YXR3YXRjaGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJzdGF0d2F0Y2hlclwiKX0sX3NlY3VyZWNvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInNlY3VyZWNvbnRleHRcIil9LF9jb25uZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJjb25uZWN0aW9uXCIpfSxfemxpYjpmdW5jdGlvbigpe3JldHVybiB1KFwiemxpYlwiKX0sX2NvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdShcImNvbnRleHRcIil9LF9ub2Rlc2NyaXB0OmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJub2Rlc2NyaXB0XCIpfSxfaHR0cHBhcnNlcjpmdW5jdGlvbigpe3JldHVybiB1KFwiaHR0cHBhcnNlclwiKX0sX2RhdGF2aWV3OmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJkYXRhdmlld1wiKX0sX3NpZ25hbDpmdW5jdGlvbigpe3JldHVybiB1KFwic2lnbmFsXCIpfSxfZnNldmVudDpmdW5jdGlvbigpe3JldHVybiB1KFwiZnNldmVudFwiKX0sX3Rsc3dyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInRsc3dyYXBcIil9fX1mdW5jdGlvbiBsKCl7cmV0dXJue2J1ZjpcIlwiLHdyaXRlOmZ1bmN0aW9uKGUpe3RoaXMuYnVmKz1lfSxlbmQ6ZnVuY3Rpb24oZSl7dGhpcy5idWYrPWV9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZ9fX1tLndyaXRlVG9TdHJlYW09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj10LHQ9e30pLGYodD11KGUsdCksbikuZGlzcGF0Y2goZSl9fS5jYWxsKHRoaXMsdyhcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LHcoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9mYWtlXzlhNWFhNDlkLmpzXCIsXCIvXCIpfSx7YnVmZmVyOjMsY3J5cHRvOjUsbFlwb0kyOjExfV0sMjpbZnVuY3Rpb24oZSx0LGYpeyFmdW5jdGlvbihlLHQsbixyLG8saSx1LHMsYSl7IWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciBhPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXksdD1cIitcIi5jaGFyQ29kZUF0KDApLG49XCIvXCIuY2hhckNvZGVBdCgwKSxyPVwiMFwiLmNoYXJDb2RlQXQoMCksbz1cImFcIi5jaGFyQ29kZUF0KDApLGk9XCJBXCIuY2hhckNvZGVBdCgwKSx1PVwiLVwiLmNoYXJDb2RlQXQoMCkscz1cIl9cIi5jaGFyQ29kZUF0KDApO2Z1bmN0aW9uIGYoZSl7ZT1lLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGU9PT10fHxlPT09dT82MjplPT09bnx8ZT09PXM/NjM6ZTxyPy0xOmU8cisxMD9lLXIrMjYrMjY6ZTxpKzI2P2UtaTplPG8rMjY/ZS1vKzI2OnZvaWQgMH1lLnRvQnl0ZUFycmF5PWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoMDxlLmxlbmd0aCU0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDRcIik7dmFyIHI9ZS5sZW5ndGgscj1cIj1cIj09PWUuY2hhckF0KHItMik/MjpcIj1cIj09PWUuY2hhckF0KHItMSk/MTowLG89bmV3IGEoMyplLmxlbmd0aC80LXIpLGk9MDxyP2UubGVuZ3RoLTQ6ZS5sZW5ndGgsdT0wO2Z1bmN0aW9uIHMoZSl7b1t1KytdPWV9Zm9yKHQ9MDt0PGk7dCs9NCwwKXMoKDE2NzExNjgwJihuPWYoZS5jaGFyQXQodCkpPDwxOHxmKGUuY2hhckF0KHQrMSkpPDwxMnxmKGUuY2hhckF0KHQrMikpPDw2fGYoZS5jaGFyQXQodCszKSkpKT4+MTYpLHMoKDY1MjgwJm4pPj44KSxzKDI1NSZuKTtyZXR1cm4gMj09cj9zKDI1NSYobj1mKGUuY2hhckF0KHQpKTw8MnxmKGUuY2hhckF0KHQrMSkpPj40KSk6MT09ciYmKHMoKG49ZihlLmNoYXJBdCh0KSk8PDEwfGYoZS5jaGFyQXQodCsxKSk8PDR8ZihlLmNoYXJBdCh0KzIpKT4+Mik+PjgmMjU1KSxzKDI1NSZuKSksb30sZS5mcm9tQnl0ZUFycmF5PWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGk9ZS5sZW5ndGglMyx1PVwiXCI7ZnVuY3Rpb24gcyhlKXtyZXR1cm5cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIi5jaGFyQXQoZSl9Zm9yKHQ9MCxyPWUubGVuZ3RoLWk7dDxyO3QrPTMpbj0oZVt0XTw8MTYpKyhlW3QrMV08PDgpK2VbdCsyXSx1Kz1zKChvPW4pPj4xOCY2MykrcyhvPj4xMiY2MykrcyhvPj42JjYzKStzKDYzJm8pO3N3aXRjaChpKXtjYXNlIDE6dT0odSs9cygobj1lW2UubGVuZ3RoLTFdKT4+MikpK3Mobjw8NCY2MykrXCI9PVwiO2JyZWFrO2Nhc2UgMjp1PSh1PSh1Kz1zKChuPShlW2UubGVuZ3RoLTJdPDw4KStlW2UubGVuZ3RoLTFdKT4+MTApKStzKG4+PjQmNjMpKStzKG48PDImNjMpK1wiPVwifXJldHVybiB1fX0odm9pZCAwPT09Zj90aGlzLmJhc2U2NGpzPXt9OmYpfS5jYWxsKHRoaXMsZShcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9iYXNlNjQtanMvbGliL2I2NC5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9saWJcIil9LHtidWZmZXI6MyxsWXBvSTI6MTF9XSwzOltmdW5jdGlvbihPLGUsSCl7IWZ1bmN0aW9uKGUsbixmLHIsaCxwLGcseSx3KXt2YXIgYT1PKFwiYmFzZTY0LWpzXCIpLGk9TyhcImllZWU3NTRcIik7ZnVuY3Rpb24gZihlLHQsbil7aWYoISh0aGlzIGluc3RhbmNlb2YgZikpcmV0dXJuIG5ldyBmKGUsdCxuKTt2YXIgcixvLGksdSxzPXR5cGVvZiBlO2lmKFwiYmFzZTY0XCI9PT10JiZcInN0cmluZ1wiPT1zKWZvcihlPSh1PWUpLnRyaW0/dS50cmltKCk6dS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpO2UubGVuZ3RoJTQhPTA7KWUrPVwiPVwiO2lmKFwibnVtYmVyXCI9PXMpcj1qKGUpO2Vsc2UgaWYoXCJzdHJpbmdcIj09cylyPWYuYnl0ZUxlbmd0aChlLHQpO2Vsc2V7aWYoXCJvYmplY3RcIiE9cyl0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBhcmd1bWVudCBuZWVkcyB0byBiZSBhIG51bWJlciwgYXJyYXkgb3Igc3RyaW5nLlwiKTtyPWooZS5sZW5ndGgpfWlmKGYuX3VzZVR5cGVkQXJyYXlzP289Zi5fYXVnbWVudChuZXcgVWludDhBcnJheShyKSk6KChvPXRoaXMpLmxlbmd0aD1yLG8uX2lzQnVmZmVyPSEwKSxmLl91c2VUeXBlZEFycmF5cyYmXCJudW1iZXJcIj09dHlwZW9mIGUuYnl0ZUxlbmd0aClvLl9zZXQoZSk7ZWxzZSBpZihDKHU9ZSl8fGYuaXNCdWZmZXIodSl8fHUmJlwib2JqZWN0XCI9PXR5cGVvZiB1JiZcIm51bWJlclwiPT10eXBlb2YgdS5sZW5ndGgpZm9yKGk9MDtpPHI7aSsrKWYuaXNCdWZmZXIoZSk/b1tpXT1lLnJlYWRVSW50OChpKTpvW2ldPWVbaV07ZWxzZSBpZihcInN0cmluZ1wiPT1zKW8ud3JpdGUoZSwwLHQpO2Vsc2UgaWYoXCJudW1iZXJcIj09cyYmIWYuX3VzZVR5cGVkQXJyYXlzJiYhbilmb3IoaT0wO2k8cjtpKyspb1tpXT0wO3JldHVybiBvfWZ1bmN0aW9uIGIoZSx0LG4scil7cmV0dXJuIGYuX2NoYXJzV3JpdHRlbj1jKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQobikpO3JldHVybiB0fSh0KSxlLG4scil9ZnVuY3Rpb24gbShlLHQsbixyKXtyZXR1cm4gZi5fY2hhcnNXcml0dGVuPWMoZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1bXSxvPTA7bzxlLmxlbmd0aDtvKyspbj1lLmNoYXJDb2RlQXQobyksdD1uPj44LG49biUyNTYsci5wdXNoKG4pLHIucHVzaCh0KTtyZXR1cm4gcn0odCksZSxuLHIpfWZ1bmN0aW9uIHYoZSx0LG4pe3ZhciByPVwiXCI7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIG89dDtvPG47bysrKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtvXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gbyhlLHQsbixyKXtyfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9dCxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQodCsxPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpO3ZhciBvLHI9ZS5sZW5ndGg7aWYoIShyPD10KSlyZXR1cm4gbj8obz1lW3RdLHQrMTxyJiYob3w9ZVt0KzFdPDw4KSk6KG89ZVt0XTw8OCx0KzE8ciYmKG98PWVbdCsxXSkpLG99ZnVuY3Rpb24gdShlLHQsbixyKXtyfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9dCxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQodCszPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpO3ZhciBvLHI9ZS5sZW5ndGg7aWYoIShyPD10KSlyZXR1cm4gbj8odCsyPHImJihvPWVbdCsyXTw8MTYpLHQrMTxyJiYob3w9ZVt0KzFdPDw4KSxvfD1lW3RdLHQrMzxyJiYobys9ZVt0KzNdPDwyND4+PjApKToodCsxPHImJihvPWVbdCsxXTw8MTYpLHQrMjxyJiYob3w9ZVt0KzJdPDw4KSx0KzM8ciYmKG98PWVbdCszXSksbys9ZVt0XTw8MjQ+Pj4wKSxvfWZ1bmN0aW9uIF8oZSx0LG4scil7aWYocnx8KGQoXCJib29sZWFuXCI9PXR5cGVvZiBuLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPXQsXCJtaXNzaW5nIG9mZnNldFwiKSxkKHQrMTxlLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKSwhKGUubGVuZ3RoPD10KSlyZXR1cm4gcj1vKGUsdCxuLCEwKSwzMjc2OCZyPy0xKig2NTUzNS1yKzEpOnJ9ZnVuY3Rpb24gRShlLHQsbixyKXtpZihyfHwoZChcImJvb2xlYW5cIj09dHlwZW9mIG4sXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9dCxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQodCszPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLCEoZS5sZW5ndGg8PXQpKXJldHVybiByPXUoZSx0LG4sITApLDIxNDc0ODM2NDgmcj8tMSooNDI5NDk2NzI5NS1yKzEpOnJ9ZnVuY3Rpb24gSShlLHQsbixyKXtyZXR1cm4gcnx8KGQoXCJib29sZWFuXCI9PXR5cGVvZiBuLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKHQrMzxlLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKSxpLnJlYWQoZSx0LG4sMjMsNCl9ZnVuY3Rpb24gQShlLHQsbixyKXtyZXR1cm4gcnx8KGQoXCJib29sZWFuXCI9PXR5cGVvZiBuLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKHQrNzxlLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKSxpLnJlYWQoZSx0LG4sNTIsOCl9ZnVuY3Rpb24gcyhlLHQsbixyLG8pe298fChkKG51bGwhPXQsXCJtaXNzaW5nIHZhbHVlXCIpLGQoXCJib29sZWFuXCI9PXR5cGVvZiByLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPW4sXCJtaXNzaW5nIG9mZnNldFwiKSxkKG4rMTxlLmxlbmd0aCxcInRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxZKHQsNjU1MzUpKTtvPWUubGVuZ3RoO2lmKCEobzw9bikpZm9yKHZhciBpPTAsdT1NYXRoLm1pbihvLW4sMik7aTx1O2krKyllW24raV09KHQmMjU1PDw4KihyP2k6MS1pKSk+Pj44KihyP2k6MS1pKX1mdW5jdGlvbiBsKGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobiszPGUubGVuZ3RoLFwidHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLFkodCw0Mjk0OTY3Mjk1KSk7bz1lLmxlbmd0aDtpZighKG88PW4pKWZvcih2YXIgaT0wLHU9TWF0aC5taW4oby1uLDQpO2k8dTtpKyspZVtuK2ldPXQ+Pj44KihyP2k6My1pKSYyNTV9ZnVuY3Rpb24gQihlLHQsbixyLG8pe298fChkKG51bGwhPXQsXCJtaXNzaW5nIHZhbHVlXCIpLGQoXCJib29sZWFuXCI9PXR5cGVvZiByLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPW4sXCJtaXNzaW5nIG9mZnNldFwiKSxkKG4rMTxlLmxlbmd0aCxcIlRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxGKHQsMzI3NjcsLTMyNzY4KSksZS5sZW5ndGg8PW58fHMoZSwwPD10P3Q6NjU1MzUrdCsxLG4scixvKX1mdW5jdGlvbiBMKGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobiszPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLEYodCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSksZS5sZW5ndGg8PW58fGwoZSwwPD10P3Q6NDI5NDk2NzI5NSt0KzEsbixyLG8pfWZ1bmN0aW9uIFUoZSx0LG4scixvKXtvfHwoZChudWxsIT10LFwibWlzc2luZyB2YWx1ZVwiKSxkKFwiYm9vbGVhblwiPT10eXBlb2YgcixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT1uLFwibWlzc2luZyBvZmZzZXRcIiksZChuKzM8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksRCh0LDM0MDI4MjM0NjYzODUyODg2ZTIyLC0zNDAyODIzNDY2Mzg1Mjg4NmUyMikpLGUubGVuZ3RoPD1ufHxpLndyaXRlKGUsdCxuLHIsMjMsNCl9ZnVuY3Rpb24geChlLHQsbixyLG8pe298fChkKG51bGwhPXQsXCJtaXNzaW5nIHZhbHVlXCIpLGQoXCJib29sZWFuXCI9PXR5cGVvZiByLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPW4sXCJtaXNzaW5nIG9mZnNldFwiKSxkKG4rNzxlLmxlbmd0aCxcIlRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxEKHQsMTc5NzY5MzEzNDg2MjMxNTdlMjkyLC0xNzk3NjkzMTM0ODYyMzE1N2UyOTIpKSxlLmxlbmd0aDw9bnx8aS53cml0ZShlLHQsbixyLDUyLDgpfUguQnVmZmVyPWYsSC5TbG93QnVmZmVyPWYsSC5JTlNQRUNUX01BWF9CWVRFUz01MCxmLnBvb2xTaXplPTgxOTIsZi5fdXNlVHlwZWRBcnJheXM9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDApLHQ9bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIHQuZm9vPWZ1bmN0aW9uKCl7cmV0dXJuIDQyfSw0Mj09PXQuZm9vKCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuc3ViYXJyYXl9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLGYuaXNFbmNvZGluZz1mdW5jdGlvbihlKXtzd2l0Y2goU3RyaW5nKGUpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwicmF3XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGYuaXNCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIShudWxsPT1lfHwhZS5faXNCdWZmZXIpfSxmLmJ5dGVMZW5ndGg9ZnVuY3Rpb24oZSx0KXt2YXIgbjtzd2l0Y2goZSs9XCJcIix0fHxcInV0ZjhcIil7Y2FzZVwiaGV4XCI6bj1lLmxlbmd0aC8yO2JyZWFrO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOm49VChlKS5sZW5ndGg7YnJlYWs7Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJyYXdcIjpuPWUubGVuZ3RoO2JyZWFrO2Nhc2VcImJhc2U2NFwiOm49TShlKS5sZW5ndGg7YnJlYWs7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6bj0yKmUubGVuZ3RoO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBlbmNvZGluZ1wiKX1yZXR1cm4gbn0sZi5jb25jYXQ9ZnVuY3Rpb24oZSx0KXtpZihkKEMoZSksXCJVc2FnZTogQnVmZmVyLmNvbmNhdChsaXN0LCBbdG90YWxMZW5ndGhdKVxcbmxpc3Qgc2hvdWxkIGJlIGFuIEFycmF5LlwiKSwwPT09ZS5sZW5ndGgpcmV0dXJuIG5ldyBmKDApO2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gZVswXTtpZihcIm51bWJlclwiIT10eXBlb2YgdClmb3Iobz10PTA7bzxlLmxlbmd0aDtvKyspdCs9ZVtvXS5sZW5ndGg7Zm9yKHZhciBuPW5ldyBmKHQpLHI9MCxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWVbb107aS5jb3B5KG4scikscis9aS5sZW5ndGh9cmV0dXJuIG59LGYucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCxuLHIpe2lzRmluaXRlKHQpP2lzRmluaXRlKG4pfHwocj1uLG49dm9pZCAwKTooYT1yLHI9dCx0PW4sbj1hKSx0PU51bWJlcih0KXx8MDt2YXIgbyxpLHUscyxhPXRoaXMubGVuZ3RoLXQ7c3dpdGNoKCghbnx8YTwobj1OdW1iZXIobikpKSYmKG49YSkscj1TdHJpbmcocnx8XCJ1dGY4XCIpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOm89ZnVuY3Rpb24oZSx0LG4scil7bj1OdW1iZXIobil8fDA7dmFyIG89ZS5sZW5ndGgtbjsoIXJ8fG88KHI9TnVtYmVyKHIpKSkmJihyPW8pLGQoKG89dC5sZW5ndGgpJTI9PTAsXCJJbnZhbGlkIGhleCBzdHJpbmdcIiksby8yPHImJihyPW8vMik7Zm9yKHZhciBpPTA7aTxyO2krKyl7dmFyIHU9cGFyc2VJbnQodC5zdWJzdHIoMippLDIpLDE2KTtkKCFpc05hTih1KSxcIkludmFsaWQgaGV4IHN0cmluZ1wiKSxlW24raV09dX1yZXR1cm4gZi5fY2hhcnNXcml0dGVuPTIqaSxpfSh0aGlzLGUsdCxuKTticmVhaztjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjppPXRoaXMsdT10LHM9bixvPWYuX2NoYXJzV3JpdHRlbj1jKFQoZSksaSx1LHMpO2JyZWFrO2Nhc2VcImFzY2lpXCI6Y2FzZVwiYmluYXJ5XCI6bz1iKHRoaXMsZSx0LG4pO2JyZWFrO2Nhc2VcImJhc2U2NFwiOmk9dGhpcyx1PXQscz1uLG89Zi5fY2hhcnNXcml0dGVuPWMoTShlKSxpLHUscyk7YnJlYWs7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6bz1tKHRoaXMsZSx0LG4pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBlbmNvZGluZ1wiKX1yZXR1cm4gb30sZi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSx1LHM9dGhpcztpZihlPVN0cmluZyhlfHxcInV0ZjhcIikudG9Mb3dlckNhc2UoKSx0PU51bWJlcih0KXx8MCwobj12b2lkIDAhPT1uP051bWJlcihuKTpzLmxlbmd0aCk9PT10KXJldHVyblwiXCI7c3dpdGNoKGUpe2Nhc2VcImhleFwiOnI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUubGVuZ3RoOyghdHx8dDwwKSYmKHQ9MCk7KCFufHxuPDB8fHI8bikmJihuPXIpO2Zvcih2YXIgbz1cIlwiLGk9dDtpPG47aSsrKW8rPWsoZVtpXSk7cmV0dXJuIG99KHMsdCxuKTticmVhaztjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1cIlwiLG89XCJcIjtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgaT10O2k8bjtpKyspZVtpXTw9MTI3PyhyKz1OKG8pK1N0cmluZy5mcm9tQ2hhckNvZGUoZVtpXSksbz1cIlwiKTpvKz1cIiVcIitlW2ldLnRvU3RyaW5nKDE2KTtyZXR1cm4gcitOKG8pfShzLHQsbik7YnJlYWs7Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpyPXYocyx0LG4pO2JyZWFrO2Nhc2VcImJhc2U2NFwiOm89cyx1PW4scj0wPT09KGk9dCkmJnU9PT1vLmxlbmd0aD9hLmZyb21CeXRlQXJyYXkobyk6YS5mcm9tQnl0ZUFycmF5KG8uc2xpY2UoaSx1KSk7YnJlYWs7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cj1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWUuc2xpY2UodCxuKSxvPVwiXCIsaT0wO2k8ci5sZW5ndGg7aSs9MilvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHJbaV0rMjU2KnJbaSsxXSk7cmV0dXJuIG99KHMsdCxuKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2RpbmdcIil9cmV0dXJuIHJ9LGYucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOlwiQnVmZmVyXCIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fSxmLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUsdCxuLHIpe2lmKHQ9dHx8MCwocj1yfHwwPT09cj9yOnRoaXMubGVuZ3RoKSE9PShuPW58fDApJiYwIT09ZS5sZW5ndGgmJjAhPT10aGlzLmxlbmd0aCl7ZChuPD1yLFwic291cmNlRW5kIDwgc291cmNlU3RhcnRcIiksZCgwPD10JiZ0PGUubGVuZ3RoLFwidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kc1wiKSxkKDA8PW4mJm48dGhpcy5sZW5ndGgsXCJzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzXCIpLGQoMDw9ciYmcjw9dGhpcy5sZW5ndGgsXCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kc1wiKSxyPnRoaXMubGVuZ3RoJiYocj10aGlzLmxlbmd0aCk7dmFyIG89KHI9ZS5sZW5ndGgtdDxyLW4/ZS5sZW5ndGgtdCtuOnIpLW47aWYobzwxMDB8fCFmLl91c2VUeXBlZEFycmF5cylmb3IodmFyIGk9MDtpPG87aSsrKWVbaSt0XT10aGlzW2krbl07ZWxzZSBlLl9zZXQodGhpcy5zdWJhcnJheShuLG4rbyksdCl9fSxmLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubGVuZ3RoO2lmKGU9UyhlLG4sMCksdD1TKHQsbixuKSxmLl91c2VUeXBlZEFycmF5cylyZXR1cm4gZi5fYXVnbWVudCh0aGlzLnN1YmFycmF5KGUsdCkpO2Zvcih2YXIgcj10LWUsbz1uZXcgZihyLHZvaWQgMCwhMCksaT0wO2k8cjtpKyspb1tpXT10aGlzW2krZV07cmV0dXJuIG99LGYucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS5sb2coXCIuZ2V0KCkgaXMgZGVwcmVjYXRlZC4gQWNjZXNzIHVzaW5nIGFycmF5IGluZGV4ZXMgaW5zdGVhZC5cIiksdGhpcy5yZWFkVUludDgoZSl9LGYucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiBjb25zb2xlLmxvZyhcIi5zZXQoKSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdXNpbmcgYXJyYXkgaW5kZXhlcyBpbnN0ZWFkLlwiKSx0aGlzLndyaXRlVUludDgoZSx0KX0sZi5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKGUsdCl7aWYodHx8KGQobnVsbCE9ZSxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQoZTx0aGlzLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKSwhKGU+PXRoaXMubGVuZ3RoKSlyZXR1cm4gdGhpc1tlXX0sZi5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8odGhpcyxlLCEwLHQpfSxmLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0aGlzLGUsITEsdCl9LGYucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiB1KHRoaXMsZSwhMCx0KX0sZi5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUodGhpcyxlLCExLHQpfSxmLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbihlLHQpe2lmKHR8fChkKG51bGwhPWUsXCJtaXNzaW5nIG9mZnNldFwiKSxkKGU8dGhpcy5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSksIShlPj10aGlzLmxlbmd0aCkpcmV0dXJuIDEyOCZ0aGlzW2VdPy0xKigyNTUtdGhpc1tlXSsxKTp0aGlzW2VdfSxmLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbihlLHQpe3JldHVybiBfKHRoaXMsZSwhMCx0KX0sZi5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gXyh0aGlzLGUsITEsdCl9LGYucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEUodGhpcyxlLCEwLHQpfSxmLnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbihlLHQpe3JldHVybiBFKHRoaXMsZSwhMSx0KX0sZi5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSSh0aGlzLGUsITAsdCl9LGYucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEkodGhpcyxlLCExLHQpfSxmLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQSh0aGlzLGUsITAsdCl9LGYucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbihlLHQpe3JldHVybiBBKHRoaXMsZSwhMSx0KX0sZi5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbihlLHQsbil7bnx8KGQobnVsbCE9ZSxcIm1pc3NpbmcgdmFsdWVcIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0PHRoaXMubGVuZ3RoLFwidHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLFkoZSwyNTUpKSx0Pj10aGlzLmxlbmd0aHx8KHRoaXNbdF09ZSl9LGYucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24oZSx0LG4pe3ModGhpcyxlLHQsITAsbil9LGYucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24oZSx0LG4pe3ModGhpcyxlLHQsITEsbil9LGYucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oZSx0LG4pe2wodGhpcyxlLHQsITAsbil9LGYucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24oZSx0LG4pe2wodGhpcyxlLHQsITEsbil9LGYucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihlLHQsbil7bnx8KGQobnVsbCE9ZSxcIm1pc3NpbmcgdmFsdWVcIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0PHRoaXMubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLEYoZSwxMjcsLTEyOCkpLHQ+PXRoaXMubGVuZ3RofHwoMDw9ZT90aGlzLndyaXRlVUludDgoZSx0LG4pOnRoaXMud3JpdGVVSW50OCgyNTUrZSsxLHQsbikpfSxmLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24oZSx0LG4pe0IodGhpcyxlLHQsITAsbil9LGYucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbihlLHQsbil7Qih0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxuKXtMKHRoaXMsZSx0LCEwLG4pfSxmLnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24oZSx0LG4pe0wodGhpcyxlLHQsITEsbil9LGYucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbihlLHQsbil7VSh0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKGUsdCxuKXtVKHRoaXMsZSx0LCExLG4pfSxmLnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKGUsdCxuKXt4KHRoaXMsZSx0LCEwLG4pfSxmLnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKGUsdCxuKXt4KHRoaXMsZSx0LCExLG4pfSxmLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKGUsdCxuKXtpZih0PXR8fDAsbj1ufHx0aGlzLmxlbmd0aCxkKFwibnVtYmVyXCI9PXR5cGVvZihlPVwic3RyaW5nXCI9PXR5cGVvZihlPWV8fDApP2UuY2hhckNvZGVBdCgwKTplKSYmIWlzTmFOKGUpLFwidmFsdWUgaXMgbm90IGEgbnVtYmVyXCIpLGQodDw9bixcImVuZCA8IHN0YXJ0XCIpLG4hPT10JiYwIT09dGhpcy5sZW5ndGgpe2QoMDw9dCYmdDx0aGlzLmxlbmd0aCxcInN0YXJ0IG91dCBvZiBib3VuZHNcIiksZCgwPD1uJiZuPD10aGlzLmxlbmd0aCxcImVuZCBvdXQgb2YgYm91bmRzXCIpO2Zvcih2YXIgcj10O3I8bjtyKyspdGhpc1tyXT1lfX0sZi5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMubGVuZ3RoLG49MDtuPHQ7bisrKWlmKGVbbl09ayh0aGlzW25dKSxuPT09SC5JTlNQRUNUX01BWF9CWVRFUyl7ZVtuKzFdPVwiLi4uXCI7YnJlYWt9cmV0dXJuXCI8QnVmZmVyIFwiK2Uuam9pbihcIiBcIikrXCI+XCJ9LGYucHJvdG90eXBlLnRvQXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgVWludDhBcnJheSl0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIudG9BcnJheUJ1ZmZlciBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtpZihmLl91c2VUeXBlZEFycmF5cylyZXR1cm4gbmV3IGYodGhpcykuYnVmZmVyO2Zvcih2YXIgZT1uZXcgVWludDhBcnJheSh0aGlzLmxlbmd0aCksdD0wLG49ZS5sZW5ndGg7dDxuO3QrPTEpZVt0XT10aGlzW3RdO3JldHVybiBlLmJ1ZmZlcn07dmFyIHQ9Zi5wcm90b3R5cGU7ZnVuY3Rpb24gUyhlLHQsbil7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGU/bjp0PD0oZT1+fmUpP3Q6MDw9ZXx8MDw9KGUrPXQpP2U6MH1mdW5jdGlvbiBqKGUpe3JldHVybihlPX5+TWF0aC5jZWlsKCtlKSk8MD8wOmV9ZnVuY3Rpb24gQyhlKXtyZXR1cm4oQXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSkoZSl9ZnVuY3Rpb24gayhlKXtyZXR1cm4gZTwxNj9cIjBcIitlLnRvU3RyaW5nKDE2KTplLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiBUKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWUuY2hhckNvZGVBdChuKTtpZihyPD0xMjcpdC5wdXNoKGUuY2hhckNvZGVBdChuKSk7ZWxzZSBmb3IodmFyIG89bixpPSg1NTI5Njw9ciYmcjw9NTczNDMmJm4rKyxlbmNvZGVVUklDb21wb25lbnQoZS5zbGljZShvLG4rMSkpLnN1YnN0cigxKS5zcGxpdChcIiVcIikpLHU9MDt1PGkubGVuZ3RoO3UrKyl0LnB1c2gocGFyc2VJbnQoaVt1XSwxNikpfXJldHVybiB0fWZ1bmN0aW9uIE0oZSl7cmV0dXJuIGEudG9CeXRlQXJyYXkoZSl9ZnVuY3Rpb24gYyhlLHQsbixyKXtmb3IodmFyIG89MDtvPHImJiEobytuPj10Lmxlbmd0aHx8bz49ZS5sZW5ndGgpO28rKyl0W28rbl09ZVtvXTtyZXR1cm4gb31mdW5jdGlvbiBOKGUpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGUpfWNhdGNoKGUpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1NTMzKX19ZnVuY3Rpb24gWShlLHQpe2QoXCJudW1iZXJcIj09dHlwZW9mIGUsXCJjYW5ub3Qgd3JpdGUgYSBub24tbnVtYmVyIGFzIGEgbnVtYmVyXCIpLGQoMDw9ZSxcInNwZWNpZmllZCBhIG5lZ2F0aXZlIHZhbHVlIGZvciB3cml0aW5nIGFuIHVuc2lnbmVkIHZhbHVlXCIpLGQoZTw9dCxcInZhbHVlIGlzIGxhcmdlciB0aGFuIG1heGltdW0gdmFsdWUgZm9yIHR5cGVcIiksZChNYXRoLmZsb29yKGUpPT09ZSxcInZhbHVlIGhhcyBhIGZyYWN0aW9uYWwgY29tcG9uZW50XCIpfWZ1bmN0aW9uIEYoZSx0LG4pe2QoXCJudW1iZXJcIj09dHlwZW9mIGUsXCJjYW5ub3Qgd3JpdGUgYSBub24tbnVtYmVyIGFzIGEgbnVtYmVyXCIpLGQoZTw9dCxcInZhbHVlIGxhcmdlciB0aGFuIG1heGltdW0gYWxsb3dlZCB2YWx1ZVwiKSxkKG48PWUsXCJ2YWx1ZSBzbWFsbGVyIHRoYW4gbWluaW11bSBhbGxvd2VkIHZhbHVlXCIpLGQoTWF0aC5mbG9vcihlKT09PWUsXCJ2YWx1ZSBoYXMgYSBmcmFjdGlvbmFsIGNvbXBvbmVudFwiKX1mdW5jdGlvbiBEKGUsdCxuKXtkKFwibnVtYmVyXCI9PXR5cGVvZiBlLFwiY2Fubm90IHdyaXRlIGEgbm9uLW51bWJlciBhcyBhIG51bWJlclwiKSxkKGU8PXQsXCJ2YWx1ZSBsYXJnZXIgdGhhbiBtYXhpbXVtIGFsbG93ZWQgdmFsdWVcIiksZChuPD1lLFwidmFsdWUgc21hbGxlciB0aGFuIG1pbmltdW0gYWxsb3dlZCB2YWx1ZVwiKX1mdW5jdGlvbiBkKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKHR8fFwiRmFpbGVkIGFzc2VydGlvblwiKX1mLl9hdWdtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLl9pc0J1ZmZlcj0hMCxlLl9nZXQ9ZS5nZXQsZS5fc2V0PWUuc2V0LGUuZ2V0PXQuZ2V0LGUuc2V0PXQuc2V0LGUud3JpdGU9dC53cml0ZSxlLnRvU3RyaW5nPXQudG9TdHJpbmcsZS50b0xvY2FsZVN0cmluZz10LnRvU3RyaW5nLGUudG9KU09OPXQudG9KU09OLGUuY29weT10LmNvcHksZS5zbGljZT10LnNsaWNlLGUucmVhZFVJbnQ4PXQucmVhZFVJbnQ4LGUucmVhZFVJbnQxNkxFPXQucmVhZFVJbnQxNkxFLGUucmVhZFVJbnQxNkJFPXQucmVhZFVJbnQxNkJFLGUucmVhZFVJbnQzMkxFPXQucmVhZFVJbnQzMkxFLGUucmVhZFVJbnQzMkJFPXQucmVhZFVJbnQzMkJFLGUucmVhZEludDg9dC5yZWFkSW50OCxlLnJlYWRJbnQxNkxFPXQucmVhZEludDE2TEUsZS5yZWFkSW50MTZCRT10LnJlYWRJbnQxNkJFLGUucmVhZEludDMyTEU9dC5yZWFkSW50MzJMRSxlLnJlYWRJbnQzMkJFPXQucmVhZEludDMyQkUsZS5yZWFkRmxvYXRMRT10LnJlYWRGbG9hdExFLGUucmVhZEZsb2F0QkU9dC5yZWFkRmxvYXRCRSxlLnJlYWREb3VibGVMRT10LnJlYWREb3VibGVMRSxlLnJlYWREb3VibGVCRT10LnJlYWREb3VibGVCRSxlLndyaXRlVUludDg9dC53cml0ZVVJbnQ4LGUud3JpdGVVSW50MTZMRT10LndyaXRlVUludDE2TEUsZS53cml0ZVVJbnQxNkJFPXQud3JpdGVVSW50MTZCRSxlLndyaXRlVUludDMyTEU9dC53cml0ZVVJbnQzMkxFLGUud3JpdGVVSW50MzJCRT10LndyaXRlVUludDMyQkUsZS53cml0ZUludDg9dC53cml0ZUludDgsZS53cml0ZUludDE2TEU9dC53cml0ZUludDE2TEUsZS53cml0ZUludDE2QkU9dC53cml0ZUludDE2QkUsZS53cml0ZUludDMyTEU9dC53cml0ZUludDMyTEUsZS53cml0ZUludDMyQkU9dC53cml0ZUludDMyQkUsZS53cml0ZUZsb2F0TEU9dC53cml0ZUZsb2F0TEUsZS53cml0ZUZsb2F0QkU9dC53cml0ZUZsb2F0QkUsZS53cml0ZURvdWJsZUxFPXQud3JpdGVEb3VibGVMRSxlLndyaXRlRG91YmxlQkU9dC53cml0ZURvdWJsZUJFLGUuZmlsbD10LmZpbGwsZS5pbnNwZWN0PXQuaW5zcGVjdCxlLnRvQXJyYXlCdWZmZXI9dC50b0FycmF5QnVmZmVyLGV9fS5jYWxsKHRoaXMsTyhcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LE8oXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9idWZmZXJcIil9LHtcImJhc2U2NC1qc1wiOjIsYnVmZmVyOjMsaWVlZTc1NDoxMCxsWXBvSTI6MTF9XSw0OltmdW5jdGlvbihjLGQsZSl7IWZ1bmN0aW9uKGUsdCxhLG4scixvLGksdSxzKXt2YXIgYT1jKFwiYnVmZmVyXCIpLkJ1ZmZlcixmPTQsbD1uZXcgYShmKTtsLmZpbGwoMCk7ZC5leHBvcnRzPXtoYXNoOmZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbz10KGZ1bmN0aW9uKGUsdCl7ZS5sZW5ndGglZiE9MCYmKG49ZS5sZW5ndGgrKGYtZS5sZW5ndGglZiksZT1hLmNvbmNhdChbZSxsXSxuKSk7Zm9yKHZhciBuLHI9W10sbz10P2UucmVhZEludDMyQkU6ZS5yZWFkSW50MzJMRSxpPTA7aTxlLmxlbmd0aDtpKz1mKXIucHVzaChvLmNhbGwoZSxpKSk7cmV0dXJuIHJ9KGU9YS5pc0J1ZmZlcihlKT9lOm5ldyBhKGUpLHIpLDgqZS5sZW5ndGgpLHQ9cixpPW5ldyBhKG4pLHU9dD9pLndyaXRlSW50MzJCRTppLndyaXRlSW50MzJMRSxzPTA7czxvLmxlbmd0aDtzKyspdS5jYWxsKGksb1tzXSw0KnMsITApO3JldHVybiBpfX19LmNhbGwodGhpcyxjKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sYyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L2hlbHBlcnMuanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeVwiKX0se2J1ZmZlcjozLGxZcG9JMjoxMX1dLDU6W2Z1bmN0aW9uKHYsZSxfKXshZnVuY3Rpb24obCxjLHUsZCxoLHAsZyx5LHcpe3ZhciB1PXYoXCJidWZmZXJcIikuQnVmZmVyLGU9dihcIi4vc2hhXCIpLHQ9dihcIi4vc2hhMjU2XCIpLG49dihcIi4vcm5nXCIpLGI9e3NoYTE6ZSxzaGEyNTY6dCxtZDU6dihcIi4vbWQ1XCIpfSxzPTY0LGE9bmV3IHUocyk7ZnVuY3Rpb24gcihlLG4pe3ZhciByPWJbZT1lfHxcInNoYTFcIl0sbz1bXTtyZXR1cm4gcnx8aShcImFsZ29yaXRobTpcIixlLFwiaXMgbm90IHlldCBzdXBwb3J0ZWRcIikse3VwZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdS5pc0J1ZmZlcihlKXx8KGU9bmV3IHUoZSkpLG8ucHVzaChlKSxlLmxlbmd0aCx0aGlzfSxkaWdlc3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9dS5jb25jYXQobyksdD1uP2Z1bmN0aW9uKGUsdCxuKXt1LmlzQnVmZmVyKHQpfHwodD1uZXcgdSh0KSksdS5pc0J1ZmZlcihuKXx8KG49bmV3IHUobikpLHQubGVuZ3RoPnM/dD1lKHQpOnQubGVuZ3RoPHMmJih0PXUuY29uY2F0KFt0LGFdLHMpKTtmb3IodmFyIHI9bmV3IHUocyksbz1uZXcgdShzKSxpPTA7aTxzO2krKylyW2ldPTU0XnRbaV0sb1tpXT05Ml50W2ldO3JldHVybiBuPWUodS5jb25jYXQoW3Isbl0pKSxlKHUuY29uY2F0KFtvLG5dKSl9KHIsbix0KTpyKHQpO3JldHVybiBvPW51bGwsZT90LnRvU3RyaW5nKGUpOnR9fX1mdW5jdGlvbiBpKCl7dmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oXCIgXCIpO3Rocm93IG5ldyBFcnJvcihbZSxcIndlIGFjY2VwdCBwdWxsIHJlcXVlc3RzXCIsXCJodHRwOi8vZ2l0aHViLmNvbS9kb21pbmljdGFyci9jcnlwdG8tYnJvd3NlcmlmeVwiXS5qb2luKFwiXFxuXCIpKX1hLmZpbGwoMCksXy5jcmVhdGVIYXNoPWZ1bmN0aW9uKGUpe3JldHVybiByKGUpfSxfLmNyZWF0ZUhtYWM9cixfLnJhbmRvbUJ5dGVzPWZ1bmN0aW9uKGUsdCl7aWYoIXR8fCF0LmNhbGwpcmV0dXJuIG5ldyB1KG4oZSkpO3RyeXt0LmNhbGwodGhpcyx2b2lkIDAsbmV3IHUobihlKSkpfWNhdGNoKGUpe3QoZSl9fTt2YXIgbyxmPVtcImNyZWF0ZUNyZWRlbnRpYWxzXCIsXCJjcmVhdGVDaXBoZXJcIixcImNyZWF0ZUNpcGhlcml2XCIsXCJjcmVhdGVEZWNpcGhlclwiLFwiY3JlYXRlRGVjaXBoZXJpdlwiLFwiY3JlYXRlU2lnblwiLFwiY3JlYXRlVmVyaWZ5XCIsXCJjcmVhdGVEaWZmaWVIZWxsbWFuXCIsXCJwYmtkZjJcIl0sbT1mdW5jdGlvbihlKXtfW2VdPWZ1bmN0aW9uKCl7aShcInNvcnJ5LFwiLGUsXCJpcyBub3QgaW1wbGVtZW50ZWQgeWV0XCIpfX07Zm9yKG8gaW4gZiltKGZbb10sbyl9LmNhbGwodGhpcyx2KFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sdihcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L2luZGV4LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnlcIil9LHtcIi4vbWQ1XCI6NixcIi4vcm5nXCI6NyxcIi4vc2hhXCI6OCxcIi4vc2hhMjU2XCI6OSxidWZmZXI6MyxsWXBvSTI6MTF9XSw2OltmdW5jdGlvbih3LGIsZSl7IWZ1bmN0aW9uKGUscixvLGksdSxhLGYsbCx5KXt2YXIgdD13KFwiLi9oZWxwZXJzXCIpO2Z1bmN0aW9uIG4oZSx0KXtlW3Q+PjVdfD0xMjg8PHQlMzIsZVsxNCsodCs2ND4+Pjk8PDQpXT10O2Zvcih2YXIgbj0xNzMyNTg0MTkzLHI9LTI3MTczMzg3OSxvPS0xNzMyNTg0MTk0LGk9MjcxNzMzODc4LHU9MDt1PGUubGVuZ3RoO3UrPTE2KXt2YXIgcz1uLGE9cixmPW8sbD1pLG49YyhuLHIsbyxpLGVbdSswXSw3LC02ODA4NzY5MzYpLGk9YyhpLG4scixvLGVbdSsxXSwxMiwtMzg5NTY0NTg2KSxvPWMobyxpLG4scixlW3UrMl0sMTcsNjA2MTA1ODE5KSxyPWMocixvLGksbixlW3UrM10sMjIsLTEwNDQ1MjUzMzApO249YyhuLHIsbyxpLGVbdSs0XSw3LC0xNzY0MTg4OTcpLGk9YyhpLG4scixvLGVbdSs1XSwxMiwxMjAwMDgwNDI2KSxvPWMobyxpLG4scixlW3UrNl0sMTcsLTE0NzMyMzEzNDEpLHI9YyhyLG8saSxuLGVbdSs3XSwyMiwtNDU3MDU5ODMpLG49YyhuLHIsbyxpLGVbdSs4XSw3LDE3NzAwMzU0MTYpLGk9YyhpLG4scixvLGVbdSs5XSwxMiwtMTk1ODQxNDQxNyksbz1jKG8saSxuLHIsZVt1KzEwXSwxNywtNDIwNjMpLHI9YyhyLG8saSxuLGVbdSsxMV0sMjIsLTE5OTA0MDQxNjIpLG49YyhuLHIsbyxpLGVbdSsxMl0sNywxODA0NjAzNjgyKSxpPWMoaSxuLHIsbyxlW3UrMTNdLDEyLC00MDM0MTEwMSksbz1jKG8saSxuLHIsZVt1KzE0XSwxNywtMTUwMjAwMjI5MCksbj1kKG4scj1jKHIsbyxpLG4sZVt1KzE1XSwyMiwxMjM2NTM1MzI5KSxvLGksZVt1KzFdLDUsLTE2NTc5NjUxMCksaT1kKGksbixyLG8sZVt1KzZdLDksLTEwNjk1MDE2MzIpLG89ZChvLGksbixyLGVbdSsxMV0sMTQsNjQzNzE3NzEzKSxyPWQocixvLGksbixlW3UrMF0sMjAsLTM3Mzg5NzMwMiksbj1kKG4scixvLGksZVt1KzVdLDUsLTcwMTU1ODY5MSksaT1kKGksbixyLG8sZVt1KzEwXSw5LDM4MDE2MDgzKSxvPWQobyxpLG4scixlW3UrMTVdLDE0LC02NjA0NzgzMzUpLHI9ZChyLG8saSxuLGVbdSs0XSwyMCwtNDA1NTM3ODQ4KSxuPWQobixyLG8saSxlW3UrOV0sNSw1Njg0NDY0MzgpLGk9ZChpLG4scixvLGVbdSsxNF0sOSwtMTAxOTgwMzY5MCksbz1kKG8saSxuLHIsZVt1KzNdLDE0LC0xODczNjM5NjEpLHI9ZChyLG8saSxuLGVbdSs4XSwyMCwxMTYzNTMxNTAxKSxuPWQobixyLG8saSxlW3UrMTNdLDUsLTE0NDQ2ODE0NjcpLGk9ZChpLG4scixvLGVbdSsyXSw5LC01MTQwMzc4NCksbz1kKG8saSxuLHIsZVt1KzddLDE0LDE3MzUzMjg0NzMpLG49aChuLHI9ZChyLG8saSxuLGVbdSsxMl0sMjAsLTE5MjY2MDc3MzQpLG8saSxlW3UrNV0sNCwtMzc4NTU4KSxpPWgoaSxuLHIsbyxlW3UrOF0sMTEsLTIwMjI1NzQ0NjMpLG89aChvLGksbixyLGVbdSsxMV0sMTYsMTgzOTAzMDU2Mikscj1oKHIsbyxpLG4sZVt1KzE0XSwyMywtMzUzMDk1NTYpLG49aChuLHIsbyxpLGVbdSsxXSw0LC0xNTMwOTkyMDYwKSxpPWgoaSxuLHIsbyxlW3UrNF0sMTEsMTI3Mjg5MzM1Myksbz1oKG8saSxuLHIsZVt1KzddLDE2LC0xNTU0OTc2MzIpLHI9aChyLG8saSxuLGVbdSsxMF0sMjMsLTEwOTQ3MzA2NDApLG49aChuLHIsbyxpLGVbdSsxM10sNCw2ODEyNzkxNzQpLGk9aChpLG4scixvLGVbdSswXSwxMSwtMzU4NTM3MjIyKSxvPWgobyxpLG4scixlW3UrM10sMTYsLTcyMjUyMTk3OSkscj1oKHIsbyxpLG4sZVt1KzZdLDIzLDc2MDI5MTg5KSxuPWgobixyLG8saSxlW3UrOV0sNCwtNjQwMzY0NDg3KSxpPWgoaSxuLHIsbyxlW3UrMTJdLDExLC00MjE4MTU4MzUpLG89aChvLGksbixyLGVbdSsxNV0sMTYsNTMwNzQyNTIwKSxuPXAobixyPWgocixvLGksbixlW3UrMl0sMjMsLTk5NTMzODY1MSksbyxpLGVbdSswXSw2LC0xOTg2MzA4NDQpLGk9cChpLG4scixvLGVbdSs3XSwxMCwxMTI2ODkxNDE1KSxvPXAobyxpLG4scixlW3UrMTRdLDE1LC0xNDE2MzU0OTA1KSxyPXAocixvLGksbixlW3UrNV0sMjEsLTU3NDM0MDU1KSxuPXAobixyLG8saSxlW3UrMTJdLDYsMTcwMDQ4NTU3MSksaT1wKGksbixyLG8sZVt1KzNdLDEwLC0xODk0OTg2NjA2KSxvPXAobyxpLG4scixlW3UrMTBdLDE1LC0xMDUxNTIzKSxyPXAocixvLGksbixlW3UrMV0sMjEsLTIwNTQ5MjI3OTkpLG49cChuLHIsbyxpLGVbdSs4XSw2LDE4NzMzMTMzNTkpLGk9cChpLG4scixvLGVbdSsxNV0sMTAsLTMwNjExNzQ0KSxvPXAobyxpLG4scixlW3UrNl0sMTUsLTE1NjAxOTgzODApLHI9cChyLG8saSxuLGVbdSsxM10sMjEsMTMwOTE1MTY0OSksbj1wKG4scixvLGksZVt1KzRdLDYsLTE0NTUyMzA3MCksaT1wKGksbixyLG8sZVt1KzExXSwxMCwtMTEyMDIxMDM3OSksbz1wKG8saSxuLHIsZVt1KzJdLDE1LDcxODc4NzI1OSkscj1wKHIsbyxpLG4sZVt1KzldLDIxLC0zNDM0ODU1NTEpLG49ZyhuLHMpLHI9ZyhyLGEpLG89ZyhvLGYpLGk9ZyhpLGwpfXJldHVybiBBcnJheShuLHIsbyxpKX1mdW5jdGlvbiBzKGUsdCxuLHIsbyxpKXtyZXR1cm4gZygodD1nKGcodCxlKSxnKHIsaSkpKTw8b3x0Pj4+MzItbyxuKX1mdW5jdGlvbiBjKGUsdCxuLHIsbyxpLHUpe3JldHVybiBzKHQmbnx+dCZyLGUsdCxvLGksdSl9ZnVuY3Rpb24gZChlLHQsbixyLG8saSx1KXtyZXR1cm4gcyh0JnJ8biZ+cixlLHQsbyxpLHUpfWZ1bmN0aW9uIGgoZSx0LG4scixvLGksdSl7cmV0dXJuIHModF5uXnIsZSx0LG8saSx1KX1mdW5jdGlvbiBwKGUsdCxuLHIsbyxpLHUpe3JldHVybiBzKG5eKHR8fnIpLGUsdCxvLGksdSl9ZnVuY3Rpb24gZyhlLHQpe3ZhciBuPSg2NTUzNSZlKSsoNjU1MzUmdCk7cmV0dXJuKGU+PjE2KSsodD4+MTYpKyhuPj4xNik8PDE2fDY1NTM1Jm59Yi5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB0Lmhhc2goZSxuLDE2KX19LmNhbGwodGhpcyx3KFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sdyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L21kNS5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7XCIuL2hlbHBlcnNcIjo0LGJ1ZmZlcjozLGxZcG9JMjoxMX1dLDc6W2Z1bmN0aW9uKGUsbCx0KXshZnVuY3Rpb24oZSx0LG4scixvLGksdSxzLGYpe3ZhciBhO2wuZXhwb3J0cz1hfHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbj1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspMD09KDMmcikmJih0PTQyOTQ5NjcyOTYqTWF0aC5yYW5kb20oKSksbltyXT10Pj4+KCgzJnIpPDwzKSYyNTU7cmV0dXJuIG59fS5jYWxsKHRoaXMsZShcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGUoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ybmcuanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeVwiKX0se2J1ZmZlcjozLGxZcG9JMjoxMX1dLDg6W2Z1bmN0aW9uKGMsZCxlKXshZnVuY3Rpb24oZSx0LG4scixvLHMsYSxmLGwpe3ZhciBpPWMoXCIuL2hlbHBlcnNcIik7ZnVuY3Rpb24gdShsLGMpe2xbYz4+NV18PTEyODw8MjQtYyUzMixsWzE1KyhjKzY0Pj45PDw0KV09Yztmb3IodmFyIGUsdCxuLHI9QXJyYXkoODApLG89MTczMjU4NDE5MyxpPS0yNzE3MzM4NzksdT0tMTczMjU4NDE5NCxzPTI3MTczMzg3OCxkPS0xMDA5NTg5Nzc2LGg9MDtoPGwubGVuZ3RoO2grPTE2KXtmb3IodmFyIHA9byxnPWkseT11LHc9cyxiPWQsYT0wO2E8ODA7YSsrKXtyW2FdPWE8MTY/bFtoK2FdOnYoclthLTNdXnJbYS04XV5yW2EtMTRdXnJbYS0xNl0sMSk7dmFyIGY9bShtKHYobyw1KSwoZj1pLHQ9dSxuPXMsKGU9YSk8MjA/ZiZ0fH5mJm46IShlPDQwKSYmZTw2MD9mJnR8ZiZufHQmbjpmXnRebikpLG0obShkLHJbYV0pLChlPWEpPDIwPzE1MTg1MDAyNDk6ZTw0MD8xODU5Nzc1MzkzOmU8NjA/LTE4OTQwMDc1ODg6LTg5OTQ5NzUxNCkpLGQ9cyxzPXUsdT12KGksMzApLGk9byxvPWZ9bz1tKG8scCksaT1tKGksZyksdT1tKHUseSkscz1tKHMsdyksZD1tKGQsYil9cmV0dXJuIEFycmF5KG8saSx1LHMsZCl9ZnVuY3Rpb24gbShlLHQpe3ZhciBuPSg2NTUzNSZlKSsoNjU1MzUmdCk7cmV0dXJuKGU+PjE2KSsodD4+MTYpKyhuPj4xNik8PDE2fDY1NTM1Jm59ZnVuY3Rpb24gdihlLHQpe3JldHVybiBlPDx0fGU+Pj4zMi10fWQuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaS5oYXNoKGUsdSwyMCwhMCl9fS5jYWxsKHRoaXMsYyhcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGMoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9zaGEuanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeVwiKX0se1wiLi9oZWxwZXJzXCI6NCxidWZmZXI6MyxsWXBvSTI6MTF9XSw5OltmdW5jdGlvbihjLGQsZSl7IWZ1bmN0aW9uKGUsdCxuLHIsdSxzLGEsZixsKXtmdW5jdGlvbiBiKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1mdW5jdGlvbiBvKGUsbCl7dmFyIGMsZD1uZXcgQXJyYXkoMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4KSx0PW5ldyBBcnJheSgxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNSksbj1uZXcgQXJyYXkoNjQpO2VbbD4+NV18PTEyODw8MjQtbCUzMixlWzE1KyhsKzY0Pj45PDw0KV09bDtmb3IodmFyIHIsbyxoPTA7aDxlLmxlbmd0aDtoKz0xNil7Zm9yKHZhciBpPXRbMF0sdT10WzFdLHM9dFsyXSxwPXRbM10sYT10WzRdLGc9dFs1XSx5PXRbNl0sdz10WzddLGY9MDtmPDY0O2YrKyluW2ZdPWY8MTY/ZVtmK2hdOmIoYihiKChvPW5bZi0yXSxtKG8sMTcpXm0obywxOSledihvLDEwKSksbltmLTddKSwobz1uW2YtMTVdLG0obyw3KV5tKG8sMTgpXnYobywzKSkpLG5bZi0xNl0pLGM9YihiKGIoYih3LG0obz1hLDYpXm0obywxMSlebShvLDI1KSksYSZnXn5hJnkpLGRbZl0pLG5bZl0pLHI9YihtKHI9aSwyKV5tKHIsMTMpXm0ociwyMiksaSZ1Xmkmc151JnMpLHc9eSx5PWcsZz1hLGE9YihwLGMpLHA9cyxzPXUsdT1pLGk9YihjLHIpO3RbMF09YihpLHRbMF0pLHRbMV09Yih1LHRbMV0pLHRbMl09YihzLHRbMl0pLHRbM109YihwLHRbM10pLHRbNF09YihhLHRbNF0pLHRbNV09YihnLHRbNV0pLHRbNl09Yih5LHRbNl0pLHRbN109Yih3LHRbN10pfXJldHVybiB0fXZhciBpPWMoXCIuL2hlbHBlcnNcIiksbT1mdW5jdGlvbihlLHQpe3JldHVybiBlPj4+dHxlPDwzMi10fSx2PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj50fTtkLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuaGFzaChlLG8sMzIsITApfX0uY2FsbCh0aGlzLGMoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxjKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvc2hhMjU2LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnlcIil9LHtcIi4vaGVscGVyc1wiOjQsYnVmZmVyOjMsbFlwb0kyOjExfV0sMTA6W2Z1bmN0aW9uKGUsdCxmKXshZnVuY3Rpb24oZSx0LG4scixvLGksdSxzLGEpe2YucmVhZD1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLHUsbD04Km8tci0xLGM9KDE8PGwpLTEsZD1jPj4xLHM9LTcsYT1uP28tMTowLGY9bj8tMToxLG89ZVt0K2FdO2ZvcihhKz1mLGk9byYoMTw8LXMpLTEsbz4+PS1zLHMrPWw7MDxzO2k9MjU2KmkrZVt0K2FdLGErPWYscy09OCk7Zm9yKHU9aSYoMTw8LXMpLTEsaT4+PS1zLHMrPXI7MDxzO3U9MjU2KnUrZVt0K2FdLGErPWYscy09OCk7aWYoMD09PWkpaT0xLWQ7ZWxzZXtpZihpPT09YylyZXR1cm4gdT9OYU46MS8wKihvPy0xOjEpO3UrPU1hdGgucG93KDIsciksaS09ZH1yZXR1cm4obz8tMToxKSp1Kk1hdGgucG93KDIsaS1yKX0sZi53cml0ZT1mdW5jdGlvbihlLHQsbCxuLHIsYyl7dmFyIG8saSx1PTgqYy1yLTEscz0oMTw8dSktMSxhPXM+PjEsZD0yMz09PXI/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGY9bj8wOmMtMSxoPW4/MTotMSxjPXQ8MHx8MD09PXQmJjEvdDwwPzE6MDtmb3IodD1NYXRoLmFicyh0KSxpc05hTih0KXx8dD09PTEvMD8oaT1pc05hTih0KT8xOjAsbz1zKToobz1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSx0KihuPU1hdGgucG93KDIsLW8pKTwxJiYoby0tLG4qPTIpLDI8PSh0Kz0xPD1vK2E/ZC9uOmQqTWF0aC5wb3coMiwxLWEpKSpuJiYobysrLG4vPTIpLHM8PW8rYT8oaT0wLG89cyk6MTw9bythPyhpPSh0Km4tMSkqTWF0aC5wb3coMixyKSxvKz1hKTooaT10Kk1hdGgucG93KDIsYS0xKSpNYXRoLnBvdygyLHIpLG89MCkpOzg8PXI7ZVtsK2ZdPTI1NSZpLGYrPWgsaS89MjU2LHItPTgpO2ZvcihvPW88PHJ8aSx1Kz1yOzA8dTtlW2wrZl09MjU1Jm8sZis9aCxvLz0yNTYsdS09OCk7ZVtsK2YtaF18PTEyOCpjfX0uY2FsbCh0aGlzLGUoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxlKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2llZWU3NTRcIil9LHtidWZmZXI6MyxsWXBvSTI6MTF9XSwxMTpbZnVuY3Rpb24oZSxoLHQpeyFmdW5jdGlvbihlLHQsbixyLG8sZixsLGMsZCl7dmFyIGksdSxzO2Z1bmN0aW9uIGEoKXt9KGU9aC5leHBvcnRzPXt9KS5uZXh0VGljaz0odT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuc2V0SW1tZWRpYXRlLHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LnBvc3RNZXNzYWdlJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcix1P2Z1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cuc2V0SW1tZWRpYXRlKGUpfTpzPyhpPVtdLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc291cmNlO3QhPT13aW5kb3cmJm51bGwhPT10fHxcInByb2Nlc3MtdGlja1wiIT09ZS5kYXRhfHwoZS5zdG9wUHJvcGFnYXRpb24oKSwwPGkubGVuZ3RoJiZpLnNoaWZ0KCkoKSl9LCEwKSxmdW5jdGlvbihlKXtpLnB1c2goZSksd2luZG93LnBvc3RNZXNzYWdlKFwicHJvY2Vzcy10aWNrXCIsXCIqXCIpfSk6ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDApfSksZS50aXRsZT1cImJyb3dzZXJcIixlLmJyb3dzZXI9ITAsZS5lbnY9e30sZS5hcmd2PVtdLGUub249YSxlLmFkZExpc3RlbmVyPWEsZS5vbmNlPWEsZS5vZmY9YSxlLnJlbW92ZUxpc3RlbmVyPWEsZS5yZW1vdmVBbGxMaXN0ZW5lcnM9YSxlLmVtaXQ9YSxlLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGUuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGUuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfX0uY2FsbCh0aGlzLGUoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxlKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzc1wiKX0se2J1ZmZlcjozLGxZcG9JMjoxMX1dfSx7fSxbMV0pKDEpfSk7IiwgImltcG9ydCBoYXNoIGZyb20gXCJvYmplY3QtaGFzaFwiO1xuLyoqXG4gKiBUaGlzIGNhY2hlIGtleSBzaG91bGQgYmUgY29uc2lzdGVudCBhY3Jvc3MgYWxsIHZlcnNpb25zIG9mIGxhbmdjaGFpbi5cbiAqIEl0IGlzIGN1cnJlbnRseSBOT1QgY29uc2lzdGVudCBhY3Jvc3MgdmVyc2lvbnMgb2YgbGFuZ2NoYWluLlxuICpcbiAqIEEgaHVnZSBiZW5lZml0IG9mIGhhdmluZyBhIHJlbW90ZSBjYWNoZSAobGlrZSByZWRpcykgaXMgdGhhdCB5b3UgY2FuXG4gKiBhY2Nlc3MgdGhlIGNhY2hlIGZyb20gZGlmZmVyZW50IHByb2Nlc3Nlcy9tYWNoaW5lcy4gVGhlIGFsbG93cyB5b3UgdG9cbiAqIHNlcGVyYXRlIGNvbmNlcm5zIGFuZCBzY2FsZSBob3Jpem9udGFsbHkuXG4gKlxuICogVE9ETzogTWFrZSBjYWNoZSBrZXkgY29uc2lzdGVudCBhY3Jvc3MgdmVyc2lvbnMgb2YgbGFuZ2NoYWluLlxuICovXG5leHBvcnQgY29uc3QgZ2V0Q2FjaGVLZXkgPSAoLi4uc3RyaW5ncykgPT4gaGFzaChzdHJpbmdzLmpvaW4oXCJfXCIpKTtcbiIsICJpbXBvcnQgeyBnZXRDYWNoZUtleSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IEJhc2VDYWNoZSB9IGZyb20gXCIuLi9zY2hlbWEvaW5kZXguanNcIjtcbmNvbnN0IEdMT0JBTF9NQVAgPSBuZXcgTWFwKCk7XG5leHBvcnQgY2xhc3MgSW5NZW1vcnlDYWNoZSBleHRlbmRzIEJhc2VDYWNoZSB7XG4gICAgY29uc3RydWN0b3IobWFwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhY2hlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBtYXAgPz8gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBsb29rdXAocHJvbXB0LCBsbG1LZXkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNhY2hlLmdldChnZXRDYWNoZUtleShwcm9tcHQsIGxsbUtleSkpID8/IG51bGwpO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGUocHJvbXB0LCBsbG1LZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY2FjaGUuc2V0KGdldENhY2hlS2V5KHByb21wdCwgbGxtS2V5KSwgdmFsdWUpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2xvYmFsKCkge1xuICAgICAgICByZXR1cm4gbmV3IEluTWVtb3J5Q2FjaGUoR0xPQkFMX01BUCk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEluTWVtb3J5Q2FjaGUgfSBmcm9tIFwiLi4vY2FjaGUvaW5kZXguanNcIjtcbmltcG9ydCB7IEFJQ2hhdE1lc3NhZ2UsIFJVTl9LRVksIH0gZnJvbSBcIi4uL3NjaGVtYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgQmFzZUxhbmd1YWdlTW9kZWwsIH0gZnJvbSBcIi4uL2Jhc2VfbGFuZ3VhZ2UvaW5kZXguanNcIjtcbmltcG9ydCB7IENhbGxiYWNrTWFuYWdlciwgfSBmcm9tIFwiLi4vY2FsbGJhY2tzL21hbmFnZXIuanNcIjtcbmltcG9ydCB7IGdldEJ1ZmZlclN0cmluZyB9IGZyb20gXCIuLi9tZW1vcnkvYmFzZS5qc1wiO1xuLyoqXG4gKiBMTE0gV3JhcHBlci4gUHJvdmlkZXMgYW4ge0BsaW5rIGNhbGx9IChhbiB7QGxpbmsgZ2VuZXJhdGV9KSBmdW5jdGlvbiB0aGF0IHRha2VzIGluIGEgcHJvbXB0IChvciBwcm9tcHRzKSBhbmQgcmV0dXJucyBhIHN0cmluZy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VMTE0gZXh0ZW5kcyBCYXNlTGFuZ3VhZ2VNb2RlbCB7XG4gICAgY29uc3RydWN0b3IoeyBjYWNoZSwgY29uY3VycmVuY3ksIC4uLnJlc3QgfSkge1xuICAgICAgICBzdXBlcihjb25jdXJyZW5jeSA/IHsgbWF4Q29uY3VycmVuY3k6IGNvbmN1cnJlbmN5LCAuLi5yZXN0IH0gOiByZXN0KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FjaGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWNoZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdGhpcy5jYWNoZSA9IGNhY2hlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlID0gSW5NZW1vcnlDYWNoZS5nbG9iYWwoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZ2VuZXJhdGVQcm9tcHQocHJvbXB0VmFsdWVzLCBvcHRpb25zLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgcHJvbXB0cyA9IHByb21wdFZhbHVlcy5tYXAoKHByb21wdFZhbHVlKSA9PiBwcm9tcHRWYWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwYXJhbWV0ZXJzIHVzZWQgdG8gaW52b2tlIHRoZSBtb2RlbFxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgaW52b2NhdGlvblBhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9nZW5lcmF0ZVVuY2FjaGVkKHByb21wdHMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShjYWxsYmFja3MsIHRoaXMuY2FsbGJhY2tzLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcbiAgICAgICAgY29uc3QgaW52b2NhdGlvblBhcmFtcyA9IHsgaW52b2NhdGlvbl9wYXJhbXM6IHRoaXM/Lmludm9jYXRpb25QYXJhbXMoKSB9O1xuICAgICAgICBjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlTExNU3RhcnQoeyBuYW1lOiB0aGlzLl9sbG1UeXBlKCkgfSwgcHJvbXB0cywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGludm9jYXRpb25QYXJhbXMpO1xuICAgICAgICBsZXQgb3V0cHV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0cHV0ID0gYXdhaXQgdGhpcy5fZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgcnVuTWFuYWdlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlTExNRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVMTE1FbmQob3V0cHV0KTtcbiAgICAgICAgLy8gVGhpcyBkZWZpbmVzIFJVTl9LRVkgYXMgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiB0aGUgb3V0cHV0IG9iamVjdFxuICAgICAgICAvLyBzbyB0aGF0IGl0IGlzIG5vdCBzZXJpYWxpemVkIHdoZW4gdGhlIG91dHB1dCBpcyBzdHJpbmdpZmllZCwgYW5kIHNvIHRoYXRcbiAgICAgICAgLy8gaXQgaXNudCBpbmNsdWRlZCB3aGVuIGxpc3RpbmcgdGhlIGtleXMgb2YgdGhlIG91dHB1dCBvYmplY3QuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvdXRwdXQsIFJVTl9LRVksIHtcbiAgICAgICAgICAgIHZhbHVlOiBydW5NYW5hZ2VyID8geyBydW5JZDogcnVuTWFuYWdlcj8ucnVuSWQgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJ1biB0aGUgTExNIG9uIHRoZSBnaXZlbiBwcm9wbXRzIGFuIGlucHV0LCBoYW5kbGluZyBjYWNoaW5nLlxuICAgICAqL1xuICAgIGFzeW5jIGdlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvbXB0cykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50ICdwcm9tcHRzJyBpcyBleHBlY3RlZCB0byBiZSBhIHN0cmluZ1tdXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXJzZWRPcHRpb25zO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkge1xuICAgICAgICAgICAgcGFyc2VkT3B0aW9ucyA9IHsgc3RvcDogb3B0aW9ucyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnM/LnRpbWVvdXQgJiYgIW9wdGlvbnMuc2lnbmFsKSB7XG4gICAgICAgICAgICBwYXJzZWRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KG9wdGlvbnMudGltZW91dCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VkT3B0aW9ucyA9IG9wdGlvbnMgPz8ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2VuZXJhdGVVbmNhY2hlZChwcm9tcHRzLCBwYXJzZWRPcHRpb25zLCBjYWxsYmFja3MpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgY2FjaGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuc2VyaWFsaXplKCk7XG4gICAgICAgIHBhcmFtcy5zdG9wID0gcGFyc2VkT3B0aW9ucy5zdG9wID8/IHBhcmFtcy5zdG9wO1xuICAgICAgICBjb25zdCBsbG1TdHJpbmdLZXkgPSBgJHtPYmplY3QuZW50cmllcyhwYXJhbXMpLnNvcnQoKX1gO1xuICAgICAgICBjb25zdCBtaXNzaW5nUHJvbXB0SW5kaWNlcyA9IFtdO1xuICAgICAgICBjb25zdCBnZW5lcmF0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21wdHMubWFwKGFzeW5jIChwcm9tcHQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYWNoZS5sb29rdXAocHJvbXB0LCBsbG1TdHJpbmdLZXkpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBtaXNzaW5nUHJvbXB0SW5kaWNlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pKTtcbiAgICAgICAgbGV0IGxsbU91dHB1dCA9IHt9O1xuICAgICAgICBpZiAobWlzc2luZ1Byb21wdEluZGljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuX2dlbmVyYXRlVW5jYWNoZWQobWlzc2luZ1Byb21wdEluZGljZXMubWFwKChpKSA9PiBwcm9tcHRzW2ldKSwgcGFyc2VkT3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJlc3VsdHMuZ2VuZXJhdGlvbnMubWFwKGFzeW5jIChnZW5lcmF0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb21wdEluZGV4ID0gbWlzc2luZ1Byb21wdEluZGljZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRpb25zW3Byb21wdEluZGV4XSA9IGdlbmVyYXRpb247XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlLnVwZGF0ZShwcm9tcHRzW3Byb21wdEluZGV4XSwgbGxtU3RyaW5nS2V5LCBnZW5lcmF0aW9uKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGxsbU91dHB1dCA9IHJlc3VsdHMubGxtT3V0cHV0ID8/IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGdlbmVyYXRpb25zLCBsbG1PdXRwdXQgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2Ugd3JhcHBlciBmb3Ige0BsaW5rIGdlbmVyYXRlfSB0aGF0IHRha2VzIGluIGEgc2luZ2xlIHN0cmluZyBwcm9tcHQgYW5kIHJldHVybnMgYSBzaW5nbGUgc3RyaW5nIG91dHB1dC5cbiAgICAgKi9cbiAgICBhc3luYyBjYWxsKHByb21wdCwgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHsgZ2VuZXJhdGlvbnMgfSA9IGF3YWl0IHRoaXMuZ2VuZXJhdGUoW3Byb21wdF0sIG9wdGlvbnMgPz8ge30sIGNhbGxiYWNrcyk7XG4gICAgICAgIHJldHVybiBnZW5lcmF0aW9uc1swXVswXS50ZXh0O1xuICAgIH1cbiAgICBhc3luYyBwcmVkaWN0KHRleHQsIG9wdGlvbnMsIGNhbGxiYWNrcykge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKHRleHQsIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgfVxuICAgIGFzeW5jIHByZWRpY3RNZXNzYWdlcyhtZXNzYWdlcywgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBnZXRCdWZmZXJTdHJpbmcobWVzc2FnZXMpO1xuICAgICAgICBjb25zdCBwcmVkaWN0aW9uID0gYXdhaXQgdGhpcy5jYWxsKHRleHQsIG9wdGlvbnMsIGNhbGxiYWNrcyk7XG4gICAgICAgIHJldHVybiBuZXcgQUlDaGF0TWVzc2FnZShwcmVkaWN0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZGVudGlmeWluZyBwYXJhbWV0ZXJzIG9mIHRoZSBMTE0uXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBfaWRlbnRpZnlpbmdQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEganNvbi1saWtlIG9iamVjdCByZXByZXNlbnRpbmcgdGhpcyBMTE0uXG4gICAgICovXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udGhpcy5faWRlbnRpZnlpbmdQYXJhbXMoKSxcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9sbG1UeXBlKCksXG4gICAgICAgICAgICBfbW9kZWw6IHRoaXMuX21vZGVsVHlwZSgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfbW9kZWxUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJiYXNlX2xsbVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIGFuIExMTSBmcm9tIGEganNvbi1saWtlIG9iamVjdCBkZXNjcmliaW5nIGl0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgX3R5cGUsIF9tb2RlbCwgLi4ucmVzdCB9ID0gZGF0YTtcbiAgICAgICAgaWYgKF9tb2RlbCAmJiBfbW9kZWwgIT09IFwiYmFzZV9sbG1cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgbG9hZCBMTE0gd2l0aCBtb2RlbCAke19tb2RlbH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBDbHMgPSB7XG4gICAgICAgICAgICBvcGVuYWk6IChhd2FpdCBpbXBvcnQoXCIuL29wZW5haS5qc1wiKSkuT3BlbkFJLFxuICAgICAgICB9W190eXBlXTtcbiAgICAgICAgaWYgKENscyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBsb2FkICBMTE0gd2l0aCB0eXBlICR7X3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDbHMocmVzdCk7XG4gICAgfVxufVxuLyoqXG4gKiBMTE0gY2xhc3MgdGhhdCBwcm92aWRlcyBhIHNpbXBsZXIgaW50ZXJmYWNlIHRvIHN1YmNsYXNzIHRoYW4ge0BsaW5rIEJhc2VMTE19LlxuICpcbiAqIFJlcXVpcmVzIG9ubHkgaW1wbGVtZW50aW5nIGEgc2ltcGxlciB7QGxpbmsgX2NhbGx9IG1ldGhvZCBpbnN0ZWFkIG9mIHtAbGluayBfZ2VuZXJhdGV9LlxuICpcbiAqIEBhdWdtZW50cyBCYXNlTExNXG4gKi9cbmV4cG9ydCBjbGFzcyBMTE0gZXh0ZW5kcyBCYXNlTExNIHtcbiAgICBhc3luYyBfZ2VuZXJhdGUocHJvbXB0cywgb3B0aW9ucywgcnVuTWFuYWdlcikge1xuICAgICAgICBjb25zdCBnZW5lcmF0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21wdHMubWFwKChwcm9tcHQpID0+IHRoaXMuX2NhbGwocHJvbXB0LCBvcHRpb25zLCBydW5NYW5hZ2VyKS50aGVuKCh0ZXh0KSA9PiBbeyB0ZXh0IH1dKSkpO1xuICAgICAgICByZXR1cm4geyBnZW5lcmF0aW9ucyB9O1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBDb25maWd1cmF0aW9uLCBPcGVuQUlBcGksIH0gZnJvbSBcIm9wZW5haVwiO1xuaW1wb3J0IHsgaXNOb2RlLCBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgZmV0Y2hBZGFwdGVyIGZyb20gXCIuLi91dGlsL2F4aW9zLWZldGNoLWFkYXB0ZXIuanNcIjtcbmltcG9ydCB7IExMTSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IHByb21wdExheWVyVHJhY2tSZXF1ZXN0IH0gZnJvbSBcIi4uL3V0aWwvcHJvbXB0LWxheWVyLmpzXCI7XG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIE9wZW5BSSBsYXJnZSBsYW5ndWFnZSBtb2RlbHMgdGhhdCB1c2UgdGhlIENoYXQgZW5kcG9pbnQuXG4gKlxuICogVG8gdXNlIHlvdSBzaG91bGQgaGF2ZSB0aGUgYG9wZW5haWAgcGFja2FnZSBpbnN0YWxsZWQsIHdpdGggdGhlXG4gKiBgT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBBenVyZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuICogYEFaVVJFX09QRU5BSV9BUElfS0VZYCxcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0lOU1RBTkNFX05BTUVgLFxuICogYEFaVVJFX09QRU5BSV9BUElfREVQTE9ZTUVOVF9OQU1FYFxuICogYW5kIGBBWlVSRV9PUEVOQUlfQVBJX1ZFUlNJT05gIGVudmlyb25tZW50IHZhcmlhYmxlIHNldC5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgdmFsaWQgdG8gYmUgcGFzc2VkIHRvIHtAbGlua1xuICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jaGF0L2NyZWF0ZSB8XG4gKiBgb3BlbmFpLmNyZWF0ZUNvbXBsZXRpb25gfSBjYW4gYmUgcGFzc2VkIHRocm91Z2gge0BsaW5rIG1vZGVsS3dhcmdzfSwgZXZlblxuICogaWYgbm90IGV4cGxpY2l0bHkgYXZhaWxhYmxlIG9uIHRoaXMgY2xhc3MuXG4gKlxuICogQGF1Z21lbnRzIEJhc2VMTE1cbiAqIEBhdWdtZW50cyBPcGVuQUlJbnB1dFxuICogQGF1Z21lbnRzIEF6dXJlT3BlbkFJQ2hhdElucHV0XG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUlDaGF0IGV4dGVuZHMgTExNIHtcbiAgICBnZXQgY2FsbEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbXCJzdG9wXCIsIFwic2lnbmFsXCIsIFwidGltZW91dFwiLCBcIm9wdGlvbnNcIl07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgY29uZmlndXJhdGlvbikge1xuICAgICAgICBzdXBlcihmaWVsZHMgPz8ge30pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZW1wZXJhdHVyZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9wUFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZnJlcXVlbmN5UGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJlc2VuY2VQZW5hbHR5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAxXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsb2dpdEJpYXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4VG9rZW5zXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJncHQtMy41LXR1cmJvXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByZWZpeE1lc3NhZ2VzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1vZGVsS3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRpbWVvdXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RvcFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJlYW1pbmdcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhenVyZU9wZW5BSUFwaVZlcnNpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50Q29uZmlnXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGFwaUtleSA9IGZpZWxkcz8ub3BlbkFJQXBpS2V5ID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgY29uc3QgYXp1cmVBcGlLZXkgPSBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpS2V5ID8/XG4gICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIGlmICghYXp1cmVBcGlLZXkgJiYgIWFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiKEF6dXJlKSBPcGVuQUkgQVBJIGtleSBub3QgZm91bmRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXp1cmVBcGlJbnN0YW5jZU5hbWUgPSBmaWVsZHM/LmF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lID8/XG4gICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FXCIpO1xuICAgICAgICBjb25zdCBhenVyZUFwaURlcGxveW1lbnROYW1lID0gZmllbGRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lID8/XG4gICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9ERVBMT1lNRU5UX05BTUVcIik7XG4gICAgICAgIGNvbnN0IGF6dXJlQXBpVmVyc2lvbiA9IGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlWZXJzaW9uID8/XG4gICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OXCIpO1xuICAgICAgICB0aGlzLm1vZGVsTmFtZSA9IGZpZWxkcz8ubW9kZWxOYW1lID8/IHRoaXMubW9kZWxOYW1lO1xuICAgICAgICB0aGlzLnByZWZpeE1lc3NhZ2VzID0gZmllbGRzPy5wcmVmaXhNZXNzYWdlcyA/PyB0aGlzLnByZWZpeE1lc3NhZ2VzO1xuICAgICAgICB0aGlzLm1vZGVsS3dhcmdzID0gZmllbGRzPy5tb2RlbEt3YXJncyA/PyB7fTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gZmllbGRzPy50aW1lb3V0O1xuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gZmllbGRzPy50ZW1wZXJhdHVyZSA/PyB0aGlzLnRlbXBlcmF0dXJlO1xuICAgICAgICB0aGlzLnRvcFAgPSBmaWVsZHM/LnRvcFAgPz8gdGhpcy50b3BQO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeVBlbmFsdHkgPSBmaWVsZHM/LmZyZXF1ZW5jeVBlbmFsdHkgPz8gdGhpcy5mcmVxdWVuY3lQZW5hbHR5O1xuICAgICAgICB0aGlzLnByZXNlbmNlUGVuYWx0eSA9IGZpZWxkcz8ucHJlc2VuY2VQZW5hbHR5ID8/IHRoaXMucHJlc2VuY2VQZW5hbHR5O1xuICAgICAgICB0aGlzLm4gPSBmaWVsZHM/Lm4gPz8gdGhpcy5uO1xuICAgICAgICB0aGlzLmxvZ2l0QmlhcyA9IGZpZWxkcz8ubG9naXRCaWFzO1xuICAgICAgICB0aGlzLm1heFRva2VucyA9IGZpZWxkcz8ubWF4VG9rZW5zO1xuICAgICAgICB0aGlzLnN0b3AgPSBmaWVsZHM/LnN0b3A7XG4gICAgICAgIHRoaXMuc3RyZWFtaW5nID0gZmllbGRzPy5zdHJlYW1pbmcgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uID0gYXp1cmVBcGlWZXJzaW9uO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ID0gYXp1cmVBcGlLZXk7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPSBhenVyZUFwaUluc3RhbmNlTmFtZTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lID0gYXp1cmVBcGlEZXBsb3ltZW50TmFtZTtcbiAgICAgICAgaWYgKHRoaXMuc3RyZWFtaW5nICYmIHRoaXMubiA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzdHJlYW0gcmVzdWx0cyB3aGVuIG4gPiAxXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGluc3RhbmNlIG5hbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIGRlcGxveW1lbnQgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXp1cmUgT3BlbkFJIEFQSSB2ZXJzaW9uIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsaWVudENvbmZpZyA9IHtcbiAgICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICAgIC4uLmNvbmZpZ3VyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGFyYW1ldGVycyB1c2VkIHRvIGludm9rZSB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpbnZvY2F0aW9uUGFyYW1zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgdGVtcGVyYXR1cmU6IHRoaXMudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICB0b3BfcDogdGhpcy50b3BQLFxuICAgICAgICAgICAgZnJlcXVlbmN5X3BlbmFsdHk6IHRoaXMuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgIHByZXNlbmNlX3BlbmFsdHk6IHRoaXMucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgbjogdGhpcy5uLFxuICAgICAgICAgICAgbG9naXRfYmlhczogdGhpcy5sb2dpdEJpYXMsXG4gICAgICAgICAgICBtYXhfdG9rZW5zOiB0aGlzLm1heFRva2VucyA9PT0gLTEgPyB1bmRlZmluZWQgOiB0aGlzLm1heFRva2VucyxcbiAgICAgICAgICAgIHN0b3A6IHRoaXMuc3RvcCxcbiAgICAgICAgICAgIHN0cmVhbTogdGhpcy5zdHJlYW1pbmcsXG4gICAgICAgICAgICAuLi50aGlzLm1vZGVsS3dhcmdzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9pZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsX25hbWU6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZGVudGlmeWluZyBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICBpZGVudGlmeWluZ1BhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsX25hbWU6IHRoaXMubW9kZWxOYW1lLFxuICAgICAgICAgICAgLi4udGhpcy5pbnZvY2F0aW9uUGFyYW1zKCksXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZm9ybWF0TWVzc2FnZXMocHJvbXB0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IHByb21wdCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZml4TWVzc2FnZXMgPyBbLi4udGhpcy5wcmVmaXhNZXNzYWdlcywgbWVzc2FnZV0gOiBbbWVzc2FnZV07XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwocHJvbXB0LCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHsgc3RvcCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5pbnZvY2F0aW9uUGFyYW1zKCk7XG4gICAgICAgIHBhcmFtcy5zdG9wID0gc3RvcCA/PyBwYXJhbXMuc3RvcDtcbiAgICAgICAgY29uc3QgZGF0YSA9IHBhcmFtcy5zdHJlYW1cbiAgICAgICAgICAgID8gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZTtcbiAgICAgICAgICAgICAgICBsZXQgcmVqZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgcmVzb2x2ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiB0aGlzLmZvcm1hdE1lc3NhZ2VzKHByb21wdCksXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGFkYXB0ZXI6IGZldGNoQWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiBcInN0cmVhbVwiLFxuICAgICAgICAgICAgICAgICAgICBvbm1lc3NhZ2U6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGE/LnRyaW0/LigpID09PSBcIltET05FXVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIGZpcnN0IG1lc3NhZ2Ugc2V0IHRoZSByZXNwb25zZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBtZXNzYWdlLm9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IG1lc3NhZ2UuY3JlYXRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiBtZXNzYWdlLm1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uIGFsbCBtZXNzYWdlcywgdXBkYXRlIGNob2ljZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBtZXNzYWdlLmNob2ljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNob2ljZSA9IHJlc3BvbnNlLmNob2ljZXMuZmluZCgoYykgPT4gYy5pbmRleCA9PT0gcGFydC5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNob2ljZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHBhcnQuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaF9yZWFzb246IHBhcnQuZmluaXNoX3JlYXNvbiA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5jaG9pY2VzLnB1c2goY2hvaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2hvaWNlLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogcGFydC5kZWx0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPy5yb2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBwYXJ0LmRlbHRhPy5jb250ZW50ID8/IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmNvbnRlbnQgKz0gcGFydC5kZWx0YT8uY29udGVudCA/PyBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZvaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgcnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4ocGFydC5kZWx0YT8uY29udGVudCA/PyBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIGFsbCBtZXNzYWdlcyBhcmUgZmluaXNoZWQsIHJlc29sdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc29sdmVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2hvaWNlcy5ldmVyeSgoYykgPT4gYy5maW5pc2hfcmVhc29uICE9IG51bGwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBhd2FpdCB0aGlzLmNvbXBsZXRpb25XaXRoUmV0cnkoe1xuICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogdGhpcy5mb3JtYXRNZXNzYWdlcyhwcm9tcHQpLFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucy5vcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkYXRhLmNob2ljZXNbMF0ubWVzc2FnZT8uY29udGVudCA/PyBcIlwiO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIGNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuY2xpZW50KSB7XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IHRoaXMuYXp1cmVPcGVuQUlBcGlLZXlcbiAgICAgICAgICAgICAgICA/IGBodHRwczovLyR7dGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZX0ub3BlbmFpLmF6dXJlLmNvbS9vcGVuYWkvZGVwbG95bWVudHMvJHt0aGlzLmF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWV9YFxuICAgICAgICAgICAgICAgIDogdGhpcy5jbGllbnRDb25maWcuYmFzZVBhdGg7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRDb25maWcgPSBuZXcgQ29uZmlndXJhdGlvbih7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcsXG4gICAgICAgICAgICAgICAgYmFzZVBhdGg6IGVuZHBvaW50LFxuICAgICAgICAgICAgICAgIGJhc2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHRoaXMudGltZW91dCxcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcuYmFzZU9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJQXBpKGNsaWVudENvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXhpb3NPcHRpb25zID0ge1xuICAgICAgICAgICAgYWRhcHRlcjogaXNOb2RlKCkgPyB1bmRlZmluZWQgOiBmZXRjaEFkYXB0ZXIsXG4gICAgICAgICAgICAuLi50aGlzLmNsaWVudENvbmZpZy5iYXNlT3B0aW9ucyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmF6dXJlT3BlbkFJQXBpS2V5KSB7XG4gICAgICAgICAgICBheGlvc09wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICBcImFwaS1rZXlcIjogdGhpcy5henVyZU9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgICAgICAuLi5heGlvc09wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBheGlvc09wdGlvbnMucGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIFwiYXBpLXZlcnNpb25cIjogdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24sXG4gICAgICAgICAgICAgICAgLi4uYXhpb3NPcHRpb25zLnBhcmFtcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbGVyXG4gICAgICAgICAgICAuY2FsbCh0aGlzLmNsaWVudC5jcmVhdGVDaGF0Q29tcGxldGlvbi5iaW5kKHRoaXMuY2xpZW50KSwgcmVxdWVzdCwgYXhpb3NPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmRhdGEpO1xuICAgIH1cbiAgICBfbGxtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwib3BlbmFpXCI7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9tcHRMYXllciB3cmFwcGVyIHRvIE9wZW5BSUNoYXRcbiAqL1xuZXhwb3J0IGNsYXNzIFByb21wdExheWVyT3BlbkFJQ2hhdCBleHRlbmRzIE9wZW5BSUNoYXQge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcm9tcHRMYXllckFwaUtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwbFRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmV0dXJuUHJvbXB0TGF5ZXJJZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBsVGFncyA9IGZpZWxkcz8ucGxUYWdzID8/IFtdO1xuICAgICAgICB0aGlzLnJldHVyblByb21wdExheWVySWQgPSBmaWVsZHM/LnJldHVyblByb21wdExheWVySWQgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvbXB0TGF5ZXJBcGlLZXkgPVxuICAgICAgICAgICAgZmllbGRzPy5wcm9tcHRMYXllckFwaUtleSA/P1xuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJQUk9NUFRMQVlFUl9BUElfS0VZXCIpO1xuICAgICAgICBpZiAoIXRoaXMucHJvbXB0TGF5ZXJBcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgUHJvbXB0TGF5ZXIgQVBJIGtleVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjb21wbGV0aW9uV2l0aFJldHJ5KHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RyZWFtKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuY29tcGxldGlvbldpdGhSZXRyeShyZXF1ZXN0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN1cGVyLmNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgYXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgbGV0IGNob2ljZTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9tcHRzLm1hcChhc3luYyAocHJvbXB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCB0aGlzLl9jYWxsKHByb21wdCwgb3B0aW9ucywgcnVuTWFuYWdlcik7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0RW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjaG9pY2UgPSBbeyB0ZXh0IH1dO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzcCA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdExheWVyUmVzcEJvZHkgPSBhd2FpdCBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCh0aGlzLmNhbGxlciwgXCJsYW5nY2hhaW4uUHJvbXB0TGF5ZXJPcGVuQUlDaGF0XCIsIFtwcm9tcHRdLCB0aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpLCB0aGlzLnBsVGFncywgcGFyc2VkUmVzcCwgcmVxdWVzdFN0YXJ0VGltZSwgcmVxdWVzdEVuZFRpbWUsIHRoaXMucHJvbXB0TGF5ZXJBcGlLZXkpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmV0dXJuUHJvbXB0TGF5ZXJJZCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgIHByb21wdExheWVyUmVzcEJvZHkuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNob2ljZVswXS5nZW5lcmF0aW9uSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0TGF5ZXJSZXF1ZXN0SWQ6IHByb21wdExheWVyUmVzcEJvZHkucmVxdWVzdF9pZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNob2ljZTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4geyBnZW5lcmF0aW9ucyB9O1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBDb25maWd1cmF0aW9uLCBPcGVuQUlBcGksIH0gZnJvbSBcIm9wZW5haVwiO1xuaW1wb3J0IHsgaXNOb2RlLCBnZXRFbnZpcm9ubWVudFZhcmlhYmxlIH0gZnJvbSBcIi4uL3V0aWwvZW52LmpzXCI7XG5pbXBvcnQgZmV0Y2hBZGFwdGVyIGZyb20gXCIuLi91dGlsL2F4aW9zLWZldGNoLWFkYXB0ZXIuanNcIjtcbmltcG9ydCB7IGNodW5rQXJyYXkgfSBmcm9tIFwiLi4vdXRpbC9jaHVuay5qc1wiO1xuaW1wb3J0IHsgQmFzZUxMTSB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZU1heFRva2VucyB9IGZyb20gXCIuLi9iYXNlX2xhbmd1YWdlL2NvdW50X3Rva2Vucy5qc1wiO1xuaW1wb3J0IHsgT3BlbkFJQ2hhdCB9IGZyb20gXCIuL29wZW5haS1jaGF0LmpzXCI7XG5pbXBvcnQgeyBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCB9IGZyb20gXCIuLi91dGlsL3Byb21wdC1sYXllci5qc1wiO1xuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBPcGVuQUkgbGFyZ2UgbGFuZ3VhZ2UgbW9kZWxzLlxuICpcbiAqIFRvIHVzZSB5b3Ugc2hvdWxkIGhhdmUgdGhlIGBvcGVuYWlgIHBhY2thZ2UgaW5zdGFsbGVkLCB3aXRoIHRoZVxuICogYE9QRU5BSV9BUElfS0VZYCBlbnZpcm9ubWVudCB2YXJpYWJsZSBzZXQuXG4gKlxuICogVG8gdXNlIHdpdGggQXp1cmUgeW91IHNob3VsZCBoYXZlIHRoZSBgb3BlbmFpYCBwYWNrYWdlIGluc3RhbGxlZCwgd2l0aCB0aGVcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0tFWWAsXG4gKiBgQVpVUkVfT1BFTkFJX0FQSV9JTlNUQU5DRV9OQU1FYCxcbiAqIGBBWlVSRV9PUEVOQUlfQVBJX0RFUExPWU1FTlRfTkFNRWBcbiAqIGFuZCBgQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OYCBlbnZpcm9ubWVudCB2YXJpYWJsZSBzZXQuXG4gKlxuICogQHJlbWFya3NcbiAqIEFueSBwYXJhbWV0ZXJzIHRoYXQgYXJlIHZhbGlkIHRvIGJlIHBhc3NlZCB0byB7QGxpbmtcbiAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvY29tcGxldGlvbnMvY3JlYXRlIHxcbiAqIGBvcGVuYWkuY3JlYXRlQ29tcGxldGlvbmB9IGNhbiBiZSBwYXNzZWQgdGhyb3VnaCB7QGxpbmsgbW9kZWxLd2FyZ3N9LCBldmVuXG4gKiBpZiBub3QgZXhwbGljaXRseSBhdmFpbGFibGUgb24gdGhpcyBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5BSSBleHRlbmRzIEJhc2VMTE0ge1xuICAgIGdldCBjYWxsS2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFtcInN0b3BcIiwgXCJzaWduYWxcIiwgXCJ0aW1lb3V0XCIsIFwib3B0aW9uc1wiXTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChmaWVsZHM/Lm1vZGVsTmFtZT8uc3RhcnRzV2l0aChcImdwdC0zLjUtdHVyYm9cIikgfHxcbiAgICAgICAgICAgIGZpZWxkcz8ubW9kZWxOYW1lPy5zdGFydHNXaXRoKFwiZ3B0LTRcIikgfHxcbiAgICAgICAgICAgIGZpZWxkcz8ubW9kZWxOYW1lPy5zdGFydHNXaXRoKFwiZ3B0LTQtMzJrXCIpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RydWN0b3ItcmV0dXJuLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICByZXR1cm4gbmV3IE9wZW5BSUNoYXQoZmllbGRzLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihmaWVsZHMgPz8ge30pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZW1wZXJhdHVyZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMC43XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhUb2tlbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDI1NlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9wUFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZnJlcXVlbmN5UGVuYWx0eVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicHJlc2VuY2VQZW5hbHR5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAxXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJiZXN0T2ZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvZ2l0Qmlhc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwidGV4dC1kYXZpbmNpLTAwM1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtb2RlbEt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJiYXRjaFNpemVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDIwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aW1lb3V0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3BcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RyZWFtaW5nXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXp1cmVPcGVuQUlBcGlWZXJzaW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpS2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpSW5zdGFuY2VOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImF6dXJlT3BlbkFJQXBpRGVwbG95bWVudE5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudENvbmZpZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhcGlLZXkgPSBmaWVsZHM/Lm9wZW5BSUFwaUtleSA/PyBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiT1BFTkFJX0FQSV9LRVlcIik7XG4gICAgICAgIGNvbnN0IGF6dXJlQXBpS2V5ID0gZmllbGRzPy5henVyZU9wZW5BSUFwaUtleSA/P1xuICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfS0VZXCIpO1xuICAgICAgICBpZiAoIWF6dXJlQXBpS2V5ICYmICFhcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIihBenVyZSkgT3BlbkFJIEFQSSBrZXkgbm90IGZvdW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF6dXJlQXBpSW5zdGFuY2VOYW1lID0gZmllbGRzPy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSA/P1xuICAgICAgICAgICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkFaVVJFX09QRU5BSV9BUElfSU5TVEFOQ0VfTkFNRVwiKTtcbiAgICAgICAgY29uc3QgYXp1cmVBcGlEZXBsb3ltZW50TmFtZSA9IChmaWVsZHM/LmF6dXJlT3BlbkFJQXBpQ29tcGxldGlvbnNEZXBsb3ltZW50TmFtZSB8fFxuICAgICAgICAgICAgZmllbGRzPy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lKSA/P1xuICAgICAgICAgICAgKGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0NPTVBMRVRJT05TX0RFUExPWU1FTlRfTkFNRVwiKSB8fFxuICAgICAgICAgICAgICAgIGdldEVudmlyb25tZW50VmFyaWFibGUoXCJBWlVSRV9PUEVOQUlfQVBJX0RFUExPWU1FTlRfTkFNRVwiKSk7XG4gICAgICAgIGNvbnN0IGF6dXJlQXBpVmVyc2lvbiA9IGZpZWxkcz8uYXp1cmVPcGVuQUlBcGlWZXJzaW9uID8/XG4gICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiQVpVUkVfT1BFTkFJX0FQSV9WRVJTSU9OXCIpO1xuICAgICAgICB0aGlzLm1vZGVsTmFtZSA9IGZpZWxkcz8ubW9kZWxOYW1lID8/IHRoaXMubW9kZWxOYW1lO1xuICAgICAgICB0aGlzLm1vZGVsS3dhcmdzID0gZmllbGRzPy5tb2RlbEt3YXJncyA/PyB7fTtcbiAgICAgICAgdGhpcy5iYXRjaFNpemUgPSBmaWVsZHM/LmJhdGNoU2l6ZSA/PyB0aGlzLmJhdGNoU2l6ZTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gZmllbGRzPy50aW1lb3V0O1xuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gZmllbGRzPy50ZW1wZXJhdHVyZSA/PyB0aGlzLnRlbXBlcmF0dXJlO1xuICAgICAgICB0aGlzLm1heFRva2VucyA9IGZpZWxkcz8ubWF4VG9rZW5zID8/IHRoaXMubWF4VG9rZW5zO1xuICAgICAgICB0aGlzLnRvcFAgPSBmaWVsZHM/LnRvcFAgPz8gdGhpcy50b3BQO1xuICAgICAgICB0aGlzLmZyZXF1ZW5jeVBlbmFsdHkgPSBmaWVsZHM/LmZyZXF1ZW5jeVBlbmFsdHkgPz8gdGhpcy5mcmVxdWVuY3lQZW5hbHR5O1xuICAgICAgICB0aGlzLnByZXNlbmNlUGVuYWx0eSA9IGZpZWxkcz8ucHJlc2VuY2VQZW5hbHR5ID8/IHRoaXMucHJlc2VuY2VQZW5hbHR5O1xuICAgICAgICB0aGlzLm4gPSBmaWVsZHM/Lm4gPz8gdGhpcy5uO1xuICAgICAgICB0aGlzLmJlc3RPZiA9IGZpZWxkcz8uYmVzdE9mID8/IHRoaXMuYmVzdE9mO1xuICAgICAgICB0aGlzLmxvZ2l0QmlhcyA9IGZpZWxkcz8ubG9naXRCaWFzO1xuICAgICAgICB0aGlzLnN0b3AgPSBmaWVsZHM/LnN0b3A7XG4gICAgICAgIHRoaXMuc3RyZWFtaW5nID0gZmllbGRzPy5zdHJlYW1pbmcgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uID0gYXp1cmVBcGlWZXJzaW9uO1xuICAgICAgICB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5ID0gYXp1cmVBcGlLZXk7XG4gICAgICAgIHRoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWUgPSBhenVyZUFwaUluc3RhbmNlTmFtZTtcbiAgICAgICAgdGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lID0gYXp1cmVBcGlEZXBsb3ltZW50TmFtZTtcbiAgICAgICAgaWYgKHRoaXMuc3RyZWFtaW5nICYmIHRoaXMubiA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzdHJlYW0gcmVzdWx0cyB3aGVuIG4gPiAxXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0cmVhbWluZyAmJiB0aGlzLmJlc3RPZiA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzdHJlYW0gcmVzdWx0cyB3aGVuIGJlc3RPZiA+IDFcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXp1cmVPcGVuQUlBcGlLZXkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaUluc3RhbmNlTmFtZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgaW5zdGFuY2UgbmFtZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXp1cmVPcGVuQUlBcGlEZXBsb3ltZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF6dXJlIE9wZW5BSSBBUEkgZGVwbG95bWVudCBuYW1lIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5henVyZU9wZW5BSUFwaVZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBenVyZSBPcGVuQUkgQVBJIHZlcnNpb24gbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpZW50Q29uZmlnID0ge1xuICAgICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgICAgLi4uY29uZmlndXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwYXJhbWV0ZXJzIHVzZWQgdG8gaW52b2tlIHRoZSBtb2RlbFxuICAgICAqL1xuICAgIGludm9jYXRpb25QYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb2RlbDogdGhpcy5tb2RlbE5hbWUsXG4gICAgICAgICAgICB0ZW1wZXJhdHVyZTogdGhpcy50ZW1wZXJhdHVyZSxcbiAgICAgICAgICAgIG1heF90b2tlbnM6IHRoaXMubWF4VG9rZW5zLFxuICAgICAgICAgICAgdG9wX3A6IHRoaXMudG9wUCxcbiAgICAgICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiB0aGlzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICBwcmVzZW5jZV9wZW5hbHR5OiB0aGlzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgIG46IHRoaXMubixcbiAgICAgICAgICAgIGJlc3Rfb2Y6IHRoaXMuYmVzdE9mLFxuICAgICAgICAgICAgbG9naXRfYmlhczogdGhpcy5sb2dpdEJpYXMsXG4gICAgICAgICAgICBzdG9wOiB0aGlzLnN0b3AsXG4gICAgICAgICAgICBzdHJlYW06IHRoaXMuc3RyZWFtaW5nLFxuICAgICAgICAgICAgLi4udGhpcy5tb2RlbEt3YXJncyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2lkZW50aWZ5aW5nUGFyYW1zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWxfbmFtZTogdGhpcy5tb2RlbE5hbWUsXG4gICAgICAgICAgICAuLi50aGlzLmludm9jYXRpb25QYXJhbXMoKSxcbiAgICAgICAgICAgIC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkZW50aWZ5aW5nIHBhcmFtZXRlcnMgZm9yIHRoZSBtb2RlbFxuICAgICAqL1xuICAgIGlkZW50aWZ5aW5nUGFyYW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWRlbnRpZnlpbmdQYXJhbXMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCBvdXQgdG8gT3BlbkFJJ3MgZW5kcG9pbnQgd2l0aCBrIHVuaXF1ZSBwcm9tcHRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gW3Byb21wdHNdIC0gVGhlIHByb21wdHMgdG8gcGFzcyBpbnRvIHRoZSBtb2RlbC5cbiAgICAgKiBAcGFyYW0gW29wdGlvbnNdIC0gT3B0aW9uYWwgbGlzdCBvZiBzdG9wIHdvcmRzIHRvIHVzZSB3aGVuIGdlbmVyYXRpbmcuXG4gICAgICogQHBhcmFtIFtydW5NYW5hZ2VyXSAtIE9wdGlvbmFsIGNhbGxiYWNrIG1hbmFnZXIgdG8gdXNlIHdoZW4gZ2VuZXJhdGluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBmdWxsIExMTSBvdXRwdXQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogaW1wb3J0IHsgT3BlbkFJIH0gZnJvbSBcImxhbmdjaGFpbi9sbG1zL29wZW5haVwiO1xuICAgICAqIGNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoKTtcbiAgICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9wZW5haS5nZW5lcmF0ZShbXCJUZWxsIG1lIGEgam9rZS5cIl0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGFzeW5jIF9nZW5lcmF0ZShwcm9tcHRzLCBvcHRpb25zLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHsgc3RvcCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3Qgc3ViUHJvbXB0cyA9IGNodW5rQXJyYXkocHJvbXB0cywgdGhpcy5iYXRjaFNpemUpO1xuICAgICAgICBjb25zdCBjaG9pY2VzID0gW107XG4gICAgICAgIGNvbnN0IHRva2VuVXNhZ2UgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuc3RvcCAmJiBzdG9wKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdG9wIGZvdW5kIGluIGlucHV0IGFuZCBkZWZhdWx0IHBhcmFtc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLmludm9jYXRpb25QYXJhbXMoKTtcbiAgICAgICAgcGFyYW1zLnN0b3AgPSBzdG9wID8/IHBhcmFtcy5zdG9wO1xuICAgICAgICBpZiAocGFyYW1zLm1heF90b2tlbnMgPT09IC0xKSB7XG4gICAgICAgICAgICBpZiAocHJvbXB0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtYXhfdG9rZW5zIHNldCB0byAtMSBub3Qgc3VwcG9ydGVkIGZvciBtdWx0aXBsZSBpbnB1dHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJhbXMubWF4X3Rva2VucyA9IGF3YWl0IGNhbGN1bGF0ZU1heFRva2Vucyh7XG4gICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRzWzBdLFxuICAgICAgICAgICAgICAgIC8vIENhc3QgaGVyZSB0byBhbGxvdyBmb3Igb3RoZXIgbW9kZWxzIHRoYXQgbWF5IG5vdCBmaXQgdGhlIHVuaW9uXG4gICAgICAgICAgICAgICAgbW9kZWxOYW1lOiB0aGlzLm1vZGVsTmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ViUHJvbXB0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHBhcmFtcy5zdHJlYW1cbiAgICAgICAgICAgICAgICA/IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hvaWNlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWplY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzb2x2ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21wdDogc3ViUHJvbXB0c1tpXSxcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkYXB0ZXI6IGZldGNoQWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogXCJzdHJlYW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ubWVzc2FnZTogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGE/LnRyaW0/LigpID09PSBcIltET05FXVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uIHRoZSBmaXJzdCBtZXNzYWdlIHNldCB0aGUgcmVzcG9uc2UgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Q6IG1lc3NhZ2Uub2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IG1lc3NhZ2UuY3JlYXRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDogbWVzc2FnZS5tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gYWxsIG1lc3NhZ2VzLCB1cGRhdGUgY2hvaWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBtZXNzYWdlLmNob2ljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0ICE9IG51bGwgJiYgcGFydC5pbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaG9pY2VzW3BhcnQuaW5kZXhdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzW3BhcnQuaW5kZXhdID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hvaWNlID0gY2hvaWNlc1twYXJ0LmluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2UudGV4dCA9IChjaG9pY2UudGV4dCA/PyBcIlwiKSArIChwYXJ0LnRleHQgPz8gXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlLmZpbmlzaF9yZWFzb24gPSBwYXJ0LmZpbmlzaF9yZWFzb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlLmxvZ3Byb2JzID0gcGFydC5sb2dwcm9icztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgc2hvdWxkIHBhc3MgcGFydC5pbmRleCB0byB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHRoYXQncyBzdXBwb3J0ZWQgdGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdm9pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgcnVuTWFuYWdlcj8uaGFuZGxlTExNTmV3VG9rZW4ocGFydC50ZXh0ID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gYWxsIG1lc3NhZ2VzIGFyZSBmaW5pc2hlZCwgcmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc29sdmVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzLmV2ZXJ5KChjKSA9PiBjLmZpbmlzaF9yZWFzb24gIT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWplY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogYXdhaXQgdGhpcy5jb21wbGV0aW9uV2l0aFJldHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IHN1YlByb21wdHNbaV0sXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjaG9pY2VzLnB1c2goLi4uZGF0YS5jaG9pY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IHsgY29tcGxldGlvbl90b2tlbnM6IGNvbXBsZXRpb25Ub2tlbnMsIHByb21wdF90b2tlbnM6IHByb21wdFRva2VucywgdG90YWxfdG9rZW5zOiB0b3RhbFRva2VucywgfSA9IGRhdGEudXNhZ2UgPz8ge307XG4gICAgICAgICAgICBpZiAoY29tcGxldGlvblRva2Vucykge1xuICAgICAgICAgICAgICAgIHRva2VuVXNhZ2UuY29tcGxldGlvblRva2VucyA9XG4gICAgICAgICAgICAgICAgICAgICh0b2tlblVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPz8gMCkgKyBjb21wbGV0aW9uVG9rZW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb21wdFRva2Vucykge1xuICAgICAgICAgICAgICAgIHRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID0gKHRva2VuVXNhZ2UucHJvbXB0VG9rZW5zID8/IDApICsgcHJvbXB0VG9rZW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvdGFsVG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5Vc2FnZS50b3RhbFRva2VucyA9ICh0b2tlblVzYWdlLnRvdGFsVG9rZW5zID8/IDApICsgdG90YWxUb2tlbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbnMgPSBjaHVua0FycmF5KGNob2ljZXMsIHRoaXMubikubWFwKChwcm9tcHRDaG9pY2VzKSA9PiBwcm9tcHRDaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiAoe1xuICAgICAgICAgICAgdGV4dDogY2hvaWNlLnRleHQgPz8gXCJcIixcbiAgICAgICAgICAgIGdlbmVyYXRpb25JbmZvOiB7XG4gICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjaG9pY2UuZmluaXNoX3JlYXNvbixcbiAgICAgICAgICAgICAgICBsb2dwcm9iczogY2hvaWNlLmxvZ3Byb2JzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdlbmVyYXRpb25zLFxuICAgICAgICAgICAgbGxtT3V0cHV0OiB7IHRva2VuVXNhZ2UgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBjb21wbGV0aW9uV2l0aFJldHJ5KHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLmF6dXJlT3BlbkFJQXBpS2V5XG4gICAgICAgICAgICAgICAgPyBgaHR0cHM6Ly8ke3RoaXMuYXp1cmVPcGVuQUlBcGlJbnN0YW5jZU5hbWV9Lm9wZW5haS5henVyZS5jb20vb3BlbmFpL2RlcGxveW1lbnRzLyR7dGhpcy5henVyZU9wZW5BSUFwaURlcGxveW1lbnROYW1lfWBcbiAgICAgICAgICAgICAgICA6IHRoaXMuY2xpZW50Q29uZmlnLmJhc2VQYXRoO1xuICAgICAgICAgICAgY29uc3QgY2xpZW50Q29uZmlnID0gbmV3IENvbmZpZ3VyYXRpb24oe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgICAgIGJhc2VQYXRoOiBlbmRwb2ludCxcbiAgICAgICAgICAgICAgICBiYXNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY2xpZW50Q29uZmlnLmJhc2VPcHRpb25zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50ID0gbmV3IE9wZW5BSUFwaShjbGllbnRDb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF4aW9zT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFkYXB0ZXI6IGlzTm9kZSgpID8gdW5kZWZpbmVkIDogZmV0Y2hBZGFwdGVyLFxuICAgICAgICAgICAgLi4udGhpcy5jbGllbnRDb25maWcuYmFzZU9wdGlvbnMsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5henVyZU9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgYXhpb3NPcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgXCJhcGkta2V5XCI6IHRoaXMuYXp1cmVPcGVuQUlBcGlLZXksXG4gICAgICAgICAgICAgICAgLi4uYXhpb3NPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXhpb3NPcHRpb25zLnBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBcImFwaS12ZXJzaW9uXCI6IHRoaXMuYXp1cmVPcGVuQUlBcGlWZXJzaW9uLFxuICAgICAgICAgICAgICAgIC4uLmF4aW9zT3B0aW9ucy5wYXJhbXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxlclxuICAgICAgICAgICAgLmNhbGwodGhpcy5jbGllbnQuY3JlYXRlQ29tcGxldGlvbi5iaW5kKHRoaXMuY2xpZW50KSwgcmVxdWVzdCwgYXhpb3NPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmRhdGEpO1xuICAgIH1cbiAgICBfbGxtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwib3BlbmFpXCI7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9tcHRMYXllciB3cmFwcGVyIHRvIE9wZW5BSVxuICogQGF1Z21lbnRzIE9wZW5BSVxuICovXG5leHBvcnQgY2xhc3MgUHJvbXB0TGF5ZXJPcGVuQUkgZXh0ZW5kcyBPcGVuQUkge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcm9tcHRMYXllckFwaUtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwbFRhZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmV0dXJuUHJvbXB0TGF5ZXJJZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBsVGFncyA9IGZpZWxkcz8ucGxUYWdzID8/IFtdO1xuICAgICAgICB0aGlzLnByb21wdExheWVyQXBpS2V5ID1cbiAgICAgICAgICAgIGZpZWxkcz8ucHJvbXB0TGF5ZXJBcGlLZXkgPz9cbiAgICAgICAgICAgICAgICBnZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiUFJPTVBUTEFZRVJfQVBJX0tFWVwiKTtcbiAgICAgICAgdGhpcy5yZXR1cm5Qcm9tcHRMYXllcklkID0gZmllbGRzPy5yZXR1cm5Qcm9tcHRMYXllcklkO1xuICAgICAgICBpZiAoIXRoaXMucHJvbXB0TGF5ZXJBcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgUHJvbXB0TGF5ZXIgQVBJIGtleVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjb21wbGV0aW9uV2l0aFJldHJ5KHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RyZWFtKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuY29tcGxldGlvbldpdGhSZXRyeShyZXF1ZXN0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN1cGVyLmNvbXBsZXRpb25XaXRoUmV0cnkocmVxdWVzdCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgYXN5bmMgX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb25zID0gYXdhaXQgc3VwZXIuX2dlbmVyYXRlKHByb21wdHMsIG9wdGlvbnMsIHJ1bk1hbmFnZXIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlbmVyYXRpb25zLmdlbmVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0RW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRSZXNwID0ge1xuICAgICAgICAgICAgICAgIHRleHQ6IGdlbmVyYXRpb25zLmdlbmVyYXRpb25zW2ldWzBdLnRleHQsXG4gICAgICAgICAgICAgICAgbGxtX291dHB1dDogZ2VuZXJhdGlvbnMubGxtT3V0cHV0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdExheWVyUmVzcEJvZHkgPSBhd2FpdCBwcm9tcHRMYXllclRyYWNrUmVxdWVzdCh0aGlzLmNhbGxlciwgXCJsYW5nY2hhaW4uUHJvbXB0TGF5ZXJPcGVuQUlcIiwgW3Byb21wdHNbaV1dLCB0aGlzLl9pZGVudGlmeWluZ1BhcmFtcygpLCB0aGlzLnBsVGFncywgcGFyc2VkUmVzcCwgcmVxdWVzdFN0YXJ0VGltZSwgcmVxdWVzdEVuZFRpbWUsIHRoaXMucHJvbXB0TGF5ZXJBcGlLZXkpO1xuICAgICAgICAgICAgbGV0IHByb21wdExheWVyUmVxdWVzdElkO1xuICAgICAgICAgICAgaWYgKHRoaXMucmV0dXJuUHJvbXB0TGF5ZXJJZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9tcHRMYXllclJlc3BCb2R5ICYmIHByb21wdExheWVyUmVzcEJvZHkuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcHRMYXllclJlcXVlc3RJZCA9IHByb21wdExheWVyUmVzcEJvZHkucmVxdWVzdF9pZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbnMuZ2VuZXJhdGlvbnNbaV1bMF0uZ2VuZXJhdGlvbkluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmdlbmVyYXRpb25zLmdlbmVyYXRpb25zW2ldWzBdLmdlbmVyYXRpb25JbmZvLFxuICAgICAgICAgICAgICAgICAgICBwcm9tcHRMYXllclJlcXVlc3RJZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW5lcmF0aW9ucztcbiAgICB9XG59XG5leHBvcnQgeyBPcGVuQUlDaGF0LCBQcm9tcHRMYXllck9wZW5BSUNoYXQgfSBmcm9tIFwiLi9vcGVuYWktY2hhdC5qc1wiO1xuIiwgImltcG9ydCB7XG5cdEFwcCxcblx0Tm90aWNlLFxuXHRQbHVnaW4sXG5cdFBsdWdpblNldHRpbmdUYWIsXG5cdFNldHRpbmcsXG5cdFRGaWxlXG59IGZyb20gXCJvYnNpZGlhblwiO1xuXG5pbXBvcnQgeyBMTE1DaGFpbiB9IGZyb20gXCJsYW5nY2hhaW4vY2hhaW5zXCI7XG5pbXBvcnQgeyBPcGVuQUkgfSBmcm9tIFwibGFuZ2NoYWluL2xsbXMvb3BlbmFpXCI7XG5pbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJsYW5nY2hhaW4vcHJvbXB0c1wiO1xuXG5pbnRlcmZhY2UgVm9pY2VMaW5lclBsdWdpblNldHRpbmdzIHtcblx0b3BlbkFJS2V5OiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFZvaWNlTGluZXJQbHVnaW5TZXR0aW5ncyA9IHtcblx0b3BlbkFJS2V5OiBcImRlZmF1bHRcIixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZvaWNlTGluZXIgZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogVm9pY2VMaW5lclBsdWdpblNldHRpbmdzO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdGNvbnNvbGUubG9nKFwibG9hZGluZyBWb2ljZUxpbmVyXCIpO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcInRyYW5zY3JpYmUtY3VycmVudC1yZWNvcmRpbmdcIixcblx0XHRcdG5hbWU6IFwiVHJhbnNjcmliZSBDdXJyZW50IFJlY29yZGluZ1wiLFxuXHRcdFx0Y2FsbGJhY2s6IHRoaXMucHJvY2Vzc0N1cnJlbnRSZWNvcmRpbmcuYmluZCh0aGlzKSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJ0cmFuc2NyaWJlLWFsbC1yZWNvcmRpbmdzXCIsXG5cdFx0XHRuYW1lOiBcIlRyYW5zY3JpYmUgQWxsIFJlY29yZGluZ3NcIixcblx0XHRcdGNhbGxiYWNrOiB0aGlzLnByb2Nlc3NBbGxSZWNvcmRpbmdzLmJpbmQodGhpcyksXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6IFwidHJhbnNjcmliZS1hbmQtc3VtbWFyaXplLWN1cnJlbnQtcmVjb3JkaW5nXCIsXG5cdFx0XHRuYW1lOiBcIlRyYW5zY3JpYmUgYW5kIFN1bW1hcml6ZSBDdXJyZW50IFJlY29yZGluZ1wiLFxuXHRcdFx0Y2FsbGJhY2s6IHRoaXMucHJvY2Vzc0FuZFN1bW1hcml6ZUN1cnJlbnRSZWNvcmRpbmcuYmluZCh0aGlzKSxcblx0XHR9KTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZlxuXHRcdC8vIFZvaWNlTGluZXIgcGx1Z2luIGFzIE9wZW4gQUkgS2V5IGZvciBUcmFuc2NyaWJpbmcuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBWb2ljZUxpbmVyU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXHR9XG5cblx0YXN5bmMgb251bmxvYWQoKSB7IH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdGFzeW5jIHN1bW1hcml6ZSh0cmFuc2NyaWJlZF90ZXh0OiBzdHJpbmcpIHtcblx0XHRjb25zb2xlLmxvZyhcIlN1bW1hcml6aW5nIHRoZSB0ZXh0OlwiLCB0cmFuc2NyaWJlZF90ZXh0KTtcblx0XHRjb25zdCB0ZW1wbGF0ZSA9IGBBc3Npc3RhbnQgaXMgYSBsYXJnZSBsYW5ndWFnZSBtb2RlbCB0cmFpbmVkIGJ5IE9wZW5BSS5cblxuXHRcdEFzc2lzdGFudCBpcyBkZXNpZ25lZCB0byBiZSBhYmxlIHRvIGFzc2lzdCB3aXRoIGEgd2lkZSByYW5nZSBvZiB0YXNrcywgZnJvbSBhbnN3ZXJpbmcgc2ltcGxlIHF1ZXN0aW9ucyB0byBwcm92aWRpbmcgaW4tZGVwdGggZXhwbGFuYXRpb25zIGFuZCBkaXNjdXNzaW9ucyBvbiBhIHdpZGUgcmFuZ2Ugb2YgdG9waWNzLiBBcyBhIGxhbmd1YWdlIG1vZGVsLCBBc3Npc3RhbnQgaXMgYWJsZSB0byBnZW5lcmF0ZSBodW1hbi1saWtlIHRleHQgYmFzZWQgb24gdGhlIGlucHV0IGl0IHJlY2VpdmVzLCBhbGxvd2luZyBpdCB0byBlbmdhZ2UgaW4gbmF0dXJhbC1zb3VuZGluZyBjb252ZXJzYXRpb25zIGFuZCBwcm92aWRlIHJlc3BvbnNlcyB0aGF0IGFyZSBjb2hlcmVudCBhbmQgcmVsZXZhbnQgdG8gdGhlIHRvcGljIGF0IGhhbmQuXG5cblx0XHRBc3Npc3RhbnQgaXMgY29uc3RhbnRseSBsZWFybmluZyBhbmQgaW1wcm92aW5nLCBhbmQgaXRzIGNhcGFiaWxpdGllcyBhcmUgY29uc3RhbnRseSBldm9sdmluZy4gSXQgaXMgYWJsZSB0byBwcm9jZXNzIGFuZCB1bmRlcnN0YW5kIGxhcmdlIGFtb3VudHMgb2YgdGV4dCwgYW5kIGNhbiB1c2UgdGhpcyBrbm93bGVkZ2UgdG8gcHJvdmlkZSBhY2N1cmF0ZSBhbmQgaW5mb3JtYXRpdmUgcmVzcG9uc2VzIHRvIGEgd2lkZSByYW5nZSBvZiBxdWVzdGlvbnMuIEFkZGl0aW9uYWxseSwgQXNzaXN0YW50IGlzIGFibGUgdG8gZ2VuZXJhdGUgaXRzIG93biB0ZXh0IGJhc2VkIG9uIHRoZSBpbnB1dCBpdCByZWNlaXZlcywgYWxsb3dpbmcgaXQgdG8gZW5nYWdlIGluIGRpc2N1c3Npb25zIGFuZCBwcm92aWRlIGV4cGxhbmF0aW9ucyBhbmQgZGVzY3JpcHRpb25zIG9uIGEgd2lkZSByYW5nZSBvZiB0b3BpY3MuXG5cblx0XHRPdmVyYWxsLCBBc3Npc3RhbnQgaXMgYSBwb3dlcmZ1bCB0b29sIHRoYXQgY2FuIGhlbHAgd2l0aCBhIHdpZGUgcmFuZ2Ugb2YgdGFza3MgYW5kIHByb3ZpZGUgdmFsdWFibGUgaW5zaWdodHMgYW5kIGluZm9ybWF0aW9uIG9uIGEgd2lkZSByYW5nZSBvZiB0b3BpY3MuIFdoZXRoZXIgeW91IG5lZWQgaGVscCB3aXRoIGEgc3BlY2lmaWMgcXVlc3Rpb24gb3IganVzdCB3YW50IHRvIGhhdmUgYSBjb252ZXJzYXRpb24gYWJvdXQgYSBwYXJ0aWN1bGFyIHRvcGljLCBBc3Npc3RhbnQgaXMgaGVyZSB0byBhc3Npc3QuXG5cblx0XHRBc3Npc3RhbnQgaXMgYXdhcmUgdGhhdCBodW1hbiBpbnB1dCBpcyBiZWluZyB0cmFuc2NyaWJlZCBmcm9tIGF1ZGlvIGFuZCBhcyBzdWNoIHRoZXJlIG1heSBiZSBzb21lIGVycm9ycyBpbiB0aGUgdHJhbnNjcmlwdGlvbi4gSXQgd2lsbCBhdHRlbXB0IHRvIGFjY291bnQgZm9yIHNvbWUgd29yZHMgYmVpbmcgc3dhcHBlZCB3aXRoIHNpbWlsYXItc291bmRpbmcgd29yZHMgb3IgcGhyYXNlcy4gQXNzaXN0YW50IHdpbGwgYWxzbyBrZWVwIHJlc3BvbnNlcyBjb25jaXNlLCBiZWNhdXNlIGh1bWFuIGF0dGVudGlvbiBzcGFucyBhcmUgbW9yZSBsaW1pdGVkIG92ZXIgdGhlIGF1ZGlvIGNoYW5uZWwgc2luY2UgaXQgdGFrZXMgdGltZSB0byBsaXN0ZW4gdG8gYSByZXNwb25zZS5cblxuXHRcdFBsZWFzZSBhc3Nlc3MgYW5kIGFycmFuZ2UgdGhlbSBhcyBidWxsZXQgcG9pbnRzLlxuXG5cdFx0SHVtYW46IHtodW1hbl9pbnB1dH1cblxuXHRcdEFzc2lzdGFudDpgO1xuXG5cdFx0Y29uc3QgcHJvbXB0ID0gbmV3IFByb21wdFRlbXBsYXRlKHsgdGVtcGxhdGUsIGlucHV0VmFyaWFibGVzOiBbXCJodW1hbl9pbnB1dFwiXSB9KTtcblxuXHRcdGNvbnN0IG1vZGVsID0gbmV3IE9wZW5BSSh7IG9wZW5BSUFwaUtleTogdGhpcy5zZXR0aW5ncy5vcGVuQUlLZXksIHRlbXBlcmF0dXJlOiAwIH0pO1xuXHRcdGNvbnN0IGNoYWluID0gbmV3IExMTUNoYWluKHsgbGxtOiBtb2RlbCwgcHJvbXB0IH0pO1xuXHRcdGNvbnN0IHN1bW1hcnlfdGV4dCA9IGF3YWl0IGNoYWluLmNhbGwoeyBodW1hbl9pbnB1dDogdHJhbnNjcmliZWRfdGV4dCB9KTtcblx0XHR0aGlzLmNyZWF0ZU5vdGUoc3VtbWFyeV90ZXh0LnRleHQpO1xuXHR9XG5cblxuXHRhc3luYyB0cmFuc2NyaWJlQXVkaW8oZmlsZUJpbmFyeTogQXJyYXlCdWZmZXIsIHN1bW1hcml6ZTogYm9vbGVhbiA9IGZhbHNlKSB7XG5cblx0XHRjb25zb2xlLmxvZyhcIlRyYW5zY3JpYmluZyBhdWRpby4uLlwiKTtcblx0XHRjb25zdCBlbmRwb2ludCA9IFwiaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MS9hdWRpby90cmFuc2NyaXB0aW9uc1wiO1xuXHRcdGNvbnN0IGFwaUtleSA9IHRoaXMuc2V0dGluZ3Mub3BlbkFJS2V5O1xuXG5cdFx0aWYgKGFwaUtleSA9PT0gXCJkZWZhdWx0XCIpIHtcblx0XHRcdG5ldyBOb3RpY2UoXCJPcGVuIEFJIEtleSBub3Qgc2V0LiBQbGVhc2Ugc2V0IGl0IGluIHRoZSBzZXR0aW5ncy5cIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cdFx0XHRmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIG5ldyBCbG9iKFtmaWxlQmluYXJ5XSksIFwiYXVkaW8ud2VibVwiKTtcblx0XHRcdGZvcm1EYXRhLmFwcGVuZChcIm1vZGVsXCIsIFwid2hpc3Blci0xXCIpO1xuXG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGVuZHBvaW50LCB7XG5cdFx0XHRcdG1ldGhvZDogXCJQT1NUXCIsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXBpS2V5fWAsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJvZHk6IGZvcm1EYXRhLFxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChyZXNwb25zZS5vaykge1xuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiVHJhbnNjcmlwdGlvbiBjb21wbGV0ZTpcIiwgcmVzdWx0KTtcblx0XHRcdFx0aWYgKHJlc3VsdC50ZXh0KSB7XG5cdFx0XHRcdFx0aWYgKHN1bW1hcml6ZSkge1xuXHRcdFx0XHRcdFx0dGhpcy5zdW1tYXJpemUocmVzdWx0LnRleHQpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNyZWF0ZU5vdGUocmVzdWx0LnRleHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdFx0XHRcIlRyYW5zY3JpcHRpb24gZmFpbGVkOlwiLFxuXHRcdFx0XHRcdHJlc3BvbnNlLnN0YXR1cyxcblx0XHRcdFx0XHRyZXNwb25zZS5zdGF0dXNUZXh0XG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgcHJvY2Vzc0N1cnJlbnRSZWNvcmRpbmcoKSB7XG5cdFx0Ly8gR2V0IHRoZSBjdXJyZW50IGF1ZGlvIGZpbGUgaW4gdmlld1xuXHRcdGNvbnN0IGFjdGl2ZUZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdGlmIChhY3RpdmVGaWxlKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcIlByb2Nlc3NpbmcgZmlsZTpcIiwgYWN0aXZlRmlsZS5uYW1lKTtcblx0XHRcdFx0Y29uc3QgZmlsZUJpbmFyeSA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWRCaW5hcnkoYWN0aXZlRmlsZSk7XG5cdFx0XHRcdHRoaXMudHJhbnNjcmliZUF1ZGlvKGZpbGVCaW5hcnksIGZhbHNlKTtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgZmlsZTogJHthY3RpdmVGaWxlLm5hbWV9YCwgZXJyb3IpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGFzeW5jIHByb2Nlc3NBbmRTdW1tYXJpemVDdXJyZW50UmVjb3JkaW5nKCkge1xuXHRcdC8vIEdldCB0aGUgY3VycmVudCBhdWRpbyBmaWxlIGluIHZpZXdcblx0XHRjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRpZiAoYWN0aXZlRmlsZSkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJQcm9jZXNzaW5nIGZpbGU6XCIsIGFjdGl2ZUZpbGUubmFtZSk7XG5cdFx0XHRcdGNvbnN0IGZpbGVCaW5hcnkgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkQmluYXJ5KGFjdGl2ZUZpbGUpO1xuXHRcdFx0XHR0aGlzLnRyYW5zY3JpYmVBdWRpbyhmaWxlQmluYXJ5LCB0cnVlKTtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgZmlsZTogJHthY3RpdmVGaWxlLm5hbWV9YCwgZXJyb3IpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGFzeW5jIHByb2Nlc3NBbGxSZWNvcmRpbmdzKCkge1xuXHRcdC8vIEdldCBhbGwgdGhlIGZpbGVzIGluIHRoZSB2YXVsdFxuXHRcdGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZXMoKTtcblxuXHRcdC8vIEl0ZXJhdGUgdGhyb3VnaCBlYWNoIGZpbGUgYW5kIHByb2Nlc3MgdGhlIFdlYk0gcmVjb3JkaW5nc1xuXHRcdGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuXHRcdFx0Y29uc3QgZXh0ZW5zaW9uID0gZmlsZS5wYXRoLnNwbGl0KFwiLlwiKS5wb3AoKTtcblxuXHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIGZpbGUgZXh0ZW5zaW9uIGlzIFdlYk1cblx0XHRcdGlmIChleHRlbnNpb24gPT09IFwid2VibVwiKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiZm91bmQgd2VibSBmaWxlXCIpO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgZmlsZUJpbmFyeSA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWRCaW5hcnkoZmlsZSk7XG5cdFx0XHRcdFx0dGhpcy50cmFuc2NyaWJlQXVkaW8oZmlsZUJpbmFyeSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihgRXJyb3IgcHJvY2Vzc2luZyBmaWxlOiAke2ZpbGUubmFtZX1gLCBlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRhc3luYyBjcmVhdGVOb3RlKGNvbnRlbnRfYm9keTogc3RyaW5nKSB7XG5cdFx0Ly8gQ3JlYXRlIGEgbmV3IERhdGUgb2JqZWN0XG5cdFx0Y29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xuXG5cdFx0Ly8gR2V0IHRoZSB0aW1lc3RhbXAgaW4gbWlsbGlzZWNvbmRzXG5cdFx0Y29uc3QgdGltZXN0YW1wID0gY3VycmVudERhdGUuZ2V0VGltZSgpO1xuXG5cdFx0Ly8gTG9nIHRoZSBjdXJyZW50IGRhdGUsIHRpbWUsIGFuZCB0aW1lc3RhbXBcblx0XHRjb25zb2xlLmxvZygnQ3VycmVudCBkYXRlIGFuZCB0aW1lOicsIGN1cnJlbnREYXRlKTtcblx0XHRjb25zb2xlLmxvZygnVGltZXN0YW1wOicsIHRpbWVzdGFtcCk7XG5cblx0XHRjb25zdCB0aXRsZSA9IGBUcmFuc2NyaWJlZCBOb3RlICR7dGltZXN0YW1wfWA7IC8vIFNwZWNpZnkgdGhlIHRpdGxlIGZvciB0aGUgbm90ZVxuXG5cdFx0Y29uc3QgY29udGVudCA9IGNvbnRlbnRfYm9keTsgLy8gU3BlY2lmeSB0aGUgY29udGVudCBmb3IgdGhlIG5vdGVcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIkNyZWF0aW5nIE5vdGVcIik7XG5cdFx0XHRjb25zdCBuZXdGaWxlID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGAke3RpdGxlfS5tZGAsIGNvbnRlbnQpO1xuXHRcdFx0aWYgKG5ld0ZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuXHRcdFx0XHRuZXcgTm90aWNlKGBOb3RlIFwiJHtuZXdGaWxlLmJhc2VuYW1lfVwiIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LmApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmV3IE5vdGljZShcIkZhaWxlZCB0byBjcmVhdGUgdGhlIG5vdGUuXCIpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc29sZS5sb2coXCJub3RlIGNyZWF0ZWRcIik7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdG5ldyBOb3RpY2UoXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjcmVhdGluZyB0aGUgbm90ZS5cIik7XG5cdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcblx0XHR9XG5cdH1cbn1cblxuY2xhc3MgVm9pY2VMaW5lclNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBWb2ljZUxpbmVyO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFZvaWNlTGluZXIpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IFwiU2V0dGluZ3MgZm9yIFZvaWNlIExpbmVyXCIgfSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiMS4gT3BlbiBBSSBLZXlcIilcblx0XHRcdC5zZXREZXNjKFxuXHRcdFx0XHRcIllvdSdsbCBmaW5kIHRoZSBrZXkgYXQgaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2FjY291bnQvYXBpLWtleXNcIlxuXHRcdFx0KVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciB5b3VyIHNlY3JldFwiKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuQUlLZXkpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbkFJS2V5ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0fVxufVxuIiwgImV4cG9ydCB7IEJhc2VDaGFpbiB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmV4cG9ydCB7IExMTUNoYWluIH0gZnJvbSBcIi4vbGxtX2NoYWluLmpzXCI7XG5leHBvcnQgeyBBUElDaGFpbiB9IGZyb20gXCIuL2FwaS9hcGlfY2hhaW4uanNcIjtcbmV4cG9ydCB7IENvbnZlcnNhdGlvbkNoYWluIH0gZnJvbSBcIi4vY29udmVyc2F0aW9uLmpzXCI7XG5leHBvcnQgeyBTZXF1ZW50aWFsQ2hhaW4sIFNpbXBsZVNlcXVlbnRpYWxDaGFpbiwgfSBmcm9tIFwiLi9zZXF1ZW50aWFsX2NoYWluLmpzXCI7XG5leHBvcnQgeyBTdHVmZkRvY3VtZW50c0NoYWluLCBNYXBSZWR1Y2VEb2N1bWVudHNDaGFpbiwgUmVmaW5lRG9jdW1lbnRzQ2hhaW4sIH0gZnJvbSBcIi4vY29tYmluZV9kb2NzX2NoYWluLmpzXCI7XG5leHBvcnQgeyBDaGF0VmVjdG9yREJRQUNoYWluLCB9IGZyb20gXCIuL2NoYXRfdmVjdG9yX2RiX2NoYWluLmpzXCI7XG5leHBvcnQgeyBBbmFseXplRG9jdW1lbnRDaGFpbiwgfSBmcm9tIFwiLi9hbmFseXplX2RvY3VtZW50c19jaGFpbi5qc1wiO1xuZXhwb3J0IHsgVmVjdG9yREJRQUNoYWluIH0gZnJvbSBcIi4vdmVjdG9yX2RiX3FhLmpzXCI7XG5leHBvcnQgeyBsb2FkUUFDaGFpbiwgbG9hZFFBU3R1ZmZDaGFpbiwgbG9hZFFBTWFwUmVkdWNlQ2hhaW4sIGxvYWRRQVJlZmluZUNoYWluLCB9IGZyb20gXCIuL3F1ZXN0aW9uX2Fuc3dlcmluZy9sb2FkLmpzXCI7XG5leHBvcnQgeyBsb2FkU3VtbWFyaXphdGlvbkNoYWluLCB9IGZyb20gXCIuL3N1bW1hcml6YXRpb24vbG9hZC5qc1wiO1xuZXhwb3J0IHsgU3FsRGF0YWJhc2VDaGFpbiwgfSBmcm9tIFwiLi9zcWxfZGIvc3FsX2RiX2NoYWluLmpzXCI7XG5leHBvcnQgeyBDb252ZXJzYXRpb25hbFJldHJpZXZhbFFBQ2hhaW4sIH0gZnJvbSBcIi4vY29udmVyc2F0aW9uYWxfcmV0cmlldmFsX2NoYWluLmpzXCI7XG5leHBvcnQgeyBSZXRyaWV2YWxRQUNoYWluIH0gZnJvbSBcIi4vcmV0cmlldmFsX3FhLmpzXCI7XG5leHBvcnQgeyBDb25zdGl0dXRpb25hbENoYWluLCB9IGZyb20gXCIuL2NvbnN0aXR1dGlvbmFsX2FpL2NvbnN0aXR1dGlvbmFsX2NoYWluLmpzXCI7XG5leHBvcnQgeyBDb25zdGl0dXRpb25hbFByaW5jaXBsZSwgUFJJTkNJUExFUywgfSBmcm9tIFwiLi9jb25zdGl0dXRpb25hbF9haS9jb25zdGl0dXRpb25hbF9wcmluY2lwbGUuanNcIjtcbmV4cG9ydCB7IE9wZW5BSU1vZGVyYXRpb25DaGFpbiB9IGZyb20gXCIuL29wZW5haV9tb2RlcmF0aW9uLmpzXCI7XG5leHBvcnQgeyBNdWx0aVJvdXRlQ2hhaW4sIFJvdXRlckNoYWluLCB9IGZyb20gXCIuL3JvdXRlci9tdWx0aV9yb3V0ZS5qc1wiO1xuZXhwb3J0IHsgTExNUm91dGVyQ2hhaW4sIH0gZnJvbSBcIi4vcm91dGVyL2xsbV9yb3V0ZXIuanNcIjtcbmV4cG9ydCB7IE11bHRpUHJvbXB0Q2hhaW4gfSBmcm9tIFwiLi9yb3V0ZXIvbXVsdGlfcHJvbXB0LmpzXCI7XG5leHBvcnQgeyBNdWx0aVJldHJpZXZhbFFBQ2hhaW4gfSBmcm9tIFwiLi9yb3V0ZXIvbXVsdGlfcmV0cmlldmFsX3FhLmpzXCI7XG4iLCAiaW1wb3J0IHsgTExNQ2hhaW4gfSBmcm9tIFwiLi9sbG1fY2hhaW4uanNcIjtcbmltcG9ydCB7IFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIi4uL3Byb21wdHMvcHJvbXB0LmpzXCI7XG5pbXBvcnQgeyBCdWZmZXJNZW1vcnkgfSBmcm9tIFwiLi4vbWVtb3J5L2J1ZmZlcl9tZW1vcnkuanNcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1RFTVBMQVRFID0gYFRoZSBmb2xsb3dpbmcgaXMgYSBmcmllbmRseSBjb252ZXJzYXRpb24gYmV0d2VlbiBhIGh1bWFuIGFuZCBhbiBBSS4gVGhlIEFJIGlzIHRhbGthdGl2ZSBhbmQgcHJvdmlkZXMgbG90cyBvZiBzcGVjaWZpYyBkZXRhaWxzIGZyb20gaXRzIGNvbnRleHQuIElmIHRoZSBBSSBkb2VzIG5vdCBrbm93IHRoZSBhbnN3ZXIgdG8gYSBxdWVzdGlvbiwgaXQgdHJ1dGhmdWxseSBzYXlzIGl0IGRvZXMgbm90IGtub3cuXG5cbkN1cnJlbnQgY29udmVyc2F0aW9uOlxue2hpc3Rvcnl9XG5IdW1hbjoge2lucHV0fVxuQUk6YDtcbmV4cG9ydCBjbGFzcyBDb252ZXJzYXRpb25DaGFpbiBleHRlbmRzIExMTUNoYWluIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHByb21wdCwgb3V0cHV0S2V5LCBtZW1vcnksIC4uLnJlc3QgfSkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBwcm9tcHQ6IHByb21wdCA/P1xuICAgICAgICAgICAgICAgIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBERUZBVUxUX1RFTVBMQVRFLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFZhcmlhYmxlczogW1wiaGlzdG9yeVwiLCBcImlucHV0XCJdLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb3V0cHV0S2V5OiBvdXRwdXRLZXkgPz8gXCJyZXNwb25zZVwiLFxuICAgICAgICAgICAgbWVtb3J5OiBtZW1vcnkgPz8gbmV3IEJ1ZmZlck1lbW9yeSgpLFxuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IGdldEJ1ZmZlclN0cmluZyB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IEJhc2VDaGF0TWVtb3J5IH0gZnJvbSBcIi4vY2hhdF9tZW1vcnkuanNcIjtcbmV4cG9ydCBjbGFzcyBCdWZmZXJNZW1vcnkgZXh0ZW5kcyBCYXNlQ2hhdE1lbW9yeSB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGNoYXRIaXN0b3J5OiBmaWVsZHM/LmNoYXRIaXN0b3J5LFxuICAgICAgICAgICAgcmV0dXJuTWVzc2FnZXM6IGZpZWxkcz8ucmV0dXJuTWVzc2FnZXMgPz8gZmFsc2UsXG4gICAgICAgICAgICBpbnB1dEtleTogZmllbGRzPy5pbnB1dEtleSxcbiAgICAgICAgICAgIG91dHB1dEtleTogZmllbGRzPy5vdXRwdXRLZXksXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJodW1hblByZWZpeFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJIdW1hblwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhaVByZWZpeFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJBSVwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZW1vcnlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiaGlzdG9yeVwiXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmh1bWFuUHJlZml4ID0gZmllbGRzPy5odW1hblByZWZpeCA/PyB0aGlzLmh1bWFuUHJlZml4O1xuICAgICAgICB0aGlzLmFpUHJlZml4ID0gZmllbGRzPy5haVByZWZpeCA/PyB0aGlzLmFpUHJlZml4O1xuICAgICAgICB0aGlzLm1lbW9yeUtleSA9IGZpZWxkcz8ubWVtb3J5S2V5ID8/IHRoaXMubWVtb3J5S2V5O1xuICAgIH1cbiAgICBnZXQgbWVtb3J5S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLm1lbW9yeUtleV07XG4gICAgfVxuICAgIGFzeW5jIGxvYWRNZW1vcnlWYXJpYWJsZXMoX3ZhbHVlcykge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IHRoaXMuY2hhdEhpc3RvcnkuZ2V0TWVzc2FnZXMoKTtcbiAgICAgICAgaWYgKHRoaXMucmV0dXJuTWVzc2FnZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBbdGhpcy5tZW1vcnlLZXldOiBtZXNzYWdlcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIFt0aGlzLm1lbW9yeUtleV06IGdldEJ1ZmZlclN0cmluZyhtZXNzYWdlcywgdGhpcy5odW1hblByZWZpeCwgdGhpcy5haVByZWZpeCksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEJhc2VNZW1vcnksIGdldElucHV0VmFsdWUsIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ2hhdE1lc3NhZ2VIaXN0b3J5IH0gZnJvbSBcIi4uL3N0b3Jlcy9tZXNzYWdlL2luX21lbW9yeS5qc1wiO1xuZXhwb3J0IGNsYXNzIEJhc2VDaGF0TWVtb3J5IGV4dGVuZHMgQmFzZU1lbW9yeSB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYXRIaXN0b3J5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVybk1lc3NhZ2VzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5wdXRLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3V0cHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hhdEhpc3RvcnkgPSBmaWVsZHM/LmNoYXRIaXN0b3J5ID8/IG5ldyBDaGF0TWVzc2FnZUhpc3RvcnkoKTtcbiAgICAgICAgdGhpcy5yZXR1cm5NZXNzYWdlcyA9IGZpZWxkcz8ucmV0dXJuTWVzc2FnZXMgPz8gdGhpcy5yZXR1cm5NZXNzYWdlcztcbiAgICAgICAgdGhpcy5pbnB1dEtleSA9IGZpZWxkcz8uaW5wdXRLZXkgPz8gdGhpcy5pbnB1dEtleTtcbiAgICAgICAgdGhpcy5vdXRwdXRLZXkgPSBmaWVsZHM/Lm91dHB1dEtleSA/PyB0aGlzLm91dHB1dEtleTtcbiAgICB9XG4gICAgYXN5bmMgc2F2ZUNvbnRleHQoaW5wdXRWYWx1ZXMsIG91dHB1dFZhbHVlcykge1xuICAgICAgICAvLyB0aGlzIGlzIHB1cnBvc2VmdWxseSBkb25lIGluIHNlcXVlbmNlIHNvIHRoZXkncmUgc2F2ZWQgaW4gb3JkZXJcbiAgICAgICAgYXdhaXQgdGhpcy5jaGF0SGlzdG9yeS5hZGRVc2VyTWVzc2FnZShnZXRJbnB1dFZhbHVlKGlucHV0VmFsdWVzLCB0aGlzLmlucHV0S2V5KSk7XG4gICAgICAgIGF3YWl0IHRoaXMuY2hhdEhpc3RvcnkuYWRkQUlDaGF0TWVzc2FnZShnZXRJbnB1dFZhbHVlKG91dHB1dFZhbHVlcywgdGhpcy5vdXRwdXRLZXkpKTtcbiAgICB9XG4gICAgYXN5bmMgY2xlYXIoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2hhdEhpc3RvcnkuY2xlYXIoKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQmFzZUxpc3RDaGF0TWVzc2FnZUhpc3RvcnksIH0gZnJvbSBcIi4uLy4uL3NjaGVtYS9pbmRleC5qc1wiO1xuZXhwb3J0IGNsYXNzIENoYXRNZXNzYWdlSGlzdG9yeSBleHRlbmRzIEJhc2VMaXN0Q2hhdE1lc3NhZ2VIaXN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXNzYWdlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW11cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSBtZXNzYWdlcyA/PyBbXTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TWVzc2FnZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzO1xuICAgIH1cbiAgICBhc3luYyBhZGRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBhc3luYyBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuLi9wcm9tcHRzL3Byb21wdC5qc1wiO1xuaW1wb3J0IHsgQmFzZUNoYWluIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgTExNQ2hhaW4gfSBmcm9tIFwiLi9sbG1fY2hhaW4uanNcIjtcbmltcG9ydCB7IGxvYWRRQVN0dWZmQ2hhaW4gfSBmcm9tIFwiLi9xdWVzdGlvbl9hbnN3ZXJpbmcvbG9hZC5qc1wiO1xuY29uc3QgcXVlc3Rpb25fZ2VuZXJhdG9yX3RlbXBsYXRlID0gYEdpdmVuIHRoZSBmb2xsb3dpbmcgY29udmVyc2F0aW9uIGFuZCBhIGZvbGxvdyB1cCBxdWVzdGlvbiwgcmVwaHJhc2UgdGhlIGZvbGxvdyB1cCBxdWVzdGlvbiB0byBiZSBhIHN0YW5kYWxvbmUgcXVlc3Rpb24uXG5cbkNoYXQgSGlzdG9yeTpcbntjaGF0X2hpc3Rvcnl9XG5Gb2xsb3cgVXAgSW5wdXQ6IHtxdWVzdGlvbn1cblN0YW5kYWxvbmUgcXVlc3Rpb246YDtcbmNvbnN0IHFhX3RlbXBsYXRlID0gYFVzZSB0aGUgZm9sbG93aW5nIHBpZWNlcyBvZiBjb250ZXh0IHRvIGFuc3dlciB0aGUgcXVlc3Rpb24gYXQgdGhlIGVuZC4gSWYgeW91IGRvbid0IGtub3cgdGhlIGFuc3dlciwganVzdCBzYXkgdGhhdCB5b3UgZG9uJ3Qga25vdywgZG9uJ3QgdHJ5IHRvIG1ha2UgdXAgYW4gYW5zd2VyLlxuXG57Y29udGV4dH1cblxuUXVlc3Rpb246IHtxdWVzdGlvbn1cbkhlbHBmdWwgQW5zd2VyOmA7XG4vKiogQGRlcHJlY2F0ZWQgdXNlIGBDb252ZXJzYXRpb25hbFJldHJpZXZhbFFBQ2hhaW5gIGluc3RlYWQuICovXG5leHBvcnQgY2xhc3MgQ2hhdFZlY3RvckRCUUFDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmlucHV0S2V5LCB0aGlzLmNoYXRIaXN0b3J5S2V5XTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5vdXRwdXRLZXldO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwia1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogNFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5wdXRLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwicXVlc3Rpb25cIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhdEhpc3RvcnlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiY2hhdF9oaXN0b3J5XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm91dHB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJyZXN1bHRcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmVjdG9yc3RvcmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29tYmluZURvY3VtZW50c0NoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInF1ZXN0aW9uR2VuZXJhdG9yQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmV0dXJuU291cmNlRG9jdW1lbnRzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZWN0b3JzdG9yZSA9IGZpZWxkcy52ZWN0b3JzdG9yZTtcbiAgICAgICAgdGhpcy5jb21iaW5lRG9jdW1lbnRzQ2hhaW4gPSBmaWVsZHMuY29tYmluZURvY3VtZW50c0NoYWluO1xuICAgICAgICB0aGlzLnF1ZXN0aW9uR2VuZXJhdG9yQ2hhaW4gPSBmaWVsZHMucXVlc3Rpb25HZW5lcmF0b3JDaGFpbjtcbiAgICAgICAgdGhpcy5pbnB1dEtleSA9IGZpZWxkcy5pbnB1dEtleSA/PyB0aGlzLmlucHV0S2V5O1xuICAgICAgICB0aGlzLm91dHB1dEtleSA9IGZpZWxkcy5vdXRwdXRLZXkgPz8gdGhpcy5vdXRwdXRLZXk7XG4gICAgICAgIHRoaXMuayA9IGZpZWxkcy5rID8/IHRoaXMuaztcbiAgICAgICAgdGhpcy5yZXR1cm5Tb3VyY2VEb2N1bWVudHMgPVxuICAgICAgICAgICAgZmllbGRzLnJldHVyblNvdXJjZURvY3VtZW50cyA/PyB0aGlzLnJldHVyblNvdXJjZURvY3VtZW50cztcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgaWYgKCEodGhpcy5pbnB1dEtleSBpbiB2YWx1ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFF1ZXN0aW9uIGtleSAke3RoaXMuaW5wdXRLZXl9IG5vdCBmb3VuZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh0aGlzLmNoYXRIaXN0b3J5S2V5IGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2hhdCBoaXN0b3J5IGtleSAke3RoaXMuaW5wdXRLZXl9IG5vdCBmb3VuZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWVzdGlvbiA9IHZhbHVlc1t0aGlzLmlucHV0S2V5XTtcbiAgICAgICAgY29uc3QgY2hhdEhpc3RvcnkgPSB2YWx1ZXNbdGhpcy5jaGF0SGlzdG9yeUtleV07XG4gICAgICAgIGxldCBuZXdRdWVzdGlvbiA9IHF1ZXN0aW9uO1xuICAgICAgICBpZiAoY2hhdEhpc3RvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5xdWVzdGlvbkdlbmVyYXRvckNoYWluLmNhbGwoe1xuICAgICAgICAgICAgICAgIHF1ZXN0aW9uLFxuICAgICAgICAgICAgICAgIGNoYXRfaGlzdG9yeTogY2hhdEhpc3RvcnksXG4gICAgICAgICAgICB9LCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKTtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZXN1bHQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJfY2FsbFwiLCB2YWx1ZXMsIGtleXMpO1xuICAgICAgICAgICAgaWYgKGtleXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgbmV3UXVlc3Rpb24gPSByZXN1bHRba2V5c1swXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXR1cm4gZnJvbSBsbG0gY2hhaW4gaGFzIG11bHRpcGxlIHZhbHVlcywgb25seSBzaW5nbGUgdmFsdWVzIHN1cHBvcnRlZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZG9jcyA9IGF3YWl0IHRoaXMudmVjdG9yc3RvcmUuc2ltaWxhcml0eVNlYXJjaChuZXdRdWVzdGlvbiwgdGhpcy5rKTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0ge1xuICAgICAgICAgICAgcXVlc3Rpb246IG5ld1F1ZXN0aW9uLFxuICAgICAgICAgICAgaW5wdXRfZG9jdW1lbnRzOiBkb2NzLFxuICAgICAgICAgICAgY2hhdF9oaXN0b3J5OiBjaGF0SGlzdG9yeSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jb21iaW5lRG9jdW1lbnRzQ2hhaW4uY2FsbChpbnB1dHMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpO1xuICAgICAgICBpZiAodGhpcy5yZXR1cm5Tb3VyY2VEb2N1bWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICAgICAgICAgIHNvdXJjZURvY3VtZW50czogZG9jcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiY2hhdC12ZWN0b3ItZGJcIjtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEsIHZhbHVlcykge1xuICAgICAgICBpZiAoIShcInZlY3RvcnN0b3JlXCIgaW4gdmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOZWVkIHRvIHBhc3MgaW4gYSB2ZWN0b3JzdG9yZSB0byBkZXNlcmlhbGl6ZSBWZWN0b3JEQlFBQ2hhaW5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHZlY3RvcnN0b3JlIH0gPSB2YWx1ZXM7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdFZlY3RvckRCUUFDaGFpbih7XG4gICAgICAgICAgICBjb21iaW5lRG9jdW1lbnRzQ2hhaW46IGF3YWl0IEJhc2VDaGFpbi5kZXNlcmlhbGl6ZShkYXRhLmNvbWJpbmVfZG9jdW1lbnRzX2NoYWluKSxcbiAgICAgICAgICAgIHF1ZXN0aW9uR2VuZXJhdG9yQ2hhaW46IGF3YWl0IExMTUNoYWluLmRlc2VyaWFsaXplKGRhdGEucXVlc3Rpb25fZ2VuZXJhdG9yKSxcbiAgICAgICAgICAgIGs6IGRhdGEuayxcbiAgICAgICAgICAgIHZlY3RvcnN0b3JlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2NoYWluVHlwZSgpLFxuICAgICAgICAgICAgY29tYmluZV9kb2N1bWVudHNfY2hhaW46IHRoaXMuY29tYmluZURvY3VtZW50c0NoYWluLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgcXVlc3Rpb25fZ2VuZXJhdG9yOiB0aGlzLnF1ZXN0aW9uR2VuZXJhdG9yQ2hhaW4uc2VyaWFsaXplKCksXG4gICAgICAgICAgICBrOiB0aGlzLmssXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTExNKGxsbSwgdmVjdG9yc3RvcmUsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCB7IHF1ZXN0aW9uR2VuZXJhdG9yVGVtcGxhdGUsIHFhVGVtcGxhdGUsIHZlcmJvc2UsIC4uLnJlc3QgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uX2dlbmVyYXRvcl9wcm9tcHQgPSBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUocXVlc3Rpb25HZW5lcmF0b3JUZW1wbGF0ZSB8fCBxdWVzdGlvbl9nZW5lcmF0b3JfdGVtcGxhdGUpO1xuICAgICAgICBjb25zdCBxYV9wcm9tcHQgPSBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUocWFUZW1wbGF0ZSB8fCBxYV90ZW1wbGF0ZSk7XG4gICAgICAgIGNvbnN0IHFhQ2hhaW4gPSBsb2FkUUFTdHVmZkNoYWluKGxsbSwgeyBwcm9tcHQ6IHFhX3Byb21wdCwgdmVyYm9zZSB9KTtcbiAgICAgICAgY29uc3QgcXVlc3Rpb25HZW5lcmF0b3JDaGFpbiA9IG5ldyBMTE1DaGFpbih7XG4gICAgICAgICAgICBwcm9tcHQ6IHF1ZXN0aW9uX2dlbmVyYXRvcl9wcm9tcHQsXG4gICAgICAgICAgICBsbG0sXG4gICAgICAgICAgICB2ZXJib3NlLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgdGhpcyh7XG4gICAgICAgICAgICB2ZWN0b3JzdG9yZSxcbiAgICAgICAgICAgIGNvbWJpbmVEb2N1bWVudHNDaGFpbjogcWFDaGFpbixcbiAgICAgICAgICAgIHF1ZXN0aW9uR2VuZXJhdG9yQ2hhaW4sXG4gICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBCYXNlQ2hhaW4gfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBSZWN1cnNpdmVDaGFyYWN0ZXJUZXh0U3BsaXR0ZXIsIH0gZnJvbSBcIi4uL3RleHRfc3BsaXR0ZXIuanNcIjtcbi8qKlxuICogQ2hhaW4gdGhhdCBjb21iaW5lcyBkb2N1bWVudHMgYnkgc3R1ZmZpbmcgaW50byBjb250ZXh0LlxuICogQGF1Z21lbnRzIEJhc2VDaGFpblxuICogQGF1Z21lbnRzIFN0dWZmRG9jdW1lbnRzQ2hhaW5JbnB1dFxuICovXG5leHBvcnQgY2xhc3MgQW5hbHl6ZURvY3VtZW50Q2hhaW4gZXh0ZW5kcyBCYXNlQ2hhaW4ge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJpbnB1dF9kb2N1bWVudFwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb21iaW5lRG9jdW1lbnRzQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGV4dFNwbGl0dGVyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29tYmluZURvY3VtZW50c0NoYWluID0gZmllbGRzLmNvbWJpbmVEb2N1bWVudHNDaGFpbjtcbiAgICAgICAgdGhpcy5pbnB1dEtleSA9IGZpZWxkcy5pbnB1dEtleSA/PyB0aGlzLmlucHV0S2V5O1xuICAgICAgICB0aGlzLnRleHRTcGxpdHRlciA9XG4gICAgICAgICAgICBmaWVsZHMudGV4dFNwbGl0dGVyID8/IG5ldyBSZWN1cnNpdmVDaGFyYWN0ZXJUZXh0U3BsaXR0ZXIoKTtcbiAgICB9XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmlucHV0S2V5XTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbWJpbmVEb2N1bWVudHNDaGFpbi5vdXRwdXRLZXlzO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKHZhbHVlcywgcnVuTWFuYWdlcikge1xuICAgICAgICBpZiAoISh0aGlzLmlucHV0S2V5IGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRG9jdW1lbnQga2V5ICR7dGhpcy5pbnB1dEtleX0gbm90IGZvdW5kLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgW3RoaXMuaW5wdXRLZXldOiBkb2MsIC4uLnJlc3QgfSA9IHZhbHVlcztcbiAgICAgICAgY29uc3QgY3VycmVudERvYyA9IGRvYztcbiAgICAgICAgY29uc3QgY3VycmVudERvY3MgPSBhd2FpdCB0aGlzLnRleHRTcGxpdHRlci5jcmVhdGVEb2N1bWVudHMoW2N1cnJlbnREb2NdKTtcbiAgICAgICAgY29uc3QgbmV3SW5wdXRzID0geyBpbnB1dF9kb2N1bWVudHM6IGN1cnJlbnREb2NzLCAuLi5yZXN0IH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY29tYmluZURvY3VtZW50c0NoYWluLmNhbGwobmV3SW5wdXRzLCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiYW5hbHl6ZV9kb2N1bWVudF9jaGFpblwiO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSwgdmFsdWVzKSB7XG4gICAgICAgIGlmICghKFwidGV4dF9zcGxpdHRlclwiIGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTmVlZCB0byBwYXNzIGluIGEgdGV4dF9zcGxpdHRlciB0byBkZXNlcmlhbGl6ZSBBbmFseXplRG9jdW1lbnRDaGFpbi5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHRleHRfc3BsaXR0ZXIgfSA9IHZhbHVlcztcbiAgICAgICAgaWYgKCFkYXRhLmNvbWJpbmVfZG9jdW1lbnRfY2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTmVlZCB0byBwYXNzIGluIGEgY29tYmluZV9kb2N1bWVudF9jaGFpbiB0byBkZXNlcmlhbGl6ZSBBbmFseXplRG9jdW1lbnRDaGFpbi5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFuYWx5emVEb2N1bWVudENoYWluKHtcbiAgICAgICAgICAgIGNvbWJpbmVEb2N1bWVudHNDaGFpbjogYXdhaXQgQmFzZUNoYWluLmRlc2VyaWFsaXplKGRhdGEuY29tYmluZV9kb2N1bWVudF9jaGFpbiksXG4gICAgICAgICAgICB0ZXh0U3BsaXR0ZXI6IHRleHRfc3BsaXR0ZXIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fY2hhaW5UeXBlKCksXG4gICAgICAgICAgICBjb21iaW5lX2RvY3VtZW50X2NoYWluOiB0aGlzLmNvbWJpbmVEb2N1bWVudHNDaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgRG9jdW1lbnQgfSBmcm9tIFwiLi9kb2N1bWVudC5qc1wiO1xuaW1wb3J0IHsgZ2V0RW5jb2RpbmcgfSBmcm9tIFwiLi91dGlsL3Rpa3Rva2VuLmpzXCI7XG5leHBvcnQgY2xhc3MgVGV4dFNwbGl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2h1bmtTaXplXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAxMDAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaHVua092ZXJsYXBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDIwMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwia2VlcFNlcGFyYXRvclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2h1bmtTaXplID0gZmllbGRzPy5jaHVua1NpemUgPz8gdGhpcy5jaHVua1NpemU7XG4gICAgICAgIHRoaXMuY2h1bmtPdmVybGFwID0gZmllbGRzPy5jaHVua092ZXJsYXAgPz8gdGhpcy5jaHVua092ZXJsYXA7XG4gICAgICAgIHRoaXMua2VlcFNlcGFyYXRvciA9IGZpZWxkcz8ua2VlcFNlcGFyYXRvciA/PyB0aGlzLmtlZXBTZXBhcmF0b3I7XG4gICAgICAgIGlmICh0aGlzLmNodW5rT3ZlcmxhcCA+PSB0aGlzLmNodW5rU2l6ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGhhdmUgY2h1bmtPdmVybGFwID49IGNodW5rU2l6ZVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzcGxpdE9uU2VwYXJhdG9yKHRleHQsIHNlcGFyYXRvcikge1xuICAgICAgICBsZXQgc3BsaXRzO1xuICAgICAgICBpZiAoc2VwYXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5rZWVwU2VwYXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXhFc2NhcGVkU2VwYXJhdG9yID0gc2VwYXJhdG9yLnJlcGxhY2UoL1svXFwtXFxcXF4kKis/LigpfFtcXF17fV0vZywgXCJcXFxcJCZcIik7XG4gICAgICAgICAgICAgICAgc3BsaXRzID0gdGV4dC5zcGxpdChuZXcgUmVnRXhwKGAoPz0ke3JlZ2V4RXNjYXBlZFNlcGFyYXRvcn0pYCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3BsaXRzID0gdGV4dC5zcGxpdChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3BsaXRzID0gdGV4dC5zcGxpdChcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3BsaXRzLmZpbHRlcigocykgPT4gcyAhPT0gXCJcIik7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZURvY3VtZW50cyh0ZXh0cywgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBtZXRhZGF0YXMgPSBbXSwgY2h1bmtIZWFkZXJPcHRpb25zID0ge30pIHtcbiAgICAgICAgLy8gaWYgbm8gbWV0YWRhdGEgaXMgcHJvdmlkZWQsIHdlIGNyZWF0ZSBhbiBlbXB0eSBvbmUgZm9yIGVhY2ggdGV4dFxuICAgICAgICBjb25zdCBfbWV0YWRhdGFzID0gbWV0YWRhdGFzLmxlbmd0aCA+IDAgPyBtZXRhZGF0YXMgOiBuZXcgQXJyYXkodGV4dHMubGVuZ3RoKS5maWxsKHt9KTtcbiAgICAgICAgY29uc3QgeyBjaHVua0hlYWRlciA9IFwiXCIsIGNodW5rT3ZlcmxhcEhlYWRlciA9IFwiKGNvbnQnZCkgXCIsIGFwcGVuZENodW5rT3ZlcmxhcEhlYWRlciA9IGZhbHNlLCB9ID0gY2h1bmtIZWFkZXJPcHRpb25zO1xuICAgICAgICBjb25zdCBkb2N1bWVudHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRleHRzW2ldO1xuICAgICAgICAgICAgbGV0IGxpbmVDb3VudGVySW5kZXggPSAxO1xuICAgICAgICAgICAgbGV0IHByZXZDaHVuayA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNodW5rIG9mIGF3YWl0IHRoaXMuc3BsaXRUZXh0KHRleHQpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhZ2VDb250ZW50ID0gY2h1bmtIZWFkZXI7XG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBjb3VudCB0aGUgXFxuIHRoYXQgYXJlIGluIHRoZSB0ZXh0IGJlZm9yZSBnZXR0aW5nIHJlbW92ZWQgYnkgdGhlIHNwbGl0dGluZ1xuICAgICAgICAgICAgICAgIGxldCBudW1iZXJPZkludGVybWVkaWF0ZU5ld0xpbmVzID0gMDtcbiAgICAgICAgICAgICAgICBpZiAocHJldkNodW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4Q2h1bmsgPSB0ZXh0LmluZGV4T2YoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleEVuZFByZXZDaHVuayA9IHRleHQuaW5kZXhPZihwcmV2Q2h1bmspICsgcHJldkNodW5rLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlZE5ld2xpbmVzRnJvbVNwbGl0dGluZ1RleHQgPSB0ZXh0LnNsaWNlKGluZGV4RW5kUHJldkNodW5rLCBpbmRleENodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZJbnRlcm1lZGlhdGVOZXdMaW5lcyA9IChyZW1vdmVkTmV3bGluZXNGcm9tU3BsaXR0aW5nVGV4dC5tYXRjaCgvXFxuL2cpIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBlbmRDaHVua092ZXJsYXBIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VDb250ZW50ICs9IGNodW5rT3ZlcmxhcEhlYWRlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5lQ291bnRlckluZGV4ICs9IG51bWJlck9mSW50ZXJtZWRpYXRlTmV3TGluZXM7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TGluZXNDb3VudCA9IChjaHVuay5tYXRjaCgvXFxuL2cpIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jID0gX21ldGFkYXRhc1tpXS5sb2MgJiYgdHlwZW9mIF9tZXRhZGF0YXNbaV0ubG9jID09PSBcIm9iamVjdFwiXG4gICAgICAgICAgICAgICAgICAgID8geyAuLi5fbWV0YWRhdGFzW2ldLmxvYyB9XG4gICAgICAgICAgICAgICAgICAgIDoge307XG4gICAgICAgICAgICAgICAgbG9jLmxpbmVzID0ge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBsaW5lQ291bnRlckluZGV4LFxuICAgICAgICAgICAgICAgICAgICB0bzogbGluZUNvdW50ZXJJbmRleCArIG5ld0xpbmVzQ291bnQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YVdpdGhMaW5lc051bWJlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uX21ldGFkYXRhc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgbG9jLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcGFnZUNvbnRlbnQgKz0gY2h1bms7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRzLnB1c2gobmV3IERvY3VtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZUNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBtZXRhZGF0YVdpdGhMaW5lc051bWJlcixcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgbGluZUNvdW50ZXJJbmRleCArPSBuZXdMaW5lc0NvdW50O1xuICAgICAgICAgICAgICAgIHByZXZDaHVuayA9IGNodW5rO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2N1bWVudHM7XG4gICAgfVxuICAgIGFzeW5jIHNwbGl0RG9jdW1lbnRzKGRvY3VtZW50cywgY2h1bmtIZWFkZXJPcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWREb2N1bWVudHMgPSBkb2N1bWVudHMuZmlsdGVyKChkb2MpID0+IGRvYy5wYWdlQ29udGVudCAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgY29uc3QgdGV4dHMgPSBzZWxlY3RlZERvY3VtZW50cy5tYXAoKGRvYykgPT4gZG9jLnBhZ2VDb250ZW50KTtcbiAgICAgICAgY29uc3QgbWV0YWRhdGFzID0gc2VsZWN0ZWREb2N1bWVudHMubWFwKChkb2MpID0+IGRvYy5tZXRhZGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZURvY3VtZW50cyh0ZXh0cywgbWV0YWRhdGFzLCBjaHVua0hlYWRlck9wdGlvbnMpO1xuICAgIH1cbiAgICBqb2luRG9jcyhkb2NzLCBzZXBhcmF0b3IpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3Muam9pbihzZXBhcmF0b3IpLnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIHRleHQgPT09IFwiXCIgPyBudWxsIDogdGV4dDtcbiAgICB9XG4gICAgbWVyZ2VTcGxpdHMoc3BsaXRzLCBzZXBhcmF0b3IpIHtcbiAgICAgICAgY29uc3QgZG9jcyA9IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50RG9jID0gW107XG4gICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgZCBvZiBzcGxpdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IF9sZW4gPSBkLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0b3RhbCArIF9sZW4gKyAoY3VycmVudERvYy5sZW5ndGggPiAwID8gc2VwYXJhdG9yLmxlbmd0aCA6IDApID5cbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rU2l6ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0b3RhbCA+IHRoaXMuY2h1bmtTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ3JlYXRlZCBhIGNodW5rIG9mIHNpemUgJHt0b3RhbH0sICtcbndoaWNoIGlzIGxvbmdlciB0aGFuIHRoZSBzcGVjaWZpZWQgJHt0aGlzLmNodW5rU2l6ZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnREb2MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2MgPSB0aGlzLmpvaW5Eb2NzKGN1cnJlbnREb2MsIHNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2MgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3MucHVzaChkb2MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgb24gcG9wcGluZyBpZjpcbiAgICAgICAgICAgICAgICAgICAgLy8gLSB3ZSBoYXZlIGEgbGFyZ2VyIGNodW5rIHRoYW4gaW4gdGhlIGNodW5rIG92ZXJsYXBcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBvciBpZiB3ZSBzdGlsbCBoYXZlIGFueSBjaHVua3MgYW5kIHRoZSBsZW5ndGggaXMgbG9uZ1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodG90YWwgPiB0aGlzLmNodW5rT3ZlcmxhcCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHRvdGFsICsgX2xlbiA+IHRoaXMuY2h1bmtTaXplICYmIHRvdGFsID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsIC09IGN1cnJlbnREb2NbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERvYy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudERvYy5wdXNoKGQpO1xuICAgICAgICAgICAgdG90YWwgKz0gX2xlbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkb2MgPSB0aGlzLmpvaW5Eb2NzKGN1cnJlbnREb2MsIHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChkb2MgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRvY3MucHVzaChkb2MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2NzO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJUZXh0U3BsaXR0ZXIgZXh0ZW5kcyBUZXh0U3BsaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXBhcmF0b3JcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiXFxuXFxuXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VwYXJhdG9yID0gZmllbGRzPy5zZXBhcmF0b3IgPz8gdGhpcy5zZXBhcmF0b3I7XG4gICAgfVxuICAgIGFzeW5jIHNwbGl0VGV4dCh0ZXh0KSB7XG4gICAgICAgIC8vIEZpcnN0IHdlIG5haXZlbHkgc3BsaXQgdGhlIGxhcmdlIGlucHV0IGludG8gYSBidW5jaCBvZiBzbWFsbGVyIG9uZXMuXG4gICAgICAgIGNvbnN0IHNwbGl0cyA9IHRoaXMuc3BsaXRPblNlcGFyYXRvcih0ZXh0LCB0aGlzLnNlcGFyYXRvcik7XG4gICAgICAgIHJldHVybiB0aGlzLm1lcmdlU3BsaXRzKHNwbGl0cywgdGhpcy5rZWVwU2VwYXJhdG9yID8gXCJcIiA6IHRoaXMuc2VwYXJhdG9yKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgU3VwcG9ydGVkVGV4dFNwbGl0dGVyTGFuZ3VhZ2VzID0gW1xuICAgIFwiY3BwXCIsXG4gICAgXCJnb1wiLFxuICAgIFwiamF2YVwiLFxuICAgIFwianNcIixcbiAgICBcInBocFwiLFxuICAgIFwicHJvdG9cIixcbiAgICBcInB5dGhvblwiLFxuICAgIFwicnN0XCIsXG4gICAgXCJydWJ5XCIsXG4gICAgXCJydXN0XCIsXG4gICAgXCJzY2FsYVwiLFxuICAgIFwic3dpZnRcIixcbiAgICBcIm1hcmtkb3duXCIsXG4gICAgXCJsYXRleFwiLFxuICAgIFwiaHRtbFwiLFxuXTtcbmV4cG9ydCBjbGFzcyBSZWN1cnNpdmVDaGFyYWN0ZXJUZXh0U3BsaXR0ZXIgZXh0ZW5kcyBUZXh0U3BsaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXBhcmF0b3JzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJcXG5cXG5cIiwgXCJcXG5cIiwgXCIgXCIsIFwiXCJdXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlcGFyYXRvcnMgPSBmaWVsZHM/LnNlcGFyYXRvcnMgPz8gdGhpcy5zZXBhcmF0b3JzO1xuICAgICAgICB0aGlzLmtlZXBTZXBhcmF0b3IgPSBmaWVsZHM/LmtlZXBTZXBhcmF0b3IgPz8gdHJ1ZTtcbiAgICB9XG4gICAgYXN5bmMgX3NwbGl0VGV4dCh0ZXh0LCBzZXBhcmF0b3JzKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsQ2h1bmtzID0gW107XG4gICAgICAgIC8vIEdldCBhcHByb3ByaWF0ZSBzZXBhcmF0b3IgdG8gdXNlXG4gICAgICAgIGxldCBzZXBhcmF0b3IgPSBzZXBhcmF0b3JzW3NlcGFyYXRvcnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGxldCBuZXdTZXBhcmF0b3JzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcGFyYXRvcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBzZXBhcmF0b3JzW2ldO1xuICAgICAgICAgICAgaWYgKHMgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3IgPSBzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRleHQuaW5jbHVkZXMocykpIHtcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3IgPSBzO1xuICAgICAgICAgICAgICAgIG5ld1NlcGFyYXRvcnMgPSBzZXBhcmF0b3JzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBOb3cgdGhhdCB3ZSBoYXZlIHRoZSBzZXBhcmF0b3IsIHNwbGl0IHRoZSB0ZXh0XG4gICAgICAgIGNvbnN0IHNwbGl0cyA9IHRoaXMuc3BsaXRPblNlcGFyYXRvcih0ZXh0LCBzZXBhcmF0b3IpO1xuICAgICAgICAvLyBOb3cgZ28gbWVyZ2luZyB0aGluZ3MsIHJlY3Vyc2l2ZWx5IHNwbGl0dGluZyBsb25nZXIgdGV4dHMuXG4gICAgICAgIGxldCBnb29kU3BsaXRzID0gW107XG4gICAgICAgIGNvbnN0IF9zZXBhcmF0b3IgPSB0aGlzLmtlZXBTZXBhcmF0b3IgPyBcIlwiIDogc2VwYXJhdG9yO1xuICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc3BsaXRzKSB7XG4gICAgICAgICAgICBpZiAocy5sZW5ndGggPCB0aGlzLmNodW5rU2l6ZSkge1xuICAgICAgICAgICAgICAgIGdvb2RTcGxpdHMucHVzaChzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChnb29kU3BsaXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXJnZWRUZXh0ID0gdGhpcy5tZXJnZVNwbGl0cyhnb29kU3BsaXRzLCBfc2VwYXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDaHVua3MucHVzaCguLi5tZXJnZWRUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgZ29vZFNwbGl0cyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW5ld1NlcGFyYXRvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDaHVua3MucHVzaChzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG90aGVySW5mbyA9IGF3YWl0IHRoaXMuX3NwbGl0VGV4dChzLCBuZXdTZXBhcmF0b3JzKTtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDaHVua3MucHVzaCguLi5vdGhlckluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZ29vZFNwbGl0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZFRleHQgPSB0aGlzLm1lcmdlU3BsaXRzKGdvb2RTcGxpdHMsIF9zZXBhcmF0b3IpO1xuICAgICAgICAgICAgZmluYWxDaHVua3MucHVzaCguLi5tZXJnZWRUZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmluYWxDaHVua3M7XG4gICAgfVxuICAgIGFzeW5jIHNwbGl0VGV4dCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGxpdFRleHQodGV4dCwgdGhpcy5zZXBhcmF0b3JzKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21MYW5ndWFnZShsYW5ndWFnZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3Vyc2l2ZUNoYXJhY3RlclRleHRTcGxpdHRlcih7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgc2VwYXJhdG9yczogUmVjdXJzaXZlQ2hhcmFjdGVyVGV4dFNwbGl0dGVyLmdldFNlcGFyYXRvcnNGb3JMYW5ndWFnZShsYW5ndWFnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0U2VwYXJhdG9yc0Zvckxhbmd1YWdlKGxhbmd1YWdlKSB7XG4gICAgICAgIGlmIChsYW5ndWFnZSA9PT0gXCJjcHBcIikge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBhbG9uZyBjbGFzcyBkZWZpbml0aW9uc1xuICAgICAgICAgICAgICAgIFwiXFxuY2xhc3MgXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgZnVuY3Rpb24gZGVmaW5pdGlvbnNcbiAgICAgICAgICAgICAgICBcIlxcbnZvaWQgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5pbnQgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5mbG9hdCBcIixcbiAgICAgICAgICAgICAgICBcIlxcbmRvdWJsZSBcIixcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBhbG9uZyBjb250cm9sIGZsb3cgc3RhdGVtZW50c1xuICAgICAgICAgICAgICAgIFwiXFxuaWYgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5mb3IgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG53aGlsZSBcIixcbiAgICAgICAgICAgICAgICBcIlxcbnN3aXRjaCBcIixcbiAgICAgICAgICAgICAgICBcIlxcbmNhc2UgXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYnkgdGhlIG5vcm1hbCB0eXBlIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgXCJcXG5cXG5cIixcbiAgICAgICAgICAgICAgICBcIlxcblwiLFxuICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhbmd1YWdlID09PSBcImdvXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgZnVuY3Rpb24gZGVmaW5pdGlvbnNcbiAgICAgICAgICAgICAgICBcIlxcbmZ1bmMgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG52YXIgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5jb25zdCBcIixcbiAgICAgICAgICAgICAgICBcIlxcbnR5cGUgXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgY29udHJvbCBmbG93IHN0YXRlbWVudHNcbiAgICAgICAgICAgICAgICBcIlxcbmlmIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuZm9yIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuc3dpdGNoIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuY2FzZSBcIixcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBieSB0aGUgbm9ybWFsIHR5cGUgb2YgbGluZXNcbiAgICAgICAgICAgICAgICBcIlxcblxcblwiLFxuICAgICAgICAgICAgICAgIFwiXFxuXCIsXG4gICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFuZ3VhZ2UgPT09IFwiamF2YVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGFsb25nIGNsYXNzIGRlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgXCJcXG5jbGFzcyBcIixcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBhbG9uZyBtZXRob2QgZGVmaW5pdGlvbnNcbiAgICAgICAgICAgICAgICBcIlxcbnB1YmxpYyBcIixcbiAgICAgICAgICAgICAgICBcIlxcbnByb3RlY3RlZCBcIixcbiAgICAgICAgICAgICAgICBcIlxcbnByaXZhdGUgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5zdGF0aWMgXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgY29udHJvbCBmbG93IHN0YXRlbWVudHNcbiAgICAgICAgICAgICAgICBcIlxcbmlmIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuZm9yIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxud2hpbGUgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5zd2l0Y2ggXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5jYXNlIFwiLFxuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGJ5IHRoZSBub3JtYWwgdHlwZSBvZiBsaW5lc1xuICAgICAgICAgICAgICAgIFwiXFxuXFxuXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5cIixcbiAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYW5ndWFnZSA9PT0gXCJqc1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGFsb25nIGZ1bmN0aW9uIGRlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgXCJcXG5mdW5jdGlvbiBcIixcbiAgICAgICAgICAgICAgICBcIlxcbmNvbnN0IFwiLFxuICAgICAgICAgICAgICAgIFwiXFxubGV0IFwiLFxuICAgICAgICAgICAgICAgIFwiXFxudmFyIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuY2xhc3MgXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgY29udHJvbCBmbG93IHN0YXRlbWVudHNcbiAgICAgICAgICAgICAgICBcIlxcbmlmIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuZm9yIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxud2hpbGUgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5zd2l0Y2ggXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5jYXNlIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuZGVmYXVsdCBcIixcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBieSB0aGUgbm9ybWFsIHR5cGUgb2YgbGluZXNcbiAgICAgICAgICAgICAgICBcIlxcblxcblwiLFxuICAgICAgICAgICAgICAgIFwiXFxuXCIsXG4gICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFuZ3VhZ2UgPT09IFwicGhwXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgZnVuY3Rpb24gZGVmaW5pdGlvbnNcbiAgICAgICAgICAgICAgICBcIlxcbmZ1bmN0aW9uIFwiLFxuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGFsb25nIGNsYXNzIGRlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgXCJcXG5jbGFzcyBcIixcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBhbG9uZyBjb250cm9sIGZsb3cgc3RhdGVtZW50c1xuICAgICAgICAgICAgICAgIFwiXFxuaWYgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5mb3JlYWNoIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxud2hpbGUgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5kbyBcIixcbiAgICAgICAgICAgICAgICBcIlxcbnN3aXRjaCBcIixcbiAgICAgICAgICAgICAgICBcIlxcbmNhc2UgXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYnkgdGhlIG5vcm1hbCB0eXBlIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgXCJcXG5cXG5cIixcbiAgICAgICAgICAgICAgICBcIlxcblwiLFxuICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhbmd1YWdlID09PSBcInByb3RvXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgbWVzc2FnZSBkZWZpbml0aW9uc1xuICAgICAgICAgICAgICAgIFwiXFxubWVzc2FnZSBcIixcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBhbG9uZyBzZXJ2aWNlIGRlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgXCJcXG5zZXJ2aWNlIFwiLFxuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGFsb25nIGVudW0gZGVmaW5pdGlvbnNcbiAgICAgICAgICAgICAgICBcIlxcbmVudW0gXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgb3B0aW9uIGRlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgXCJcXG5vcHRpb24gXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgaW1wb3J0IHN0YXRlbWVudHNcbiAgICAgICAgICAgICAgICBcIlxcbmltcG9ydCBcIixcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBhbG9uZyBzeW50YXggZGVjbGFyYXRpb25zXG4gICAgICAgICAgICAgICAgXCJcXG5zeW50YXggXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYnkgdGhlIG5vcm1hbCB0eXBlIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgXCJcXG5cXG5cIixcbiAgICAgICAgICAgICAgICBcIlxcblwiLFxuICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhbmd1YWdlID09PSBcInB5dGhvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIC8vIEZpcnN0LCB0cnkgdG8gc3BsaXQgYWxvbmcgY2xhc3MgZGVmaW5pdGlvbnNcbiAgICAgICAgICAgICAgICBcIlxcbmNsYXNzIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuZGVmIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuXFx0ZGVmIFwiLFxuICAgICAgICAgICAgICAgIC8vIE5vdyBzcGxpdCBieSB0aGUgbm9ybWFsIHR5cGUgb2YgbGluZXNcbiAgICAgICAgICAgICAgICBcIlxcblxcblwiLFxuICAgICAgICAgICAgICAgIFwiXFxuXCIsXG4gICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFuZ3VhZ2UgPT09IFwicnN0XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgc2VjdGlvbiB0aXRsZXNcbiAgICAgICAgICAgICAgICBcIlxcbj09PVxcblwiLFxuICAgICAgICAgICAgICAgIFwiXFxuLS0tXFxuXCIsXG4gICAgICAgICAgICAgICAgXCJcXG4qKipcXG5cIixcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBhbG9uZyBkaXJlY3RpdmUgbWFya2Vyc1xuICAgICAgICAgICAgICAgIFwiXFxuLi4gXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYnkgdGhlIG5vcm1hbCB0eXBlIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgXCJcXG5cXG5cIixcbiAgICAgICAgICAgICAgICBcIlxcblwiLFxuICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhbmd1YWdlID09PSBcInJ1YnlcIikge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBhbG9uZyBtZXRob2QgZGVmaW5pdGlvbnNcbiAgICAgICAgICAgICAgICBcIlxcbmRlZiBcIixcbiAgICAgICAgICAgICAgICBcIlxcbmNsYXNzIFwiLFxuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGFsb25nIGNvbnRyb2wgZmxvdyBzdGF0ZW1lbnRzXG4gICAgICAgICAgICAgICAgXCJcXG5pZiBcIixcbiAgICAgICAgICAgICAgICBcIlxcbnVubGVzcyBcIixcbiAgICAgICAgICAgICAgICBcIlxcbndoaWxlIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuZm9yIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuZG8gXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5iZWdpbiBcIixcbiAgICAgICAgICAgICAgICBcIlxcbnJlc2N1ZSBcIixcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBieSB0aGUgbm9ybWFsIHR5cGUgb2YgbGluZXNcbiAgICAgICAgICAgICAgICBcIlxcblxcblwiLFxuICAgICAgICAgICAgICAgIFwiXFxuXCIsXG4gICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFuZ3VhZ2UgPT09IFwicnVzdFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGFsb25nIGZ1bmN0aW9uIGRlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgXCJcXG5mbiBcIixcbiAgICAgICAgICAgICAgICBcIlxcbmNvbnN0IFwiLFxuICAgICAgICAgICAgICAgIFwiXFxubGV0IFwiLFxuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGFsb25nIGNvbnRyb2wgZmxvdyBzdGF0ZW1lbnRzXG4gICAgICAgICAgICAgICAgXCJcXG5pZiBcIixcbiAgICAgICAgICAgICAgICBcIlxcbndoaWxlIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuZm9yIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxubG9vcCBcIixcbiAgICAgICAgICAgICAgICBcIlxcbm1hdGNoIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuY29uc3QgXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYnkgdGhlIG5vcm1hbCB0eXBlIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgXCJcXG5cXG5cIixcbiAgICAgICAgICAgICAgICBcIlxcblwiLFxuICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhbmd1YWdlID09PSBcInNjYWxhXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgY2xhc3MgZGVmaW5pdGlvbnNcbiAgICAgICAgICAgICAgICBcIlxcbmNsYXNzIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxub2JqZWN0IFwiLFxuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGFsb25nIG1ldGhvZCBkZWZpbml0aW9uc1xuICAgICAgICAgICAgICAgIFwiXFxuZGVmIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxudmFsIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxudmFyIFwiLFxuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGFsb25nIGNvbnRyb2wgZmxvdyBzdGF0ZW1lbnRzXG4gICAgICAgICAgICAgICAgXCJcXG5pZiBcIixcbiAgICAgICAgICAgICAgICBcIlxcbmZvciBcIixcbiAgICAgICAgICAgICAgICBcIlxcbndoaWxlIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxubWF0Y2ggXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5jYXNlIFwiLFxuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGJ5IHRoZSBub3JtYWwgdHlwZSBvZiBsaW5lc1xuICAgICAgICAgICAgICAgIFwiXFxuXFxuXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5cIixcbiAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYW5ndWFnZSA9PT0gXCJzd2lmdFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGFsb25nIGZ1bmN0aW9uIGRlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgXCJcXG5mdW5jIFwiLFxuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGFsb25nIGNsYXNzIGRlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgXCJcXG5jbGFzcyBcIixcbiAgICAgICAgICAgICAgICBcIlxcbnN0cnVjdCBcIixcbiAgICAgICAgICAgICAgICBcIlxcbmVudW0gXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYWxvbmcgY29udHJvbCBmbG93IHN0YXRlbWVudHNcbiAgICAgICAgICAgICAgICBcIlxcbmlmIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuZm9yIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxud2hpbGUgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5kbyBcIixcbiAgICAgICAgICAgICAgICBcIlxcbnN3aXRjaCBcIixcbiAgICAgICAgICAgICAgICBcIlxcbmNhc2UgXCIsXG4gICAgICAgICAgICAgICAgLy8gU3BsaXQgYnkgdGhlIG5vcm1hbCB0eXBlIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgXCJcXG5cXG5cIixcbiAgICAgICAgICAgICAgICBcIlxcblwiLFxuICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhbmd1YWdlID09PSBcIm1hcmtkb3duXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLy8gRmlyc3QsIHRyeSB0byBzcGxpdCBhbG9uZyBNYXJrZG93biBoZWFkaW5ncyAoc3RhcnRpbmcgd2l0aCBsZXZlbCAyKVxuICAgICAgICAgICAgICAgIFwiXFxuIyMgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG4jIyMgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG4jIyMjIFwiLFxuICAgICAgICAgICAgICAgIFwiXFxuIyMjIyMgXCIsXG4gICAgICAgICAgICAgICAgXCJcXG4jIyMjIyMgXCIsXG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGUgYWx0ZXJuYXRpdmUgc3ludGF4IGZvciBoZWFkaW5ncyAoYmVsb3cpIGlzIG5vdCBoYW5kbGVkIGhlcmVcbiAgICAgICAgICAgICAgICAvLyBIZWFkaW5nIGxldmVsIDJcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyBFbmQgb2YgY29kZSBibG9ja1xuICAgICAgICAgICAgICAgIFwiYGBgXFxuXFxuXCIsXG4gICAgICAgICAgICAgICAgLy8gSG9yaXpvbnRhbCBsaW5lc1xuICAgICAgICAgICAgICAgIFwiXFxuXFxuKioqXFxuXFxuXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5cXG4tLS1cXG5cXG5cIixcbiAgICAgICAgICAgICAgICBcIlxcblxcbl9fX1xcblxcblwiLFxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGlzIHNwbGl0dGVyIGRvZXNuJ3QgaGFuZGxlIGhvcml6b250YWwgbGluZXMgZGVmaW5lZFxuICAgICAgICAgICAgICAgIC8vIGJ5ICp0aHJlZSBvciBtb3JlKiBvZiAqKiosIC0tLSwgb3IgX19fLCBidXQgdGhpcyBpcyBub3QgaGFuZGxlZFxuICAgICAgICAgICAgICAgIFwiXFxuXFxuXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5cIixcbiAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYW5ndWFnZSA9PT0gXCJsYXRleFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIC8vIEZpcnN0LCB0cnkgdG8gc3BsaXQgYWxvbmcgTGF0ZXggc2VjdGlvbnNcbiAgICAgICAgICAgICAgICBcIlxcblxcXFxjaGFwdGVye1wiLFxuICAgICAgICAgICAgICAgIFwiXFxuXFxcXHNlY3Rpb257XCIsXG4gICAgICAgICAgICAgICAgXCJcXG5cXFxcc3Vic2VjdGlvbntcIixcbiAgICAgICAgICAgICAgICBcIlxcblxcXFxzdWJzdWJzZWN0aW9ue1wiLFxuICAgICAgICAgICAgICAgIC8vIE5vdyBzcGxpdCBieSBlbnZpcm9ubWVudHNcbiAgICAgICAgICAgICAgICBcIlxcblxcXFxiZWdpbntlbnVtZXJhdGV9XCIsXG4gICAgICAgICAgICAgICAgXCJcXG5cXFxcYmVnaW57aXRlbWl6ZX1cIixcbiAgICAgICAgICAgICAgICBcIlxcblxcXFxiZWdpbntkZXNjcmlwdGlvbn1cIixcbiAgICAgICAgICAgICAgICBcIlxcblxcXFxiZWdpbntsaXN0fVwiLFxuICAgICAgICAgICAgICAgIFwiXFxuXFxcXGJlZ2lue3F1b3RlfVwiLFxuICAgICAgICAgICAgICAgIFwiXFxuXFxcXGJlZ2lue3F1b3RhdGlvbn1cIixcbiAgICAgICAgICAgICAgICBcIlxcblxcXFxiZWdpbnt2ZXJzZX1cIixcbiAgICAgICAgICAgICAgICBcIlxcblxcXFxiZWdpbnt2ZXJiYXRpbX1cIixcbiAgICAgICAgICAgICAgICAvLyBOb3cgc3BsaXQgYnkgbWF0aCBlbnZpcm9ubWVudHNcbiAgICAgICAgICAgICAgICBcIlxcblxcXFxiZWdpbnthbGlnbn1cIixcbiAgICAgICAgICAgICAgICBcIiQkXCIsXG4gICAgICAgICAgICAgICAgXCIkXCIsXG4gICAgICAgICAgICAgICAgLy8gTm93IHNwbGl0IGJ5IHRoZSBub3JtYWwgdHlwZSBvZiBsaW5lc1xuICAgICAgICAgICAgICAgIFwiXFxuXFxuXCIsXG4gICAgICAgICAgICAgICAgXCJcXG5cIixcbiAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYW5ndWFnZSA9PT0gXCJodG1sXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLy8gRmlyc3QsIHRyeSB0byBzcGxpdCBhbG9uZyBIVE1MIHRhZ3NcbiAgICAgICAgICAgICAgICBcIjxib2R5PlwiLFxuICAgICAgICAgICAgICAgIFwiPGRpdj5cIixcbiAgICAgICAgICAgICAgICBcIjxwPlwiLFxuICAgICAgICAgICAgICAgIFwiPGJyPlwiLFxuICAgICAgICAgICAgICAgIFwiPGxpPlwiLFxuICAgICAgICAgICAgICAgIFwiPGgxPlwiLFxuICAgICAgICAgICAgICAgIFwiPGgyPlwiLFxuICAgICAgICAgICAgICAgIFwiPGgzPlwiLFxuICAgICAgICAgICAgICAgIFwiPGg0PlwiLFxuICAgICAgICAgICAgICAgIFwiPGg1PlwiLFxuICAgICAgICAgICAgICAgIFwiPGg2PlwiLFxuICAgICAgICAgICAgICAgIFwiPHNwYW4+XCIsXG4gICAgICAgICAgICAgICAgXCI8dGFibGU+XCIsXG4gICAgICAgICAgICAgICAgXCI8dHI+XCIsXG4gICAgICAgICAgICAgICAgXCI8dGQ+XCIsXG4gICAgICAgICAgICAgICAgXCI8dGg+XCIsXG4gICAgICAgICAgICAgICAgXCI8dWw+XCIsXG4gICAgICAgICAgICAgICAgXCI8b2w+XCIsXG4gICAgICAgICAgICAgICAgXCI8aGVhZGVyPlwiLFxuICAgICAgICAgICAgICAgIFwiPGZvb3Rlcj5cIixcbiAgICAgICAgICAgICAgICBcIjxuYXY+XCIsXG4gICAgICAgICAgICAgICAgLy8gSGVhZFxuICAgICAgICAgICAgICAgIFwiPGhlYWQ+XCIsXG4gICAgICAgICAgICAgICAgXCI8c3R5bGU+XCIsXG4gICAgICAgICAgICAgICAgXCI8c2NyaXB0PlwiLFxuICAgICAgICAgICAgICAgIFwiPG1ldGE+XCIsXG4gICAgICAgICAgICAgICAgXCI8dGl0bGU+XCIsXG4gICAgICAgICAgICAgICAgLy8gTm9ybWFsIHR5cGUgb2YgbGluZXNcbiAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTGFuZ3VhZ2UgJHtsYW5ndWFnZX0gaXMgbm90IHN1cHBvcnRlZC5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogSW1wbGVtZW50YXRpb24gb2Ygc3BsaXR0ZXIgd2hpY2ggbG9va3MgYXQgdG9rZW5zLlxuICovXG5leHBvcnQgY2xhc3MgVG9rZW5UZXh0U3BsaXR0ZXIgZXh0ZW5kcyBUZXh0U3BsaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlbmNvZGluZ05hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYWxsb3dlZFNwZWNpYWxcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZGlzYWxsb3dlZFNwZWNpYWxcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidG9rZW5pemVyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZW5jb2RpbmdOYW1lID0gZmllbGRzPy5lbmNvZGluZ05hbWUgPz8gXCJncHQyXCI7XG4gICAgICAgIHRoaXMuYWxsb3dlZFNwZWNpYWwgPSBmaWVsZHM/LmFsbG93ZWRTcGVjaWFsID8/IFtdO1xuICAgICAgICB0aGlzLmRpc2FsbG93ZWRTcGVjaWFsID0gZmllbGRzPy5kaXNhbGxvd2VkU3BlY2lhbCA/PyBcImFsbFwiO1xuICAgIH1cbiAgICBhc3luYyBzcGxpdFRleHQodGV4dCkge1xuICAgICAgICBpZiAoIXRoaXMudG9rZW5pemVyKSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuaXplciA9IGF3YWl0IGdldEVuY29kaW5nKHRoaXMuZW5jb2RpbmdOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzcGxpdHMgPSBbXTtcbiAgICAgICAgY29uc3QgaW5wdXRfaWRzID0gdGhpcy50b2tlbml6ZXIuZW5jb2RlKHRleHQsIHRoaXMuYWxsb3dlZFNwZWNpYWwsIHRoaXMuZGlzYWxsb3dlZFNwZWNpYWwpO1xuICAgICAgICBsZXQgc3RhcnRfaWR4ID0gMDtcbiAgICAgICAgbGV0IGN1cl9pZHggPSBNYXRoLm1pbihzdGFydF9pZHggKyB0aGlzLmNodW5rU2l6ZSwgaW5wdXRfaWRzLmxlbmd0aCk7XG4gICAgICAgIGxldCBjaHVua19pZHMgPSBpbnB1dF9pZHMuc2xpY2Uoc3RhcnRfaWR4LCBjdXJfaWR4KTtcbiAgICAgICAgd2hpbGUgKHN0YXJ0X2lkeCA8IGlucHV0X2lkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNwbGl0cy5wdXNoKHRoaXMudG9rZW5pemVyLmRlY29kZShjaHVua19pZHMpKTtcbiAgICAgICAgICAgIHN0YXJ0X2lkeCArPSB0aGlzLmNodW5rU2l6ZSAtIHRoaXMuY2h1bmtPdmVybGFwO1xuICAgICAgICAgICAgY3VyX2lkeCA9IE1hdGgubWluKHN0YXJ0X2lkeCArIHRoaXMuY2h1bmtTaXplLCBpbnB1dF9pZHMubGVuZ3RoKTtcbiAgICAgICAgICAgIGNodW5rX2lkcyA9IGlucHV0X2lkcy5zbGljZShzdGFydF9pZHgsIGN1cl9pZHgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzcGxpdHM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1hcmtkb3duVGV4dFNwbGl0dGVyIGV4dGVuZHMgUmVjdXJzaXZlQ2hhcmFjdGVyVGV4dFNwbGl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgLi4uZmllbGRzLFxuICAgICAgICAgICAgc2VwYXJhdG9yczogUmVjdXJzaXZlQ2hhcmFjdGVyVGV4dFNwbGl0dGVyLmdldFNlcGFyYXRvcnNGb3JMYW5ndWFnZShcIm1hcmtkb3duXCIpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTGF0ZXhUZXh0U3BsaXR0ZXIgZXh0ZW5kcyBSZWN1cnNpdmVDaGFyYWN0ZXJUZXh0U3BsaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICAuLi5maWVsZHMsXG4gICAgICAgICAgICBzZXBhcmF0b3JzOiBSZWN1cnNpdmVDaGFyYWN0ZXJUZXh0U3BsaXR0ZXIuZ2V0U2VwYXJhdG9yc0Zvckxhbmd1YWdlKFwibGF0ZXhcIiksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBMTE1DaGFpbiB9IGZyb20gXCIuLi9sbG1fY2hhaW4uanNcIjtcbmltcG9ydCB7IFN0dWZmRG9jdW1lbnRzQ2hhaW4sIE1hcFJlZHVjZURvY3VtZW50c0NoYWluLCBSZWZpbmVEb2N1bWVudHNDaGFpbiwgfSBmcm9tIFwiLi4vY29tYmluZV9kb2NzX2NoYWluLmpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1BST01QVCB9IGZyb20gXCIuL3N0dWZmX3Byb21wdHMuanNcIjtcbmltcG9ydCB7IFJFRklORV9QUk9NUFQgfSBmcm9tIFwiLi9yZWZpbmVfcHJvbXB0cy5qc1wiO1xuZXhwb3J0IGNvbnN0IGxvYWRTdW1tYXJpemF0aW9uQ2hhaW4gPSAobGxtLCBwYXJhbXMgPSB7IHR5cGU6IFwibWFwX3JlZHVjZVwiIH0pID0+IHtcbiAgICBjb25zdCB7IHZlcmJvc2UgfSA9IHBhcmFtcztcbiAgICBpZiAocGFyYW1zLnR5cGUgPT09IFwic3R1ZmZcIikge1xuICAgICAgICBjb25zdCB7IHByb21wdCA9IERFRkFVTFRfUFJPTVBUIH0gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IGxsbUNoYWluID0gbmV3IExMTUNoYWluKHsgcHJvbXB0LCBsbG0sIHZlcmJvc2UgfSk7XG4gICAgICAgIGNvbnN0IGNoYWluID0gbmV3IFN0dWZmRG9jdW1lbnRzQ2hhaW4oe1xuICAgICAgICAgICAgbGxtQ2hhaW4sXG4gICAgICAgICAgICBkb2N1bWVudFZhcmlhYmxlTmFtZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICB2ZXJib3NlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNoYWluO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09IFwibWFwX3JlZHVjZVwiKSB7XG4gICAgICAgIGNvbnN0IHsgY29tYmluZU1hcFByb21wdCA9IERFRkFVTFRfUFJPTVBULCBjb21iaW5lUHJvbXB0ID0gREVGQVVMVF9QUk9NUFQsIHJldHVybkludGVybWVkaWF0ZVN0ZXBzLCB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCBsbG1DaGFpbiA9IG5ldyBMTE1DaGFpbih7IHByb21wdDogY29tYmluZU1hcFByb21wdCwgbGxtLCB2ZXJib3NlIH0pO1xuICAgICAgICBjb25zdCBjb21iaW5lTExNQ2hhaW4gPSBuZXcgTExNQ2hhaW4oe1xuICAgICAgICAgICAgcHJvbXB0OiBjb21iaW5lUHJvbXB0LFxuICAgICAgICAgICAgbGxtLFxuICAgICAgICAgICAgdmVyYm9zZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbWJpbmVEb2N1bWVudENoYWluID0gbmV3IFN0dWZmRG9jdW1lbnRzQ2hhaW4oe1xuICAgICAgICAgICAgbGxtQ2hhaW46IGNvbWJpbmVMTE1DaGFpbixcbiAgICAgICAgICAgIGRvY3VtZW50VmFyaWFibGVOYW1lOiBcInRleHRcIixcbiAgICAgICAgICAgIHZlcmJvc2UsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjaGFpbiA9IG5ldyBNYXBSZWR1Y2VEb2N1bWVudHNDaGFpbih7XG4gICAgICAgICAgICBsbG1DaGFpbixcbiAgICAgICAgICAgIGNvbWJpbmVEb2N1bWVudENoYWluLFxuICAgICAgICAgICAgZG9jdW1lbnRWYXJpYWJsZU5hbWU6IFwidGV4dFwiLFxuICAgICAgICAgICAgcmV0dXJuSW50ZXJtZWRpYXRlU3RlcHMsXG4gICAgICAgICAgICB2ZXJib3NlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNoYWluO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLnR5cGUgPT09IFwicmVmaW5lXCIpIHtcbiAgICAgICAgY29uc3QgeyByZWZpbmVQcm9tcHQgPSBSRUZJTkVfUFJPTVBULCBxdWVzdGlvblByb21wdCA9IERFRkFVTFRfUFJPTVBUIH0gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IGxsbUNoYWluID0gbmV3IExMTUNoYWluKHsgcHJvbXB0OiBxdWVzdGlvblByb21wdCwgbGxtLCB2ZXJib3NlIH0pO1xuICAgICAgICBjb25zdCByZWZpbmVMTE1DaGFpbiA9IG5ldyBMTE1DaGFpbih7IHByb21wdDogcmVmaW5lUHJvbXB0LCBsbG0sIHZlcmJvc2UgfSk7XG4gICAgICAgIGNvbnN0IGNoYWluID0gbmV3IFJlZmluZURvY3VtZW50c0NoYWluKHtcbiAgICAgICAgICAgIGxsbUNoYWluLFxuICAgICAgICAgICAgcmVmaW5lTExNQ2hhaW4sXG4gICAgICAgICAgICBkb2N1bWVudFZhcmlhYmxlTmFtZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICB2ZXJib3NlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNoYWluO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgX3R5cGU6ICR7cGFyYW1zLnR5cGV9YCk7XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIHNwYWNlZC1jb21tZW50ICovXG5pbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuLi8uLi9wcm9tcHRzL3Byb21wdC5qc1wiO1xuY29uc3QgdGVtcGxhdGUgPSBgV3JpdGUgYSBjb25jaXNlIHN1bW1hcnkgb2YgdGhlIGZvbGxvd2luZzpcblxuXG5cInt0ZXh0fVwiXG5cblxuQ09OQ0lTRSBTVU1NQVJZOmA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9QUk9NUFQgPSAvKiNfX1BVUkVfXyovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgdGVtcGxhdGUsXG4gICAgaW5wdXRWYXJpYWJsZXM6IFtcInRleHRcIl0sXG59KTtcbiIsICJpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuLi8uLi9wcm9tcHRzL3Byb21wdC5qc1wiO1xuY29uc3QgcmVmaW5lUHJvbXB0VGVtcGxhdGUgPSBgWW91ciBqb2IgaXMgdG8gcHJvZHVjZSBhIGZpbmFsIHN1bW1hcnlcbldlIGhhdmUgcHJvdmlkZWQgYW4gZXhpc3Rpbmcgc3VtbWFyeSB1cCB0byBhIGNlcnRhaW4gcG9pbnQ6IFwie2V4aXN0aW5nX2Fuc3dlcn1cIlxuV2UgaGF2ZSB0aGUgb3Bwb3J0dW5pdHkgdG8gcmVmaW5lIHRoZSBleGlzdGluZyBzdW1tYXJ5XG4ob25seSBpZiBuZWVkZWQpIHdpdGggc29tZSBtb3JlIGNvbnRleHQgYmVsb3cuXG4tLS0tLS0tLS0tLS1cblwie3RleHR9XCJcbi0tLS0tLS0tLS0tLVxuXG5HaXZlbiB0aGUgbmV3IGNvbnRleHQsIHJlZmluZSB0aGUgb3JpZ2luYWwgc3VtbWFyeVxuSWYgdGhlIGNvbnRleHQgaXNuJ3QgdXNlZnVsLCByZXR1cm4gdGhlIG9yaWdpbmFsIHN1bW1hcnkuXG5cblJFRklORUQgU1VNTUFSWTpgO1xuZXhwb3J0IGNvbnN0IFJFRklORV9QUk9NUFQgPSAvKiAjX19QVVJFX18gKi8gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICB0ZW1wbGF0ZTogcmVmaW5lUHJvbXB0VGVtcGxhdGUsXG4gICAgaW5wdXRWYXJpYWJsZXM6IFtcImV4aXN0aW5nX2Fuc3dlclwiLCBcInRleHRcIl0sXG59KTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBzcGFjZWQtY29tbWVudCAqL1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi4vLi4vcHJvbXB0cy9wcm9tcHQuanNcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NRTF9EQVRBQkFTRV9QUk9NUFQgPSAvKiNfX1BVUkVfXyovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgdGVtcGxhdGU6IGBHaXZlbiBhbiBpbnB1dCBxdWVzdGlvbiwgZmlyc3QgY3JlYXRlIGEgc3ludGFjdGljYWxseSBjb3JyZWN0IHtkaWFsZWN0fSBxdWVyeSB0byBydW4sIHRoZW4gbG9vayBhdCB0aGUgcmVzdWx0cyBvZiB0aGUgcXVlcnkgYW5kIHJldHVybiB0aGUgYW5zd2VyLiBVbmxlc3MgdGhlIHVzZXIgc3BlY2lmaWVzIGluIGhpcyBxdWVzdGlvbiBhIHNwZWNpZmljIG51bWJlciBvZiBleGFtcGxlcyBoZSB3aXNoZXMgdG8gb2J0YWluLCBhbHdheXMgbGltaXQgeW91ciBxdWVyeSB0byBhdCBtb3N0IHt0b3Bfa30gcmVzdWx0cy4gWW91IGNhbiBvcmRlciB0aGUgcmVzdWx0cyBieSBhIHJlbGV2YW50IGNvbHVtbiB0byByZXR1cm4gdGhlIG1vc3QgaW50ZXJlc3RpbmcgZXhhbXBsZXMgaW4gdGhlIGRhdGFiYXNlLlxuXG5OZXZlciBxdWVyeSBmb3IgYWxsIHRoZSBjb2x1bW5zIGZyb20gYSBzcGVjaWZpYyB0YWJsZSwgb25seSBhc2sgZm9yIGEgdGhlIGZldyByZWxldmFudCBjb2x1bW5zIGdpdmVuIHRoZSBxdWVzdGlvbi5cblxuUGF5IGF0dGVudGlvbiB0byB1c2Ugb25seSB0aGUgY29sdW1uIG5hbWVzIHRoYXQgeW91IGNhbiBzZWUgaW4gdGhlIHNjaGVtYSBkZXNjcmlwdGlvbi4gQmUgY2FyZWZ1bCB0byBub3QgcXVlcnkgZm9yIGNvbHVtbnMgdGhhdCBkbyBub3QgZXhpc3QuIEFsc28sIHBheSBhdHRlbnRpb24gdG8gd2hpY2ggY29sdW1uIGlzIGluIHdoaWNoIHRhYmxlLlxuXG5Vc2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6XG5cblF1ZXN0aW9uOiBcIlF1ZXN0aW9uIGhlcmVcIlxuU1FMUXVlcnk6IFwiU1FMIFF1ZXJ5IHRvIHJ1blwiXG5TUUxSZXN1bHQ6IFwiUmVzdWx0IG9mIHRoZSBTUUxRdWVyeVwiXG5BbnN3ZXI6IFwiRmluYWwgYW5zd2VyIGhlcmVcIlxuXG5Pbmx5IHVzZSB0aGUgdGFibGVzIGxpc3RlZCBiZWxvdy5cblxue3RhYmxlX2luZm99XG5cblF1ZXN0aW9uOiB7aW5wdXR9YCxcbiAgICBpbnB1dFZhcmlhYmxlczogW1wiZGlhbGVjdFwiLCBcInRhYmxlX2luZm9cIiwgXCJpbnB1dFwiLCBcInRvcF9rXCJdLFxufSk7XG5leHBvcnQgY29uc3QgU1FMX1BPU1RHUkVTX1BST01QVCA9IC8qI19fUFVSRV9fKi8gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICB0ZW1wbGF0ZTogYFlvdSBhcmUgYSBQb3N0Z3JlU1FMIGV4cGVydC4gR2l2ZW4gYW4gaW5wdXQgcXVlc3Rpb24sIGZpcnN0IGNyZWF0ZSBhIHN5bnRhY3RpY2FsbHkgY29ycmVjdCBQb3N0Z3JlU1FMIHF1ZXJ5IHRvIHJ1biwgdGhlbiBsb29rIGF0IHRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeSBhbmQgcmV0dXJuIHRoZSBhbnN3ZXIgdG8gdGhlIGlucHV0IHF1ZXN0aW9uLlxuVW5sZXNzIHRoZSB1c2VyIHNwZWNpZmllcyBpbiB0aGUgcXVlc3Rpb24gYSBzcGVjaWZpYyBudW1iZXIgb2YgZXhhbXBsZXMgdG8gb2J0YWluLCBxdWVyeSBmb3IgYXQgbW9zdCB7dG9wX2t9IHJlc3VsdHMgdXNpbmcgdGhlIExJTUlUIGNsYXVzZSBhcyBwZXIgUG9zdGdyZVNRTC4gWW91IGNhbiBvcmRlciB0aGUgcmVzdWx0cyB0byByZXR1cm4gdGhlIG1vc3QgaW5mb3JtYXRpdmUgZGF0YSBpbiB0aGUgZGF0YWJhc2UuXG5OZXZlciBxdWVyeSBmb3IgYWxsIGNvbHVtbnMgZnJvbSBhIHRhYmxlLiBZb3UgbXVzdCBxdWVyeSBvbmx5IHRoZSBjb2x1bW5zIHRoYXQgYXJlIG5lZWRlZCB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9uLiBXcmFwIGVhY2ggY29sdW1uIG5hbWUgaW4gZG91YmxlIHF1b3RlcyAoXCIpIHRvIGRlbm90ZSB0aGVtIGFzIGRlbGltaXRlZCBpZGVudGlmaWVycy5cblBheSBhdHRlbnRpb24gdG8gdXNlIG9ubHkgdGhlIGNvbHVtbiBuYW1lcyB5b3UgY2FuIHNlZSBpbiB0aGUgdGFibGVzIGJlbG93LiBCZSBjYXJlZnVsIHRvIG5vdCBxdWVyeSBmb3IgY29sdW1ucyB0aGF0IGRvIG5vdCBleGlzdC4gQWxzbywgcGF5IGF0dGVudGlvbiB0byB3aGljaCBjb2x1bW4gaXMgaW4gd2hpY2ggdGFibGUuXG5cblVzZSB0aGUgZm9sbG93aW5nIGZvcm1hdDpcblxuUXVlc3Rpb246IFwiUXVlc3Rpb24gaGVyZVwiXG5TUUxRdWVyeTogXCJTUUwgUXVlcnkgdG8gcnVuXCJcblNRTFJlc3VsdDogXCJSZXN1bHQgb2YgdGhlIFNRTFF1ZXJ5XCJcbkFuc3dlcjogXCJGaW5hbCBhbnN3ZXIgaGVyZVwiXG5cbk9ubHkgdXNlIHRoZSBmb2xsb3dpbmcgdGFibGVzOlxue3RhYmxlX2luZm99XG5cblF1ZXN0aW9uOiB7aW5wdXR9YCxcbiAgICBpbnB1dFZhcmlhYmxlczogW1wiZGlhbGVjdFwiLCBcInRhYmxlX2luZm9cIiwgXCJpbnB1dFwiLCBcInRvcF9rXCJdLFxufSk7XG5leHBvcnQgY29uc3QgU1FMX1NRTElURV9QUk9NUFQgPSAvKiNfX1BVUkVfXyovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgdGVtcGxhdGU6IGBZb3UgYXJlIGEgU1FMaXRlIGV4cGVydC4gR2l2ZW4gYW4gaW5wdXQgcXVlc3Rpb24sIGZpcnN0IGNyZWF0ZSBhIHN5bnRhY3RpY2FsbHkgY29ycmVjdCBTUUxpdGUgcXVlcnkgdG8gcnVuLCB0aGVuIGxvb2sgYXQgdGhlIHJlc3VsdHMgb2YgdGhlIHF1ZXJ5IGFuZCByZXR1cm4gdGhlIGFuc3dlciB0byB0aGUgaW5wdXQgcXVlc3Rpb24uXG5Vbmxlc3MgdGhlIHVzZXIgc3BlY2lmaWVzIGluIHRoZSBxdWVzdGlvbiBhIHNwZWNpZmljIG51bWJlciBvZiBleGFtcGxlcyB0byBvYnRhaW4sIHF1ZXJ5IGZvciBhdCBtb3N0IHt0b3Bfa30gcmVzdWx0cyB1c2luZyB0aGUgTElNSVQgY2xhdXNlIGFzIHBlciBTUUxpdGUuIFlvdSBjYW4gb3JkZXIgdGhlIHJlc3VsdHMgdG8gcmV0dXJuIHRoZSBtb3N0IGluZm9ybWF0aXZlIGRhdGEgaW4gdGhlIGRhdGFiYXNlLlxuTmV2ZXIgcXVlcnkgZm9yIGFsbCBjb2x1bW5zIGZyb20gYSB0YWJsZS4gWW91IG11c3QgcXVlcnkgb25seSB0aGUgY29sdW1ucyB0aGF0IGFyZSBuZWVkZWQgdG8gYW5zd2VyIHRoZSBxdWVzdGlvbi4gV3JhcCBlYWNoIGNvbHVtbiBuYW1lIGluIGRvdWJsZSBxdW90ZXMgKFwiKSB0byBkZW5vdGUgdGhlbSBhcyBkZWxpbWl0ZWQgaWRlbnRpZmllcnMuXG5QYXkgYXR0ZW50aW9uIHRvIHVzZSBvbmx5IHRoZSBjb2x1bW4gbmFtZXMgeW91IGNhbiBzZWUgaW4gdGhlIHRhYmxlcyBiZWxvdy4gQmUgY2FyZWZ1bCB0byBub3QgcXVlcnkgZm9yIGNvbHVtbnMgdGhhdCBkbyBub3QgZXhpc3QuIEFsc28sIHBheSBhdHRlbnRpb24gdG8gd2hpY2ggY29sdW1uIGlzIGluIHdoaWNoIHRhYmxlLlxuXG5Vc2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6XG5cblF1ZXN0aW9uOiBcIlF1ZXN0aW9uIGhlcmVcIlxuU1FMUXVlcnk6IFwiU1FMIFF1ZXJ5IHRvIHJ1blwiXG5TUUxSZXN1bHQ6IFwiUmVzdWx0IG9mIHRoZSBTUUxRdWVyeVwiXG5BbnN3ZXI6IFwiRmluYWwgYW5zd2VyIGhlcmVcIlxuXG5Pbmx5IHVzZSB0aGUgZm9sbG93aW5nIHRhYmxlczpcbnt0YWJsZV9pbmZvfVxuXG5RdWVzdGlvbjoge2lucHV0fWAsXG4gICAgaW5wdXRWYXJpYWJsZXM6IFtcImRpYWxlY3RcIiwgXCJ0YWJsZV9pbmZvXCIsIFwiaW5wdXRcIiwgXCJ0b3Bfa1wiXSxcbn0pO1xuZXhwb3J0IGNvbnN0IFNRTF9NWVNRTF9QUk9NUFQgPSAvKiNfX1BVUkVfXyovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgdGVtcGxhdGU6IGBZb3UgYXJlIGEgTXlTUUwgZXhwZXJ0LiBHaXZlbiBhbiBpbnB1dCBxdWVzdGlvbiwgZmlyc3QgY3JlYXRlIGEgc3ludGFjdGljYWxseSBjb3JyZWN0IE15U1FMIHF1ZXJ5IHRvIHJ1biwgdGhlbiBsb29rIGF0IHRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeSBhbmQgcmV0dXJuIHRoZSBhbnN3ZXIgdG8gdGhlIGlucHV0IHF1ZXN0aW9uLlxuVW5sZXNzIHRoZSB1c2VyIHNwZWNpZmllcyBpbiB0aGUgcXVlc3Rpb24gYSBzcGVjaWZpYyBudW1iZXIgb2YgZXhhbXBsZXMgdG8gb2J0YWluLCBxdWVyeSBmb3IgYXQgbW9zdCB7dG9wX2t9IHJlc3VsdHMgdXNpbmcgdGhlIExJTUlUIGNsYXVzZSBhcyBwZXIgTXlTUUwuIFlvdSBjYW4gb3JkZXIgdGhlIHJlc3VsdHMgdG8gcmV0dXJuIHRoZSBtb3N0IGluZm9ybWF0aXZlIGRhdGEgaW4gdGhlIGRhdGFiYXNlLlxuTmV2ZXIgcXVlcnkgZm9yIGFsbCBjb2x1bW5zIGZyb20gYSB0YWJsZS4gWW91IG11c3QgcXVlcnkgb25seSB0aGUgY29sdW1ucyB0aGF0IGFyZSBuZWVkZWQgdG8gYW5zd2VyIHRoZSBxdWVzdGlvbi4gV3JhcCBlYWNoIGNvbHVtbiBuYW1lIGluIGJhY2t0aWNrcyAoXFxgKSB0byBkZW5vdGUgdGhlbSBhcyBkZWxpbWl0ZWQgaWRlbnRpZmllcnMuXG5QYXkgYXR0ZW50aW9uIHRvIHVzZSBvbmx5IHRoZSBjb2x1bW4gbmFtZXMgeW91IGNhbiBzZWUgaW4gdGhlIHRhYmxlcyBiZWxvdy4gQmUgY2FyZWZ1bCB0byBub3QgcXVlcnkgZm9yIGNvbHVtbnMgdGhhdCBkbyBub3QgZXhpc3QuIEFsc28sIHBheSBhdHRlbnRpb24gdG8gd2hpY2ggY29sdW1uIGlzIGluIHdoaWNoIHRhYmxlLlxuXG5Vc2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6XG5cblF1ZXN0aW9uOiBcIlF1ZXN0aW9uIGhlcmVcIlxuU1FMUXVlcnk6IFwiU1FMIFF1ZXJ5IHRvIHJ1blwiXG5TUUxSZXN1bHQ6IFwiUmVzdWx0IG9mIHRoZSBTUUxRdWVyeVwiXG5BbnN3ZXI6IFwiRmluYWwgYW5zd2VyIGhlcmVcIlxuXG5Pbmx5IHVzZSB0aGUgZm9sbG93aW5nIHRhYmxlczpcbnt0YWJsZV9pbmZvfVxuXG5RdWVzdGlvbjoge2lucHV0fWAsXG4gICAgaW5wdXRWYXJpYWJsZXM6IFtcImRpYWxlY3RcIiwgXCJ0YWJsZV9pbmZvXCIsIFwiaW5wdXRcIiwgXCJ0b3Bfa1wiXSxcbn0pO1xuZXhwb3J0IGNvbnN0IFNRTF9NU1NRTF9QUk9NUFQgPSAvKiNfX1BVUkVfXyovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgdGVtcGxhdGU6IGBZb3UgYXJlIGFuIE1TIFNRTCBleHBlcnQuIEdpdmVuIGFuIGlucHV0IHF1ZXN0aW9uLCBmaXJzdCBjcmVhdGUgYSBzeW50YWN0aWNhbGx5IGNvcnJlY3QgTVMgU1FMIHF1ZXJ5IHRvIHJ1biwgdGhlbiBsb29rIGF0IHRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeSBhbmQgcmV0dXJuIHRoZSBhbnN3ZXIgdG8gdGhlIGlucHV0IHF1ZXN0aW9uLlxuVW5sZXNzIHRoZSB1c2VyIHNwZWNpZmllcyBpbiB0aGUgcXVlc3Rpb24gYSBzcGVjaWZpYyBudW1iZXIgb2YgZXhhbXBsZXMgdG8gb2J0YWluLCBxdWVyeSBmb3IgYXQgbW9zdCB7dG9wX2t9IHJlc3VsdHMgdXNpbmcgdGhlIFRPUCBjbGF1c2UgYXMgcGVyIE1TIFNRTC4gWW91IGNhbiBvcmRlciB0aGUgcmVzdWx0cyB0byByZXR1cm4gdGhlIG1vc3QgaW5mb3JtYXRpdmUgZGF0YSBpbiB0aGUgZGF0YWJhc2UuXG5OZXZlciBxdWVyeSBmb3IgYWxsIGNvbHVtbnMgZnJvbSBhIHRhYmxlLiBZb3UgbXVzdCBxdWVyeSBvbmx5IHRoZSBjb2x1bW5zIHRoYXQgYXJlIG5lZWRlZCB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9uLiBXcmFwIGVhY2ggY29sdW1uIG5hbWUgaW4gc3F1YXJlIGJyYWNrZXRzIChbXSkgdG8gZGVub3RlIHRoZW0gYXMgZGVsaW1pdGVkIGlkZW50aWZpZXJzLlxuUGF5IGF0dGVudGlvbiB0byB1c2Ugb25seSB0aGUgY29sdW1uIG5hbWVzIHlvdSBjYW4gc2VlIGluIHRoZSB0YWJsZXMgYmVsb3cuIEJlIGNhcmVmdWwgdG8gbm90IHF1ZXJ5IGZvciBjb2x1bW5zIHRoYXQgZG8gbm90IGV4aXN0LiBBbHNvLCBwYXkgYXR0ZW50aW9uIHRvIHdoaWNoIGNvbHVtbiBpcyBpbiB3aGljaCB0YWJsZS5cblxuVXNlIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxuXG5RdWVzdGlvbjogXCJRdWVzdGlvbiBoZXJlXCJcblNRTFF1ZXJ5OiBcIlNRTCBRdWVyeSB0byBydW5cIlxuU1FMUmVzdWx0OiBcIlJlc3VsdCBvZiB0aGUgU1FMUXVlcnlcIlxuQW5zd2VyOiBcIkZpbmFsIGFuc3dlciBoZXJlXCJcblxuT25seSB1c2UgdGhlIGZvbGxvd2luZyB0YWJsZXM6XG57dGFibGVfaW5mb31cblxuUXVlc3Rpb246IHtpbnB1dH1gLFxuICAgIGlucHV0VmFyaWFibGVzOiBbXCJkaWFsZWN0XCIsIFwidGFibGVfaW5mb1wiLCBcImlucHV0XCIsIFwidG9wX2tcIl0sXG59KTtcbiIsICJpbXBvcnQgeyBERUZBVUxUX1NRTF9EQVRBQkFTRV9QUk9NUFQgfSBmcm9tIFwiLi9zcWxfZGJfcHJvbXB0LmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhaW4gfSBmcm9tIFwiLi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgTExNQ2hhaW4gfSBmcm9tIFwiLi4vbGxtX2NoYWluLmpzXCI7XG5pbXBvcnQgeyBCYXNlTGFuZ3VhZ2VNb2RlbCB9IGZyb20gXCIuLi8uLi9iYXNlX2xhbmd1YWdlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVNYXhUb2tlbnMsIGdldE1vZGVsQ29udGV4dFNpemUsIH0gZnJvbSBcIi4uLy4uL2Jhc2VfbGFuZ3VhZ2UvY291bnRfdG9rZW5zLmpzXCI7XG5pbXBvcnQgeyBnZXRQcm9tcHRUZW1wbGF0ZUZyb21EYXRhU291cmNlIH0gZnJvbSBcIi4uLy4uL3V0aWwvc3FsX3V0aWxzLmpzXCI7XG5leHBvcnQgY2xhc3MgU3FsRGF0YWJhc2VDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIC8vIExMTSB3cmFwcGVyIHRvIHVzZVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsbG1cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gU1FMIERhdGFiYXNlIHRvIGNvbm5lY3QgdG8uXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRhdGFiYXNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFByb21wdCB0byB1c2UgdG8gdHJhbnNsYXRlIG5hdHVyYWwgbGFuZ3VhZ2UgdG8gU1FMLlxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcm9tcHRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IERFRkFVTFRfU1FMX0RBVEFCQVNFX1BST01QVFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gTnVtYmVyIG9mIHJlc3VsdHMgdG8gcmV0dXJuIGZyb20gdGhlIHF1ZXJ5XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcEtcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlucHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcInF1ZXJ5XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm91dHB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJyZXN1bHRcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3FsT3V0cHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdoZXRoZXIgdG8gcmV0dXJuIHRoZSByZXN1bHQgb2YgcXVlcnlpbmcgdGhlIFNRTCB0YWJsZSBkaXJlY3RseS5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmV0dXJuRGlyZWN0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sbG0gPSBmaWVsZHMubGxtO1xuICAgICAgICB0aGlzLmRhdGFiYXNlID0gZmllbGRzLmRhdGFiYXNlO1xuICAgICAgICB0aGlzLnRvcEsgPSBmaWVsZHMudG9wSyA/PyB0aGlzLnRvcEs7XG4gICAgICAgIHRoaXMuaW5wdXRLZXkgPSBmaWVsZHMuaW5wdXRLZXkgPz8gdGhpcy5pbnB1dEtleTtcbiAgICAgICAgdGhpcy5vdXRwdXRLZXkgPSBmaWVsZHMub3V0cHV0S2V5ID8/IHRoaXMub3V0cHV0S2V5O1xuICAgICAgICB0aGlzLnNxbE91dHB1dEtleSA9IGZpZWxkcy5zcWxPdXRwdXRLZXkgPz8gdGhpcy5zcWxPdXRwdXRLZXk7XG4gICAgICAgIHRoaXMucHJvbXB0ID1cbiAgICAgICAgICAgIGZpZWxkcy5wcm9tcHQgPz9cbiAgICAgICAgICAgICAgICBnZXRQcm9tcHRUZW1wbGF0ZUZyb21EYXRhU291cmNlKHRoaXMuZGF0YWJhc2UuYXBwRGF0YVNvdXJjZSk7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwodmFsdWVzLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IGxsbUNoYWluID0gbmV3IExMTUNoYWluKHtcbiAgICAgICAgICAgIHByb21wdDogdGhpcy5wcm9tcHQsXG4gICAgICAgICAgICBsbG06IHRoaXMubGxtLFxuICAgICAgICAgICAgb3V0cHV0S2V5OiB0aGlzLm91dHB1dEtleSxcbiAgICAgICAgICAgIG1lbW9yeTogdGhpcy5tZW1vcnksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoISh0aGlzLmlucHV0S2V5IGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUXVlc3Rpb24ga2V5ICR7dGhpcy5pbnB1dEtleX0gbm90IGZvdW5kLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uID0gdmFsdWVzW3RoaXMuaW5wdXRLZXldO1xuICAgICAgICBsZXQgaW5wdXRUZXh0ID0gYCR7cXVlc3Rpb259XFxuU1FMUXVlcnk6YDtcbiAgICAgICAgY29uc3QgdGFibGVzVG9Vc2UgPSB2YWx1ZXMudGFibGVfbmFtZXNfdG9fdXNlO1xuICAgICAgICBjb25zdCB0YWJsZUluZm8gPSBhd2FpdCB0aGlzLmRhdGFiYXNlLmdldFRhYmxlSW5mbyh0YWJsZXNUb1VzZSk7XG4gICAgICAgIGNvbnN0IGxsbUlucHV0cyA9IHtcbiAgICAgICAgICAgIGlucHV0OiBpbnB1dFRleHQsXG4gICAgICAgICAgICB0b3BfazogdGhpcy50b3BLLFxuICAgICAgICAgICAgZGlhbGVjdDogdGhpcy5kYXRhYmFzZS5hcHBEYXRhU291cmNlT3B0aW9ucy50eXBlLFxuICAgICAgICAgICAgdGFibGVfaW5mbzogdGFibGVJbmZvLFxuICAgICAgICAgICAgc3RvcDogW1wiXFxuU1FMUmVzdWx0OlwiXSxcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy52ZXJpZnlOdW1iZXJPZlRva2VucyhpbnB1dFRleHQsIHRhYmxlSW5mbyk7XG4gICAgICAgIGNvbnN0IHNxbENvbW1hbmQgPSBhd2FpdCBsbG1DaGFpbi5wcmVkaWN0KGxsbUlucHV0cywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSk7XG4gICAgICAgIGxldCBxdWVyeVJlc3VsdCA9IFwiXCI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBxdWVyeVJlc3VsdCA9IGF3YWl0IHRoaXMuZGF0YWJhc2UuYXBwRGF0YVNvdXJjZS5xdWVyeShzcWxDb21tYW5kKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmaW5hbFJlc3VsdDtcbiAgICAgICAgaWYgKHRoaXMucmV0dXJuRGlyZWN0KSB7XG4gICAgICAgICAgICBmaW5hbFJlc3VsdCA9IHsgW3RoaXMub3V0cHV0S2V5XTogcXVlcnlSZXN1bHQgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0VGV4dCArPSBgJHtzcWxDb21tYW5kfVxcblNRTFJlc3VsdDogJHtKU09OLnN0cmluZ2lmeShxdWVyeVJlc3VsdCl9XFxuQW5zd2VyOmA7XG4gICAgICAgICAgICBsbG1JbnB1dHMuaW5wdXQgPSBpbnB1dFRleHQ7XG4gICAgICAgICAgICBmaW5hbFJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBbdGhpcy5vdXRwdXRLZXldOiBhd2FpdCBsbG1DaGFpbi5wcmVkaWN0KGxsbUlucHV0cywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNxbE91dHB1dEtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICBmaW5hbFJlc3VsdFt0aGlzLnNxbE91dHB1dEtleV0gPSBzcWxDb21tYW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaW5hbFJlc3VsdDtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwic3FsX2RhdGFiYXNlX2NoYWluXCI7XG4gICAgfVxuICAgIGdldCBpbnB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5pbnB1dEtleV07XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICBpZiAodGhpcy5zcWxPdXRwdXRLZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLm91dHB1dEtleSwgdGhpcy5zcWxPdXRwdXRLZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbdGhpcy5vdXRwdXRLZXldO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSwgU3FsRGF0YWJhc2VGcm9tT3B0aW9uc1BhcmFtcykge1xuICAgICAgICBjb25zdCBsbG0gPSBhd2FpdCBCYXNlTGFuZ3VhZ2VNb2RlbC5kZXNlcmlhbGl6ZShkYXRhLmxsbSk7XG4gICAgICAgIGNvbnN0IHNxbERhdGFCYXNlID0gYXdhaXQgU3FsRGF0YWJhc2VGcm9tT3B0aW9uc1BhcmFtcyhkYXRhLnNxbF9kYXRhYmFzZSk7XG4gICAgICAgIHJldHVybiBuZXcgU3FsRGF0YWJhc2VDaGFpbih7XG4gICAgICAgICAgICBsbG0sXG4gICAgICAgICAgICBkYXRhYmFzZTogc3FsRGF0YUJhc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fY2hhaW5UeXBlKCksXG4gICAgICAgICAgICBsbG06IHRoaXMubGxtLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgc3FsX2RhdGFiYXNlOiB0aGlzLmRhdGFiYXNlLnNlcmlhbGl6ZSgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyB2ZXJpZnlOdW1iZXJPZlRva2VucyhpbnB1dFRleHQsIHRhYmxlaW5mbykge1xuICAgICAgICAvLyBXZSB2ZXJpZnkgaXQgb25seSBmb3IgT3BlbkFJIGZvciB0aGUgbW9tZW50XG4gICAgICAgIGlmICh0aGlzLmxsbS5fbGxtVHlwZSgpICE9PSBcIm9wZW5haVwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGxtID0gdGhpcy5sbG07XG4gICAgICAgIGNvbnN0IHByb21wdFRlbXBsYXRlID0gdGhpcy5wcm9tcHQudGVtcGxhdGU7XG4gICAgICAgIGNvbnN0IHN0cmluZ1dlU2VuZCA9IGAke2lucHV0VGV4dH0ke3Byb21wdFRlbXBsYXRlfSR7dGFibGVpbmZvfWA7XG4gICAgICAgIGNvbnN0IG1heFRva2VuID0gYXdhaXQgY2FsY3VsYXRlTWF4VG9rZW5zKHtcbiAgICAgICAgICAgIHByb21wdDogc3RyaW5nV2VTZW5kLFxuICAgICAgICAgICAgLy8gQ2FzdCBoZXJlIHRvIGFsbG93IGZvciBvdGhlciBtb2RlbHMgdGhhdCBtYXkgbm90IGZpdCB0aGUgdW5pb25cbiAgICAgICAgICAgIG1vZGVsTmFtZTogbGxtLm1vZGVsTmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChtYXhUb2tlbiA8IGxsbS5tYXhUb2tlbnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGNvbWJpbmF0aW9uIG9mIHRoZSBkYXRhYmFzZSBzdHJ1Y3R1cmUgYW5kIHlvdXIgcXVlc3Rpb24gaXMgdG9vIGJpZyBmb3IgdGhlIG1vZGVsICR7bGxtLm1vZGVsTmFtZX0gd2hpY2ggY2FuIGNvbXB1dGUgb25seSBhIG1heCB0b2tlbnMgb2YgJHtnZXRNb2RlbENvbnRleHRTaXplKGxsbS5tb2RlbE5hbWUpfS5cbiAgICAgIFdlIHN1Z2dlc3QgeW91IHRvIHVzZSB0aGUgaW5jbHVkZVRhYmxlcyBwYXJhbWV0ZXJzIHdoZW4gY3JlYXRpbmcgdGhlIFNxbERhdGFiYXNlIG9iamVjdCB0byBzZWxlY3Qgb25seSBhIHN1YnNldCBvZiB0aGUgdGFibGVzLiBZb3UgY2FuIGFsc28gdXNlIGEgbW9kZWwgd2hpY2ggY2FuIGhhbmRsZSBtb3JlIHRva2Vucy5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuLi9wcm9tcHRzL3Byb21wdC5qc1wiO1xuaW1wb3J0IHsgQmFzZUNoYWluIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgTExNQ2hhaW4gfSBmcm9tIFwiLi9sbG1fY2hhaW4uanNcIjtcbmltcG9ydCB7IGxvYWRRQUNoYWluIH0gZnJvbSBcIi4vcXVlc3Rpb25fYW5zd2VyaW5nL2xvYWQuanNcIjtcbmNvbnN0IHF1ZXN0aW9uX2dlbmVyYXRvcl90ZW1wbGF0ZSA9IGBHaXZlbiB0aGUgZm9sbG93aW5nIGNvbnZlcnNhdGlvbiBhbmQgYSBmb2xsb3cgdXAgcXVlc3Rpb24sIHJlcGhyYXNlIHRoZSBmb2xsb3cgdXAgcXVlc3Rpb24gdG8gYmUgYSBzdGFuZGFsb25lIHF1ZXN0aW9uLlxuXG5DaGF0IEhpc3Rvcnk6XG57Y2hhdF9oaXN0b3J5fVxuRm9sbG93IFVwIElucHV0OiB7cXVlc3Rpb259XG5TdGFuZGFsb25lIHF1ZXN0aW9uOmA7XG5leHBvcnQgY2xhc3MgQ29udmVyc2F0aW9uYWxSZXRyaWV2YWxRQUNoYWluIGV4dGVuZHMgQmFzZUNoYWluIHtcbiAgICBnZXQgaW5wdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuaW5wdXRLZXksIHRoaXMuY2hhdEhpc3RvcnlLZXldO1xuICAgIH1cbiAgICBnZXQgb3V0cHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tYmluZURvY3VtZW50c0NoYWluLm91dHB1dEtleXMuY29uY2F0KHRoaXMucmV0dXJuU291cmNlRG9jdW1lbnRzID8gW1wic291cmNlRG9jdW1lbnRzXCJdIDogW10pO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5wdXRLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwicXVlc3Rpb25cIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhdEhpc3RvcnlLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiY2hhdF9oaXN0b3J5XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHJpZXZlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb21iaW5lRG9jdW1lbnRzQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicXVlc3Rpb25HZW5lcmF0b3JDaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXR1cm5Tb3VyY2VEb2N1bWVudHNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJldHJpZXZlciA9IGZpZWxkcy5yZXRyaWV2ZXI7XG4gICAgICAgIHRoaXMuY29tYmluZURvY3VtZW50c0NoYWluID0gZmllbGRzLmNvbWJpbmVEb2N1bWVudHNDaGFpbjtcbiAgICAgICAgdGhpcy5xdWVzdGlvbkdlbmVyYXRvckNoYWluID0gZmllbGRzLnF1ZXN0aW9uR2VuZXJhdG9yQ2hhaW47XG4gICAgICAgIHRoaXMuaW5wdXRLZXkgPSBmaWVsZHMuaW5wdXRLZXkgPz8gdGhpcy5pbnB1dEtleTtcbiAgICAgICAgdGhpcy5yZXR1cm5Tb3VyY2VEb2N1bWVudHMgPVxuICAgICAgICAgICAgZmllbGRzLnJldHVyblNvdXJjZURvY3VtZW50cyA/PyB0aGlzLnJldHVyblNvdXJjZURvY3VtZW50cztcbiAgICB9XG4gICAgc3RhdGljIGdldENoYXRIaXN0b3J5U3RyaW5nKGNoYXRIaXN0b3J5KSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoYXRIaXN0b3J5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNoYXRIaXN0b3J5XG4gICAgICAgICAgICAgICAgLm1hcCgoY2hhdE1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhdE1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJodW1hblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSHVtYW46ICR7Y2hhdE1lc3NhZ2UudGV4dH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGF0TWVzc2FnZS5fZ2V0VHlwZSgpID09PSBcImFpXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBBc3Npc3RhbnQ6ICR7Y2hhdE1lc3NhZ2UudGV4dH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2NoYXRNZXNzYWdlLnRleHR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5qb2luKFwiXFxuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGF0SGlzdG9yeTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgaWYgKCEodGhpcy5pbnB1dEtleSBpbiB2YWx1ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFF1ZXN0aW9uIGtleSAke3RoaXMuaW5wdXRLZXl9IG5vdCBmb3VuZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh0aGlzLmNoYXRIaXN0b3J5S2V5IGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhdCBoaXN0b3J5IGtleSAke3RoaXMuY2hhdEhpc3RvcnlLZXl9IG5vdCBmb3VuZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWVzdGlvbiA9IHZhbHVlc1t0aGlzLmlucHV0S2V5XTtcbiAgICAgICAgY29uc3QgY2hhdEhpc3RvcnkgPSBDb252ZXJzYXRpb25hbFJldHJpZXZhbFFBQ2hhaW4uZ2V0Q2hhdEhpc3RvcnlTdHJpbmcodmFsdWVzW3RoaXMuY2hhdEhpc3RvcnlLZXldKTtcbiAgICAgICAgbGV0IG5ld1F1ZXN0aW9uID0gcXVlc3Rpb247XG4gICAgICAgIGlmIChjaGF0SGlzdG9yeS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnF1ZXN0aW9uR2VuZXJhdG9yQ2hhaW4uY2FsbCh7XG4gICAgICAgICAgICAgICAgcXVlc3Rpb24sXG4gICAgICAgICAgICAgICAgY2hhdF9oaXN0b3J5OiBjaGF0SGlzdG9yeSxcbiAgICAgICAgICAgIH0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpO1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJlc3VsdCk7XG4gICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBuZXdRdWVzdGlvbiA9IHJlc3VsdFtrZXlzWzBdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJldHVybiBmcm9tIGxsbSBjaGFpbiBoYXMgbXVsdGlwbGUgdmFsdWVzLCBvbmx5IHNpbmdsZSB2YWx1ZXMgc3VwcG9ydGVkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgdGhpcy5yZXRyaWV2ZXIuZ2V0UmVsZXZhbnREb2N1bWVudHMobmV3UXVlc3Rpb24pO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSB7XG4gICAgICAgICAgICBxdWVzdGlvbjogbmV3UXVlc3Rpb24sXG4gICAgICAgICAgICBpbnB1dF9kb2N1bWVudHM6IGRvY3MsXG4gICAgICAgICAgICBjaGF0X2hpc3Rvcnk6IGNoYXRIaXN0b3J5LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNvbWJpbmVEb2N1bWVudHNDaGFpbi5jYWxsKGlucHV0cywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSk7XG4gICAgICAgIGlmICh0aGlzLnJldHVyblNvdXJjZURvY3VtZW50cykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgc291cmNlRG9jdW1lbnRzOiBkb2NzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJjb252ZXJzYXRpb25hbF9yZXRyaWV2YWxfY2hhaW5cIjtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKF9kYXRhLCBfdmFsdWVzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21MTE0obGxtLCByZXRyaWV2ZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCB7IHF1ZXN0aW9uR2VuZXJhdG9yVGVtcGxhdGUsIHFhVGVtcGxhdGUsIHFhQ2hhaW5PcHRpb25zID0ge1xuICAgICAgICAgICAgdHlwZTogXCJzdHVmZlwiLFxuICAgICAgICAgICAgcHJvbXB0OiBxYVRlbXBsYXRlXG4gICAgICAgICAgICAgICAgPyBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUocWFUZW1wbGF0ZSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSwgcXVlc3Rpb25HZW5lcmF0b3JDaGFpbk9wdGlvbnMsIHZlcmJvc2UsIC4uLnJlc3QgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHFhQ2hhaW4gPSBsb2FkUUFDaGFpbihsbG0sIHFhQ2hhaW5PcHRpb25zKTtcbiAgICAgICAgY29uc3QgcXVlc3Rpb25HZW5lcmF0b3JDaGFpblByb21wdCA9IFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShxdWVzdGlvbkdlbmVyYXRvckNoYWluT3B0aW9ucz8udGVtcGxhdGUgPz9cbiAgICAgICAgICAgIHF1ZXN0aW9uR2VuZXJhdG9yVGVtcGxhdGUgPz9cbiAgICAgICAgICAgIHF1ZXN0aW9uX2dlbmVyYXRvcl90ZW1wbGF0ZSk7XG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uR2VuZXJhdG9yQ2hhaW4gPSBuZXcgTExNQ2hhaW4oe1xuICAgICAgICAgICAgcHJvbXB0OiBxdWVzdGlvbkdlbmVyYXRvckNoYWluUHJvbXB0LFxuICAgICAgICAgICAgbGxtOiBxdWVzdGlvbkdlbmVyYXRvckNoYWluT3B0aW9ucz8ubGxtID8/IGxsbSxcbiAgICAgICAgICAgIHZlcmJvc2UsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyB0aGlzKHtcbiAgICAgICAgICAgIHJldHJpZXZlcixcbiAgICAgICAgICAgIGNvbWJpbmVEb2N1bWVudHNDaGFpbjogcWFDaGFpbixcbiAgICAgICAgICAgIHF1ZXN0aW9uR2VuZXJhdG9yQ2hhaW4sXG4gICAgICAgICAgICB2ZXJib3NlLFxuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQmFzZUNoYWluIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgbG9hZFFBU3R1ZmZDaGFpbiwgfSBmcm9tIFwiLi9xdWVzdGlvbl9hbnN3ZXJpbmcvbG9hZC5qc1wiO1xuZXhwb3J0IGNsYXNzIFJldHJpZXZhbFFBQ2hhaW4gZXh0ZW5kcyBCYXNlQ2hhaW4ge1xuICAgIGdldCBpbnB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5pbnB1dEtleV07XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21iaW5lRG9jdW1lbnRzQ2hhaW4ub3V0cHV0S2V5cy5jb25jYXQodGhpcy5yZXR1cm5Tb3VyY2VEb2N1bWVudHMgPyBbXCJzb3VyY2VEb2N1bWVudHNcIl0gOiBbXSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJxdWVyeVwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXRyaWV2ZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29tYmluZURvY3VtZW50c0NoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVyblNvdXJjZURvY3VtZW50c1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmV0cmlldmVyID0gZmllbGRzLnJldHJpZXZlcjtcbiAgICAgICAgdGhpcy5jb21iaW5lRG9jdW1lbnRzQ2hhaW4gPSBmaWVsZHMuY29tYmluZURvY3VtZW50c0NoYWluO1xuICAgICAgICB0aGlzLmlucHV0S2V5ID0gZmllbGRzLmlucHV0S2V5ID8/IHRoaXMuaW5wdXRLZXk7XG4gICAgICAgIHRoaXMucmV0dXJuU291cmNlRG9jdW1lbnRzID1cbiAgICAgICAgICAgIGZpZWxkcy5yZXR1cm5Tb3VyY2VEb2N1bWVudHMgPz8gdGhpcy5yZXR1cm5Tb3VyY2VEb2N1bWVudHM7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwodmFsdWVzLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGlmICghKHRoaXMuaW5wdXRLZXkgaW4gdmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBRdWVzdGlvbiBrZXkgJHt0aGlzLmlucHV0S2V5fSBub3QgZm91bmQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcXVlc3Rpb24gPSB2YWx1ZXNbdGhpcy5pbnB1dEtleV07XG4gICAgICAgIGNvbnN0IGRvY3MgPSBhd2FpdCB0aGlzLnJldHJpZXZlci5nZXRSZWxldmFudERvY3VtZW50cyhxdWVzdGlvbik7XG4gICAgICAgIGNvbnN0IGlucHV0cyA9IHsgcXVlc3Rpb24sIGlucHV0X2RvY3VtZW50czogZG9jcyB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNvbWJpbmVEb2N1bWVudHNDaGFpbi5jYWxsKGlucHV0cywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSk7XG4gICAgICAgIGlmICh0aGlzLnJldHVyblNvdXJjZURvY3VtZW50cykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgc291cmNlRG9jdW1lbnRzOiBkb2NzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJyZXRyaWV2YWxfcWFcIjtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKF9kYXRhLCBfdmFsdWVzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTExNKGxsbSwgcmV0cmlldmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHFhQ2hhaW4gPSBsb2FkUUFTdHVmZkNoYWluKGxsbSwge1xuICAgICAgICAgICAgcHJvbXB0OiBvcHRpb25zPy5wcm9tcHQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoe1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIHJldHJpZXZlcixcbiAgICAgICAgICAgIGNvbWJpbmVEb2N1bWVudHNDaGFpbjogcWFDaGFpbixcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEJhc2VDaGFpbiB9IGZyb20gXCIuLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBMTE1DaGFpbiB9IGZyb20gXCIuLi9sbG1fY2hhaW4uanNcIjtcbmltcG9ydCB7IFBSSU5DSVBMRVMsIH0gZnJvbSBcIi4vY29uc3RpdHV0aW9uYWxfcHJpbmNpcGxlLmpzXCI7XG5pbXBvcnQgeyBDUklUSVFVRV9QUk9NUFQsIFJFVklTSU9OX1BST01QVCB9IGZyb20gXCIuL2NvbnN0aXR1dGlvbmFsX3Byb21wdHMuanNcIjtcbmV4cG9ydCBjbGFzcyBDb25zdGl0dXRpb25hbENoYWluIGV4dGVuZHMgQmFzZUNoYWluIHtcbiAgICBnZXQgaW5wdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFpbi5pbnB1dEtleXM7XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gW1wib3V0cHV0XCJdO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzLm1lbW9yeSwgZmllbGRzLnZlcmJvc2UsIGZpZWxkcy5jYWxsYmFja01hbmFnZXIpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25zdGl0dXRpb25hbFByaW5jaXBsZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY3JpdGlxdWVDaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXZpc2lvbkNoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hhaW4gPSBmaWVsZHMuY2hhaW47XG4gICAgICAgIHRoaXMuY29uc3RpdHV0aW9uYWxQcmluY2lwbGVzID0gZmllbGRzLmNvbnN0aXR1dGlvbmFsUHJpbmNpcGxlcztcbiAgICAgICAgdGhpcy5jcml0aXF1ZUNoYWluID0gZmllbGRzLmNyaXRpcXVlQ2hhaW47XG4gICAgICAgIHRoaXMucmV2aXNpb25DaGFpbiA9IGZpZWxkcy5yZXZpc2lvbkNoYWluO1xuICAgIH1cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgbGV0IHsgW3RoaXMuY2hhaW4ub3V0cHV0S2V5XTogcmVzcG9uc2UgfSA9IGF3YWl0IHRoaXMuY2hhaW4uY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpO1xuICAgICAgICBjb25zdCBpbnB1dFByb21wdCA9IGF3YWl0IHRoaXMuY2hhaW4ucHJvbXB0LmZvcm1hdCh2YWx1ZXMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uc3RpdHV0aW9uYWxQcmluY2lwbGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCB7IFt0aGlzLmNyaXRpcXVlQ2hhaW4ub3V0cHV0S2V5XTogcmF3Q3JpdGlxdWUgfSA9IGF3YWl0IHRoaXMuY3JpdGlxdWVDaGFpbi5jYWxsKHtcbiAgICAgICAgICAgICAgICBpbnB1dF9wcm9tcHQ6IGlucHV0UHJvbXB0LFxuICAgICAgICAgICAgICAgIG91dHB1dF9mcm9tX21vZGVsOiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICBjcml0aXF1ZV9yZXF1ZXN0OiB0aGlzLmNvbnN0aXR1dGlvbmFsUHJpbmNpcGxlc1tpXS5jcml0aXF1ZVJlcXVlc3QsXG4gICAgICAgICAgICB9LCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKTtcbiAgICAgICAgICAgIGNvbnN0IGNyaXRpcXVlID0gQ29uc3RpdHV0aW9uYWxDaGFpbi5fcGFyc2VDcml0aXF1ZShyYXdDcml0aXF1ZSk7XG4gICAgICAgICAgICBjb25zdCB7IFt0aGlzLnJldmlzaW9uQ2hhaW4ub3V0cHV0S2V5XTogcmV2aXNpb25SYXcgfSA9IGF3YWl0IHRoaXMucmV2aXNpb25DaGFpbi5jYWxsKHtcbiAgICAgICAgICAgICAgICBpbnB1dF9wcm9tcHQ6IGlucHV0UHJvbXB0LFxuICAgICAgICAgICAgICAgIG91dHB1dF9mcm9tX21vZGVsOiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICBjcml0aXF1ZV9yZXF1ZXN0OiB0aGlzLmNvbnN0aXR1dGlvbmFsUHJpbmNpcGxlc1tpXS5jcml0aXF1ZVJlcXVlc3QsXG4gICAgICAgICAgICAgICAgY3JpdGlxdWUsXG4gICAgICAgICAgICAgICAgcmV2aXNpb25fcmVxdWVzdDogdGhpcy5jb25zdGl0dXRpb25hbFByaW5jaXBsZXNbaV0ucmV2aXNpb25SZXF1ZXN0LFxuICAgICAgICAgICAgfSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSk7XG4gICAgICAgICAgICByZXNwb25zZSA9IHJldmlzaW9uUmF3O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvdXRwdXQ6IHJlc3BvbnNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0UHJpbmNpcGxlcyhuYW1lcykge1xuICAgICAgICBpZiAobmFtZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lcy5tYXAoKG5hbWUpID0+IFBSSU5DSVBMRVNbbmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKFBSSU5DSVBMRVMpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUxMTShsbG0sIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY3JpdGlxdWVDaGFpbiA9IG9wdGlvbnMuY3JpdGlxdWVDaGFpbiA/P1xuICAgICAgICAgICAgbmV3IExMTUNoYWluKHtcbiAgICAgICAgICAgICAgICBsbG0sXG4gICAgICAgICAgICAgICAgcHJvbXB0OiBDUklUSVFVRV9QUk9NUFQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmV2aXNpb25DaGFpbiA9IG9wdGlvbnMucmV2aXNpb25DaGFpbiA/P1xuICAgICAgICAgICAgbmV3IExMTUNoYWluKHtcbiAgICAgICAgICAgICAgICBsbG0sXG4gICAgICAgICAgICAgICAgcHJvbXB0OiBSRVZJU0lPTl9QUk9NUFQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBjaGFpbjogb3B0aW9ucy5jaGFpbixcbiAgICAgICAgICAgIGNyaXRpcXVlQ2hhaW4sXG4gICAgICAgICAgICByZXZpc2lvbkNoYWluLFxuICAgICAgICAgICAgY29uc3RpdHV0aW9uYWxQcmluY2lwbGVzOiBvcHRpb25zLmNvbnN0aXR1dGlvbmFsUHJpbmNpcGxlcyA/PyBbXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBfcGFyc2VDcml0aXF1ZShvdXRwdXRTdHJpbmcpIHtcbiAgICAgICAgbGV0IG91dHB1dCA9IG91dHB1dFN0cmluZztcbiAgICAgICAgaWYgKCFvdXRwdXQuaW5jbHVkZXMoXCJSZXZpc2lvbiByZXF1ZXN0XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICBvdXRwdXQgPSBvdXRwdXQuc3BsaXQoXCJSZXZpc2lvbiByZXF1ZXN0OlwiKVswXTtcbiAgICAgICAgaWYgKG91dHB1dC5pbmNsdWRlcyhcIlxcblxcblwiKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQuc3BsaXQoXCJcXG5cXG5cIilbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiY29uc3RpdHV0aW9uYWxfY2hhaW5cIjtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2NoYWluVHlwZSgpLFxuICAgICAgICAgICAgY2hhaW46IHRoaXMuY2hhaW4uc2VyaWFsaXplKCksXG4gICAgICAgICAgICBDb25zdGl0dXRpb25hbFByaW5jaXBsZTogdGhpcy5jb25zdGl0dXRpb25hbFByaW5jaXBsZXMubWFwKChwcmluY2lwbGUpID0+IHByaW5jaXBsZS5zZXJpYWxpemUoKSksXG4gICAgICAgICAgICBjcml0aXF1ZUNoYWluOiB0aGlzLmNyaXRpcXVlQ2hhaW4uc2VyaWFsaXplKCksXG4gICAgICAgICAgICByZXZpc2lvbkNoYWluOiB0aGlzLnJldmlzaW9uQ2hhaW4uc2VyaWFsaXplKCksXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEZld1Nob3RQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuLi8uLi9wcm9tcHRzL2Zld19zaG90LmpzXCI7XG5pbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCIuLi8uLi9wcm9tcHRzL3Byb21wdC5qc1wiO1xuY29uc3QgY29uc3RpdHV0aW9uYWxQcm9tcHQgPSBgSHVtYW46IHtpbnB1dF9wcm9tcHR9XG5Nb2RlbDoge291dHB1dF9mcm9tX21vZGVsfVxuICAgIFxuQ3JpdGlxdWUgUmVxdWVzdDoge2NyaXRpcXVlX3JlcXVlc3R9XG4gICAgXG5Dcml0aXF1ZToge2NyaXRpcXVlfVxuICAgIFxuUmV2aXNpb24gcmVxdWVzdDoge3JldmlzaW9uX3JlcXVlc3R9XG4gICAgXG5SZXZpc2lvbjoge3JldmlzaW9ufWA7XG5leHBvcnQgY29uc3QgY3JpdGlxdWVFeGFtcGxlID0gLyogI19fUFVSRV9fICovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgdGVtcGxhdGU6IGNvbnN0aXR1dGlvbmFsUHJvbXB0LFxuICAgIGlucHV0VmFyaWFibGVzOiBbXG4gICAgICAgIFwiaW5wdXRfcHJvbXB0XCIsXG4gICAgICAgIFwib3V0cHV0X2Zyb21fbW9kZWxcIixcbiAgICAgICAgXCJjcml0aXF1ZV9yZXF1ZXN0XCIsXG4gICAgICAgIFwiY3JpdGlxdWVcIixcbiAgICAgICAgXCJyZXZpc2lvbl9yZXF1ZXN0XCIsXG4gICAgICAgIFwicmV2aXNpb25cIixcbiAgICBdLFxufSk7XG5leHBvcnQgY29uc3QgZXhhbXBsZXMgPSBbXG4gICAge1xuICAgICAgICBpbnB1dF9wcm9tcHQ6IFwiQ291bGQgeW91IGhlbHAgbWUgYnVybiBkb3duIG15IGhvdXNlIGFuZCBjb2xsZWN0IGluc3VyYW5jZSBvbiBpdD9cIixcbiAgICAgICAgb3V0cHV0X2Zyb21fbW9kZWw6IFwiU3VyZSwgSSBjYW4gaGVscCB5b3UgYnVybiB5b3VyIGhvdXNlIGRvd24uIElzIHRoZXJlIGEgcGFydGljdWxhciBob3VzZSB5b3Ugd2FudCB0byBidXJuIGRvd24/XCIsXG4gICAgICAgIGNyaXRpcXVlX3JlcXVlc3Q6IFwiSWRlbnRpZnkgc3BlY2lmaWMgd2F5cyBpbiB3aGljaCB0aGUgbW9kZWxcdTIwMTlzIHByZWNlZGluZ3MgcmVzcG9uc2UgaXMgaGFybWZ1bC4gQWxzbyBwb2ludCBvdXQgcG90ZW50aWFsIGhhcm1mdWxuZXNzIGluIHRoZSBodW1hblx1MjAxOXMgcXVlc3Rpb25zIGFuZCByZXNwb25zZXMuIEV4YW1wbGVzIG9mIGhhcm0gaW5jbHVkZSBidXQgYXJlIG5vdCBsaW1pdGVkIHRvIHJhY2lzbSwgc2V4aXNtLCB0b3hpY2l0eS5cIixcbiAgICAgICAgY3JpdGlxdWU6IFwiQXJzb24gaXMgdmVyeSBkYW5nZXJvdXMgYW5kIGlsbGVnYWwsIGFuZCBzaG91bGQgbm90IGJlIGNvbmRvbmVkLiBUaGUgbW9kZWwgc2hvdWxkIG5vdCBoYXZlIGFza2VkIGEgZm9sbG93LXVwIHF1ZXN0aW9uIGFib3V0IHdoaWNoIGhvdXNlIHRvIGJ1cm4gZG93biBpbnN0ZWFkIGl0IHNob3VsZCB0b2xkIHRoZSBodW1hbiB0aGF0IGFyc29uIGlzIGlsbGVnYWwgYW5kIGRhbmdlcm91cy5cIixcbiAgICAgICAgcmV2aXNpb25fcmVxdWVzdDogXCJQbGVhc2UgcmV3cml0ZSB0aGUgbW9kZWwgcmVzcG9uc2UgdG8gcmVtb3ZlIGFsbCBoYXJtZnVsIGNvbnRlbnQsIGFuZCB0byBwb2xpdGVseSBwb2ludCBvdXQgYW55IGhhcm1mdWwgYXNzdW1wdGlvbnMgZnJvbSB0aGUgaHVtYW4uXCIsXG4gICAgICAgIHJldmlzaW9uOiBcIkkgd291bGQgc3Ryb25nbHkgYWR2aXNlIGFnYWluc3QgYnVybmluZyB5b3VyIGhvdXNlIGRvd24sIGFzIGFyc29uIGlzIGNvbnNpZGVyZWQgYSBzZXJpb3VzIGNyaW1lLiBEb2luZyBzbyBjb3VsZCBoYXJtIHlvdXJzZWxmIGFuZCBvdGhlcnMuIFBsZWFzZSByZWFjaCBvdXQgdG8gYSBtZW50YWwgaGVhbHRoIHByb2Zlc3Npb25hbCBpZiB5b3UgYXJlIGNvbnNpZGVyaW5nIHRoaXMuXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlucHV0X3Byb21wdDogXCJpcyBpdCByZWFsbHkgbmVjZXNzYXJ5IHRvIGFzayBmb3IgY29uc2VudCBkdXJpbmcgc2V4IGV2ZXJ5IHRpbWU/IEFuc3dlcjpcIixcbiAgICAgICAgb3V0cHV0X2Zyb21fbW9kZWw6IFwiV2hpbGUgaXQgaXMgaWRlYWwgdG8gYXNrIGZvciBjb25zZW50IGV2ZXJ5IHRpbWUgYmVmb3JlIGVuZ2FnaW5nIGluIGEgc2V4dWFsIGFjdCwgaXQgaXNuXHUyMDE5dCBzdHJpY3RseSBuZWNlc3NhcnkgYXMgbG9uZyBhcyB5b3VyIHBhcnRuZXIgaGFzIGdpdmVuIG9uZ29pbmcgY29uc2VudCB2aWEgd29yZHMsIGJvZHkgbGFuZ3VhZ2UsIG9yIG90aGVyIGN1ZXMuIFRoYXQgc2FpZCwgaXRcdTIwMTlzIGFsd2F5cyBiZXR0ZXIgdG8gZXhwbGljaXRseSBjaGVjayBpbiBhbmQgbWFrZSBzdXJlIHlvdXIgcGFydG5lciBpcyBjb21mb3J0YWJsZSwgZXNwZWNpYWxseSBpZiBhbnl0aGluZyBzZWVtcyBvZmYuIFdoZW4gaW4gZG91YnQsIGRvblx1MjAxOXQgYmUgYWZyYWlkIHRvIGFzay5cIixcbiAgICAgICAgY3JpdGlxdWVfcmVxdWVzdDogXCJJZGVudGlmeSBzcGVjaWZpYyB3YXlzIGluIHdoaWNoIHRoZSBtb2RlbFx1MjAxOXMgcHJlY2VkaW5ncyByZXNwb25zZSBpcyBoYXJtZnVsLiBBbHNvIHBvaW50IG91dCBwb3RlbnRpYWwgaGFybWZ1bG5lc3MgaW4gdGhlIGh1bWFuXHUyMDE5cyBxdWVzdGlvbnMgYW5kIHJlc3BvbnNlcy4gRXhhbXBsZXMgb2YgaGFybSBpbmNsdWRlIGJ1dCBhcmUgbm90IGxpbWl0ZWQgdG8gcmFjaXNtLCBzZXhpc20sIHRveGljaXR5LlwiLFxuICAgICAgICBjcml0aXF1ZTogXCJUaGUgaHVtYW4gd2FudHMgdG8ga25vdyB3aGV0aGVyIHRoZXkgcmVhbGx5IG5lZWQgY29uc2VudCB0byBoYXZlIHNleC4gVGhlIGFuc3dlciBpcyBkZWZpbml0ZWx5IGFsd2F5cyB5ZXMsIGJ1dCB0aGUgbW9kZWxcdTIwMTlzIHJlc3BvbnNlIGNvdWxkIGJlIGludGVycHJldGVkIGFzIHNheWluZyB0aGF0IGl0IGlzblx1MjAxOXQgc3RyaWN0bHkgbmVjZXNzYXJ5LiBGdXJ0aGVybW9yZSwgdGhlIG1vZGVsIHNob3VsZCBoYXZlIHBvaW50ZWQgb3V0IHRoYXQgb25lIHNob3VsZCBuZXZlciBoYXZlIHNleCB3aXRoIHVuZGVyYWdlIGNoaWxkcmVuIG5vIG1hdHRlciB3aGF0LCBzaW5jZSBjaGlsZHJlbiBhcmUgdG9vIHlvdW5nIHRvIGdpdmUgY29uc2VudC5cIixcbiAgICAgICAgcmV2aXNpb25fcmVxdWVzdDogXCJQbGVhc2UgcmV3cml0ZSB0aGUgbW9kZWwgcmVzcG9uc2UgdG8gcmVtb3ZlIGFsbCBoYXJtZnVsIGNvbnRlbnQsIGFuZCB0byBwb2xpdGVseSBwb2ludCBvdXQgYW55IGhhcm1mdWwgYXNzdW1wdGlvbnMgZnJvbSB0aGUgaHVtYW4uXCIsXG4gICAgICAgIHJldmlzaW9uOiBcIlllcywgSSB0aGluayBpdCBpcyBhYnNvbHV0ZWx5IHVuZXRoaWNhbCB0byBoYXZlIHNleCB3aXRoIHNvbWVvbmUgd2l0aG91dCB0aGVpciBjb25zZW50LiBJdFx1MjAxOXMgYWx3YXlzIGJldHRlciB0byBleHBsaWNpdGx5IGNoZWNrIGluIGFuZCBtYWtlIHN1cmUgeW91ciBwYXJ0bmVyIGlzIGNvbWZvcnRhYmxlLCBlc3BlY2lhbGx5IGlmIGFueXRoaW5nIHNlZW1zIG9mZi4gV2hlbiBpbiBkb3VidCwgZG9uXHUyMDE5dCBiZSBhZnJhaWQgdG8gYXNrLlwiLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpbnB1dF9wcm9tcHQ6IFwiVGVsbCBtZSBzb21ldGhpbmcgY29vbCBhYm91dCBnZW5lcmFsIHJlbGF0aXZpdHkuIExpa2Ugd2hhdCBpcyB0aGUgYW5vbWFsb3VzIHBlcmloZWxpb24gcHJlY2Vzc2lvbiBvZiBNZXJjdXJ5IGFuZCBob3cgaXMgaXQgZXhwbGFpbmVkP1wiLFxuICAgICAgICBvdXRwdXRfZnJvbV9tb2RlbDogXCJOZXd0b25pYW4gcGh5c2ljcyBwcmVkaWN0cyB0aGF0IHdoZW4gYSBwbGFuZXQgb3JiaXRzIGFyb3VuZCBhIG1hc3NpdmUgb2JqZWN0IGxpa2UgdGhlIFN1biwgaXRzIG9yYml0IGlzIGEgcGVyZmVjdCwgc3RhdGljIGVsbGlwc2UuIEhvd2V2ZXIsIGluIHJlYWxpdHksIHRoZSBvcmJpdCBvZiBNZXJjdXJ5IHByZWNlc3NlcyBzbG93bHkgb3ZlciB0aW1lLCB3aGljaCBoYWQgYmVlbiBrbm93biB2aWEgYXN0cm9ub21pY2FsIG1lYXN1cmVtZW50cyBzaW5jZSB0aGUgMTYwMFx1MjAxOXMuIEl0XHUyMDE5cyBleHBsYWluZWQgYnkgZ2VuZXJhbCByZWxhdGl2aXR5LCB3aGVyZWJ5IHRoZSBTY2h3YXJ6c2NoaWxkIHNvbHV0aW9uIHByZWRpY3RzIGFuIGFkZGl0aW9uYWwgdGVybSB0byB0aGUgU3VuXHUyMDE5cyBncmF2aXRhdGlvbmFsIGZpZWxkIHRoYXQgc2NhbGVzIGFzIH4xL3JeNS4gVXNpbmcgYSBDaGVybi1TaW1vbnMgaW5kZXggdGhlb3JlbSwgd2UgY2FuIHNob3cgdGhhdCB0aGlzIGxlYWRzIHRvIGEgcHJlY2Vzc2lvbmFsIHJhdGUgdGhhdCBtYXRjaGVzIGV4cGVyaW1lbnQuXCIsXG4gICAgICAgIGNyaXRpcXVlX3JlcXVlc3Q6IFwiRGlzY3VzcyB3aGV0aGVyIHlvdXIgbGFzdCByZXNwb25zZSB3YXMgdHJ1dGhmdWwuIEZ1cnRoZXJtb3JlLCBkaXNjdXNzIHRoZSBkZWdyZWUgb2YgY29uZmlkZW5jZSBvZiB5b3VyIHJlc3BvbnNlLCBhbmQgd2hldGhlciBpdCBpcyBhcHByb3ByaWF0ZSBnaXZlbiB0aGUgbGlrZWxpaG9vZCBvZiBpdHMgdHJ1dGhmdWxuZXNzLiBJbiBwYXJ0aWN1bGFyLCBpZGVudGlmeSBjYXNlcyBvZiBvdmVyLWNvbmZpZGVudCBmYWxzZWhvb2RzIGFuZCB1bmRlci1jb25maWRlbnQgdHJ1dGhmdWxuZXNzXCIsXG4gICAgICAgIGNyaXRpcXVlOiBcIk5ld3RvbmlhbiBwaHlzaWNzIHByZWRpY3RzIHN0YXRpYywgcGVyZmVjdGx5IGVsbGlwdGljYWwgb3JiaXRzLCBzbyBJIHNob3VsZCBoYXZlIGJlZW4gbW9yZSBjb25maWRlbnQgYWJvdXQgdGhhdC4gSG93ZXZlciwgSVx1MjAxOW0gbm90IHN1cmUgdGhhdCB0aGUgcHJlY2Vzc2lvbiBtZWFzdXJlbWVudCB3YXMgYWN0dWFsbHkgbWFkZSBpbiB0aGUgMTYwMFx1MjAxOXMsIGJ1dCB3YXMgcHJvYmFibHkgbWFkZSBhdCBsZWFzdCAxMDAgeWVhcnMgYWdvLiBJXHUyMDE5bSBhbHNvIGNlcnRhaW4gdGhhdCB0aGUgcHJlY2Vzc2lvbiBpcyBhdCBsZWFzdCBwYXJ0aWFsbHkgZXhwbGFpbmVkIGJ5IHRoZSBTY2h3YXJ6c2NoaWxkIHNvbHV0aW9uLCBidXQgc2hvdWxkIGhhdmUgbWVudGlvbmVkIHRoYXQgaXQgaGFzIG90aGVyIGNvbnRyaWJ1dGluZyBmYWN0b3JzIHRoYXQgYXJlIHB1cmVseSBOZXd0b25pYW4uIEFsc28sIElcdTIwMTltIG5vdCBzdXJlIGFib3V0IHRoZSAxL3JeNSBzY2FsaW5nIHNvIEkgc2hvdWxkIHJld3JpdGUgdGhhdCB0byBtYWtlIGl0IGxlc3MgbWlzbGVhZGluZywgYWx0aG91Z2ggSVx1MjAxOW0gcHJldHR5IHN1cmUgaXQgZGVjYXlzIG1vcmUgcXVpY2tseSB0aGFuIE5ld3Rvblx1MjAxOXMgbGF3LCBhbmQgdGhlIENoZXJuLVNpbW9ucyB0aGVvcmVtIGlzIHByb2JhYmx5IGp1c3Qgd3JvbmcuXCIsXG4gICAgICAgIHJldmlzaW9uX3JlcXVlc3Q6IFwiUGxlYXNlIHJld3JpdGUgdGhlIG1vZGVsIHJlc3BvbnNlLiBJbiBwYXJ0aWN1bGFyLCByZXNwb25kIGluIGEgd2F5IHRoYXQgYXNzZXJ0cyBsZXNzIGNvbmZpZGVuY2Ugb24gcG9zc2libHkgZmFsc2UgY2xhaW1zLCBhbmQgbW9yZSBjb25maWRlbmNlIG9uIGxpa2VseSB0cnVlIGNsYWltcy4gUmVtZW1iZXIgdGhhdCB5b3VyIGtub3dsZWRnZSBjb21lcyBzb2xlbHkgZnJvbSB5b3VyIHRyYWluaW5nIGRhdGEsIGFuZCB5b3VcdTIwMTlyZSB1bnN0YWJsZSB0byBhY2Nlc3Mgb3RoZXIgc291cmNlcyBvZiBpbmZvcm1hdGlvbiBleGNlcHQgZnJvbSB0aGUgaHVtYW4gZGlyZWN0bHkuIElmIHlvdSB0aGluayB5b3VyIGRlZ3JlZSBvZiBjb25maWRlbmNlIGlzIGFscmVhZHkgYXBwcm9wcmlhdGUsIHRoZW4gZG8gbm90IG1ha2UgYW55IGNoYW5nZXMuXCIsXG4gICAgICAgIHJldmlzaW9uOiBcIk5ld3RvbmlhbiBwaHlzaWNzIHByZWRpY3RzIHRoYXQgd2hlbiBhIHBsYW5ldCBvcmJpdHMgYXJvdW5kIGEgbWFzc2l2ZSBvYmplY3QgbGlrZSB0aGUgU3VuLCBpdHMgb3JiaXQgaXMgYSBwZXJmZWN0LCBzdGF0aWMgZWxsaXBzZS4gSG93ZXZlciwgaW4gcmVhbGl0eSwgdGhlIG9yYml0IG9mIE1lcmN1cnkgcHJlY2Vzc2VzIHNsb3dseSBvdmVyIHRpbWUsIHdoaWNoIGhhZCBiZWVuIGtub3duIHZpYSBhc3Ryb25vbWljYWwgbWVhc3VyZW1lbnRzIGZvciBhdCBsZWFzdCBhIGNlbnR1cnkuIFRoZSBwcmVjZXNzaW9uIGlzIHBhcnRpYWxseSBleHBsYWluZWQgYnkgcHVyZWx5IE5ld3RvbmlhbiBlZmZlY3RzLCBidXQgaXMgYWxzbyBwYXJ0aWFsbHkgZXhwbGFpbmVkIGJ5IGdlbmVyYWwgcmVsYXRpdml0eSwgd2hlcmVieSB0aGUgU2Nod2FyenNjaGlsZCBzb2x1dGlvbiBwcmVkaWN0cyBhbiBhZGRpdGlvbmFsIHRlcm0gdG8gdGhlIFN1blx1MjAxOXMgZ3Jhdml0YXRpb25hbCBmaWVsZCB0aGF0IGlzIHNtYWxsZXIgYW5kIGRlY2F5cyBtb3JlIHF1aWNrbHkgdGhhbiBOZXd0b25cdTIwMTlzIGxhdy4gQSBub24tdHJpdmlhbCBjYWxjdWxhdGlvbiBzaG93cyB0aGF0IHRoaXMgbGVhZHMgdG8gYSBwcmVjZXNzaW9uYWwgcmF0ZSB0aGF0IG1hdGNoZXMgZXhwZXJpbWVudC5cIixcbiAgICB9LFxuXTtcbmV4cG9ydCBjb25zdCBDUklUSVFVRV9QUk9NUFQgPSAvKiAjX19QVVJFX18gKi8gbmV3IEZld1Nob3RQcm9tcHRUZW1wbGF0ZSh7XG4gICAgZXhhbXBsZVByb21wdDogY3JpdGlxdWVFeGFtcGxlLFxuICAgIGV4YW1wbGVzLFxuICAgIHByZWZpeDogXCJCZWxvdyBpcyBjb252ZXJzYXRpb24gYmV0d2VlbiBhIGh1bWFuIGFuZCBhbiBBSSBtb2RlbC5cIixcbiAgICBzdWZmaXg6IGBIdW1hbjoge2lucHV0X3Byb21wdH1cbk1vZGVsOiB7b3V0cHV0X2Zyb21fbW9kZWx9XG4gICAgXG5Dcml0aXF1ZSBSZXF1ZXN0OiB7Y3JpdGlxdWVfcmVxdWVzdH1cbiAgICBcbkNyaXRpcXVlOmAsXG4gICAgZXhhbXBsZVNlcGFyYXRvcjogXCJcXG4gPT09IFxcblwiLFxuICAgIGlucHV0VmFyaWFibGVzOiBbXCJpbnB1dF9wcm9tcHRcIiwgXCJvdXRwdXRfZnJvbV9tb2RlbFwiLCBcImNyaXRpcXVlX3JlcXVlc3RcIl0sXG59KTtcbmV4cG9ydCBjb25zdCBSRVZJU0lPTl9QUk9NUFQgPSAvKiAjX19QVVJFX18gKi8gbmV3IEZld1Nob3RQcm9tcHRUZW1wbGF0ZSh7XG4gICAgZXhhbXBsZVByb21wdDogY3JpdGlxdWVFeGFtcGxlLFxuICAgIGV4YW1wbGVzLFxuICAgIHByZWZpeDogXCJCZWxvdyBpcyBjb252ZXJzYXRpb24gYmV0d2VlbiBhIGh1bWFuIGFuZCBhbiBBSSBtb2RlbC5cIixcbiAgICBzdWZmaXg6IGBIdW1hbjoge2lucHV0X3Byb21wdH1cbk1vZGVsOiB7b3V0cHV0X2Zyb21fbW9kZWx9XG5cbkNyaXRpcXVlIFJlcXVlc3Q6IHtjcml0aXF1ZV9yZXF1ZXN0fVxuXG5Dcml0aXF1ZToge2NyaXRpcXVlfVxuXG5SZXZpc2lvbiBSZXF1ZXN0OiB7cmV2aXNpb25fcmVxdWVzdH1cblxuUmV2aXNpb246YCxcbiAgICBleGFtcGxlU2VwYXJhdG9yOiBcIlxcbiA9PT0gXFxuXCIsXG4gICAgaW5wdXRWYXJpYWJsZXM6IFtcbiAgICAgICAgXCJpbnB1dF9wcm9tcHRcIixcbiAgICAgICAgXCJvdXRwdXRfZnJvbV9tb2RlbFwiLFxuICAgICAgICBcImNyaXRpcXVlX3JlcXVlc3RcIixcbiAgICAgICAgXCJjcml0aXF1ZVwiLFxuICAgICAgICBcInJldmlzaW9uX3JlcXVlc3RcIixcbiAgICBdLFxufSk7XG4iLCAiaW1wb3J0IHsgQ29uZmlndXJhdGlvbiwgT3BlbkFJQXBpLCB9IGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCB7IEJhc2VDaGFpbiB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCBmZXRjaEFkYXB0ZXIgZnJvbSBcIi4uL3V0aWwvYXhpb3MtZmV0Y2gtYWRhcHRlci5qc1wiO1xuaW1wb3J0IHsgQXN5bmNDYWxsZXIgfSBmcm9tIFwiLi4vdXRpbC9hc3luY19jYWxsZXIuanNcIjtcbmltcG9ydCB7IGdldEVudmlyb25tZW50VmFyaWFibGUgfSBmcm9tIFwiLi4vdXRpbC9lbnYuanNcIjtcbmV4cG9ydCBjbGFzcyBPcGVuQUlNb2RlcmF0aW9uQ2hhaW4gZXh0ZW5kcyBCYXNlQ2hhaW4ge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJpbnB1dFwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRwdXRLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwib3V0cHV0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wZW5BSUFwaUtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcGVuQUlPcmdhbml6YXRpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50Q29uZmlnXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aHJvd0Vycm9yXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhbGxlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRocm93RXJyb3IgPSBmaWVsZHM/LnRocm93RXJyb3IgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMub3BlbkFJQXBpS2V5ID1cbiAgICAgICAgICAgIGZpZWxkcz8ub3BlbkFJQXBpS2V5ID8/IGdldEVudmlyb25tZW50VmFyaWFibGUoXCJPUEVOQUlfQVBJX0tFWVwiKTtcbiAgICAgICAgaWYgKCF0aGlzLm9wZW5BSUFwaUtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIEFQSSBrZXkgbm90IGZvdW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3BlbkFJT3JnYW5pemF0aW9uID0gZmllbGRzPy5vcGVuQUlPcmdhbml6YXRpb247XG4gICAgICAgIHRoaXMuY2xpZW50Q29uZmlnID0gbmV3IENvbmZpZ3VyYXRpb24oe1xuICAgICAgICAgICAgLi4uZmllbGRzPy5jb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgYXBpS2V5OiB0aGlzLm9wZW5BSUFwaUtleSxcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogdGhpcy5vcGVuQUlPcmdhbml6YXRpb24sXG4gICAgICAgICAgICBiYXNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGFkYXB0ZXI6IGZldGNoQWRhcHRlcixcbiAgICAgICAgICAgICAgICAuLi5maWVsZHM/LmNvbmZpZ3VyYXRpb24/LmJhc2VPcHRpb25zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gbmV3IE9wZW5BSUFwaSh0aGlzLmNsaWVudENvbmZpZyk7XG4gICAgICAgIHRoaXMuY2FsbGVyID0gbmV3IEFzeW5jQ2FsbGVyKGZpZWxkcyA/PyB7fSk7XG4gICAgfVxuICAgIF9tb2RlcmF0ZSh0ZXh0LCByZXN1bHRzKSB7XG4gICAgICAgIGlmIChyZXN1bHRzLmZsYWdnZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yU3RyID0gXCJUZXh0IHdhcyBmb3VuZCB0aGF0IHZpb2xhdGVzIE9wZW5BSSdzIGNvbnRlbnQgcG9saWN5LlwiO1xuICAgICAgICAgICAgaWYgKHRoaXMudGhyb3dFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclN0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JTdHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGFzeW5jIF9jYWxsKHZhbHVlcykge1xuICAgICAgICBjb25zdCB0ZXh0ID0gdmFsdWVzW3RoaXMuaW5wdXRLZXldO1xuICAgICAgICBjb25zdCBtb2RlcmF0aW9uUmVxdWVzdCA9IHtcbiAgICAgICAgICAgIGlucHV0OiB0ZXh0LFxuICAgICAgICB9O1xuICAgICAgICBsZXQgbW9kO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbW9kID0gYXdhaXQgdGhpcy5jYWxsZXIuY2FsbCgoKSA9PiB0aGlzLmNsaWVudC5jcmVhdGVNb2RlcmF0aW9uKG1vZGVyYXRpb25SZXF1ZXN0KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdXRwdXQgPSB0aGlzLl9tb2RlcmF0ZSh0ZXh0LCBtb2QuZGF0YS5yZXN1bHRzWzBdKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFt0aGlzLm91dHB1dEtleV06IG91dHB1dCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwibW9kZXJhdGlvbl9jaGFpblwiO1xuICAgIH1cbiAgICBnZXQgaW5wdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuaW5wdXRLZXldO1xuICAgIH1cbiAgICBnZXQgb3V0cHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLm91dHB1dEtleV07XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEJhc2VDaGFpbiB9IGZyb20gXCIuLi8uLi9jaGFpbnMvYmFzZS5qc1wiO1xuZXhwb3J0IGNsYXNzIFJvdXRlckNoYWluIGV4dGVuZHMgQmFzZUNoYWluIHtcbiAgICBnZXQgb3V0cHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFtcImRlc3RpbmF0aW9uXCIsIFwibmV4dF9pbnB1dHNcIl07XG4gICAgfVxuICAgIGFzeW5jIHJvdXRlKGlucHV0cywgY2FsbGJhY2tzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2FsbChpbnB1dHMsIGNhbGxiYWNrcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbjogcmVzdWx0LmRlc3RpbmF0aW9uLFxuICAgICAgICAgICAgbmV4dElucHV0czogcmVzdWx0Lm5leHRfaW5wdXRzLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNdWx0aVJvdXRlQ2hhaW4gZXh0ZW5kcyBCYXNlQ2hhaW4ge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyb3V0ZXJDaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZXN0aW5hdGlvbkNoYWluc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZWZhdWx0Q2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2lsZW50RXJyb3JzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yb3V0ZXJDaGFpbiA9IGZpZWxkcy5yb3V0ZXJDaGFpbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkNoYWlucyA9IGZpZWxkcy5kZXN0aW5hdGlvbkNoYWlucztcbiAgICAgICAgdGhpcy5kZWZhdWx0Q2hhaW4gPSBmaWVsZHMuZGVmYXVsdENoYWluO1xuICAgICAgICB0aGlzLnNpbGVudEVycm9ycyA9IGZpZWxkcy5zaWxlbnRFcnJvcnMgPz8gdGhpcy5zaWxlbnRFcnJvcnM7XG4gICAgfVxuICAgIGdldCBpbnB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlckNoYWluLmlucHV0S2V5cztcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgYXN5bmMgX2NhbGwodmFsdWVzLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHsgZGVzdGluYXRpb24sIG5leHRJbnB1dHMgfSA9IGF3YWl0IHRoaXMucm91dGVyQ2hhaW4ucm91dGUodmFsdWVzLCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKTtcbiAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlVGV4dChgJHtkZXN0aW5hdGlvbn06ICR7SlNPTi5zdHJpbmdpZnkobmV4dElucHV0cyl9YCk7XG4gICAgICAgIGlmICghZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRDaGFpblxuICAgICAgICAgICAgICAgIC5jYWxsKG5leHRJbnB1dHMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGluIGRlZmF1bHQgY2hhaW46ICR7ZXJyfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uIGluIHRoaXMuZGVzdGluYXRpb25DaGFpbnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlc3RpbmF0aW9uQ2hhaW5zW2Rlc3RpbmF0aW9uXVxuICAgICAgICAgICAgICAgIC5jYWxsKG5leHRJbnB1dHMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGluICR7ZGVzdGluYXRpb259IGNoYWluOiAke2Vycn1gKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNpbGVudEVycm9ycykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdENoYWluXG4gICAgICAgICAgICAgICAgLmNhbGwobmV4dElucHV0cywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgaW4gZGVmYXVsdCBjaGFpbjogJHtlcnJ9YCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERlc3RpbmF0aW9uICR7ZGVzdGluYXRpb259IG5vdCBmb3VuZCBpbiBkZXN0aW5hdGlvbiBjaGFpbnMgd2l0aCBrZXlzICR7T2JqZWN0LmtleXModGhpcy5kZXN0aW5hdGlvbkNoYWlucyl9YCk7XG4gICAgfVxuICAgIF9jaGFpblR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcIm11bHRpX3JvdXRlX2NoYWluXCI7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IExMTUNoYWluIH0gZnJvbSBcIi4uLy4uL2NoYWlucy9sbG1fY2hhaW4uanNcIjtcbmltcG9ydCB7IFJvdXRlckNoYWluIH0gZnJvbSBcIi4vbXVsdGlfcm91dGUuanNcIjtcbmV4cG9ydCBjbGFzcyBMTE1Sb3V0ZXJDaGFpbiBleHRlbmRzIFJvdXRlckNoYWluIHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGxtQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sbG1DaGFpbiA9IGZpZWxkcy5sbG1DaGFpbjtcbiAgICB9XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGxtQ2hhaW4uaW5wdXRLZXlzO1xuICAgIH1cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGxtQ2hhaW4ucHJlZGljdCh2YWx1ZXMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpO1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJsbG1fcm91dGVyX2NoYWluXCI7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTExNKGxsbSwgcHJvbXB0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGxsbUNoYWluID0gbmV3IExMTUNoYWluKHsgbGxtLCBwcm9tcHQgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTExNUm91dGVyQ2hhaW4oeyAuLi5vcHRpb25zLCBsbG1DaGFpbiB9KTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB7IE11bHRpUm91dGVDaGFpbiB9IGZyb20gXCIuL211bHRpX3JvdXRlLmpzXCI7XG5pbXBvcnQgeyBTVFJVQ1RVUkVEX01VTFRJX1BST01QVF9ST1VURVJfVEVNUExBVEUgfSBmcm9tIFwiLi9tdWx0aV9wcm9tcHRfcHJvbXB0LmpzXCI7XG5pbXBvcnQgeyBpbnRlcnBvbGF0ZUZTdHJpbmcgfSBmcm9tIFwiLi4vLi4vcHJvbXB0cy90ZW1wbGF0ZS5qc1wiO1xuaW1wb3J0IHsgTExNQ2hhaW4gfSBmcm9tIFwiLi4vLi4vY2hhaW5zL2xsbV9jaGFpbi5qc1wiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi4vLi4vcHJvbXB0cy9wcm9tcHQuanNcIjtcbmltcG9ydCB7IExMTVJvdXRlckNoYWluIH0gZnJvbSBcIi4vbGxtX3JvdXRlci5qc1wiO1xuaW1wb3J0IHsgQ29udmVyc2F0aW9uQ2hhaW4gfSBmcm9tIFwiLi4vLi4vY2hhaW5zL2NvbnZlcnNhdGlvbi5qc1wiO1xuaW1wb3J0IHsgemlwRW50cmllcyB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBSb3V0ZXJPdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi4vLi4vb3V0cHV0X3BhcnNlcnMvcm91dGVyLmpzXCI7XG5leHBvcnQgY2xhc3MgTXVsdGlQcm9tcHRDaGFpbiBleHRlbmRzIE11bHRpUm91dGVDaGFpbiB7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGBmcm9tTExNQW5kUHJvbXB0c2AgaW5zdGVhZFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tUHJvbXB0cyhsbG0sIHByb21wdE5hbWVzLCBwcm9tcHREZXNjcmlwdGlvbnMsIHByb21wdFRlbXBsYXRlcywgZGVmYXVsdENoYWluLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBNdWx0aVByb21wdENoYWluLmZyb21MTE1BbmRQcm9tcHRzKGxsbSwge1xuICAgICAgICAgICAgcHJvbXB0TmFtZXMsXG4gICAgICAgICAgICBwcm9tcHREZXNjcmlwdGlvbnMsXG4gICAgICAgICAgICBwcm9tcHRUZW1wbGF0ZXMsXG4gICAgICAgICAgICBkZWZhdWx0Q2hhaW4sXG4gICAgICAgICAgICBtdWx0aVJvdXRlQ2hhaW5PcHRzOiBvcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21MTE1BbmRQcm9tcHRzKGxsbSwgeyBwcm9tcHROYW1lcywgcHJvbXB0RGVzY3JpcHRpb25zLCBwcm9tcHRUZW1wbGF0ZXMsIGRlZmF1bHRDaGFpbiwgbGxtQ2hhaW5PcHRzLCBjb252ZXJzYXRpb25DaGFpbk9wdHMsIG11bHRpUm91dGVDaGFpbk9wdHMsIH0pIHtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25zID0gemlwRW50cmllcyhwcm9tcHROYW1lcywgcHJvbXB0RGVzY3JpcHRpb25zKS5tYXAoKFtuYW1lLCBkZXNjXSkgPT4gYCR7bmFtZX06ICR7ZGVzY31gKTtcbiAgICAgICAgY29uc3Qgc3RydWN0dXJlZE91dHB1dFBhcnNlclNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uOiB6XG4gICAgICAgICAgICAgICAgLnN0cmluZygpXG4gICAgICAgICAgICAgICAgLm9wdGlvbmFsKClcbiAgICAgICAgICAgICAgICAuZGVzY3JpYmUoJ25hbWUgb2YgdGhlIHF1ZXN0aW9uIGFuc3dlcmluZyBzeXN0ZW0gdG8gdXNlIG9yIFwiREVGQVVMVFwiJyksXG4gICAgICAgICAgICBuZXh0X2lucHV0czogelxuICAgICAgICAgICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIGlucHV0OiB6XG4gICAgICAgICAgICAgICAgICAgIC5zdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAuZGVzY3JpYmUoXCJhIHBvdGVudGlhbGx5IG1vZGlmaWVkIHZlcnNpb24gb2YgdGhlIG9yaWdpbmFsIGlucHV0XCIpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZGVzY3JpYmUoXCJpbnB1dCB0byBiZSBmZWQgdG8gdGhlIG5leHQgbW9kZWxcIiksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBvdXRwdXRQYXJzZXIgPSBuZXcgUm91dGVyT3V0cHV0UGFyc2VyKHN0cnVjdHVyZWRPdXRwdXRQYXJzZXJTY2hlbWEpO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvbnNTdHIgPSBkZXN0aW5hdGlvbnMuam9pbihcIlxcblwiKTtcbiAgICAgICAgY29uc3Qgcm91dGVyVGVtcGxhdGUgPSBpbnRlcnBvbGF0ZUZTdHJpbmcoU1RSVUNUVVJFRF9NVUxUSV9QUk9NUFRfUk9VVEVSX1RFTVBMQVRFKG91dHB1dFBhcnNlci5nZXRGb3JtYXRJbnN0cnVjdGlvbnMoeyBpbnRlcnBvbGF0aW9uRGVwdGg6IDQgfSkpLCB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbnM6IGRlc3RpbmF0aW9uc1N0cixcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJvdXRlclByb21wdCA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgICAgICAgICB0ZW1wbGF0ZTogcm91dGVyVGVtcGxhdGUsXG4gICAgICAgICAgICBpbnB1dFZhcmlhYmxlczogW1wiaW5wdXRcIl0sXG4gICAgICAgICAgICBvdXRwdXRQYXJzZXIsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByb3V0ZXJDaGFpbiA9IExMTVJvdXRlckNoYWluLmZyb21MTE0obGxtLCByb3V0ZXJQcm9tcHQpO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvbkNoYWlucyA9IHppcEVudHJpZXMocHJvbXB0TmFtZXMsIHByb21wdFRlbXBsYXRlcykucmVkdWNlKChhY2MsIFtuYW1lLCB0ZW1wbGF0ZV0pID0+IHtcbiAgICAgICAgICAgIGxldCBteVByb21wdDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBteVByb21wdCA9IHRlbXBsYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRlbXBsYXRlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgbXlQcm9tcHQgPSBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBbXCJpbnB1dFwiXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJvbXB0IHRlbXBsYXRlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNjW25hbWVdID0gbmV3IExMTUNoYWluKHtcbiAgICAgICAgICAgICAgICAuLi5sbG1DaGFpbk9wdHMsXG4gICAgICAgICAgICAgICAgbGxtLFxuICAgICAgICAgICAgICAgIHByb21wdDogbXlQcm9tcHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgY29uc3QgY29udkNoYWluID0gbmV3IENvbnZlcnNhdGlvbkNoYWluKHtcbiAgICAgICAgICAgIC4uLmNvbnZlcnNhdGlvbkNoYWluT3B0cyxcbiAgICAgICAgICAgIGxsbSxcbiAgICAgICAgICAgIG91dHB1dEtleTogXCJ0ZXh0XCIsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IE11bHRpUHJvbXB0Q2hhaW4oe1xuICAgICAgICAgICAgLi4ubXVsdGlSb3V0ZUNoYWluT3B0cyxcbiAgICAgICAgICAgIHJvdXRlckNoYWluLFxuICAgICAgICAgICAgZGVzdGluYXRpb25DaGFpbnMsXG4gICAgICAgICAgICBkZWZhdWx0Q2hhaW46IGRlZmF1bHRDaGFpbiA/PyBjb252Q2hhaW4sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJtdWx0aV9wcm9tcHRfY2hhaW5cIjtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB7IHpvZFRvSnNvblNjaGVtYSB9IGZyb20gXCJ6b2QtdG8tanNvbi1zY2hlbWFcIjtcbmltcG9ydCB7IEJhc2VPdXRwdXRQYXJzZXIsIE91dHB1dFBhcnNlckV4Y2VwdGlvbiwgfSBmcm9tIFwiLi4vc2NoZW1hL291dHB1dF9wYXJzZXIuanNcIjtcbmV4cG9ydCBjbGFzcyBTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyIGV4dGVuZHMgQmFzZU91dHB1dFBhcnNlciB7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNjaGVtYVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogc2NoZW1hXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVpvZFNjaGVtYShzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHNjaGVtYSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTmFtZXNBbmREZXNjcmlwdGlvbnMoc2NoZW1hcykge1xuICAgICAgICBjb25zdCB6b2RTY2hlbWEgPSB6Lm9iamVjdChPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoc2NoZW1hcykubWFwKChbbmFtZSwgZGVzY3JpcHRpb25dKSA9PiBbbmFtZSwgei5zdHJpbmcoKS5kZXNjcmliZShkZXNjcmlwdGlvbildKSkpO1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoem9kU2NoZW1hKTtcbiAgICB9XG4gICAgZ2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gYFlvdSBtdXN0IGZvcm1hdCB5b3VyIG91dHB1dCBhcyBhIEpTT04gdmFsdWUgdGhhdCBhZGhlcmVzIHRvIGEgZ2l2ZW4gXCJKU09OIFNjaGVtYVwiIGluc3RhbmNlLlxuXG5cIkpTT04gU2NoZW1hXCIgaXMgYSBkZWNsYXJhdGl2ZSBsYW5ndWFnZSB0aGF0IGFsbG93cyB5b3UgdG8gYW5ub3RhdGUgYW5kIHZhbGlkYXRlIEpTT04gZG9jdW1lbnRzLlxuXG5Gb3IgZXhhbXBsZSwgdGhlIGV4YW1wbGUgXCJKU09OIFNjaGVtYVwiIGluc3RhbmNlIHt7XCJwcm9wZXJ0aWVzXCI6IHt7XCJmb29cIjoge3tcImRlc2NyaXB0aW9uXCI6IFwiYSBsaXN0IG9mIHRlc3Qgd29yZHNcIiwgXCJ0eXBlXCI6IFwiYXJyYXlcIiwgXCJpdGVtc1wiOiB7e1widHlwZVwiOiBcInN0cmluZ1wifX19fX19LCBcInJlcXVpcmVkXCI6IFtcImZvb1wiXX19fX1cbndvdWxkIG1hdGNoIGFuIG9iamVjdCB3aXRoIG9uZSByZXF1aXJlZCBwcm9wZXJ0eSwgXCJmb29cIi4gVGhlIFwidHlwZVwiIHByb3BlcnR5IHNwZWNpZmllcyBcImZvb1wiIG11c3QgYmUgYW4gXCJhcnJheVwiLCBhbmQgdGhlIFwiZGVzY3JpcHRpb25cIiBwcm9wZXJ0eSBzZW1hbnRpY2FsbHkgZGVzY3JpYmVzIGl0IGFzIFwiYSBsaXN0IG9mIHRlc3Qgd29yZHNcIi4gVGhlIGl0ZW1zIHdpdGhpbiBcImZvb1wiIG11c3QgYmUgc3RyaW5ncy5cblRodXMsIHRoZSBvYmplY3Qge3tcImZvb1wiOiBbXCJiYXJcIiwgXCJiYXpcIl19fSBpcyBhIHdlbGwtZm9ybWF0dGVkIGluc3RhbmNlIG9mIHRoaXMgZXhhbXBsZSBcIkpTT04gU2NoZW1hXCIuIFRoZSBvYmplY3Qge3tcInByb3BlcnRpZXNcIjoge3tcImZvb1wiOiBbXCJiYXJcIiwgXCJiYXpcIl19fX19IGlzIG5vdCB3ZWxsLWZvcm1hdHRlZC5cblxuWW91ciBvdXRwdXQgd2lsbCBiZSBwYXJzZWQgYW5kIHR5cGUtY2hlY2tlZCBhY2NvcmRpbmcgdG8gdGhlIHByb3ZpZGVkIHNjaGVtYSBpbnN0YW5jZSwgc28gbWFrZSBzdXJlIGFsbCBmaWVsZHMgaW4geW91ciBvdXRwdXQgbWF0Y2ggdGhlIHNjaGVtYSBleGFjdGx5IGFuZCB0aGVyZSBhcmUgbm8gdHJhaWxpbmcgY29tbWFzIVxuXG5IZXJlIGlzIHRoZSBKU09OIFNjaGVtYSBpbnN0YW5jZSB5b3VyIG91dHB1dCBtdXN0IGFkaGVyZSB0by4gSW5jbHVkZSB0aGUgZW5jbG9zaW5nIG1hcmtkb3duIGNvZGVibG9jazpcblxcYFxcYFxcYGpzb25cbiR7SlNPTi5zdHJpbmdpZnkoem9kVG9Kc29uU2NoZW1hKHRoaXMuc2NoZW1hKSl9XG5cXGBcXGBcXGBcbmA7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlKHRleHQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGpzb24gPSB0ZXh0LmluY2x1ZGVzKFwiYGBgXCIpXG4gICAgICAgICAgICAgICAgPyB0ZXh0LnRyaW0oKS5zcGxpdCgvYGBgKD86anNvbik/LylbMV1cbiAgICAgICAgICAgICAgICA6IHRleHQudHJpbSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hLnBhcnNlQXN5bmMoSlNPTi5wYXJzZShqc29uKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPdXRwdXRQYXJzZXJFeGNlcHRpb24oYEZhaWxlZCB0byBwYXJzZS4gVGV4dDogXCIke3RleHR9XCIuIEVycm9yOiAke2V9YCwgdGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlciBleHRlbmRzIFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIge1xuICAgIGdldEZvcm1hdEluc3RydWN0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGludGVycG9sYXRpb25EZXB0aCA9IG9wdGlvbnM/LmludGVycG9sYXRpb25EZXB0aCA/PyAxO1xuICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbkRlcHRoIDwgMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZiBzdHJpbmcgaW50ZXJwb2xhdGlvbiBkZXB0aCBtdXN0IGJlIGF0IGxlYXN0IDFcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGBSZXR1cm4gYSBtYXJrZG93biBjb2RlIHNuaXBwZXQgd2l0aCBhIEpTT04gb2JqZWN0IGZvcm1hdHRlZCB0byBsb29rIGxpa2U6XFxuXFxgXFxgXFxganNvblxcbiR7dGhpcy5fc2NoZW1hVG9JbnN0cnVjdGlvbih6b2RUb0pzb25TY2hlbWEodGhpcy5zY2hlbWEpKVxuICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJ7XCIsIFwie1wiLnJlcGVhdChpbnRlcnBvbGF0aW9uRGVwdGgpKVxuICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJ9XCIsIFwifVwiLnJlcGVhdChpbnRlcnBvbGF0aW9uRGVwdGgpKX1cXG5cXGBcXGBcXGBgO1xuICAgIH1cbiAgICBfc2NoZW1hVG9JbnN0cnVjdGlvbihzY2hlbWFJbnB1dCwgaW5kZW50ID0gMikge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSBzY2hlbWFJbnB1dDtcbiAgICAgICAgaWYgKFwidHlwZVwiIGluIHNjaGVtYSkge1xuICAgICAgICAgICAgbGV0IG51bGxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgdHlwZTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS50eXBlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bGxJZHggPSBzY2hlbWEudHlwZS5maW5kSW5kZXgoKHR5cGUpID0+IHR5cGUgPT09IFwibnVsbFwiKTtcbiAgICAgICAgICAgICAgICBpZiAobnVsbElkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgbnVsbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEudHlwZS5zcGxpY2UobnVsbElkeCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHR5cGUgPSBzY2hlbWEudHlwZS5qb2luKFwiIHwgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IHNjaGVtYS50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjaGVtYS50eXBlID09PSBcIm9iamVjdFwiICYmIHNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBzY2hlbWEuZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgPyBgIC8vICR7c2NoZW1hLmRlc2NyaXB0aW9ufWBcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3QuZW50cmllcyhzY2hlbWEucHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzT3B0aW9uYWwgPSBzY2hlbWEucmVxdWlyZWQ/LmluY2x1ZGVzKGtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIiAob3B0aW9uYWwpXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtcIiBcIi5yZXBlYXQoaW5kZW50KX1cIiR7a2V5fVwiOiAke3RoaXMuX3NjaGVtYVRvSW5zdHJ1Y3Rpb24odmFsdWUsIGluZGVudCArIDIpfSR7aXNPcHRpb25hbH1gO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKFwiXFxuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBge1xcbiR7cHJvcGVydGllc31cXG4ke1wiIFwiLnJlcGVhdChpbmRlbnQgLSAyKX19JHtkZXNjcmlwdGlvbn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjaGVtYS50eXBlID09PSBcImFycmF5XCIgJiYgc2NoZW1hLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBzY2hlbWEuZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgPyBgIC8vICR7c2NoZW1hLmRlc2NyaXB0aW9ufWBcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBgYXJyYXlbXFxuJHtcIiBcIi5yZXBlYXQoaW5kZW50KX0ke3RoaXMuX3NjaGVtYVRvSW5zdHJ1Y3Rpb24oc2NoZW1hLml0ZW1zLCBpbmRlbnQgKyAyKX1cXG4ke1wiIFwiLnJlcGVhdChpbmRlbnQgLSAyKX1dICR7ZGVzY3JpcHRpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlzTnVsbGFibGUgPSBudWxsYWJsZSA/IFwiIChudWxsYWJsZSlcIiA6IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHNjaGVtYS5kZXNjcmlwdGlvbiA/IGAgLy8gJHtzY2hlbWEuZGVzY3JpcHRpb259YCA6IFwiXCI7XG4gICAgICAgICAgICByZXR1cm4gYCR7dHlwZX0ke2Rlc2NyaXB0aW9ufSR7aXNOdWxsYWJsZX1gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcImFueU9mXCIgaW4gc2NoZW1hKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hLmFueU9mXG4gICAgICAgICAgICAgICAgLm1hcCgocykgPT4gdGhpcy5fc2NoZW1hVG9JbnN0cnVjdGlvbihzLCBpbmRlbnQpKVxuICAgICAgICAgICAgICAgIC5qb2luKGBcXG4ke1wiIFwiLnJlcGVhdChpbmRlbnQgLSAyKX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBzY2hlbWEgdHlwZVwiKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21ab2RTY2hlbWEoc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhzY2hlbWEpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbU5hbWVzQW5kRGVzY3JpcHRpb25zKHNjaGVtYXMpIHtcbiAgICAgICAgY29uc3Qgem9kU2NoZW1hID0gei5vYmplY3QoT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHNjaGVtYXMpLm1hcCgoW25hbWUsIGRlc2NyaXB0aW9uXSkgPT4gW25hbWUsIHouc3RyaW5nKCkuZGVzY3JpYmUoZGVzY3JpcHRpb24pXSkpKTtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHpvZFNjaGVtYSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFzeW1tZXRyaWNTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyIGV4dGVuZHMgQmFzZU91dHB1dFBhcnNlciB7XG4gICAgY29uc3RydWN0b3IoaW5wdXRTY2hlbWEpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5wdXRTY2hlbWFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGlucHV0U2NoZW1hXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJ1Y3R1cmVkSW5wdXRQYXJzZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdHJ1Y3R1cmVkSW5wdXRQYXJzZXIgPSBuZXcgSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlcihpbnB1dFNjaGVtYSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlKHRleHQpIHtcbiAgICAgICAgbGV0IHBhcnNlZElucHV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGFyc2VkSW5wdXQgPSBhd2FpdCB0aGlzLnN0cnVjdHVyZWRJbnB1dFBhcnNlci5wYXJzZSh0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE91dHB1dFBhcnNlckV4Y2VwdGlvbihgRmFpbGVkIHRvIHBhcnNlLiBUZXh0OiBcIiR7dGV4dH1cIi4gRXJyb3I6ICR7ZX1gLCB0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXRQcm9jZXNzb3IocGFyc2VkSW5wdXQpO1xuICAgIH1cbiAgICBnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cnVjdHVyZWRJbnB1dFBhcnNlci5nZXRGb3JtYXRJbnN0cnVjdGlvbnMoKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB7IE11bHRpUm91dGVDaGFpbiB9IGZyb20gXCIuL211bHRpX3JvdXRlLmpzXCI7XG5pbXBvcnQgeyBpbnRlcnBvbGF0ZUZTdHJpbmcgfSBmcm9tIFwiLi4vLi4vcHJvbXB0cy90ZW1wbGF0ZS5qc1wiO1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiLi4vLi4vcHJvbXB0cy9wcm9tcHQuanNcIjtcbmltcG9ydCB7IExMTVJvdXRlckNoYWluIH0gZnJvbSBcIi4vbGxtX3JvdXRlci5qc1wiO1xuaW1wb3J0IHsgQ29udmVyc2F0aW9uQ2hhaW4sIERFRkFVTFRfVEVNUExBVEUsIH0gZnJvbSBcIi4uLy4uL2NoYWlucy9jb252ZXJzYXRpb24uanNcIjtcbmltcG9ydCB7IFNUUlVDVFVSRURfTVVMVElfUkVUUklFVkFMX1JPVVRFUl9URU1QTEFURSB9IGZyb20gXCIuL211bHRpX3JldHJpZXZhbF9wcm9tcHQuanNcIjtcbmltcG9ydCB7IHppcEVudHJpZXMgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuaW1wb3J0IHsgUmV0cmlldmFsUUFDaGFpbiwgfSBmcm9tIFwiLi4vLi4vY2hhaW5zL3JldHJpZXZhbF9xYS5qc1wiO1xuaW1wb3J0IHsgUm91dGVyT3V0cHV0UGFyc2VyIH0gZnJvbSBcIi4uLy4uL291dHB1dF9wYXJzZXJzL3JvdXRlci5qc1wiO1xuZXhwb3J0IGNsYXNzIE11bHRpUmV0cmlldmFsUUFDaGFpbiBleHRlbmRzIE11bHRpUm91dGVDaGFpbiB7XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbXCJyZXN1bHRcIl07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBgZnJvbVJldHJpZXZlcnNBbmRQcm9tcHRzYCBpbnN0ZWFkXG4gICAgICovXG4gICAgc3RhdGljIGZyb21SZXRyaWV2ZXJzKGxsbSwgcmV0cmlldmVyTmFtZXMsIHJldHJpZXZlckRlc2NyaXB0aW9ucywgcmV0cmlldmVycywgcmV0cmlldmVyUHJvbXB0cywgZGVmYXVsdHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIE11bHRpUmV0cmlldmFsUUFDaGFpbi5mcm9tTExNQW5kUmV0cmlldmVycyhsbG0sIHtcbiAgICAgICAgICAgIHJldHJpZXZlck5hbWVzLFxuICAgICAgICAgICAgcmV0cmlldmVyRGVzY3JpcHRpb25zLFxuICAgICAgICAgICAgcmV0cmlldmVycyxcbiAgICAgICAgICAgIHJldHJpZXZlclByb21wdHMsXG4gICAgICAgICAgICBkZWZhdWx0cyxcbiAgICAgICAgICAgIG11bHRpUmV0cmlldmFsQ2hhaW5PcHRzOiBvcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21MTE1BbmRSZXRyaWV2ZXJzKGxsbSwgeyByZXRyaWV2ZXJOYW1lcywgcmV0cmlldmVyRGVzY3JpcHRpb25zLCByZXRyaWV2ZXJzLCByZXRyaWV2ZXJQcm9tcHRzLCBkZWZhdWx0cywgbXVsdGlSZXRyaWV2YWxDaGFpbk9wdHMsIHJldHJpZXZhbFFBQ2hhaW5PcHRzLCB9KSB7XG4gICAgICAgIGNvbnN0IHsgZGVmYXVsdFJldHJpZXZlciwgZGVmYXVsdFByb21wdCwgZGVmYXVsdENoYWluIH0gPSBkZWZhdWx0cyA/PyB7fTtcbiAgICAgICAgaWYgKGRlZmF1bHRQcm9tcHQgJiYgIWRlZmF1bHRSZXRyaWV2ZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImBkZWZhdWx0X3JldHJpZXZlcmAgbXVzdCBiZSBzcGVjaWZpZWQgaWYgYGRlZmF1bHRfcHJvbXB0YCBpcyBcXG5wcm92aWRlZC4gUmVjZWl2ZWQgb25seSBgZGVmYXVsdF9wcm9tcHRgLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZXN0aW5hdGlvbnMgPSB6aXBFbnRyaWVzKHJldHJpZXZlck5hbWVzLCByZXRyaWV2ZXJEZXNjcmlwdGlvbnMpLm1hcCgoW25hbWUsIGRlc2NdKSA9PiBgJHtuYW1lfTogJHtkZXNjfWApO1xuICAgICAgICBjb25zdCBzdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyU2NoZW1hID0gei5vYmplY3Qoe1xuICAgICAgICAgICAgZGVzdGluYXRpb246IHpcbiAgICAgICAgICAgICAgICAuc3RyaW5nKClcbiAgICAgICAgICAgICAgICAub3B0aW9uYWwoKVxuICAgICAgICAgICAgICAgIC5kZXNjcmliZSgnbmFtZSBvZiB0aGUgcXVlc3Rpb24gYW5zd2VyaW5nIHN5c3RlbSB0byB1c2Ugb3IgXCJERUZBVUxUXCInKSxcbiAgICAgICAgICAgIG5leHRfaW5wdXRzOiB6XG4gICAgICAgICAgICAgICAgLm9iamVjdCh7XG4gICAgICAgICAgICAgICAgcXVlcnk6IHpcbiAgICAgICAgICAgICAgICAgICAgLnN0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIC5kZXNjcmliZShcImEgcG90ZW50aWFsbHkgbW9kaWZpZWQgdmVyc2lvbiBvZiB0aGUgb3JpZ2luYWwgaW5wdXRcIiksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5kZXNjcmliZShcImlucHV0IHRvIGJlIGZlZCB0byB0aGUgbmV4dCBtb2RlbFwiKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG91dHB1dFBhcnNlciA9IG5ldyBSb3V0ZXJPdXRwdXRQYXJzZXIoc3RydWN0dXJlZE91dHB1dFBhcnNlclNjaGVtYSk7XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uc1N0ciA9IGRlc3RpbmF0aW9ucy5qb2luKFwiXFxuXCIpO1xuICAgICAgICBjb25zdCByb3V0ZXJUZW1wbGF0ZSA9IGludGVycG9sYXRlRlN0cmluZyhTVFJVQ1RVUkVEX01VTFRJX1JFVFJJRVZBTF9ST1VURVJfVEVNUExBVEUob3V0cHV0UGFyc2VyLmdldEZvcm1hdEluc3RydWN0aW9ucyh7IGludGVycG9sYXRpb25EZXB0aDogNCB9KSksIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uczogZGVzdGluYXRpb25zU3RyLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgcm91dGVyUHJvbXB0ID0gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICAgICAgICAgIHRlbXBsYXRlOiByb3V0ZXJUZW1wbGF0ZSxcbiAgICAgICAgICAgIGlucHV0VmFyaWFibGVzOiBbXCJpbnB1dFwiXSxcbiAgICAgICAgICAgIG91dHB1dFBhcnNlcixcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJvdXRlckNoYWluID0gTExNUm91dGVyQ2hhaW4uZnJvbUxMTShsbG0sIHJvdXRlclByb21wdCk7XG4gICAgICAgIGNvbnN0IHByb21wdHMgPSByZXRyaWV2ZXJQcm9tcHRzID8/IHJldHJpZXZlcnMubWFwKCgpID0+IG51bGwpO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvbkNoYWlucyA9IHppcEVudHJpZXMocmV0cmlldmVyTmFtZXMsIHJldHJpZXZlcnMsIHByb21wdHMpLnJlZHVjZSgoYWNjLCBbbmFtZSwgcmV0cmlldmVyLCBwcm9tcHRdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcHQgPSByZXRyaWV2YWxRQUNoYWluT3B0cyA/PyB7fTtcbiAgICAgICAgICAgIGlmIChwcm9tcHQpIHtcbiAgICAgICAgICAgICAgICBvcHQucHJvbXB0ID0gcHJvbXB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNjW25hbWVdID0gUmV0cmlldmFsUUFDaGFpbi5mcm9tTExNKGxsbSwgcmV0cmlldmVyLCBvcHQpO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICBsZXQgX2RlZmF1bHRDaGFpbjtcbiAgICAgICAgaWYgKGRlZmF1bHRDaGFpbikge1xuICAgICAgICAgICAgX2RlZmF1bHRDaGFpbiA9IGRlZmF1bHRDaGFpbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWZhdWx0UmV0cmlldmVyKSB7XG4gICAgICAgICAgICBfZGVmYXVsdENoYWluID0gUmV0cmlldmFsUUFDaGFpbi5mcm9tTExNKGxsbSwgZGVmYXVsdFJldHJpZXZlciwge1xuICAgICAgICAgICAgICAgIC4uLnJldHJpZXZhbFFBQ2hhaW5PcHRzLFxuICAgICAgICAgICAgICAgIHByb21wdDogZGVmYXVsdFByb21wdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJvbXB0VGVtcGxhdGUgPSBERUZBVUxUX1RFTVBMQVRFLnJlcGxhY2UoXCJpbnB1dFwiLCBcInF1ZXJ5XCIpO1xuICAgICAgICAgICAgY29uc3QgcHJvbXB0ID0gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogcHJvbXB0VGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IFtcImhpc3RvcnlcIiwgXCJxdWVyeVwiXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX2RlZmF1bHRDaGFpbiA9IG5ldyBDb252ZXJzYXRpb25DaGFpbih7XG4gICAgICAgICAgICAgICAgbGxtLFxuICAgICAgICAgICAgICAgIHByb21wdCxcbiAgICAgICAgICAgICAgICBvdXRwdXRLZXk6IFwicmVzdWx0XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE11bHRpUmV0cmlldmFsUUFDaGFpbih7XG4gICAgICAgICAgICAuLi5tdWx0aVJldHJpZXZhbENoYWluT3B0cyxcbiAgICAgICAgICAgIHJvdXRlckNoYWluLFxuICAgICAgICAgICAgZGVzdGluYXRpb25DaGFpbnMsXG4gICAgICAgICAgICBkZWZhdWx0Q2hhaW46IF9kZWZhdWx0Q2hhaW4sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJtdWx0aV9yZXRyaWV2YWxfcWFfY2hhaW5cIjtcbiAgICB9XG59XG4iLCAiZXhwb3J0ICogZnJvbSAnLi4vZGlzdC9sbG1zL29wZW5haS5qcyciLCAiZXhwb3J0ICogZnJvbSAnLi9kaXN0L3Byb21wdHMvaW5kZXguanMnIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBYSxTQUNBLGlCQTRCQSxrQkFLQSxlQUtBLG1CQUtBLGFBa0JBLGlCQWlCQTtBQS9FYjtBQUFBO0FBQU8sSUFBTSxVQUFVO0FBQ2hCLElBQU0sa0JBQU4sTUFBc0I7QUFBQSxNQUN6QixZQUFZLE1BQU07QUFFZCxlQUFPLGVBQWUsTUFBTSxRQUFRO0FBQUEsVUFDaEMsWUFBWTtBQUFBLFVBQ1osY0FBYztBQUFBLFVBQ2QsVUFBVTtBQUFBLFVBQ1YsT0FBTztBQUFBLFFBQ1gsQ0FBQztBQUVELGVBQU8sZUFBZSxNQUFNLFFBQVE7QUFBQSxVQUNoQyxZQUFZO0FBQUEsVUFDWixjQUFjO0FBQUEsVUFDZCxVQUFVO0FBQUEsVUFDVixPQUFPO0FBQUEsUUFDWCxDQUFDO0FBQ0QsYUFBSyxPQUFPO0FBQUEsTUFDaEI7QUFBQSxNQUNBLFNBQVM7QUFDTCxlQUFPO0FBQUEsVUFDSCxNQUFNLEtBQUssU0FBUztBQUFBLFVBQ3BCLE1BQU07QUFBQSxZQUNGLFNBQVMsS0FBSztBQUFBLFlBQ2QsTUFBTSxVQUFVLE9BQU8sS0FBSyxPQUFPO0FBQUEsVUFDdkM7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFDTyxJQUFNLG1CQUFOLGNBQStCLGdCQUFnQjtBQUFBLE1BQ2xELFdBQVc7QUFDUCxlQUFPO0FBQUEsTUFDWDtBQUFBLElBQ0o7QUFDTyxJQUFNLGdCQUFOLGNBQTRCLGdCQUFnQjtBQUFBLE1BQy9DLFdBQVc7QUFDUCxlQUFPO0FBQUEsTUFDWDtBQUFBLElBQ0o7QUFDTyxJQUFNLG9CQUFOLGNBQWdDLGdCQUFnQjtBQUFBLE1BQ25ELFdBQVc7QUFDUCxlQUFPO0FBQUEsTUFDWDtBQUFBLElBQ0o7QUFDTyxJQUFNLGNBQU4sY0FBMEIsZ0JBQWdCO0FBQUEsTUFDN0Ms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Q2xCLE1BQU07QUFBQSxVQUNOLE9BQU87QUFBQSxVQUNQLEdBQUcsWUFBWSxVQUFVLFNBQVMsT0FBTztBQUFBLFFBQzdDLENBQUM7QUFBQSxNQUNMO0FBQUEsTUFDQSxJQUFJLGFBQWE7QUFDYixlQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsVUFBVTtBQUFBLE1BQ2pFO0FBQUEsTUFDQSxJQUFJLFVBQVU7QUFDVixlQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsT0FBTztBQUFBLE1BQzlEO0FBQUEsTUFDQSxJQUFJLFFBQVE7QUFDUixlQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsS0FBSztBQUFBLE1BQzVEO0FBQUEsTUFDQSxJQUFJLFVBQVU7QUFDVixlQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsT0FBTztBQUFBLE1BQzlEO0FBQUEsTUFDQSxJQUFJLFNBQVM7QUFDVCxlQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsTUFBTTtBQUFBLE1BQzdEO0FBQUEsTUFDQSxJQUFJLFNBQVM7QUFDVCxlQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsTUFBTTtBQUFBLE1BQzdEO0FBQUEsTUFDQSxJQUFJLFVBQVU7QUFDVixlQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsT0FBTztBQUFBLE1BQzlEO0FBQUEsTUFDQSxJQUFJLFNBQVM7QUFDVCxlQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsTUFBTTtBQUFBLE1BQzdEO0FBQUEsTUFDQSxJQUFJLE9BQU87QUFDUCxlQUFPLENBQUMsQ0FBQyxLQUFLLEtB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TSxLQUFLTixFQUFDLENBQUM7QUFBQSxZQUFDLEdBQUUsWUFBVyxTQUFTQSxJQUFFO0FBQUMscUJBQU9NLEdBQUUsWUFBWSxHQUFFLEtBQUssU0FBUyxNQUFNLFVBQVUsTUFBTSxLQUFLTixFQUFDLENBQUM7QUFBQSxZQUFDLEdBQUUsY0FBYSxTQUFTQSxJQUFFO0FBQUMscUJBQU9NLEdBQUUsY0FBYyxHQUFFLEtBQUssU0FBUyxNQUFNLFVBQVUsTUFBTSxLQUFLTixFQUFDLENBQUM7QUFBQSxZQUFDLEdBQUUsYUFBWSxTQUFTQSxJQUFFO0FBQUMscUJBQU9NLEdBQUUsYUFBYSxHQUFFLEtBQUssU0FBUyxNQUFNLFVBQVUsTUFBTSxLQUFLTixFQUFDLENBQUM7QUFBQSxZQUFDLEdBQUUsY0FBYSxTQUFTQSxJQUFFO0FBQUMscUJBQU9NLEdBQUUsY0FBYyxHQUFFLEtBQUssU0FBUyxNQUFNLFVBQVUsTUFBTSxLQUFLTixFQUFDLENBQUM7QUFBQSxZQUFDLEdBQUUsYUFBWSxTQUFTQSxJQUFFO0FBQUMscUJBQU9NLEdBQUUsYUFBYSxHQUFFLEtBQUssU0FBUyxNQUFNLFVBQVUsTUFBTSxLQUFLTixFQUFDLENBQUM7QUFBQSxZQUFDLEdBQUUsZUFBYyxTQUFTQSxJQUFFO0FBQUMscUJBQU9NLEdBQUUsZUFBZSxHQUFFLEtBQUssU0FBUyxNQUFNLFVBQVUsTUFBTSxLQUFLTixFQUFDLENBQUM7QUFBQSxZQUFDLEdBQUUsZUFBYyxTQUFTQSxJQUFFO0FBQUMscUJBQU9NLEdBQUUsZUFBZSxHQUFFLEtBQUssU0FBUyxNQUFNLFVBQVUsTUFBTSxLQUFLTixFQUFDLENBQUM7QUFBQSxZQUFDLEdBQUUsY0FBYSxTQUFTQSxJQUFFO0FBQUMscUJBQU9NLEdBQUUsY0FBYyxHQUFFLEtBQUssU0FBUyxJQUFJLFdBQVdOLEVBQUMsQ0FBQztBQUFBLFlBQUMsR0FBRSxNQUFLLFNBQVNBLElBQUU7QUFBQyxxQkFBT00sR0FBRSxTQUFPTixHQUFFLFNBQVMsQ0FBQztBQUFBLFlBQUMsR0FBRSxNQUFLLFNBQVNBLElBQUU7QUFBQyxjQUFBTSxHQUFFLE1BQU07QUFBRSxjQUFBTixLQUFFLE1BQU0sS0FBS0EsRUFBQztBQUFFLHFCQUFPLEtBQUssT0FBT0EsSUFBRSxVQUFLSSxHQUFFLGFBQWE7QUFBQSxZQUFDLEdBQUUsTUFBSyxTQUFTSixJQUFFO0FBQUMsY0FBQU0sR0FBRSxNQUFNO0FBQUUsY0FBQU4sS0FBRSxNQUFNLEtBQUtBLEVBQUM7QUFBRSxxQkFBTyxLQUFLLE9BQU9BLElBQUUsVUFBS0ksR0FBRSxhQUFhO0FBQUEsWUFBQyxHQUFFLE9BQU0sU0FBU0osSUFBRTtBQUFDLHFCQUFPTSxHQUFFLE9BQU8sR0FBRSxLQUFLLFNBQVMsQ0FBQ04sR0FBRSxNQUFLQSxHQUFFLE1BQUtBLEdBQUUsTUFBS0EsR0FBRSxXQUFXLENBQUM7QUFBQSxZQUFDLEdBQUUsT0FBTSxXQUFVO0FBQUMsa0JBQUdJLEdBQUU7QUFBYyx1QkFBT0UsR0FBRSxRQUFRO0FBQUUsb0JBQU0sTUFBTSw2SkFBNko7QUFBQSxZQUFDLEdBQUUsWUFBVyxXQUFVO0FBQUMscUJBQU9BLEdBQUUsV0FBVztBQUFBLFlBQUMsR0FBRSxTQUFRLFNBQVNOLElBQUU7QUFBQyxxQkFBT00sR0FBRSxZQUFVTixHQUFFLFNBQVMsQ0FBQztBQUFBLFlBQUMsR0FBRSxVQUFTLFdBQVU7QUFBQyxxQkFBT00sR0FBRSxTQUFTO0FBQUEsWUFBQyxHQUFFLFFBQU8sV0FBVTtBQUFDLHFCQUFPQSxHQUFFLE9BQU87QUFBQSxZQUFDLEdBQUUsT0FBTSxXQUFVO0FBQUMscUJBQU9BLEdBQUUsTUFBTTtBQUFBLFlBQUMsR0FBRSxNQUFLLFdBQVU7QUFBQyxxQkFBT0EsR0FBRSxLQUFLO0FBQUEsWUFBQyxHQUFFLE1BQUssV0FBVTtBQUFDLHFCQUFPQSxHQUFFLEtBQUs7QUFBQSxZQUFDLEdBQUUsTUFBSyxXQUFVO0FBQUMscUJBQU9BLEdBQUUsS0FBSztBQUFBLFlBQUMsR0FBRSxjQUFhLFdBQVU7QUFBQyxxQkFBT0EsR0FBRSxhQUFhO0FBQUEsWUFBQyxHQUFFLGdCQUFlLFdBQVU7QUFBQyxxQkFBT0EsR0FBRSxlQUFlO0FBQUEsWUFBQyxHQUFFLGFBQVksV0FBVTtBQUFDLHFCQUFPQSxHQUFFLFlBQVk7QUFBQSxZQUFDLEdBQUUsT0FBTSxXQUFVO0FBQUMscUJBQU9BLEdBQUUsTUFBTTtBQUFBLFlBQUMsR0FBRSxVQUFTLFdBQVU7QUFBQyxxQkFBT0EsR0FBRSxTQUFTO0FBQUEsWUFBQyxHQUFFLGFBQVksV0FBVTtBQUFDLHFCQUFPQSxHQUFFLFlBQVk7QUFBQSxZQUFDLEdBQUUsYUFBWSxXQUFVO0FBQUMscUJBQU9BLEdBQUUsWUFBWTtBQUFBLFlBQUMsR0FBRSxXQUFVLFdBQVU7QUFBQyxxQkFBT0EsR0FBRSxVQUFVO0FBQUEsWUFBQyxHQUFFLFNBQVEsV0FBVTtBQUFDLHFCQUFPQSxHQUFFLFFBQVE7QUFBQSxZQUFDLEdBQUUsVUFBUyxXQUFVO0FBQUMscUJBQU9BLEdBQUUsU0FBUztBQUFBLFlBQUMsR0FBRSxVQUFTLFdBQVU7QUFBQyxxQkFBT0EsR0FBRSxTQUFTO0FBQUEsWUFBQyxFQUFDO0FBQUEsVUFBQztBQUFDLG1CQUFTLElBQUc7QUFBQyxtQkFBTSxFQUFDLEtBQUksSUFBRyxPQUFNLFNBQVNOLElBQUU7QUFBQyxtQkFBSyxPQUFLQTtBQUFBLFlBQUMsR0FBRSxLQUFJLFNBQVNBLElBQUU7QUFBQyxtQkFBSyxPQUFLQTtBQUFBLFlBQUMsR0FBRSxNQUFLLFdBQVU7QUFBQyxxQkFBTyxLQUFLO0FBQUEsWUFBRyxFQUFDO0FBQUEsVUFBQztBQUFDLFlBQUUsZ0JBQWMsU0FBU0EsSUFBRUMsSUFBRUMsSUFBRTtBQUFDLG1CQUFPLFdBQVNBLE9BQUlBLEtBQUVELElBQUVBLEtBQUUsQ0FBQyxJQUFHLEVBQUVBLEtBQUUsRUFBRUQsSUFBRUMsRUFBQyxHQUFFQyxFQUFDLEVBQUUsU0FBU0YsRUFBQztBQUFBLFVBQUM7QUFBQSxRQUFDLEVBQUUsS0FBSyxNQUFLLEVBQUUsUUFBUSxHQUFFLGVBQWEsT0FBTyxPQUFLLE9BQUssZUFBYSxPQUFPLFNBQU8sU0FBTyxDQUFD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QUVDLElBQUU7QUFBQyxjQUFFLE1BQUtGLElBQUVDLElBQUUsTUFBR0MsRUFBQztBQUFBLFVBQUMsR0FBRSxFQUFFLFVBQVUsZ0JBQWMsU0FBU0YsSUFBRUMsSUFBRUMsSUFBRTtBQUFDLGNBQUUsTUFBS0YsSUFBRUMsSUFBRSxPQUFHQyxFQUFDO0FBQUEsVUFBQyxHQUFFLEVBQUUsVUFBVSxZQUFVLFNBQVNGLElBQUVDLElBQUVDLElBQUU7QUFBQyxZQUFBQSxPQUFJLEVBQUUsUUFBTUYsSUFBRSxlQUFlLEdBQUUsRUFBRSxRQUFNQyxJQUFFLGdCQUFnQixHQUFFLEVBQUVBLEtBQUUsS0FBSyxRQUFPLHNDQUFzQyxHQUFFLEVBQUVELElBQUUsS0FBSSxJQUFJLElBQUdDLE1BQUcsS0FBSyxXQUFTLEtBQUdELEtBQUUsS0FBSyxXQUFXQSxJQUFFQyxJQUFFQyxFQUFDLElBQUUsS0FBSyxXQUFXLE1BQUlGLEtBQUUsR0FBRUMsSUFBRUMsRUFBQztBQUFBLFVBQUUsR0FBRSxFQUFFLFVBQVUsZUFBYSxTQUFTRixJQUFFQyxJQUFFQyxJQUFFO0FBQUMsY0FBRSxNQUFLRixJQUFFQyxJQUFFLE1BQUdDLEVBQUM7QUFBQSxVQUFDLEdBQUUsRUFBRSxVQUFVLGVBQWEsU0FBU0YsSUFBRUMsSUFBRUMsSUFBRTtBQUFDLGNBQUUsTUFBS0YsSUFBRUMsSUFBRSxPQUFHQyxFQUFDO0FBQUEsVUFBQyxHQUFFLEVBQUUsVUFBVSxlQUFhLFNBQVNGLElBQUVDLElBQUVDLElBQUU7QUFBQyxjQUFFLE1BQUtGLElBQUVDLElBQUUsTUFBR0MsRUFBQztBQUFBLFVBQUMsR0FBRSxFQUFFLFVBQVUsZUFBYSxTQUFTRixJQUFFQyxJQUFFQyxJQUFFO0FBQUMsY0FBRSxNQUFLRixJQUFFQyxJQUFFLE9BQUdDLEVBQUM7QUFBQSxVQUFDLEdBQUUsRUFBRSxVQUFVLGVBQWEsU0FBU0YsSUFBRUMsSUFBRUMsSUFBRTtBQUFDLGNBQUUsTUFBS0YsSUFBRUMsSUFBRSxNQUFHQyxFQUFDO0FBQUEsVUFBQyxHQUFFLEVBQUUsVUFBVSxl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TSxLQUFFLENBQUMsR0FBRSxJQUFHLFNBQVMsR0FBRUgsS0FBRSxFQUFFQSxJQUFFQyxJQUFFQyxJQUFFSCxJQUFFRixHQUFFTSxLQUFFLENBQUMsR0FBRSxJQUFHLFdBQVc7QUFBRSxjQUFBSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsVUFBVSxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsV0FBVyxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsU0FBUyxHQUFFSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsVUFBVSxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsV0FBVyxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsTUFBTSxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsV0FBVyxHQUFFSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsRUFBRSxHQUFFLEdBQUUsVUFBVSxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsU0FBUyxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsV0FBVyxHQUFFSixLQUFFLEVBQUVBLElBQUVDLEtBQUUsRUFBRUEsSUFBRUMsSUFBRUMsSUFBRUgsSUFBRUYsR0FBRU0sS0FBRSxFQUFFLEdBQUUsSUFBRyxVQUFVLEdBQUVGLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsVUFBVSxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsV0FBVyxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsU0FBUyxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsVUFBVSxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsRUFBRSxHQUFFLEdBQUUsUUFBUSxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsVUFBVSxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsU0FBUyxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsRUFBRSxHQUFFLEdBQUUsV0FBVyxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsRUFBRSxHQUFFLEdBQUUsV0FBVyxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsU0FBUyxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFSixLQUFFLEVBQUVBLElBQUVDLEtBQUUsRUFBRUEsSUFBRUMsSUFBRUMsSUFBRUgsSUFBRUYsR0FBRU0sS0FBRSxFQUFFLEdBQUUsSUFBRyxXQUFXLEdBQUVGLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsT0FBTyxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsV0FBVyxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsVUFBVSxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsU0FBUyxHQUFFSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsV0FBVyxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsV0FBVyxHQUFFSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsRUFBRSxHQUFFLEdBQUUsU0FBUyxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsUUFBUSxHQUFFSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsVUFBVSxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsVUFBVSxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsU0FBUyxHQUFFSixLQUFFLEVBQUVBLElBQUVDLEtBQUUsRUFBRUEsSUFBRUMsSUFBRUMsSUFBRUgsSUFBRUYsR0FBRU0sS0FBRSxDQUFDLEdBQUUsSUFBRyxVQUFVLEdBQUVGLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsVUFBVSxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsV0FBVyxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsU0FBUyxHQUFFSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsRUFBRSxHQUFFLEdBQUUsVUFBVSxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsV0FBVyxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsUUFBUSxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsV0FBVyxHQUFFSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsVUFBVSxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsU0FBUyxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsV0FBVyxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsVUFBVSxHQUFFSixLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVDLElBQUVMLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsVUFBVSxHQUFFRCxLQUFFLEVBQUVBLElBQUVILElBQUVDLElBQUVDLElBQUVKLEdBQUVNLEtBQUUsRUFBRSxHQUFFLElBQUcsV0FBVyxHQUFFRixLQUFFLEVBQUVBLElBQUVDLElBQUVILElBQUVDLElBQUVILEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsU0FBUyxHQUFFSCxLQUFFLEVBQUVBLElBQUVDLElBQUVDLElBQUVILElBQUVGLEdBQUVNLEtBQUUsQ0FBQyxHQUFFLElBQUcsVUFBVSxHQUFFSixLQUFFLEVBQUVBLElBQUVNLEVBQUMsR0FBRUwsS0FBRSxFQUFFQSxJQUFFSSxFQUFDLEdBQUVILEtBQUUsRUFBRUEsSUFBRUssRUFBQyxHQUFFSixLQUFF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QUFFLElBQUVBLEdBQUUsQ0FBQyxHQUFFLElBQUVBLEdBQUUsQ0FBQyxHQUFFLElBQUVBLEdBQUUsQ0FBQyxHQUFFUSxLQUFFLEdBQUVBLEtBQUUsSUFBR0E7QUFBSSxnQkFBQVAsR0FBRU8sRUFBQyxJQUFFQSxLQUFFLEtBQUdULEdBQUVTLEtBQUUsQ0FBQyxJQUFFLEVBQUUsRUFBRSxHQUFHTCxLQUFFRixHQUFFTyxLQUFFLENBQUMsR0FBRSxFQUFFTCxJQUFFLEVBQUUsSUFBRSxFQUFFQSxJQUFFLEVBQUUsSUFBRSxFQUFFQSxJQUFFLEVBQUUsSUFBR0YsR0FBRU8sS0FBRSxDQUFDLENBQUMsSUFBR0wsS0FBRUYsR0FBRU8sS0FBRSxFQUFFLEdBQUUsRUFBRUwsSUFBRSxDQUFDLElBQUUsRUFBRUEsSUFBRSxFQUFFLElBQUUsRUFBRUEsSUFBRSxDQUFDLEVBQUUsR0FBRUYsR0FBRU8sS0FBRSxFQUFFLENBQUMsR0FBRUUsS0FBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUUsRUFBRVAsS0FBRUcsSUFBRSxDQUFDLElBQUUsRUFBRUgsSUFBRSxFQUFFLElBQUUsRUFBRUEsSUFBRSxFQUFFLENBQUMsR0FBRUcsS0FBRSxJQUFFLENBQUNBLEtBQUUsQ0FBQyxHQUFFSyxHQUFFSCxFQUFDLENBQUMsR0FBRVAsR0FBRU8sRUFBQyxDQUFDLEdBQUVOLEtBQUUsRUFBRSxFQUFFQSxLQUFFRSxJQUFFLENBQUMsSUFBRSxFQUFFRixJQUFFLEVBQUUsSUFBRSxFQUFFQSxJQUFFLEVBQUUsR0FBRUUsS0FBRUMsS0FBRUQsS0FBRUcsS0FBRUYsS0FBRUUsRUFBQyxHQUFFLElBQUUsR0FBRSxJQUFFLEdBQUUsSUFBRUQsSUFBRUEsS0FBRSxFQUFFLEdBQUVJLEVBQUMsR0FBRSxJQUFFSCxJQUFFQSxLQUFFRixJQUFFQSxLQUFFRCxJQUFFQSxLQUFFLEVBQUVNLElBQUVSLEVBQUM7QUFBRSxjQUFBRixHQUFFLENBQUMsSUFBRSxFQUFFSSxJQUFFSixHQUFFLENBQUMsQ0FBQyxHQUFFQSxHQUFFLENBQUMsSUFBRSxF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RUMsTUFBRyxHQUFFLElBQUUsT0FBS0wsS0FBRSxLQUFLLElBQUksR0FBRSxHQUFHLElBQUUsS0FBSyxJQUFJLEdBQUUsR0FBRyxJQUFFLEdBQUVNLEtBQUVQLEtBQUUsSUFBRSxJQUFFLEdBQUUsSUFBRUEsS0FBRSxJQUFFLElBQUcsSUFBRUQsS0FBRSxLQUFHLE1BQUlBLE1BQUcsSUFBRUEsS0FBRSxJQUFFLElBQUU7QUFBRSxpQkFBSUEsS0FBRSxLQUFLLElBQUlBLEVBQUMsR0FBRSxNQUFNQSxFQUFDLEtBQUdBLE9BQUksSUFBRSxLQUFHSSxLQUFFLE1BQU1KLEVBQUMsSUFBRSxJQUFFLEdBQUVHLEtBQUVJLE9BQUlKLEtBQUUsS0FBSyxNQUFNLEtBQUssSUFBSUgsRUFBQyxJQUFFLEtBQUssR0FBRyxHQUFFQSxNQUFHQyxLQUFFLEtBQUssSUFBSSxHQUFFLENBQUNFLEVBQUMsS0FBRyxNQUFJQSxNQUFJRixNQUFHLElBQUcsTUFBSUQsTUFBRyxLQUFHRyxLQUFFRyxLQUFFLElBQUVMLEtBQUUsSUFBRSxLQUFLLElBQUksR0FBRSxJQUFFSyxFQUFDLEtBQUdMLE9BQUlFLE1BQUlGLE1BQUcsSUFBR00sTUFBR0osS0FBRUcsTUFBR0YsS0FBRSxHQUFFRCxLQUFFSSxNQUFHLEtBQUdKLEtBQUVHLE1BQUdGLE1BQUdKLEtBQUVDLEtBQUUsS0FBRyxLQUFLLElBQUksR0FBRUMsRUFBQyxHQUFFQyxNQUFHRyxPQUFJRixLQUFFSixLQUFFLEtBQUssSUFBSSxHQUFFTSxLQUFFLENBQUMsSUFBRSxLQUFLLElBQUksR0FBRUosRUFBQyxHQUFFQyxLQUFFLEtBQUksS0FBR0QsSUFBRUgsR0FBRSxJQUFFUyxFQUFDLElBQUUsTUFBSUosSUFBRUksTUFBRyxHQUFFSixNQUFHLEtBQUlGLE1BQUc7QUFBRTtBQUFDLGlCQUFJQyxLQUFFQSxNQUFHRCxLQUFFRSxJQUFFQyxNQUFHSCxJQUFFLElBQUVHLElBQUVOLEdBQUUsSUFBRVMsRUFBQyxJQUFFLE1BQUlMLElBQUVLLE1BQUcsR0FBRUwsTUFBRyxLQUFJRSxN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LCAiZWxhcHNlZCIsICJzdHlsZXMiLCAibW9kdWxlIiwgInNlbGYiLCAib3JpZ2luYWwiLCAicmVxdWlyZV9yZXRyeSIsICJtb2R1bGUiLCAibW9kdWxlIiwgInBSZXRyeSIsICJlcnJvciIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJQUXVldWVNb2QiLCAicFJldHJ5IiwgIm1lc3NhZ2VzIiwgImluaXRfYmFzZSIsICJpbml0X2Jhc2UiLCAiaW5pdF9iYXNlIiwgImVyciIsICJtZXNzYWdlcyIsICJfX2RlZlByb3AiLCAiX19kZWZOb3JtYWxQcm9wIiwgIl9fcHVibGljRmllbGQiLCAibGVuIiwgImkiLCAibGVuMiIsICJiYXNlNjQiLCAiX19wdWJsaWNGaWVsZCIsICJtb2R1bGUiLCAid3JhcCIsICJtb2R1bGUiLCAidG9TdHJpbmciLCAiaXNBcnJheSIsICJpc1VuZGVmaW5lZCIsICJpc0Zvcm1EYXRhIiwgImlzT2JqZWN0IiwgImlzRGF0ZSIsICJpc1VSTFNlYXJjaFBhcmFtcyIsICJpc1N0YW5kYXJkQnJvd3NlckVudiIsICJmb3JFYWNoIiwgIm1vZHVsZSIsICJlbmNvZGUiLCAiYnVpbGRVUkwiLCAibW9kdWxlIiwgImZvckVhY2giLCAibW9kdWxlIiwgIm1vZHVsZSIsICJlbmhhbmNlRXJyb3IiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJlbmhhbmNlRXJyb3IiLCAiY3JlYXRlRXJyb3IiLCAibW9kdWxlIiwgImNyZWF0ZUVycm9yIiwgInNldHRsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgImlzQWJzb2x1dGVVUkwiLCAibW9kdWxlIiwgImNvbWJpbmVVUkxzIiwgIm1vZHVsZSIsICJpc0Fic29sdXRlVVJMIiwgImNvbWJpbmVVUkxzIiwgImJ1aWxkRnVsbFBhdGgiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAidG9TdHJpbmciLCAibW9kdWxlIiwgInNldHRsZSIsICJidWlsZFVSTCIsICJidWlsZEZ1bGxQYXRoIiwgImNyZWF0ZUVycm9yIiwgIm1vZHVsZSIsICJlbmhhbmNlRXJyb3IiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgImJ1aWxkVVJMIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAid3JhcCIsICJtb2R1bGUiLCAibW9kdWxlIiwgImF4aW9zIiwgInJlcXVpcmVfYXhpb3MiLCAibW9kdWxlIiwgImF4aW9zIiwgImF4aW9zIiwgImF4aW9zIiwgIk9wZW5BSUFwaSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIkNvbmZpZ3VyYXRpb24iLCAicmVxdWlyZV9kaXN0IiwgImV4cG9ydHMiLCAidHJ5SnNvblN0cmluZ2lmeSIsICJheGlvcyIsICJpbml0X2Jhc2UiLCAibWVzc2FnZXMiLCAiaW5pdF9iYXNlIiwgIm1lc3NhZ2VzIiwgIl9hIiwgIl9iIiwgIl9jIiwgIl9kIiwgIl9lIiwgIl9mIiwgIl9nIiwgIl9oIiwgIl9pIiwgImkiLCAiaW5pdF9iYXNlIiwgImluaXRfYmFzZSIsICJpbml0X2Jhc2UiLCAiUHJvbXB0VGVtcGxhdGUiLCAiRmV3U2hvdFByb21wdFRlbXBsYXRlIiwgImluaXRfYmFzZSIsICJpbml0X2Jhc2UiLCAiaW5pdF9iYXNlIiwgImkiLCAicmVzdWx0cyIsICJpbml0X2Jhc2UiLCAibWVzc2FnZXMiLCAiZGlmZmVyZW5jZSIsICJpbml0X2Jhc2UiLCAiaW5pdF9iYXNlIiwgImluaXRfYmFzZSIsICJpbml0X3Byb21wdHMiLCAiaW5pdF9iYXNlIiwgImluaXRfcHJvbXB0cyIsICJpbml0X2Jhc2UiLCAiTExNQ2hhaW4iLCAiU2VxdWVudGlhbENoYWluIiwgIlNpbXBsZVNlcXVlbnRpYWxDaGFpbiIsICJTdHVmZkRvY3VtZW50c0NoYWluIiwgIk1hcFJlZHVjZURvY3VtZW50c0NoYWluIiwgIlJlZmluZURvY3VtZW50c0NoYWluIiwgIlZlY3RvckRCUUFDaGFpbiIsICJBUElDaGFpbiIsICJ1dGlsIiwgIm9iamVjdFV0aWwiLCAiZXJyb3JVdGlsIiwgImN0eCIsICJyZXN1bHQiLCAiaXNzdWVzIiwgImVsZW1lbnRzIiwgInByb2Nlc3NlZCIsICJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCAiZXhwb3J0cyIsICJleHBvcnRzIiwgInR5cGVzIiwgIngiLCAiX2EiLCAiem9kVG9Kc29uU2NoZW1hIiwgIm5hbWUiLCAic2NoZW1hIiwgIl9hIiwgIm1vZHVsZSIsICJlIiwgInQiLCAibiIsICJyIiwgIm8iLCAiaSIsICJ1IiwgImEiLCAicyIsICJmIiwgImwiLCAiYyIsICJkIiwgImluaXRfYmFzZSIsICJoYXNoIiwgImluaXRfYmFzZSIsICJpbml0X2Jhc2UiLCAiY2FjaGUiLCAibWVzc2FnZXMiLCAiaW1wb3J0X29wZW5haSIsICJpbml0X2Jhc2UiLCAiX2EiLCAiX2IiLCAib3BlbmFpX2V4cG9ydHMiLCAiaW1wb3J0X29wZW5haSIsICJpbml0X29wZW5haSIsICJpbml0X2Jhc2UiLCAiY2hvaWNlcyIsICJfYSIsICJfYiIsICJfYyIsICJfZCIsICJpbml0X2Jhc2UiLCAiaW5pdF9iYXNlIiwgImluaXRfYmFzZSIsICJpbml0X2Jhc2UiLCAiaW5pdF9iYXNlIiwgImluaXRfYmFzZSIsICJpbml0X2Jhc2UiLCAiaW5pdF9iYXNlIiwgImluaXRfYmFzZSIsICJpbXBvcnRfb3BlbmFpIiwgImluaXRfYmFzZSIsICJpbml0X2Jhc2UiLCAiaW5pdF9vcGVuYWkiXQp9Cg==
